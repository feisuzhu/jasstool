globals
    unit uProton = null
    integer array nKill
    integer array nDeath
    integer array A
    integer array B
    integer array C
    integer array D
    integer array E
    integer array F
    integer array G
    integer array maxKillsInRow
    integer array Z
    integer array V
    integer array timeDeathTotal
    integer array X
    integer array heroKillGold
    integer array J
    integer array K
    real array L
    timer M = null
    real N = 0
    integer array T
    boolean array R
    integer array nKillsInRow
    integer array Q
    integer array nKillsInRowGroup
    boolean O0 = false
    boolean array A0
    boolean B0 = false
    string array playerColor
    boolean array D0
    timer array E0
    timer array timerDeathCountdown
    integer array G0
    integer H0 = 0
    integer Z0 = 0
    integer array V0
    integer array W0
    boolean deathMatchMode = false
    boolean Y0 = false
    boolean J0 = false
    boolean K0 = false
    boolean itemDropMode = false
    multiboard M0 = null
    unit N0 = null
    boolean array S0
    integer T0 = 0
    boolean easyMode = false
    boolean P0 = false
    boolean Q0 = false
    location U0 = null
    location BI = null
    location CI = null
    location DI = null
    location EI = null
    boolean FI = false
    boolean GI = false
    boolean HI = false
    boolean ZI = false
    boolean VI = false
    boolean WI = false
    boolean XI = false
    boolean YI = false
    boolean JI = false
    boolean KI = false
    boolean LI = false
    boolean NI = false
    integer SI = 0
    integer TI = 0
    location RI = null
    location PI = null
    location QI = null
    location UI = null
    location I1 = null
    location O1 = null
    location A1 = null
    location B1 = null
    location C1 = null
    location D1 = null
    location E1 = null
    location F1 = null
    location G1 = null
    location H1 = null
    integer array Z1
    integer array V1
    integer array W1
    integer array X1
    integer Y1 = 0
    integer array J1
    integer array K1
    unit array playerHero
    integer M1 = 0
    integer N1 = 0
    player array S1
    player array T1
    integer array R1
    integer array P1
    integer array Q1
    integer array U1
    unit array IO
    integer array OO
    force AO = null
    force BO = null
    player array sentinelPlayers
    player array scourgePlayers
    player playerNeutrals = null
    player FO = null
    boolean GO = false
    leaderboard array HO
    integer ZO = 0
    integer VO = 0
    integer array WO
    player firstPlayerAlive = null
    unit YO = null
    integer JO = 0
    real KO = 0
    item array LO
    item array NO
    item array TO
    item array PO
    item array QO
    item array UO
    boolean I2 = false
    boolean O2 = false
    integer A2 = 0
    location array B2
    unit C2 = null
    group D2 = null
    boolean E2 = false
    boolean F2 = false
    boolean G2 = false
    boolean H2 = false
    boolean Z2 = false
    boolean V2 = false
    boolean W2 = false
    boolean X2 = false
    string modeString = ""
    timer J2 = null
    boolean K2 = false
    boolean defaultMode = false
    item M2 = null
    player N2 = null
    string array S2
    boolean T2 = false
    boolean array R2
    integer array P2
    integer Q2 = 0
    force forceAllPlayers = null
    boolean gameEnded = false
    real O3 = 0
    boolean A3 = false
    boolean B3 = false
    boolean C3 = false
    boolean D3 = false
    boolean array E3
    string F3 = ""
    boolean array G3
    boolean array H3
    boolean Z3 = false
    boolean V3 = false
    weathereffect W3 = null
    weathereffect X3 = null
    boolean Y3 = false
    location J3 = null
    real K3 = 0
    string L3 = ""
    string array M3
    rect N3 = null
    rect S3 = null
    rect T3 = null
    rect R3 = null
    rect P3 = null
    rect Q3 = null
    rect U3 = null
    rect I4 = null
    rect O4 = null
    rect A4 = null
    rect B4 = null
    rect C4 = null
    rect D4 = null
    rect E4 = null
    rect F4 = null
    rect G4 = null
    rect H4 = null
    rect Z4 = null
    rect V4 = null
    rect W4 = null
    rect X4 = null
    rect Y4 = null
    rect J4 = null
    rect K4 = null
    rect L4 = null
    rect M4 = null
    rect N4 = null
    rect S4 = null
    rect T4 = null
    rect R4 = null
    rect P4 = null
    rect Q4 = null
    rect U4 = null
    rect I5 = null
    rect O5 = null
    rect A5 = null
    rect B5 = null
    rect C5 = null
    rect D5 = null
    rect E5 = null
    rect F5 = null
    rect G5 = null
    rect H5 = null
    rect Z5 = null
    rect V5 = null
    rect W5 = null
    rect X5 = null
    rect Y5 = null
    rect J5 = null
    rect K5 = null
    rect L5 = null
    rect M5 = null
    rect N5 = null
    rect S5 = null
    rect T5 = null
    rect R5 = null
    rect P5 = null
    rect Q5 = null
    rect U5 = null
    rect I6 = null
    rect O6 = null
    rect A6 = null
    rect B6 = null
    rect C6 = null
    rect D6 = null
    rect E6 = null
    rect F6 = null
    rect G6 = null
    rect H6 = null
    rect Z6 = null
    rect V6 = null
    rect W6 = null
    rect X6 = null
    rect Y6 = null
    rect J6 = null
    rect K6 = null
    rect L6 = null
    rect M6 = null
    rect N6 = null
    rect S6 = null
    rect T6 = null
    rect R6 = null
    rect P6 = null
    rect Q6 = null
    rect U6 = null
    rect I7 = null
    rect O7 = null
    rect A7 = null
    rect B7 = null
    rect C7 = null
    rect D7 = null
    rect E7 = null
    rect F7 = null
    rect G7 = null
    rect H7 = null
    rect Z7 = null
    rect V7 = null
    rect W7 = null
    rect X7 = null
    rect Y7 = null
    rect J7 = null
    rect K7 = null
    rect L7 = null
    rect M7 = null
    rect N7 = null
    rect S7 = null
    rect T7 = null
    rect R7 = null
    rect P7 = null
    rect Q7 = null
    rect U7 = null
    rect I8 = null
    rect O8 = null
    rect A8 = null
    rect B8 = null
    rect C8 = null
    rect D8 = null
    rect E8 = null
    rect F8 = null
    rect G8 = null
    rect H8 = null
    rect Z8 = null
    rect V8 = null
    rect W8 = null
    rect X8 = null
    rect Y8 = null
    rect J8 = null
    rect K8 = null
    rect L8 = null
    rect M8 = null
    rect N8 = null
    rect S8 = null
    rect T8 = null
    rect R8 = null
    rect P8 = null
    rect Q8 = null
    rect U8 = null
    rect I9 = null
    rect O9 = null
    rect A9 = null
    rect B9 = null
    rect C9 = null
    rect D9 = null
    rect E9 = null
    rect F9 = null
    rect G9 = null
    rect H9 = null
    rect Z9 = null
    rect V9 = null
    rect W9 = null
    rect X9 = null
    rect Y9 = null
    rect J9 = null
    rect K9 = null
    rect L9 = null
    rect M9 = null
    rect N9 = null
    rect S9 = null
    rect T9 = null
    rect R9 = null
    rect P9 = null
    rect Q9 = null
    rect U9 = null
    rect IA = null
    rect OA = null
    rect BA = null
    rect CA = null
    rect DA = null
    rect EA = null
    rect FA = null
    rect GA = null
    rect HA = null
    rect ZA = null
    rect VA = null
    rect WA = null
    rect XA = null
    rect YA = null
    rect JA = null
    rect KA = null
    rect LA = null
    rect MA = null
    rect NA = null
    rect SA = null
    rect TA = null
    rect RA = null
    rect PA = null
    rect QA = null
    rect UA = null
    rect IB = null
    rect OB = null
    rect AB = null
    rect BB = null
    rect CB = null
    rect DB = null
    rect EB = null
    rect FB = null
    rect GB = null
    rect HB = null
    rect ZB = null
    rect VB = null
    rect WB = null
    rect XB = null
    rect YB = null
    rect JB = null
    rect KB = null
    rect LB = null
    rect MB = null
    rect SB = null
    rect TB = null
    rect RB = null
    rect PB = null
    rect QB = null
    rect UB = null
    sound IC = null
    sound OC = null
    sound AC = null
    sound BC = null
    sound CC = null
    sound sndDominating = null
    sound sndDoubleKill = null
    sound sndFirstBlood = null
    sound GC = null
    sound HC = null
    sound ZC = null
    sound VC = null
    sound WC = null
    sound XC = null
    sound YC = null
    sound JC = null
    sound KC = null
    sound LC = null
    sound MC = null
    sound NC = null
    sound TC = null
    sound RC = null
    sound PC = null
    sound QC = null
    sound UC = null
    sound OD = null
    string AD = "Sound\\Music\\mp3Music\\Human1.mp3"
    string BD = "Sound\\Music\\mp3Music\\Human2.mp3"
    string DD = "Sound\\Music\\mp3Music\\Human3.mp3"
    sound ED = null
    sound FD = null
    sound GD = null
    sound HD = null
    sound ZD = null
    sound VD = null
    sound WD = null
    string XD = "Sound\\Music\\mp3Music\\NightElf1.mp3"
    string YD = "Sound\\Music\\mp3Music\\NightElf2.mp3"
    string JD = "Sound\\Music\\mp3Music\\NightElf3.mp3"
    sound KD = null
    string LD = "Sound\\Music\\mp3Music\\Orc1.mp3"
    string MD = "Sound\\Music\\mp3Music\\Orc2.mp3"
    string ND = "Sound\\Music\\mp3Music\\Orc3.mp3"
    string TD = "Sound\\Music\\mp3Music\\BloodElfTheme.mp3"
    string PD = "Sound\\Music\\mp3Music\\DarkAgents.mp3"
    string QD = "Sound\\Music\\mp3Music\\TragicConfrontation.mp3"
    string UD = "Sound\\Music\\mp3Music\\SadMystery.mp3"
    string IE = "Sound\\Music\\mp3Music\\IllidansTheme.mp3"
    sound OE = null
    sound AE = null
    sound BE = null
    sound CE = null
    sound DE = null
    sound EE = null
    sound FE = null
    sound GE = null
    sound HE = null
    sound ZE = null
    sound VE = null
    sound WE = null
    sound XE = null
    sound YE = null
    sound JE = null
    sound KE = null
    sound LE = null
    sound ME = null
    sound NE = null
    sound SE = null
    sound TE = null
    sound RE = null
    sound PE = null
    sound QE = null
    sound UE = null
    sound IF = null
    sound OF = null
    sound AF = null
    sound BF = null
    sound CF = null
    sound DF = null
    sound EF = null
    sound FF = null
    sound GF = null
    string HF = "Sound\\Music\\mp3Music\\Undead1.mp3"
    string ZF = "Sound\\Music\\mp3Music\\Undead2.mp3"
    string VF = "Sound\\Music\\mp3Music\\Undead3.mp3"
    sound WF = null
    sound XF = null
    sound YF = null
    sound JF = null
    sound KF = null
    sound LF = null
    sound MF = null
    sound NF = null
    sound SF = null
    sound TF = null
    sound RF = null
    sound PF = null
    sound QF = null
    sound UF = null
    sound IG = null
    sound OG = null
    sound AG = null
    sound BG = null
    sound CG = null
    sound DG = null
    sound EG = null
    sound FG = null
    sound GG = null
    sound HG = null
    sound ZG = null
    sound VG = null
    sound WG = null
    sound XG = null
    sound YG = null
    trigger JG = null
    trigger KG = null
    trigger LG = null
    trigger MG = null
    trigger NG = null
    trigger SG = null
    trigger TG = null
    trigger RG = null
    trigger PG = null
    trigger QG = null
    trigger UG = null
    trigger IH = null
    trigger OH = null
    trigger BH = null
    trigger CH = null
    trigger DH = null
    trigger EH = null
    trigger FH = null
    trigger GH = null
    trigger HH = null
    trigger ZH = null
    trigger VH = null
    trigger WH = null
    trigger XH = null
    trigger YH = null
    trigger JH = null
    trigger KH = null
    trigger LH = null
    trigger MH = null
    trigger NH = null
    trigger TH = null
    trigger RH = null
    trigger PH = null
    trigger QH = null
    trigger UH = null
    trigger IZ = null
    trigger OZ = null
    trigger AZ = null
    trigger BZ = null
    trigger CZ = null
    trigger DZ = null
    trigger EZ = null
    trigger FZ = null
    trigger GZ = null
    trigger HZ = null
    unit ZZ = null
    unit VZ = null
    unit WZ = null
    unit XZ = null
    unit YZ = null
    unit JZ = null
    unit KZ = null
    unit LZ = null
    unit MZ = null
    unit NZ = null
    unit SZ = null
    unit TZ = null
    unit RZ = null
    unit PZ = null
    unit QZ = null
    unit UZ = null
    unit IV = null
    unit OV = null
    unit AV = null
    unit BV = null
    unit CV = null
    unit DV = null
    unit EV = null
    unit FV = null
    unit GV = null
    unit HV = null
    unit ZV = null
    unit VV = null
    unit WV = null
    unit XV = null
    unit YV = null
    unit JV = null
    unit KV = null
    unit LV = null
    unit MV = null
    unit NV = null
    unit SV = null
    unit TV = null
    unit PV = null
    unit QV = null
    unit UV = null
    unit IW = null
    unit OW = null
    unit AW = null
    unit BW = null
    unit CW = null
    unit DW = null
    unit EW = null
    unit FW = null
    unit GW = null
    unit HW = null
    unit ZW = null
    unit VW = null
    unit WW = null
    unit XW = null
    unit YW = null
    unit JW = null
    unit KW = null
    unit LW = null
    unit MW = null
    unit SW = null
    unit TW = null
    unit RW = null
    unit PW = null
    unit QW = null
    unit UW = null
    unit IX = null
    unit OX = null
    unit AX = null
    unit BX = null
    unit CX = null
    unit DX = null
    unit EX = null
    unit GX = null
    unit HX = null
    unit ZX = null
    unit VX = null
    unit WX = null
    unit XX = null
    unit YX = null
    unit JX = null
    unit KX = null
    unit LX = null
    unit MX = null
    unit NX = null
    unit SX = null
    unit TX = null
    unit RX = null
    unit PX = null
    unit QX = null
    unit UX = null
    unit IY = null
    unit OY = null
    unit AY = null
    unit BY = null
    unit CY = null
    unit DY = null
    unit EY = null
    unit FY = null
    unit GY = null
    unit HY = null
    unit ZY = null
    unit VY = null
    unit WY = null
    unit XY = null
    unit YY = null
    unit JY = null
    unit KY = null
    unit LY = null
    unit MY = null
    unit NY = null
    unit SY = null
    hashtable hashTable
    string RY = ""
    unit array PY
    unit array QY
    unit array UY
    integer IJ = 0
    destructable array OJ
    destructable array AJ
    destructable array BJ
    integer CJ = 0
    group array DJ
    boolean array EJ
    integer FJ
    integer GJ
    boolean HJ = false
    trigger array ZJ
    real array VJ
    integer WJ = 0
    boolean array playerHeroDead
    real array YJ
    integer array JJ
    integer array KJ
    integer LJ = 0
    string array MJ
    integer array NJ
    integer SJ = 0
    string TJ
    real RJ
    integer PJ = 0
    integer QJ
    integer UJ
    integer IK
    real OK
    real AK
    real BK
    real CK
    real DK
    real EK
    unit myUnit
    unit GK
    unit HK
    item ZK
    trigger VK
    group WK
    group XK
    player YK
    boolean JK
    string KK
    image LK = null
    unit MK = null
    integer NK
    boolean SK = true
    trigger TK
    trigger RK
    region PK
    integer QK = 1
    boolean UK = false
    timer IL
    boolean OL = false
    integer AL = 90
    boolean BL = false
    boolean CL = false
    string DL = "No Mode"
    boolean EL = false
    boolean FL = true
    boolean GL = false
    boolean HL = false
    boolean ZL = false
    boolean noReviveTimeMode = false
    integer WL
    boolean YL = false
    integer array JL
    boolean array KL
    integer LL = 0
    integer array ML
    integer array SL
    integer array TL
    integer array RL
    integer array PL
    integer array QL
    integer array UL
    integer array IM
    integer array AM
    integer array BM
    boolean array FM
    boolean array disableSoundEffect
    boolean array HM
    boolean array VM
    unit WM = null
    unit XM = null
    boolean YM = false
    player JM = null
    player KM = null
    boolean array SM
    integer TM
    player RM
    trigger QM = null
    boolean UM = false
    integer IN
    integer ON
    boolean AN = false
    boolean BN = false
    trigger CN
    boolean DN = false
    integer EN = 'A10N'
    integer FN = 'A0S0'
    integer GN = 'A10O'
    integer HN = 'A10P'
    boolean ZN = false
    integer array VN
    region WN
    region XN
    region YN
    region JN
    region KN
    constant real LN = 150
    integer array MN
    integer NN = 0
    integer array SN
    integer array TN
    integer array RN
    integer array PN
    integer QN = 0
    gamecache UN
    integer array IS
    integer array OS
    integer array BS
    integer array CS
    trigger DS
    integer array itemReviveHero
    integer array FS
    integer array HS
    weathereffect ZS
    weathereffect VS
    constant playercolor WS = ConvertPlayerColor(0)
    constant playercolor XS = ConvertPlayerColor(12)
    real YS = -7360
    real JS = -6688
    real KS = -6592
    real LS = -6464
    real MS = -7392
    real SS = -6240
    real TS = -7392
    real PS = -6432
    real QS = -6592
    real US = -6720
    real IT = -6816
    real OT = -5984
    real AT = -6944
    real BT = -5920
    real CT = -7072
    real DT = -5920
    real ET = -7200
    real FT = -5920
    real GT = -7328
    real HT = -5984
    real ZT = -7328
    real VT = -5984
    real WT = -5632
    real XT = -5952
    real YT = -6112
    real JT = 1504
    real KT = -1504
    real LT = -1824
    real MT = 4960
    real ST = -6752
    real TT = -6112
    real RT = -1312
    real PT = -3488
    real QT = -3296
    real UT = -544
    real IR = -6688
    real OR = -6496
    real BR = -4832
    real CR = -4576
    real DR = -4832
    real GR = -4512
    real HR = -6752
    real ZR = -5920
    real WR = -5984
    real XR = -5664
    real YR = -6240
    real JR = -6400
    real KR = -4224
    real LR = -4288
    real SR = -4992
    real RR = -3776
    real PR = -6720
    real QR = -5952
    real UR = -4160
    real IP = -4800
    real OP = -4608
    real BP = -3776
    real DP = -6272
    real EP = -7136
    real FP = -4640
    real GP = -6496
    real ZP = -5536
    real VP = -5088
    real WP = -5280
    real XP = -5920
    real YP = -4640
    real JP = -4832
    real KP = -4384
    real LP = -4128
    real MP = -5024
    real TP = -5216
    real RP = -6816
    real PP = -4192
    real QP = -7456
    real UP = -4192
    real IQ = -6176
    real OQ = -5664
    real AQ = -3872
    real BQ = -5664
    real CQ = -3872
    real DQ = -5440
    real EQ = -4800
    real FQ = -3840
    real GQ = -5184
    real HQ = -5440
    real ZQ = -4800
    real VQ = -3840
    real WQ = -5184
    unit XQ
    unit YQ
    unit JQ
    unit KQ
    unit LQ
    unit MQ
    unit NQ
    unit SQ
    unit TQ
    unit RQ
    unit PQ
    unit QQ
    unit UQ
    unit I00
    unit II0
    unit I10
    unit IO0
    unit I20
    unit I30
    unit I40
    unit I50
    unit I60
    unit I70
    unit I80
    unit I90
    unit IA0
    unit IB0
    unit IC0
    unit ID0
    unit IE0
    unit IF0
    unit IG0
    unit IH0
    unit IZ0
    unit IV0
    unit IW0
    unit IX0
    unit IY0
    unit IJ0
    unit IK0
    unit IL0
    unit IM0
    unit IN0
    unit IS0
    constant playercolor IT0 = ConvertPlayerColor(6)
    constant playercolor IR0 = ConvertPlayerColor(12)
    real IP0 = 6272
    real IQ0 = 5504
    real IU0 = 6464
    real O00 = 5120
    real OI0 = 5952
    real O10 = 5568
    real OO0 = 6080
    real O20 = 5568
    real O30 = 6464
    real O40 = 4736
    real O50 = 5696
    real O60 = 5120
    real O70 = 5568
    real O80 = 5248
    real O90 = 5568
    real OA0 = 5376
    real OB0 = 5696
    real OC0 = 5504
    real OD0 = 5568
    real OE0 = 5696
    real OF0 = 5568
    real OG0 = 5696
    real OH0 = 4992
    real OZ0 = 4544
    real OV0 = -4704
    real OW0 = 5920
    real OX0 = 1056
    real OY0 = -160
    real OJ0 = 6048
    real OK0 = -2080
    real OL0 = 32
    real OM0 = 5856
    real ON0 = 2400
    real OS0 = 1696
    real OT0 = 6112
    real OR0 = -96
    real OP0 = 3168
    real OQ0 = 5920
    real OU0 = 3616
    real A00 = 3296
    real AI0 = 6048
    real A10 = 2784
    real AO0 = 4640
    real A20 = 4576
    real A30 = 5088
    real A40 = 4192
    real A50 = 3776
    real A60 = 5888
    real A70 = 4096
    real A80 = 3392
    real A90 = 6208
    real AA0 = 3264
    real AB0 = 3520
    real AC0 = 5376
    real AD0 = 3776
    real AE0 = 3840
    real AF0 = 5696
    real AG0 = 3264
    real AH0 = 3168
    real AZ0 = 4000
    real AV0 = 4192
    real AW0 = 5536
    real AX0 = 4128
    real AY0 = 4512
    real AJ0 = 4640
    real AK0 = 3680
    real AL0 = 4832
    real AM0 = 3104
    real AN0 = 5408
    real AS0 = 2592
    real AT0 = 5408
    real AR0 = 3296
    real AP0 = 6112
    real AQ0 = 4000
    real AU0 = 3040
    real B00 = 5088
    real BI0 = 6304
    real B10 = 3744
    real BO0 = 6304
    real B20 = 3744
    real B30 = 3520
    real B40 = 4608
    real B50 = 4096
    real B60 = 2624
    real B70 = 4096
    real B80 = 2624
    real B90 = 4096
    real BA0 = 2624
    unit BB0
    unit BC0
    unit BD0
    unit BE0
    unit BF0
    unit BG0
    unit BH0
    unit BZ0
    unit BV0
    unit BW0
    unit BX0
    unit BY0
    unit BJ0
    unit BK0
    unit BL0
    unit BM0
    unit BN0
    unit BS0
    unit BT0
    unit BR0
    unit BP0
    unit BQ0
    unit BU0
    unit C00
    unit CI0
    unit C10
    unit CO0
    unit C20
    unit C30
    unit C40
    unit C50
    unit C60
    unit C70
    unit C80
    unit C90
    unit CA0
    unit CB0
    unit CC0
    unit CD0
    unit CE0
    unit CF0
    unit CG0
    unit CH0
    unit CZ0
    unit CV0
    unit CW0
    unit CX0
    unit CY0
    unit CJ0
    unit CK0
    unit CL0
    unit CM0
    unit CN0
    unit CS0
    unit array CT0
    real array CR0
    real array CP0
    player CQ0
    player CU0
    string array playerName
    integer array DI0
    integer array D10
    integer array DO0
    integer array heroId
    integer array heroNameUnitId
    integer D40
    integer D50
    integer D60
    integer numHeroes
    integer array agilityHeroes
    integer numAgilityHeroes
    integer array strengthHeroes
    integer numStrengthHeroes
    integer array intelligenceHeroes
    integer numIntelligenceHeroes
    integer array DE0
    integer DF0
    integer array DG0
    integer DH0
    string array heroPic
    integer array heroSelectorId
    integer DW0
    integer numNeutralHeroes
    integer array neutralHeroes
    string array heroHelp1
    string array heroHelp2
    string array heroHelp3
    string array heroHelp4
    string array heroHelp5
    unit houseIntSen
    unit houseIntNeu
    unit houseIntSco
    unit houseAgiSen
    unit houseAgiNeu
    unit houseAgiSco
    unit houseStrSen
    unit houseStrNeu
    unit houseStrSco
    unit houseOtaku
    unit houseDummyOtaku
    integer array EO0
    integer E20 = 0
    boolean array E30
    integer E40 = 0
    integer E50
    player E60
    trigger E70
    trigger trigAddSalary
    trigger E90
    hashtable hashAbilityCooldown
    timer array EB0
    real array unitDamageTime
    integer array unitDamageSourcePlayerId
    integer array unitDamageTargetPlayerId
    integer unitDamageCurrentLoc = 1
    constant real timeAssistTime = 15
    player array assistedPlayers
    unit array EZ0
    real array EV0
    boolean array EW0
    integer EX0 = 0
    unit array EY0
    real array EJ0
    boolean array EK0
    unit EL0
    unit EM0
    integer EN0
    unit ES0 = null
    boolean ET0 = true
    integer ER0 = 1
    trigger EP0
    integer EQ0 = 0
    integer EU0
    integer F00
    integer array FI0
    integer array F10
    integer FO0
    integer F20
    integer array itemOnGroundId
    integer array itemId
    integer array itemInShopId
    integer array itemDisabledId
    string array itemBtnPic
    integer array itemCooldown
    integer array F90
    integer FA0 = 0
    integer FB0
    integer FC0
    integer FD0
    integer FE0
    integer FF0
    integer FG0
    integer FH0
    integer FZ0
    integer FV0
    integer FW0
    integer FX0
    integer FY0
    integer FJ0
    integer FK0
    integer FL0
    integer FM0
    integer FN0
    integer FS0
    integer FT0
    integer FR0
    integer FP0
    integer FQ0
    integer FU0
    integer G00
    integer GI0
    integer G10
    integer GO0
    integer G20
    integer G30
    integer G40
    integer G50
    integer G60
    integer G70
    integer G80
    integer G90
    integer GA0
    integer GB0
    integer GC0
    integer GD0
    integer GE0
    integer GF0
    integer GG0
    integer GH0
    integer GZ0
    integer GV0
    integer GW0
    integer GX0
    integer GY0
    integer GJ0
    integer GK0
    integer GL0
    integer GM0
    integer GN0
    integer GS0
    integer GT0
    integer GR0
    integer GP0
    integer GQ0
    integer GU0
    integer H00
    integer HI0
    integer H10
    integer HO0
    integer H20
    integer H30
    integer H40
    integer H50
    integer H60
    integer H70
    integer H80
    integer H90
    integer HA0
    integer HB0
    integer HC0
    integer HD0
    integer HE0
    integer HF0
    integer HG0
    integer HH0
    integer HZ0
    integer HV0
    integer HW0
    integer HX0
    integer HY0
    integer HJ0
    integer HK0
    integer HL0
    integer HM0
    integer HN0
    integer HS0
    integer HT0
    integer HR0
    integer HP0
    integer HQ0
    integer HU0
    integer Z00
    integer ZI0
    integer Z10
    integer ZO0
    integer Z20
    integer Z30
    integer Z40
    integer Z50
    integer Z60
    integer Z70
    integer Z80
    integer Z90
    integer ZA0
    integer ZB0
    integer ZC0
    integer ZD0
    integer itemIdAegisOfImmortal
    integer ZF0
    integer ZG0
    integer ZH0
    integer ZZ0
    integer ZV0
    integer ZW0
    integer ZX0
    integer ZY0
    integer ZJ0
    integer ZK0
    integer ZL0
    integer itemIdLinkenSphere
    integer ZN0
    integer ZS0
    integer ZT0
    integer ZR0
    integer ZP0
    integer ZQ0
    integer ZU0
    integer V00
    integer VI0
    integer V10
    integer VO0
    integer V20
    integer V30
    integer V40
    integer V50
    integer V60
    integer V70
    integer V80
    integer V90
    integer VA0
    integer VB0
    integer itemIdAssaultCuirass
    integer itemIdBloodstone
    integer VE0
    integer VF0
    integer VG0
    integer VH0
    integer VZ0
    integer VV0
    integer VW0
    integer VX0
    integer itemIdPhaseBoots
    integer VJ0
    integer VK0
    integer VL0
    integer VM0
    integer VN0
    integer VS0
    integer VT0
    integer VR0
    integer VP0
    integer VQ0
    integer VU0
    integer W00
    integer WI0
    integer W10
    integer WO0
    integer W20
    integer W30
    integer W40
    integer W50
    integer W60
    integer W70
    integer W80
    integer W90
    integer WA0
    integer WB0
    integer WC0
    integer WD0
    integer WE0
    integer WF0
    integer WG0
    integer WH0
    integer WZ0
    integer WV0
    integer WW0
    integer WX0
    integer WY0
    integer WJ0
    integer WK0
    integer WL0
    integer WM0
    integer WN0
    integer WS0
    integer WT0
    integer WR0
    integer WP0
    integer WQ0
    integer WU0
    integer X00
    integer XI0
    integer X10
    integer XO0
    integer X20
    integer X30
    integer X40
    integer X50
    trigger X60
    integer array X70
    integer array X80
    integer array X90
    integer array XA0
    integer array XB0
    integer array XC0
    integer XD0 = 0
    integer XE0
    integer XF0
    integer XG0
    integer XH0
    integer XZ0
    integer XV0
    integer XW0
    integer XX0
    integer XY0
    integer XJ0
    integer XK0
    integer XL0
    integer XM0
    integer XN0
    integer XS0
    integer XT0
    integer XR0
    integer XP0
    integer XQ0
    integer XU0
    integer Y00
    integer YI0
    integer Y10
    integer YO0
    integer Y20
    integer Y30
    integer Y40
    integer Y50
    integer Y60
    integer Y70
    integer Y80
    integer Y90
    integer YA0
    integer YB0
    integer YC0
    integer YD0
    integer YE0
    integer YF0
    integer YG0
    integer YH0
    integer YZ0
    integer YV0
    integer array YW0
    integer array YX0
    integer array YY0
    integer array YJ0
    integer array YK0
    player YL0
    unit YM0
    unit YN0
    integer YS0
    trigger trigItemActions
    integer YR0 = 0
    integer YP0 = 0
    integer YQ0 = 0
    integer YU0 = 0
    integer J00 = 0
    integer JI0 = 0
    boolean J10 = false
    real array JO0
    real array J20
    trigger J30
    trigger J40
    real array J50
    item array J60
    integer J70 = 0
    trigger J80
    unit array J90
    unit JA0 = null
    real array JB0
    integer array JC0
    constant real JD0 = 35
    player array JE0
    real array JF0
    real array JG0
    real array JH0
    integer JZ0 = -1
    constant real JV0 = 25
    constant real JW0 = 525
    region JX0
    integer JY0 = 'A11F'
    integer JJ0 = 'A11E'
    integer JK0 = 'A0S3'
    integer JL0 = 'A11D'
    integer JM0 = 'A11G'
    integer JN0 = 'A11H'
    integer JS0 = 'A11B'
    integer JT0 = 'A11A'
    integer JR0 = 'A0S2'
    integer JP0 = 'A119'
    integer JQ0 = 'A11C'
    integer JU0 = 'A118'
    integer K00 = 'A0FY'
    unit KI0
    group K10
    unit KO0
    unit K20
    player K30
    boolean K40 = false
    boolean K50 = false
    boolean K60 = false
    real K70
    constant real K80 = 8
    boolean K90 = false
    boolean KA0 = false
    boolean KB0 = false
    boolean KC0 = false
    boolean KD0 = false
    boolean KE0 = false
    boolean KF0 = false
    boolean KG0 = false
    boolean KH0 = false
    integer array KZ0
    integer array KV0
    integer KW0 = 0
    integer KX0
    integer KY0
    integer KJ0 = 0
    integer KK0 = 0
    string KL0 = "|c00ff0303"
    string KM0 = "|c00ff0303"
    string KN0 = "|c000042ff"
    string KS0 = "|c00646464"
    string KT0 = "|c00ffffff"
    multiboard KR0
    integer array KP0
    integer array KQ0
    player array KU0
    integer L00 = 0
    string LI0 = "|c00FF6600"
    multiboard L10
    trigger LO0
    real L20 = 0
    real L30 = 0
    real L40 = 0
    real L50 = 0
    real L60 = 0
    real L70 = 0
    real L80 = 0
    real L90 = 0
    real LA0 = 0
    real LB0 = 0
    real LC0 = 0
    real LD0 = 0
    real LE0 = 0
    real LF0 = 0
    real LG0 = 0
    real LH0 = 0
    real LZ0 = 0
    real LV0 = 0
    real LW0 = 0
    real LX0 = 0
    real LY0 = 0
    real LJ0 = 0
    real LK0 = 0
    real LL0 = 0
    real LM0 = 0
    real LN0 = 0
    real LS0 = 0
    real LT0 = 0
    constant real LR0 = 55
    boolean LP0 = false
    boolean LQ0 = false
    boolean LU0 = false
    boolean M00 = false
    boolean MI0 = false
    boolean M10 = false
    boolean MO0 = false
    boolean M20 = false
    boolean M30 = false
    unit M40 = null
    unit M50 = null
    group M60
    boolean M70 = true
    boolean M80 = false
    integer unitDamageCallbackCount = 0
    string array unitDamageCallbacks
    boolean MB0 = false
    integer MC0
    player MD0
    integer ME0
    integer MF0 = 'A0HU'
    integer MG0 = 'A0HX'
    trigger MH0
    region MZ0
    boolean MV0 = false
    boolean MW0 = false
    boolean MX0 = false
    unit array MY0
    group MJ0
    unit MK0
    integer ML0
    integer MM0 = 0
    integer array MN0
    boolean array MS0
    boolean array MT0
    boolean array MR0
    boolean MP0 = true
    boolean array MQ0
    real MU0 = -200
    boolean array N00
    leaderboard array NI0
    boolean array N10
    boolean NO0 = true
    weathereffect N20
    boolean array N30
    boolean array N40
    boolean array N50
    boolean N60 = true
    boolean array N70
    string array N80
    integer N90 = 0
    string NA0 = "Sound\\Music\\mp3Music\\PH1.mp3"
    boolean array NB0
    integer NC0
    integer ND0
    integer NE0
    string array NF0
    boolean array NG0
    integer NH0 = 0
    boolean NZ0 = true
    boolean array NV0
    constant real NW0 = -6950
    constant real NX0 = 6750
    boolean NY0 = false
    trigger NJ0
    boolean NK0 = false
    integer array NL0
    boolean NM0
    boolean NN0 = false
    boolean NS0 = false
    integer array NT0
    integer array NR0
    integer NP0
    integer NQ0
    integer array NU0
    integer array S00
    integer SI0 = 0
    integer S10 = 0
    integer array SO0
    integer array S20
    integer S30 = 0
    integer S40 = 0
    integer S50 = 0
    multiboard S60
    unit array S70
    integer array S80
    boolean array S90
    unit array SA0
    real array SB0
    real array SC0
    real array SD0
    real array SE0
    real array SF0
    real array SG0
    real array SH0
    real array SZ0
    real SV0 = -7000
    real SW0 = 6875
    real SX0 = -7000
    real SY0 = 6875
    constant real SJ0 = 400
    constant real SK0 = 75
    constant real SL0 = 125
    player SM0 = null
    player SN0 = null
    integer SS0
    boolean ST0 = false
    boolean SR0 = false
    boolean array SP0
    real SQ0
    real SU0
    real T00
    real TI0
    unit array T10
    integer TO0 = 0
    trigger T20
    unit array T30
    unit array T40
    boolean T50 = false
    trigger T60
    integer array T70
    unit array T80
    unit array T90
    integer TA0 = 0
    unit array TB0
    integer TC0
    integer TD0
    integer array TE0
    integer TF0
    boolean array TG0
    integer array TH0
    integer array TZ0
    integer TV0 = 0
    integer TW0 = 0
    real array TX0
    real array TY0
    real array TJ0
    real array TK0
    integer array TL0
    boolean TM0 = true
    image TN0
    image TS0
    image TT0
    image TR0
    image TP0
    image TQ0
    image TU0
    image R00
    image RI0
    image R10
    image RO0
    image R20
    image R30
    image R40
    image R50
    image R60
    constant real R70 = 450
    constant real R80 = 75
    constant real R90 = 140
    boolean RA0 = false
    boolean RB0 = false
    integer array RC0
    integer array RD0
    integer array RE0
    integer array RF0
    integer array RG0
    integer array RH0
    integer array RZ0
    integer RV0
    integer RW0
    integer RX0
    string RY0 = "|c008A2BE2Option 1: |r"
    string RJ0 = "|c008A2BE2Option 2: |r"
    string RK0 = "|c008A2BE2Option 3: |r"
    integer RL0
    integer array RM0
    boolean RN0 = false
    boolean RS0 = false
    leaderboard RT0
    integer RR0
    integer array RP0
    boolean RQ0 = false
    boolean RU0 = false
    leaderboard P00
    boolean PI0 = false
    boolean P10 = false
    boolean PO0 = false
    boolean P20 = false
    boolean P30 = true
    boolean P40 = false
    boolean P50 = false
    boolean P60 = false
    boolean P70 = false
    boolean P80 = false
    real P90 = 1.0
    boolean PA0 = false
    boolean PB0 = false
    boolean PC0 = false
    camerasetup PD0 = null
    boolean PE0 = false
    unit PF0
    unit PG0
    unit PH0
    unit PZ0
    unit PV0
    unit PW0
    real PX0
    real PY0
    real PJ0
    real PK0
    real PL0
    real PM0
    group PN0
    unit PS0
    integer PT0
    unit PR0
    unit PP0
    real PQ0
    real PU0
    integer array Q00
    real QI0
    unit Q10
    integer QO0
    real Q20
    unit Q30
    integer Q40
    unit Q50
    integer Q60
    unit Q70
    real Q80
    unit Q90
    real QA0
    integer QB0
    integer QC0
    unit QD0
    real QE0
    unit array QF0
    unit array QG0
    unit array QH0
    integer QZ0
    integer QV0
    unit array QW0
    unit QX0
    integer QY0
    integer QJ0 = 0
    real QK0
    real QL0
    integer QM0
    real QN0
    unit QS0
    integer array QT0
    integer array QR0
    integer array QP0
    integer array QQ0
    integer array QU0
    integer array U00
    integer array UI0
    unit U10
    unit UO0
    real U20
    real U30
    real U40
    integer array U50
    unit U60
    unit U70
    unit U80
    real U90
    integer UA0
    unit UB0
    unit UC0
    integer UD0
    integer UE0
    unit UF0
    unit UG0
    real UH0
    real UZ0
    real UV0
    real UW0
    group UX0
    unit UY0
    real UJ0
    integer UK0
    integer UL0
    integer UM0
    unit array UN0
    boolean US0 = false
    boolean UT0 = false
    integer UR0
    unit UP0
    real UQ0
    unit UU0
    real I0I
    real III
    integer I1I
    group IOI
    unit I2I
    real I3I
    destructable I4I = null
    unit I5I = null
    real I6I = 0
    constant real I7I = 30
    constant real I8I = 550
    constant real I9I = 500
    group windrunnerPowershotDamagedUnits
    unit windrunnerPowershotArrow
    real windrunnerPowershotInitialDamage
    integer windrunnerPowershotDamagedDestructableCount
    integer windrunnerPowershotDamagedUnitCount
    unit IFI
    integer IGI
    integer IHI = 'B09G'
    integer IZI = 'B09H'
    integer IVI = 'B09F'
    integer IWI = 'B09I'
    integer IXI = 'A0S1'
    integer IYI = 0
    unit array IJI
    unit array IKI
    effect array ILI
    real array IMI
    real array INI
    real array ISI
    unit ITI
    unit IRI
    integer IPI
    unit IQI
    unit IUI
    integer O0I
    real OII
    real O1I
    unit OOI
    unit O2I
    boolean O3I = false
    integer O4I
    integer O5I = 'h06J'
    real O6I
    real O7I
    unit O8I
    unit O9I
    unit OAI
    real OBI
    real OCI
    real ODI
    integer OEI
    real OFI
    real OGI
    unit OHI
    unit OZI
    integer OVI
    group OWI
    unit OXI
    unit OYI
    integer OJI
    integer OKI
    player OLI
    integer OMI
    unit array ONI
    integer OSI
    integer OTI
    constant real ORI = 55
    unit OPI
    constant real OQI = 1
    constant real OUI = 4
    constant real A0I = 4
    real AII
    unit A1I
    integer array AOI
    trigger A2I
    real A3I
    real A4I
    unit A5I
    unit A6I
    unit A7I
    group A8I
    real A9I
    unit AAI
    unit ABI
    unit ACI
    integer ADI
    integer AEI = 'A05V'
    unit AFI
    constant real AGI = 7
    constant real AHI = 300
    integer array AZI
    integer array AVI
    group AWI
    integer AXI
    unit AYI
    real AJI
    integer array AKI
    integer array ALI
    real AMI
    unit ANI
    unit ASI
    real ATI
    integer ARI
    unit array API
    unit AQI
    unit AUI
    unit B0I
    integer BII
    integer B1I
    real BOI
    group B2I = null
    constant real B3I = 6
    constant real B4I = 600
    unit B5I
    integer B6I
    unit array B7I
    boolean B8I = false
    real array B9I
    real array BAI
    real array BBI
    unit array BCI
    integer array BDI
    integer array BEI
    integer BFI
    unit BGI
    integer BHI
    unit BZI
    unit BVI
    timer BWI = null
    real BYI = 0.
    real BJI = 0.
    force BLI = null
    boolexpr BMI = null
endglobals

function BSI takes real BTI returns nothing
    local real BRI
    local real st = TimerGetElapsed(BWI)
    if st <= 0 then
        set BWI = CreateTimer()
        call TimerStart(BWI, 1000000, false, null)
    endif
    if (BTI > 0) then
        loop
            set BRI = BTI - TimerGetElapsed(BWI) + st
            exitwhen BRI <= 0
            if (BRI > bj_POLLED_WAIT_SKIP_THRESHOLD) then
                call TriggerSleepAction(0.1*BRI)
            else 
                call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
            endif
        endloop
    endif
endfunction

function BPI takes location BQI, real BUI, real C0I returns location 
    return Location(GetLocationX(BQI) + BUI*Cos(C0I*bj_DEGTORAD), GetLocationY(BQI) + BUI*Sin(C0I*bj_DEGTORAD))
endfunction

function CII takes nothing returns boolean 
    local real dx = GetDestructableX(GetFilterDestructable()) - BYI
    local real dy = GetDestructableY(GetFilterDestructable()) - BJI
    return (dx*dx + dy*dy <= bj_enumDestructableRadius)
endfunction

function C1I takes player COI returns force 
    set BLI = CreateForce()
    call ForceEnumEnemies(BLI, COI, BMI)
    return BLI
endfunction

function C2I takes itemtype C3I, integer C4I returns nothing
    local group g
    set bj_stockPickedItemType = C3I
    set bj_stockPickedItemLevel = C4I
    set g = CreateGroup()
    call GroupEnumUnitsOfType(g, "marketplace", BMI)
    call ForGroup(g, function UpdateEachStockBuildingEnum)
    call DestroyGroup(g)
    set g = null
endfunction

function C5I takes nothing returns nothing
    local integer pickedItemId
    local itemtype C6I
    local integer C7I = 0
    local integer C8I = 0
    local integer C4I
    set C4I = 1
    loop
        if bj_stockAllowedPermanent[C4I] then
            set C8I = C8I + 1
            if (GetRandomInt(1, C8I) == 1) then
                set C6I = ITEM_TYPE_PERMANENT
                set C7I = C4I
            endif
        endif
        if bj_stockAllowedCharged[C4I] then
            set C8I = C8I + 1
            if (GetRandomInt(1, C8I) == 1) then
                set C6I = ITEM_TYPE_CHARGED
                set C7I = C4I
            endif
        endif
        if bj_stockAllowedArtifact[C4I] then
            set C8I = C8I + 1
            if (GetRandomInt(1, C8I) == 1) then
                set C6I = ITEM_TYPE_ARTIFACT
                set C7I = C4I
            endif
        endif
        set C4I = C4I + 1
        exitwhen C4I > 10
    endloop
    if (C8I == 0) then
        set C6I = null
        return
    endif
    call C2I(C6I, C7I)
    set C6I = null
endfunction

function C9I takes nothing returns nothing
    call C5I()
    call TimerStart(bj_stockUpdateTimer, bj_STOCK_RESTOCK_INTERVAL, true, function C5I)
endfunction

function CBI takes nothing returns boolean 
    return true
endfunction

function CVI takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, O3, RJ, TJ)
endfunction

function displayMessageToForce takes force CXI, real BTI, string CYI returns nothing
    set TJ = CYI
    set RJ = BTI
    call ForForce(CXI, function CVI)
endfunction

function returnTrue1 takes nothing returns boolean 
    return true
endfunction

function InitializeHashtable takes nothing returns nothing
    set hashTable = InitHashtable()
endfunction

function HLC_GetCommandString takes nothing returns string 
    return RY
endfunction

function CKI takes nothing returns nothing
    local integer i
    local integer j
    local integer h
    local integer v
    local string CLI = "abcdefghijklmnopqrstuvwxyz0123456789 -=,."
    local integer array CMI
    local boolean array CNI
    set CNI[0] = true
    set CNI[50] = true
    set CNI[60] = true
    set CNI[70] = true
    set CNI[80] = true
    set CNI[90] = true
    set CNI[100] = true
    set i = 0
    set j = 0
    loop
        if CNI[j] then
            set j = j + 1
        endif
        exitwhen j >= 256
        set CMI[j] = i
        set i = i + 1
        set j = j + 1
    endloop
    set i = 0
    loop
        exitwhen i >= 12
        set h = R2I(100*GetPlayerHandicap(Player(i)))
        if not CNI[h] then
            set h = CMI[h]
            set v = h/6
            set h = h - v*6
            call SetPlayerHandicap(Player(i), 1)
            set RY = RY + SubString(CLI, v, v + 1)
        endif
        set i = i + 1
    endloop
endfunction

function CSI takes multiboard CTI, integer c, integer r, string CRI returns nothing
    local multiboarditem CPI = null
    set CPI = MultiboardGetItem(CTI, r - 1, c - 1)
    call MultiboardSetItemValue(CPI, CRI)
    call MultiboardReleaseItem(CPI)
endfunction

function CQI takes multiboard CTI, integer c, integer r, string CUI returns nothing
    local multiboarditem CPI = null
    set CPI = MultiboardGetItem(CTI, r - 1, c - 1)
    call MultiboardSetItemIcon(CPI, CUI)
    call MultiboardReleaseItem(CPI)
endfunction

function D0I takes multiboard CTI, integer c, integer r, boolean DII, boolean D1I returns nothing
    local multiboarditem CPI = null
    set CPI = MultiboardGetItem(CTI, r - 1, c - 1)
    call MultiboardSetItemStyle(CPI, DII, D1I)
    call MultiboardReleaseItem(CPI)
endfunction

function DOI takes multiboard CTI, integer c, integer r, real D2I, real D3I, real D4I, real D5I returns nothing
    local multiboarditem CPI = null
    set CPI = MultiboardGetItem(CTI, r - 1, c - 1)
    call MultiboardSetItemValueColor(CPI, PercentTo255(D2I), PercentTo255(D3I), PercentTo255(D4I), PercentTo255(100.0 - D5I))
    call MultiboardReleaseItem(CPI)
endfunction

function D6I takes multiboard CTI, integer c, integer r, real D7I returns nothing
    local multiboarditem CPI = null
    set CPI = MultiboardGetItem(CTI, r - 1, c - 1)
    call MultiboardSetItemWidth(CPI, D7I/100)
    call MultiboardReleaseItem(CPI)
endfunction

function TI_RequestBugReport takes nothing returns nothing
    local integer i = 0
    if gameEnded == false and MW0 == false then
        loop
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303An internal index has failed|r")
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")
            set i = i + 1
            exitwhen i == 12
        endloop
    endif
endfunction

function D8I takes integer i returns nothing
    if i > 16000 then
        set UY[i - 16000] = null
    elseif i > 8000 then
        set QY[i - 8000] = null
    else 
        set PY[i] = null
    endif
endfunction

function D9I takes integer i returns unit 
    if i > 16000 then
        return UY[i - 16000]
    elseif i > 8000 then
        return QY[i - 8000]
    else 
        return PY[i]
    endif
endfunction

function DAI takes integer i returns destructable 
    if i > 16000 then
        return BJ[i - 16000]
    elseif i > 8000 then
        return AJ[i - 8000]
    else 
        return OJ[i]
    endif
    return OJ[i]
endfunction

function DBI takes unit u returns integer 
    set IJ = IJ + 1
    if IJ > 16000 then
        set UY[IJ - 16000] = u
    elseif IJ > 8000 then
        set QY[IJ - 8000] = u
    else 
        set PY[IJ] = u
    endif
    return IJ
endfunction

function DCI takes integer i returns nothing
    if i > 16000 then
        set BJ[i - 16000] = null
    elseif i > 8000 then
        set AJ[i - 8000] = null
    else 
        set OJ[i] = null
    endif
endfunction

function DDI takes destructable d returns integer 
    set CJ = CJ + 1
    if CJ > 24000 then
        set BJ[CJ - 16000] = d
    elseif CJ > 8000 then
        set AJ[CJ - 8000] = d
    else 
        set OJ[CJ] = d
    endif
    return CJ
endfunction

function GetTime takes nothing returns real 
    return TimerGetElapsed(M)
endfunction

function releaseGroup takes group g returns nothing
    local integer i = GetHandleId(g) - FJ
    if i < 0 or i > 120 then
        set HJ = true
    else 
        call GroupClear(g)
        set EJ[i] = false
        set GJ = i
    endif
endfunction

function allocGroup takes nothing returns group 
    local integer i = GJ
    loop
        exitwhen i == GJ - 1
        if EJ[i] == false then
            set GJ = i + 1
            if GJ == 120 then
                set GJ = 0
            endif
            set EJ[i] = true
            return DJ[i]
        endif
        set i = i + 1
        if i == 120 then
            set i = 0
        endif
    endloop
    call displayMessageToForce(forceAllPlayers, 5.00, "|c00ff0303CRITICAL ERROR: FOUND NO AVAILABLE GROUPS|r")
    call displayMessageToForce(forceAllPlayers, 5.00, "|c00ff0303Send this replay to IceFrog@gmail.com|r")
    return CreateGroup()
endfunction

function DGI takes nothing returns boolean 
    local integer DHI = 0
    local integer i = 0
    loop
        exitwhen i == 120
        if EJ[i] == true then
            set DHI = DHI + 1
        endif
        set i = i + 1
    endloop
    if DHI > 100 or HJ then
        call displayMessageToForce(forceAllPlayers, 5.00, "|c00ff0303Please send me this replay (" + I2S(DHI) + ")")
    endif
    return false
endfunction

function initGroupPool takes nothing returns nothing
    local integer i = 0
    set GJ = 0
    set DJ[i] = CreateGroup()
    set EJ[i] = false
    set i = i + 1
    set FJ = GetHandleId(DJ[0])
    loop
        exitwhen i == 120
        set DJ[i] = CreateGroup()
        set EJ[i] = false
        set i = i + 1
    endloop
endfunction

function internalError takes nothing returns nothing
    local integer i = 0
    if gameEnded == false and MW0 == false then
        loop
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303An internal checksum has failed|r")
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 120, "|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")
            set i = i + 1
            exitwhen i == 12
        endloop
    endif
endfunction

function CleanTrigger_GetTime takes nothing returns real 
    return TimerGetElapsed(M)
endfunction

function abandonTrigger takes trigger t returns nothing
    call DisableTrigger(t)
    set WJ = WJ + 1
    set ZJ[WJ] = t
    set VJ[WJ] = TimerGetElapsed(M) + 60
    if WJ > 8000 then
        call internalError()
    endif
endfunction

function DXI takes integer i returns nothing
    if i != WJ then
        set ZJ[i] = ZJ[WJ]
        set VJ[i] = VJ[WJ]
    endif
    set ZJ[WJ] = null
    set VJ[WJ] = 0
    set WJ = WJ - 1
endfunction

function destroyRegisteredTriggers takes nothing returns boolean 
    local real DJI = TimerGetElapsed(M)
    local integer i
    set i = 1
    loop
        exitwhen i > WJ
        if VJ[i] < DJI then
            if ZJ[i] == null or IsTriggerEnabled(ZJ[i]) == true then
                call internalError()
            else 
                call DestroyTrigger(ZJ[i])
            endif
            call DXI(i)
        else 
            set i = i + 1
        endif
    endloop
    return false
endfunction

function DLI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call SaveInteger(hashTable, GetHandleId( LoadTriggerHandle(hashTable, DMI, 35) ), LoadInteger(hashTable, DMI, 33), 2)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function DNI takes trigger t, integer DSI, real BTI returns nothing
    local trigger t2 = CreateTrigger()
    call TriggerAddCondition(t2, Condition(function DLI))
    call TriggerRegisterTimerEvent(t2, BTI, false)
    call SaveInteger(hashTable, GetHandleId(t), DSI, 1)
    call SaveTriggerHandle(hashTable, GetHandleId(t2), 35, t)
    call SaveInteger(hashTable, GetHandleId(t2), 33, DSI)
    set t2 = null
endfunction

function getHeroName takes unit u returns string 
    if u == null then
        return GetObjectName('n09T')
    endif
    return GetObjectName(heroNameUnitId[GetUnitPointValue(u)])
endfunction

function DRI takes integer i returns string 
    if i == 0 then
        return GetObjectName('n09T')
    endif
    return GetObjectName(heroNameUnitId[i])
endfunction

function DPI takes unit u returns string 
    if u == null then
        return "UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
    endif
    return heroPic[GetUnitPointValue(u)]
endfunction

function DQI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call SaveInteger(hashTable, GetHandleId( LoadUnitHandle(hashTable, DMI, 14) ), LoadInteger(hashTable, DMI, 33), 2)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function DUI takes unit E0I, integer DSI, real BTI returns nothing
    local trigger t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function DQI))
    call TriggerRegisterTimerEvent(t, BTI, false)
    call SaveInteger(hashTable, GetHandleId(E0I), DSI, 1)
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, E0I)
    call SaveInteger(hashTable, GetHandleId(t), 33, DSI)
    set t = null
endfunction

function EII takes unit E1I returns integer 
    local integer x
    local integer id = GetUnitTypeId(E1I)
    set x = 1
    loop
        exitwhen x > numAgilityHeroes
        if id == agilityHeroes[x] then
            return 2
        endif
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > numStrengthHeroes
        if id == strengthHeroes[x] then
            return 3
        endif
        set x = x + 1
    endloop
    set x = 1
    loop
        exitwhen x > numIntelligenceHeroes
        if id == intelligenceHeroes[x] then
            return 1
        endif
        set x = x + 1
    endloop
    if id == 'Eevm' or id == 'N02B' or id == 'N017' or id == 'H08D' or id == 'H08C' or id == 'H084' or id == 'H08B' or id == 'N013' or id == 'N014' or id == 'N015' then
        return 2
    endif
    if id == 'N01H' or id == 'N01T' or id == 'N01J' or id == 'H00E' or id == 'H00G' or id == 'H00F' or id == 'H07I' or id == 'E015' then
        return 3
    endif
    if id == 'H06X' or id == 'H06Y' or id == 'H06W' or id == 'H0BC' or id == 'O017' then
        return 1
    endif
    return 0
endfunction

function EOI takes unit E1I returns integer 
    local integer E2I = EII(E1I)
    if E2I == 1 then
        return GetHeroInt(E1I, true)
    endif
    if E2I == 2 then
        return GetHeroAgi(E1I, true)
    endif
    if E2I == 3 then
        return GetHeroStr(E1I, true)
    endif
    return 0
endfunction

function E3I takes unit E4I returns boolean 
    return GetUnitState(E4I, UNIT_STATE_LIFE) < 1 or playerHeroDead[GetPlayerId(GetOwningPlayer(E4I))] == true
endfunction

function setHeroScaleAndSelector takes integer E7I, real E8I, integer E9I returns nothing
    set LJ = LJ + 1
    set YJ[LJ] = E8I
    set JJ[LJ] = E7I
    set KJ[LJ] = E9I
endfunction

function EAI takes unit u returns real 
    local integer E7I = GetUnitTypeId(u)
    local integer i = 1
    loop
        exitwhen i > LJ
        if JJ[i] == E7I or KJ[i] == E7I then
            return YJ[i]
        endif
        set i = i + 1
    endloop
    return 1.0
endfunction

function setUnitAnim takes integer ECI, string EDI returns nothing
    set SJ = SJ + 1
    set MJ[SJ] = EDI
    set NJ[SJ] = ECI
endfunction

function getUnitAnim takes unit u returns string 
    local integer ECI = GetUnitTypeId(u)
    local integer i = 1
    loop
        exitwhen i > SJ
        if NJ[i] == ECI then
            return MJ[i]
        endif
        set i = i + 1
    endloop
    return "stand"
endfunction

function EFI takes unit u returns nothing
    if GetUnitTypeId(u) == 'N01I' then
        call SetUnitAnimationByIndex(u, 6)
    else 
        call SetUnitAnimation(u, getUnitAnim(u))
    endif
endfunction

function getPlayerSlotLoc takes player p returns integer 
    local integer i
    set i = 1
    if p == sentinelPlayers[i] or p == scourgePlayers[i] then
        return i
    endif
    set i = 2
    if p == sentinelPlayers[i] or p == scourgePlayers[i] then
        return i
    endif
    set i = 3
    if p == sentinelPlayers[i] or p == scourgePlayers[i] then
        return i
    endif
    set i = 4
    if p == sentinelPlayers[i] or p == scourgePlayers[i] then
        return i
    endif
    set i = 5
    if p == sentinelPlayers[i] or p == scourgePlayers[i] then
        return i
    endif
    return 0
endfunction

function isPlayerSentinel takes player EZI returns boolean 
    if (EZI == sentinelPlayers[0]) then
        return true
    endif
    if (EZI == sentinelPlayers[1]) then
        return true
    endif
    if (EZI == sentinelPlayers[2]) then
        return true
    endif
    if (EZI == sentinelPlayers[3]) then
        return true
    endif
    if (EZI == sentinelPlayers[4]) then
        return true
    endif
    if (EZI == sentinelPlayers[5]) then
        return true
    endif
    return false
endfunction

function isPlayerScourge takes player EZI returns boolean 
    if (EZI == scourgePlayers[0]) then
        return true
    endif
    if (EZI == scourgePlayers[1]) then
        return true
    endif
    if (EZI == scourgePlayers[2]) then
        return true
    endif
    if (EZI == scourgePlayers[3]) then
        return true
    endif
    if (EZI == scourgePlayers[4]) then
        return true
    endif
    if (EZI == scourgePlayers[5]) then
        return true
    endif
    return false
endfunction

function isPlayer takes player p returns boolean 
    return p == sentinelPlayers[1] or p == sentinelPlayers[2] or p == sentinelPlayers[3] or p == sentinelPlayers[4] or p == sentinelPlayers[5] or p == scourgePlayers[1] or p == scourgePlayers[2] or p == scourgePlayers[3] or p == scourgePlayers[4] or p == scourgePlayers[5]
endfunction

function isPlayerAlive takes player EYI returns boolean 
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_PLAYING) then
        if (GetPlayerController(EYI) == MAP_CONTROL_USER) then
            return true
        endif
    endif
    return false
endfunction

function EJI takes player EYI returns boolean 
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_PLAYING or GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_LEFT) then
        if (GetPlayerController(EYI) == MAP_CONTROL_USER) then
            return true
        endif
    endif
    return false
endfunction

function EKI takes player EYI returns boolean 
    if GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_LEFT then
        if (GetPlayerController(EYI) == MAP_CONTROL_USER) then
            return true
        endif
    endif
    return false
endfunction

function ELI takes nothing returns nothing
    if (isPlayerAlive(GetEnumPlayer()) == true) then
        set bj_forceCountPlayers = bj_forceCountPlayers + 1
    endif
endfunction

function EMI takes force f returns integer 
    set bj_forceCountPlayers = 0
    call ForForce(f, function ELI)
    return bj_forceCountPlayers
endfunction

function CountHumanPlayers takes nothing returns nothing
    if GetPlayerSlotState(GetEnumPlayer()) == PLAYER_SLOT_STATE_LEFT or GetPlayerSlotState(GetEnumPlayer()) == PLAYER_SLOT_STATE_PLAYING then
        set bj_forceCountPlayers = bj_forceCountPlayers + 1
    endif
endfunction

function ENI takes nothing returns nothing
    if GetPlayerSlotState(GetEnumPlayer()) == PLAYER_SLOT_STATE_PLAYING then
        if GetEnumPlayer() != Player(13) and GetEnumPlayer() != Player(14) then
            set bj_forceCountPlayers = bj_forceCountPlayers + 1
        endif
    endif
endfunction

function ESI takes force f returns integer 
    set bj_forceCountPlayers = 0
    call ForForce(f, function ENI)
    return bj_forceCountPlayers
endfunction

function ETI takes integer E0I, player EYI returns nothing
    if SK then
        call SetPlayerTechMaxAllowed(EYI, E0I, 0)
        set R[GetUnitPointValueByType(E0I)] = true
    endif
endfunction

function disableHero takes integer E0I returns nothing
    call ETI(E0I, sentinelPlayers[1])
    call ETI(E0I, sentinelPlayers[2])
    call ETI(E0I, sentinelPlayers[3])
    call ETI(E0I, sentinelPlayers[4])
    call ETI(E0I, sentinelPlayers[5])
    call ETI(E0I, scourgePlayers[1])
    call ETI(E0I, scourgePlayers[2])
    call ETI(E0I, scourgePlayers[3])
    call ETI(E0I, scourgePlayers[4])
    call ETI(E0I, scourgePlayers[5])
endfunction

function EPI takes integer E0I returns nothing
    if SK then
        call SetPlayerTechMaxAllowed(sentinelPlayers[1], E0I, 0)
        call SetPlayerTechMaxAllowed(sentinelPlayers[2], E0I, 0)
        call SetPlayerTechMaxAllowed(sentinelPlayers[3], E0I, 0)
        call SetPlayerTechMaxAllowed(sentinelPlayers[4], E0I, 0)
        call SetPlayerTechMaxAllowed(sentinelPlayers[5], E0I, 0)
        call SetPlayerTechMaxAllowed(scourgePlayers[1], E0I, 0)
        call SetPlayerTechMaxAllowed(scourgePlayers[2], E0I, 0)
        call SetPlayerTechMaxAllowed(scourgePlayers[3], E0I, 0)
        call SetPlayerTechMaxAllowed(scourgePlayers[4], E0I, 0)
        call SetPlayerTechMaxAllowed(scourgePlayers[5], E0I, 0)
    endif
endfunction

function EQI takes player EYI returns nothing
    local integer EUI = D40
    local integer F0I = D50
    if SK then
        loop
            exitwhen EUI > F0I
            call SetPlayerTechMaxAllowed(EYI, heroId[EUI], 0)
            set EUI = EUI + 1
        endloop
        set EUI = D60
        set F0I = numHeroes
        loop
            exitwhen EUI > F0I
            call SetPlayerTechMaxAllowed(EYI, heroId[EUI], 0)
            set EUI = EUI + 1
        endloop
    endif
endfunction

function isHeroNeutral takes integer ECI returns boolean 
    local integer i = DW0
    loop
        exitwhen i > numNeutralHeroes
        if ECI == neutralHeroes[i] then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction

function F1I takes nothing returns nothing
    call EQI(sentinelPlayers[1])
    call EQI(sentinelPlayers[2])
    call EQI(sentinelPlayers[3])
    call EQI(sentinelPlayers[4])
    call EQI(sentinelPlayers[5])
    call EQI(scourgePlayers[1])
    call EQI(scourgePlayers[2])
    call EQI(scourgePlayers[3])
    call EQI(scourgePlayers[4])
    call EQI(scourgePlayers[5])
endfunction

function FOI takes nothing returns nothing
    local integer i
    if SK then
        set i = D60
        loop
            exitwhen i > numHeroes
            if isHeroNeutral(heroId[i]) == false then
                call SetPlayerTechMaxAllowed(sentinelPlayers[1], heroId[i], 0)
                call SetPlayerTechMaxAllowed(sentinelPlayers[2], heroId[i], 0)
                call SetPlayerTechMaxAllowed(sentinelPlayers[3], heroId[i], 0)
                call SetPlayerTechMaxAllowed(sentinelPlayers[4], heroId[i], 0)
                call SetPlayerTechMaxAllowed(sentinelPlayers[5], heroId[i], 0)
            endif
            set i = i + 1
        endloop
        set i = D40
        loop
            exitwhen i > D50
            if isHeroNeutral(heroId[i]) == false then
                call SetPlayerTechMaxAllowed(scourgePlayers[1], heroId[i], 0)
                call SetPlayerTechMaxAllowed(scourgePlayers[2], heroId[i], 0)
                call SetPlayerTechMaxAllowed(scourgePlayers[3], heroId[i], 0)
                call SetPlayerTechMaxAllowed(scourgePlayers[4], heroId[i], 0)
                call SetPlayerTechMaxAllowed(scourgePlayers[5], heroId[i], 0)
            endif
            set i = i + 1
        endloop
    endif
endfunction

function IsEnemyCreepCond takes nothing returns boolean 
    return IsUnitAlly(GetFilterUnit(), GetOwningPlayer(YO)) and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 0 and (GetOwningPlayer(GetFilterUnit()) == sentinelPlayers[0]) or (GetOwningPlayer(GetFilterUnit()) == scourgePlayers[0])
endfunction

function F2I takes nothing returns nothing
    local integer EUI
    local integer F0I
    local integer F3I = 0
    set ZO = D40
    set EUI = D40
    set F0I = D50
    loop
        exitwhen EUI > F0I
        set F3I = F3I + 1
        set WO[F3I] = EUI
        set EUI = EUI + 1
    endloop
    set EUI = D60
    set F0I = numHeroes
    loop
        exitwhen EUI > F0I
        set F3I = F3I + 1
        set WO[F3I] = EUI
        set EUI = EUI + 1
    endloop
    set VO = F3I
endfunction

function F4I takes nothing returns integer 
    local integer F5I = GetRandomInt(ZO, VO)
    local integer F6I = WO[F5I]
    set F6I = WO[F5I]
    if (ZO == VO) then
        set WO[F5I] = 0
        return F6I
    endif
    if (F5I == VO) then
        set VO = VO - 1
        return F6I
    endif
    set WO[F5I] = WO[VO]
    set VO = VO - 1
    return F6I
endfunction

function F7I takes unit E4I returns boolean 
    return GetUnitAbilityLevel(E4I, 'B01T') > 0 or GetUnitAbilityLevel(E4I, 'BNsi') > 0 or GetUnitAbilityLevel(E4I, 'B01X') > 0 or GetUnitAbilityLevel(E4I, 'BNdo') > 0 or GetUnitAbilityLevel(E4I, 'B02M') > 0 or GetUnitAbilityLevel(E4I, 'Bhea') > 0 or GetUnitAbilityLevel(E4I, 'B05V') > 0
endfunction

function F8I takes string F9I returns integer 
    if F9I == "a" then
        return 10
    elseif F9I == "b" then
        return 11
    elseif F9I == "c" then
        return 12
    elseif F9I == "d" then
        return 13
    elseif F9I == "e" then
        return 14
    elseif F9I == "f" then
        return 15
    else 
        return S2I(F9I)
    endif
endfunction

function FAI takes string FBI returns integer 
    return F8I( SubString(FBI, 0, 1) )*16 + F8I( SubString(FBI, 1, 2) )
endfunction

function FCI takes integer FDI returns boolean 
    local integer i = 1
    loop
        exitwhen i > Q2
        if FDI == P2[i] then
            return false
        endif
        set i = i + 1
    endloop
    return true
endfunction

function FEI takes player COI, integer FFI returns nothing
    local texttag t
    if FFI > 0 then
        set t = CreateTextTag()
        call SetPlayerState(COI, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(COI, PLAYER_STATE_RESOURCE_GOLD) + FFI)
        call SetTextTagText(t, "+" + I2S(FFI), 0.025)
        call SetTextTagPosUnit(t, playerHero[GetPlayerId(COI)], 0)
        call SetTextTagColor(t, 255, 220, 0, 255)
        call SetTextTagVelocity(t, 0, 0.03)
        if GetLocalPlayer() == COI then
            call SetTextTagVisibility(t, true)
        else 
            call SetTextTagVisibility(t, false)
        endif
        call SetTextTagFadepoint(t, 2)
        call SetTextTagLifespan(t, 3)
        call SetTextTagPermanent(t, false)
    endif
endfunction

function FGI takes player COI, integer FHI returns nothing
    local integer x = 1
    if IsPlayerAlly(COI, sentinelPlayers[0]) then
        loop
            exitwhen x > 5
            if sentinelPlayers[x] != COI then
                call FEI(sentinelPlayers[x], FHI)
            endif
            set x = x + 1
        endloop
    endif
    set x = 1
    if IsPlayerAlly(COI, scourgePlayers[0]) then
        loop
            exitwhen x > 5
            if scourgePlayers[x] != COI then
                call FEI(scourgePlayers[x], FHI)
            endif
            set x = x + 1
        endloop
    endif
endfunction

function FZI takes unit E4I, integer FVI returns nothing
    local integer FHI
    local player p = GetOwningPlayer(E4I)
    local integer FWI = 0
    local integer FXI
    set FHI = 160 + 40*FVI
    if isPlayerSentinel(GetOwningPlayer(E4I)) then
        set FXI = IMaxBJ(EMI(AO), 1)
    else 
        set FXI = IMaxBJ(EMI(BO), 1)
    endif
    if p == sentinelPlayers[0] or p == scourgePlayers[0] then
        set FWI = R2I(((400 + 50*FVI) + GetRandomInt(2, 20))*0.70)
    endif
    if IsUnitAlly(GetDyingUnit(), p) then
        if IsUnitAlly(E4I, sentinelPlayers[0]) then
            set p = scourgePlayers[0]
        else 
            set p = sentinelPlayers[0]
        endif
        set FHI = FHI/2 + FWI/FXI
    else 
        set FHI = FHI + FWI/FXI
    endif
    if p == sentinelPlayers[0] then
        call FEI(sentinelPlayers[1], FHI)
        call FEI(sentinelPlayers[2], FHI)
        call FEI(sentinelPlayers[3], FHI)
        call FEI(sentinelPlayers[4], FHI)
        call FEI(sentinelPlayers[5], FHI)
    elseif p == scourgePlayers[0] then
        call FEI(scourgePlayers[1], FHI)
        call FEI(scourgePlayers[2], FHI)
        call FEI(scourgePlayers[3], FHI)
        call FEI(scourgePlayers[4], FHI)
        call FEI(scourgePlayers[5], FHI)
    else 
        call FGI(GetOwningPlayer(E4I), FHI)
    endif
endfunction

function FYI takes integer E7I returns boolean 
    local integer i = 1
    loop
        exitwhen i > numIntelligenceHeroes
        if intelligenceHeroes[i] == E7I then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction

function FJI takes integer E7I returns boolean 
    local integer i = 1
    loop
        exitwhen i > numAgilityHeroes
        if agilityHeroes[i] == E7I then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction

function FKI takes integer E7I returns boolean 
    local integer i = 1
    loop
        exitwhen i > numStrengthHeroes
        if strengthHeroes[i] == E7I then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction

function FLI takes player EYI returns nothing
    local integer FMI
    local integer FNI
    local location FSI
    local integer F5I
    local boolean GotHero = false
    set S0[GetPlayerId(EYI)] = true
    if isPlayerSentinel(EYI) == true then
        set FMI = D40
        set FNI = D50
        set FSI = GetRectCenter(B4)
    else 
        set FMI = D60
        set FNI = numHeroes
        set FSI = GetRectCenter(R3)
    endif
    if K0 then
        if (GetRandomInt(1, 2) == 1) then
            set FMI = D40
            set FNI = D50
        else 
            set FMI = D60
            set FNI = numHeroes
        endif
    endif
    loop
        set F5I = GetRandomInt(FMI, FNI)
        exitwhen R[F5I] == false and FYI(heroId[F5I]) and heroId[F5I] != 'H00K'
    endloop
    if H2 == false then
        call EPI(heroId[F5I])
        set R[F5I] = true
    endif
    call CreateUnitAtLoc(EYI, heroId[F5I], FSI, 0)
    call RemoveLocation(FSI)
endfunction

function FTI takes player EYI returns nothing
    local integer FMI
    local integer FNI
    local location FSI
    local integer F5I
    local boolean GotHero = false
    set S0[GetPlayerId(EYI)] = true
    if isPlayerSentinel(EYI) == true then
        set FMI = D40
        set FNI = D50
        set FSI = GetRectCenter(B4)
    else 
        set FMI = D60
        set FNI = numHeroes
        set FSI = GetRectCenter(R3)
    endif
    if K0 then
        if (GetRandomInt(1, 2) == 1) then
            set FMI = D40
            set FNI = D50
        else 
            set FMI = D60
            set FNI = numHeroes
        endif
    endif
    loop
        set F5I = GetRandomInt(FMI, FNI)
        exitwhen R[F5I] == false and FKI(heroId[F5I])
    endloop
    if H2 == false then
        call EPI(heroId[F5I])
        set R[F5I] = true
    endif
    call CreateUnitAtLoc(EYI, heroId[F5I], FSI, 0)
    call RemoveLocation(FSI)
endfunction

function FRI takes player EYI returns nothing
    local integer FMI
    local integer FNI
    local location FSI
    local integer F5I
    local boolean GotHero = false
    set S0[GetPlayerId(EYI)] = true
    if isPlayerSentinel(EYI) == true then
        set FMI = D40
        set FNI = D50
        set FSI = GetRectCenter(B4)
    else 
        set FMI = D60
        set FNI = numHeroes
        set FSI = GetRectCenter(R3)
    endif
    if K0 then
        if (GetRandomInt(1, 2) == 1) then
            set FMI = D40
            set FNI = D50
        else 
            set FMI = D60
            set FNI = numHeroes
        endif
    endif
    loop
        set F5I = GetRandomInt(FMI, FNI)
        exitwhen R[F5I] == false and FJI(heroId[F5I])
    endloop
    if H2 == false then
        call EPI(heroId[F5I])
        set R[F5I] = true
    endif
    call CreateUnitAtLoc(EYI, heroId[F5I], FSI, 0)
    call RemoveLocation(FSI)
endfunction

function FPI takes player EYI returns nothing
    local integer FMI
    local integer FNI
    local location FSI
    local integer F5I
    local boolean GotHero = false
    set S0[GetPlayerId(EYI)] = true
    if isPlayerSentinel(EYI) == true then
        set FMI = D40
        set FNI = D50
        set FSI = GetRectCenter(B4)
    else 
        set FMI = D60
        set FNI = numHeroes
        set FSI = GetRectCenter(R3)
    endif
    if K0 then
        if (GetRandomInt(1, 2) == 1) then
            set FMI = D40
            set FNI = D50
        else 
            set FMI = D60
            set FNI = numHeroes
        endif
    endif
    loop
        set F5I = GetRandomInt(FMI, FNI)
        exitwhen R[F5I] == false
    endloop
    if H2 == false then
        call EPI(heroId[F5I])
        set R[F5I] = true
    endif
    call CreateUnitAtLoc(EYI, heroId[F5I], FSI, 0)
    call RemoveLocation(FSI)
endfunction

function FQI takes boolean FUI, boolean G0I returns integer 
    local integer FMI
    local integer FNI
    if FUI and G0I then
        if (GetRandomInt(1, 2) == 1) then
            set FMI = D40
            set FNI = D50
        else 
            set FMI = D60
            set FNI = numHeroes
        endif
    elseif FUI then
        set FMI = D40
        set FNI = D50
    else 
        set FMI = D60
        set FNI = numHeroes
    endif
    return GetRandomInt(FMI, FNI)
endfunction

function GII takes unit E4I returns boolean 
    return GetUnitTypeId(E4I) == 'n00I' or GetUnitTypeId(E4I) == 'n022' or GetUnitTypeId(E4I) == 'n021' or GetUnitTypeId(E4I) == 'n023' or GetUnitTypeId(E4I) == 'n024' or GetUnitTypeId(E4I) == 'n025' or GetUnitTypeId(E4I) == 'e01H' or GetUnitTypeId(E4I) == 'e01Z' or GetUnitTypeId(E4I) == 'n00M' or GetUnitTypeId(E4I) == 'n0HV'
endfunction

function G1I takes destructable d returns boolean 
    return GetDestructableTypeId(d) == 'NTtc' or GetDestructableTypeId(d) == 'NTtw' or GetDestructableTypeId(d) == 'ATtr' or GetDestructableTypeId(d) == 'B002' or GetDestructableTypeId(d) == 'B003' or GetDestructableTypeId(d) == 'B005'
endfunction

function GOI takes unit u returns boolean 
    return GetUnitAbilityLevel(u, 'A0S6') > 0 or GetUnitAbilityLevel(u, 'A179') > 0 or GetUnitAbilityLevel(u, 'ACmi') > 0 or GetUnitAbilityLevel(u, 'A0SU') > 0 or GetUnitAbilityLevel(u, 'B014') > 0 or (LoadInteger(hashTable, GetHandleId(u), 4252) == 1)
endfunction

function G2I takes unit G3I returns boolean 
    return GetUnitAbilityLevel(G3I, 'A04R') > 0 and isPlayer(GetOwningPlayer(G3I))
endfunction

function G4I takes unit u returns boolean 
    return GetUnitTypeId(u) == 'H00F' or GetUnitTypeId(u) == 'H00E' or GetUnitTypeId(u) == 'H00G' or GetUnitTypeId(u) == 'O017'
endfunction

function G5I takes real d returns boolean 
    return 2 < d and d < 3000
endfunction

function findFirstPlayerAlive takes nothing returns nothing
    local integer EUI = 1
    set firstPlayerAlive = sentinelPlayers[1]
    loop
        exitwhen isPlayerAlive(firstPlayerAlive) or EUI > 5
        set EUI = EUI + 1
        set firstPlayerAlive = sentinelPlayers[EUI]
    endloop
    if isPlayerAlive(firstPlayerAlive) == false then
        set firstPlayerAlive = scourgePlayers[1]
        set EUI = 1
        loop
            exitwhen isPlayerAlive(firstPlayerAlive) or EUI > 5
            set EUI = EUI + 1
            set firstPlayerAlive = scourgePlayers[EUI]
        endloop
    endif
endfunction

function G7I takes unit E1I returns boolean 
    return IsUnitType(E1I, UNIT_TYPE_HERO) == true and IsUnitIllusion(E1I) == false and GetUnitTypeId(E1I) != 'H00M' and GetUnitTypeId(E1I) != 'H00Y' and GetUnitTypeId(E1I) != 'H07G' and GetUnitTypeId(E1I) != 'H0B8'
endfunction

function getHeroIdBySelectorId takes integer i returns integer 
    local integer x = 0
    loop
        exitwhen x > 100
        if heroSelectorId[x] == i then
            return heroId[x]
        endif
        set x = x + 1
    endloop
    return -1
endfunction

function getHeroIndex takes integer E7I returns integer 
    local integer i = 1
    loop
        exitwhen i > numHeroes
        if E7I == heroId[i] then
            return i
        endif
        set i = i + 1
    endloop
    return 0
endfunction

function getHeroKillXP takes unit E1I returns integer 
    local integer FVI = GetHeroLevel(E1I)
    if FVI == 1 then
        return 100
    elseif FVI == 2 then
        return 120
    elseif FVI == 3 then
        return 160
    elseif FVI == 4 then
        return 220
    else 
        return -200 + 100*FVI
    endif
    return 0
endfunction

function doDamage takes unit source, unit target, integer kind, real amount returns nothing
    if kind == 0 then
        return
    endif
    if kind == 1 then
        call UnitDamageTarget(source, target, amount, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE, WEAPON_TYPE_WHOKNOWS)
    elseif kind == 2 then
        call UnitDamageTarget(source, target, amount, true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    elseif kind == 3 then
        call UnitDamageTarget(source, target, amount, true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    elseif kind == 4 then
        call UnitDamageTarget(source, target, amount, true, true, ATTACK_TYPE_PIERCE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    endif
endfunction

function GGI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local integer GEI = LoadInteger(hashTable, DMI, 36)
    local real GFI = LoadReal(hashTable, DMI, 20)
    call doDamage(GCI, GDI, GEI, GFI)
    call D8I(GHI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function GZI takes unit GCI, unit GDI, integer GEI, real GFI, real BTI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveInteger(hashTable, DMI, 36, GEI)
    call SaveReal(hashTable, DMI, 20, (GFI*1.0))
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function GGI))
    set t = null
endfunction

function GVI takes player COI, string GWI returns nothing
    local sound GXI = CreateSound(GWI, false, false, false, 10, 10, "DefaultEAXON")
    if (GetLocalPlayer() == COI) then
        call StartSound(GXI)
    endif
    call KillSoundWhenDone(GXI)
endfunction

function GYI takes player COI, string GWI returns nothing
    call GVI(sentinelPlayers[1], GWI)
    call GVI(sentinelPlayers[2], GWI)
    call GVI(sentinelPlayers[3], GWI)
    call GVI(sentinelPlayers[4], GWI)
    call GVI(sentinelPlayers[5], GWI)
    call GVI(scourgePlayers[1], GWI)
    call GVI(scourgePlayers[2], GWI)
    call GVI(scourgePlayers[3], GWI)
    call GVI(scourgePlayers[4], GWI)
    call GVI(scourgePlayers[5], GWI)
endfunction

function displayErrorMessage takes player GKI, string CRI returns nothing
    local sound GLI = CreateSoundFromLabel("InterfaceError", false, false, false, 10, 10)
    if (GetLocalPlayer() == GKI) then
        if (CRI != "") and (CRI != null) then
            call ClearTextMessages()
            call DisplayTimedTextToPlayer(GKI, 0.50, -1.00, 2.00, "|cffffcc00" + CRI + "|r")
        endif
        call StartSound(GLI)
    endif
    call KillSoundWhenDone(GLI)
endfunction

function GMI takes player GKI, string CRI returns nothing
    local sound GLI = CreateSoundFromLabel("InterfaceError", false, false, false, 10, 10)
    if (GetLocalPlayer() == GKI) then
        if (CRI != "") and (CRI != null) then
            call DisplayTimedTextToPlayer(GKI, 0, 0, 2.00, "|cffffcc00" + CRI + "|r")
        endif
        call StartSound(GLI)
    endif
    call KillSoundWhenDone(GLI)
endfunction

function GNI takes player GKI, string CRI returns nothing
    local sound GLI = CreateSoundFromLabel("InterfaceError", false, false, false, 10, 10)
    if (GetLocalPlayer() == GKI) then
        if (CRI != "") and (CRI != null) then
            call DisplayTimedTextToPlayer(GKI, 0, 0, 5.00, "|cffffcc00" + CRI + "|r")
        endif
        call StartSound(GLI)
    endif
    call KillSoundWhenDone(GLI)
endfunction

function GSI takes unit GTI returns nothing
    call PauseUnit(GTI, true)
    call IssueImmediateOrder(GTI, "stop")
    call PauseUnit(GTI, false)
endfunction

function GRI takes nothing returns boolean 
    if (GetTimeOfDay() > 6.00 and GetTimeOfDay() < 18.00) then
        return true
    else 
        return false
    endif
endfunction

function executeFuncIfTrue takes string GQI, boolean GUI returns nothing
    if GUI then
        call ExecuteFunc(GQI)
    endif
endfunction

function constrainX takes real x returns real 
    local real HII = GetRectMinX(bj_mapInitialPlayableArea) + 50
    if (x < HII) then
        return HII
    endif
    set HII = GetRectMaxX(bj_mapInitialPlayableArea) - 50
    if (x > HII) then
        return HII
    endif
    return x
endfunction

function H1I takes real x returns real 
    local real HII = GetRectMinX(bj_mapInitialPlayableArea) + 75
    if (x < HII) then
        return HII
    endif
    set HII = GetRectMaxX(bj_mapInitialPlayableArea) - 75
    if (x > HII) then
        return HII
    endif
    return x
endfunction

function constrainY takes real y returns real 
    local real HII = GetRectMinY(bj_mapInitialPlayableArea) + 50
    if (y < HII) then
        return HII
    endif
    set HII = GetRectMaxY(bj_mapInitialPlayableArea) - 50
    if (y > HII) then
        return HII
    endif
    return y
endfunction

function H2I takes real y returns real 
    local real HII = GetRectMinY(bj_mapInitialPlayableArea) + 75
    if (y < HII) then
        return HII
    endif
    set HII = GetRectMaxY(bj_mapInitialPlayableArea) - 75
    if (y > HII) then
        return HII
    endif
    return y
endfunction

function preloadAblility takes integer H4I returns nothing
    local unit u = CreateUnit(Player(15), 'H00Y', 0, 0, 270)
    call UnitAddAbility(u, H4I)
    call UnitRemoveAbility(u, H4I)
    call RemoveUnit(u)
    set u = null
endfunction

function H5I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer H4I = LoadInteger(hashTable, DMI, 37)
    call preloadAblility(H4I)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function H6I takes integer H4I, real H7I returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveInteger(hashTable, DMI, 37, H4I)
    call TriggerRegisterTimerEvent(t, H7I, false)
    call TriggerAddCondition(t, Condition(function H5I))
    set t = null
endfunction

function Tree_Killer takes nothing returns nothing
    call KillDestructable(GetEnumDestructable())
endfunction

function H8I takes unit E1I returns nothing
    call SaveBoolean(hashTable, GetHandleId(E1I), 38, false)
    call FlushChildHashtable(hashTable, GetHandleId(E1I))
    call RemoveUnit(E1I)
endfunction

function H9I takes unit E4I, integer HAI, integer HBI returns nothing
    if GetUnitAbilityLevel(E4I, HAI) == 0 then
        call UnitAddAbility(E4I, HAI)
    endif
    call SetUnitAbilityLevel(E4I, HAI, HBI)
endfunction

function HCI takes integer a, integer b returns integer 
    if (a < b) then
        return a
    else 
        return b
    endif
endfunction

function HDI takes integer a, integer b returns integer 
    if (a < b) then
        return b
    else 
        return a
    endif
endfunction

function HEI takes integer BQI, integer a, integer b returns integer 
    return HDI(HCI(BQI, b), a)
endfunction

function rMin takes real a, real b returns real 
    if (a < b) then
        return a
    else 
        return b
    endif
endfunction

function HGI takes real a, real b returns real 
    if (a < b) then
        return b
    else 
        return a
    endif
endfunction

function HHI takes nothing returns nothing
    local integer DMI = GetHandleId(GetExpiredTimer())
    local unit E4I = LoadUnitHandle(hashTable, DMI, 26)
    call SetUnitState(E4I, UNIT_STATE_LIFE, GetUnitState(E4I, UNIT_STATE_LIFE) + LoadReal(hashTable, DMI, 20))
endfunction

function HZI takes unit E4I, real GFI returns nothing
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    call SaveReal(hashTable, DMI, 20, (GFI*1.0))
    call SaveUnitHandle(hashTable, DMI, 26, E4I)
    call TimerStart(t, 0, false, function HHI)
endfunction

function HVI takes unit E4I, real GFI returns nothing
    local real HWI = GetUnitState(E4I, UNIT_STATE_MAX_LIFE)
    local real HXI = GetUnitState(E4I, UNIT_STATE_LIFE)
    if (GetUnitState(E4I, UNIT_STATE_LIFE) > 1) then
        if GFI > (HWI - HXI) then
            if GFI >= HXI then
                call SetUnitState(E4I, UNIT_STATE_LIFE, HWI)
                call HZI(E4I, GFI - (HWI - HXI))
            else 
                call HZI(E4I, GFI)
            endif
        else 
            call SetUnitState(E4I, UNIT_STATE_LIFE, GetUnitState(E4I, UNIT_STATE_LIFE) + GFI)
        endif
    endif
endfunction

function isUnitCloserThan takes unit GCI, unit GDI, real HJI returns boolean 
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    if ((HKI - HMI)*(HKI - HMI) + (HLI - HNI)*(HLI - HNI)) < HJI*HJI then
        return true
    else 
        return false
    endif
    return false
endfunction

function getUnitDistance takes unit GCI, unit GDI returns real 
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    if GCI == null or GDI == null then
        return I2R(9999999999)
    else 
        return SquareRoot((HKI - HMI)*(HKI - HMI) + (HLI - HNI)*(HLI - HNI))
    endif
    return 1.0
endfunction

function getDistanceLoc takes unit GCI, location GDI returns real 
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local real HMI = GetLocationX(GDI)
    local real HNI = GetLocationY(GDI)
    if GCI == null then
        return I2R(9999999999)
    else 
        return SquareRoot((HKI - HMI)*(HKI - HMI) + (HLI - HNI)*(HLI - HNI))
    endif
    return 1.0
endfunction

function getDistance takes real x1, real y1, real x2, real y2 returns real 
    return SquareRoot(((x1 - x2)*(x1 - x2)) + ((y1 - y2)*(y1 - y2)))
endfunction

function HPI takes unit E4I returns nothing
    call SetUnitState(E4I, UNIT_STATE_MANA, GetUnitState(E4I, UNIT_STATE_MAX_MANA))
endfunction

function dispTimedTextToForce_Callback takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, O3, RJ, TJ)
endfunction

function dispTimedTextToForce takes force CXI, real BTI, string CYI returns nothing
    set TJ = CYI
    set RJ = BTI
    call ForForce(CXI, function dispTimedTextToForce_Callback)
endfunction

function Z0I takes nothing returns nothing
    if FM[GetPlayerId(GetEnumPlayer())] then
        call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, O3, RJ, TJ)
    endif
endfunction

function ZII takes force CXI, real BTI, string CYI returns nothing
    set TJ = CYI
    set RJ = BTI
    call ForForce(CXI, function Z0I)
endfunction

function Z1I takes unit E4I, real ZOI returns nothing
    call SetUnitState(E4I, UNIT_STATE_LIFE, GetUnitState(E4I, UNIT_STATE_LIFE) + ZOI)
endfunction

function Z2I takes nothing returns nothing
    call PauseAllUnitsBJ(true)
endfunction

function RepeatedPauseAll takes nothing returns nothing
    local timer t = CreateTimer()
    call TimerStart(t, 1, true, function Z2I)
endfunction

function Z3I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function Z4I takes string Z5I, unit E4I, string Z6I, real BTI returns nothing
    local effect fx = AddSpecialEffectTarget(Z5I, E4I, Z6I)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveEffectHandle(hashTable, DMI, 32, fx)
    call TriggerRegisterUnitEvent(t, E4I, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function Z3I))
    set fx = null
    set t = null
endfunction

function Z7I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function Z8I takes string Z5I, real x, real y, real BTI returns nothing
    local effect fx = AddSpecialEffect(Z5I, x, y)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveEffectHandle(hashTable, DMI, 32, fx)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function Z7I))
    set fx = null
    set t = null
endfunction

function PulseEffectTarget_Child takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local string Z5I = LoadStr(hashTable, DMI, 39)
    local string Z6I = LoadStr(hashTable, DMI, 40)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    call Z4I(Z5I, GDI, Z6I, 2)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > DHI then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function Z9I takes unit E4I, integer ZAI returns item 
    local integer CDI = 0
    local item ZBI
    loop
        exitwhen CDI == 6
        set ZBI = UnitItemInSlot(E4I, CDI)
        if ZBI != null and GetItemTypeId(ZBI) == ZAI then
            return ZBI
        endif
        set CDI = CDI + 1
    endloop
    return null
endfunction

function ZCI takes timer t returns nothing
    call PauseTimer(t)
    call FlushChildHashtable(hashTable, GetHandleId(t))
    call DestroyTimer(t)
endfunction

function ZDI takes real x1, real y1, real x2, real y2 returns real 
    return SquareRoot((x1 - x2)*(x1 - x2) + (y1 - y2)*(y1 - y2))
endfunction

function ZEI takes unit a, unit b returns real 
    return bj_RADTODEG*Atan2(GetUnitY(b) - GetUnitY(a), GetUnitX(b) - GetUnitX(a))
endfunction

function getAngle takes real x1, real y1, real x2, real y2 returns real 
    return bj_RADTODEG*Atan2(y2 - y1, x2 - x1)
endfunction

function ZGI takes nothing returns nothing
    call DestroyLightning( LoadLightningHandle(hashTable, GetHandleId(GetExpiredTimer()), 41) )
endfunction

function ZHI takes string ZZI, real x1, real y1, real x2, real y2, real r, real g, real b, real a, real BTI returns nothing
    local timer t = CreateTimer()
    local lightning ZVI = AddLightning(ZZI, true, x1, y1, x2, y2)
    call SetLightningColor(ZVI, r, g, b, a)
    call SaveLightningHandle(hashTable, GetHandleId(t), 41, ZVI)
    call TimerStart(t, BTI, false, function ZGI)
endfunction

function ZWI takes string ZXI, unit ZYI, integer r, integer g, integer b returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, ZXI, 0.03)
    call SetTextTagPosUnit(tt, ZYI, 0)
    call SetTextTagColor(tt, r, g, b, 255)
    call SetTextTagPermanent(tt, true)
    set tt = null
endfunction

function ZJI takes string ZXI, integer BTI, unit ZYI, integer r, integer g, integer b returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, ZXI, 0.03)
    call SetTextTagPosUnit(tt, ZYI, 0)
    call SetTextTagColor(tt, r, g, b, 255)
    call SetTextTagVelocity(tt, 0, 0.0355)
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, BTI)
    set tt = null
endfunction

function ZKI takes string ZXI, real BTI, unit ZYI, real ZLI, integer r, integer g, integer b, integer a returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, ZXI, ZLI)
    call SetTextTagPosUnit(tt, ZYI, 64)
    call SetTextTagColor(tt, r, g, b, a)
    call SetTextTagVelocity(tt, 0, 0.0355)
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, BTI)
    if IsUnitVisible(ZYI, GetLocalPlayer()) then
        call SetTextTagVisibility(tt, true)
    else 
        call SetTextTagVisibility(tt, false)
    endif
    set tt = null
endfunction

function ZMI takes player p, string ZXI, real BTI, unit ZYI, real ZLI, integer r, integer g, integer b, integer a returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, ZXI, ZLI)
    call SetTextTagPosUnit(tt, ZYI, 64)
    call SetTextTagColor(tt, r, g, b, a)
    call SetTextTagVelocity(tt, 0, 0.0355)
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, BTI)
    if GetLocalPlayer() == p then
        call SetTextTagVisibility(tt, true)
    else 
        call SetTextTagVisibility(tt, false)
    endif
    set tt = null
endfunction

function returnTrue takes nothing returns boolean 
    return true
endfunction

function triggerRegisterAnyUnitEvent takes trigger t, playerunitevent ZTI returns nothing
    local integer CDI = 0
    loop
        call TriggerRegisterPlayerUnitEvent(t, Player(CDI), ZTI, Condition(function returnTrue))
        set CDI = CDI + 1
        exitwhen CDI == 16
    endloop
endfunction

function triggerRegisterAllPlayersUnitEvent takes trigger t, playerunitevent ZTI returns nothing
    local integer i = 1
    loop
        exitwhen i > 5
        call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[i], ZTI, Condition(function returnTrue))
        call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[i], ZTI, Condition(function returnTrue))
        set i = i + 1
    endloop
endfunction

function ZPI takes real x1, real y1, real x2, real y2 returns real 
    return SquareRoot(((x1 - x2)*(x1 - x2)) + ((y1 - y2)*(y1 - y2)))
endfunction

function killDestrucablesCallback takes nothing returns nothing
    if G1I(GetEnumDestructable()) then
        set PJ = PJ + 1
        call KillDestructable(GetEnumDestructable())
    endif
endfunction

function killDestructables takes real x, real y, real d returns integer 
    local rect r = Rect(x - d, y - d, x + d, y + d)
    set PJ = 0
    call EnumDestructablesInRect(r, Condition(function returnTrue1), function killDestrucablesCallback)
    call RemoveRect(r)
    set r = null
    return PJ
endfunction

function V0I takes real x, real y returns boolean 
    if IsTerrainPathable(x, y, PATHING_TYPE_WALKABILITY) then
        return false
    endif
    return true
endfunction

function playSoundAt takes sound V1I, real x, real y returns nothing
    call SetSoundPosition(V1I, x, y, 0)
    call SetSoundVolume(V1I, 127)
    set bj_lastPlayedSound = V1I
    if (V1I != null) then
        call StartSound(V1I)
    endif
endfunction

function VOI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local fogmodifier V2I = LoadFogModifierHandle(hashTable, DMI, 42)
    call FogModifierStop(V2I)
    call DestroyFogModifier(V2I)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set V2I = null
    return false
endfunction

function V3I takes player p, real BTI, real x, real y, real r returns nothing
    local trigger t = CreateTrigger()
    local fogmodifier V2I = CreateFogModifierRadius(p, FOG_OF_WAR_VISIBLE, x, y, r, true, true)
    call FogModifierStart(V2I)
    call SaveFogModifierHandle(hashTable, GetHandleId(t), 42, V2I)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function VOI))
    set V2I = null
    set t = null
endfunction

function GroupCount_Helper takes nothing returns nothing
    set bj_groupCountUnits = bj_groupCountUnits + 1
endfunction

function V4I takes nothing returns nothing
    if (G1I(GetEnumDestructable()) or GetDestructableTypeId(GetEnumDestructable()) == 'B005') and GetDestructableLife(GetEnumDestructable()) > 0 then
        set JK = true
    endif
endfunction

function V5I takes real x, real y, real d returns boolean 
    local rect r = Rect(x - d, y - d, x + d, y + d)
    set JK = false
    call EnumDestructablesInRect(r, Condition(function returnTrue1), function V4I)
    call RemoveRect(r)
    set r = null
    return JK
endfunction

function V6I takes nothing returns nothing
    call PauseUnit(GetEnumUnit(), true)
endfunction

function V7I takes nothing returns boolean 
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, 0, 0, 16000, Condition(function returnTrue))
    call ForGroup(g, function V6I)
    call releaseGroup(g)
    set g = null
    return false
endfunction

function V8I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function V7I))
    call TriggerEvaluate(t)
    set t = null
endfunction

function isUnitUnavailable takes unit u returns boolean 
    return GetUnitTypeId(u) < 1 or IsUnitType(u, UNIT_TYPE_DEAD) == true
endfunction

function VAI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local integer VBI = LoadInteger(hashTable, DMI, 43)
    local unit GCI = D9I(VBI)
    local real VCI = LoadReal(hashTable, DMI, 44)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real x = GetUnitX(VDI)
    local real y = GetUnitY(VDI)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    local real VEI = VCI*0.03
    local real VFI = getAngle(x, y, HMI, HNI)
    local real VGI = x + VEI*Cos(VFI*bj_DEGTORAD)
    local real VHI = y + VEI*Sin(VFI*bj_DEGTORAD)
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    call SetUnitFacing(VDI, VFI)
    if ZPI(HMI, HNI, VGI, VHI) <= VEI then
        call KillUnit(VDI)
        set myUnit = GCI
        set GK = GDI
        call ExecuteFunc( LoadStr(hashTable, DMI, 46) )
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif isUnitUnavailable(GDI) then
        call KillUnit(VDI)
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set GCI = null
    set VDI = null
    return false
endfunction

function VZI takes unit GCI, unit GDI, integer VVI, string VWI, real VCI returns trigger 
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local real VXI = GetUnitFacing(GCI)
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerAddCondition(t, Condition(function VAI))
    call SaveReal(hashTable, DMI, 44, (VCI*1.0))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveStr(hashTable, DMI, 46, VWI)
    call SaveInteger(hashTable, DMI, 43, DBI(GCI))
    call SaveUnitHandle(hashTable, DMI, 45, CreateUnit(GetOwningPlayer(GCI), VVI, HKI, HLI, VXI))
    set VK = t
    set t = null
    return VK
endfunction

function MoveProjectileToXY_Move takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real VCI = LoadReal(hashTable, DMI, 44)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real x = GetUnitX(VDI)
    local real y = GetUnitY(VDI)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local real VEI = VCI*0.03
    local real VFI = getAngle(x, y, HMI, HNI)
    local real VGI = x + VEI*Cos(VFI*bj_DEGTORAD)
    local real VHI = y + VEI*Sin(VFI*bj_DEGTORAD)
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    if ZPI(HMI, HNI, VGI, VHI) <= VEI then
        call KillUnit(VDI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set VDI = null
    return false
endfunction

function DamageProjectile_Move takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real VCI = LoadReal(hashTable, DMI, 44)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real x = GetUnitX(VDI)
    local real y = GetUnitY(VDI)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    local real VEI = VCI*0.03
    local real VFI = getAngle(x, y, HMI, HNI)
    local real VGI = x + VEI*Cos(VFI*bj_DEGTORAD)
    local real VHI = y + VEI*Sin(VFI*bj_DEGTORAD)
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    call SetUnitFacing(VDI, VFI)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call KillUnit(VDI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif ZPI(HMI, HNI, VGI, VHI) <= VEI then
        call doDamage(LoadUnitHandle(hashTable, DMI, 2), GDI, LoadInteger(hashTable, DMI, 36), LoadReal(hashTable, DMI, 20))
        call KillUnit(VDI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    return false
endfunction

function DelayedLocust_Helper takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call UnitAddAbility(LoadUnitHandle(hashTable, DMI, 26), 'Aloc')
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function VYI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = GetTriggerEvalCount(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real VJI = LoadReal(hashTable, DMI, 49)
    local real E8I = VJI - (VJI - EAI(E1I))*DHI/40
    if DHI > 40 or isUnitUnavailable(E1I) then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitScale(E1I, E8I, E8I, E8I)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function VKI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real VLI = LoadReal(hashTable, DMI, 50)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function VYI))
    set DMI = GetHandleId(t)
    call SaveReal(hashTable, DMI, 49, (VLI*1.0))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
    set E1I = null
    return false
endfunction

function VMI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = GetTriggerEvalCount(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real VNI = (LoadReal(hashTable, DMI, 51) - EAI(E1I))*DHI/40
    local real E8I = EAI(E1I) + VNI
    if DHI > 40 or isUnitUnavailable(E1I) then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitScale(E1I, E8I, E8I, E8I)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function VSI takes unit E1I, real BTI, real E8I returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real VTI = E8I*EAI(E1I)
    local real VLI = VTI
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 50, (VLI*1.0))
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function VKI))
    if BTI > 3 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 0.025, true)
        call TriggerAddCondition(t, Condition(function VMI))
        set DMI = GetHandleId(t)
        call SaveReal(hashTable, DMI, 51, (VTI*1.0))
        call SaveUnitHandle(hashTable, DMI, 14, E1I)
    else 
        call SetUnitScale(E1I, VLI, VLI, VLI)
    endif
    set t = null
endfunction

function VRI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer VPI = LoadInteger(hashTable, DMI, 52)
    if E1I != null then
        call UnitRemoveAbility(E1I, VPI)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function VQI takes unit u, integer VPI, real BTI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitAddAbility(u, VPI)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function VRI))
    call SaveUnitHandle(hashTable, DMI, 14, u)
    call SaveInteger(hashTable, DMI, 52, VPI)
    set t = null
endfunction

function VUI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, DMI, 53)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    call UnitShareVision(u, p, false)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set u = null
    set p = null
    return false
endfunction

function ShareUnitVisionTimed_Add takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u = GetTriggerUnit()
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    call UnitShareVision(u, p, true)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function VUI))
    call SavePlayerHandle(hashTable, DMI, 54, p)
    call SaveUnitHandle(hashTable, DMI, 53, u)
    set t = null
    set u = null
    set p = null
    return false
endfunction

function W0I takes nothing returns nothing
    set bj_groupCountUnits = bj_groupCountUnits + 1
endfunction

function WII takes group g returns integer 
    set bj_groupCountUnits = 0
    call ForGroup(g, function W0I)
    return bj_groupCountUnits
endfunction

function W1I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local fogmodifier V2I = LoadFogModifierHandle(hashTable, DMI, 42)
    call FogModifierStop(V2I)
    call DestroyFogModifier(V2I)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function WOI takes fogmodifier V2I, real BTI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call FogModifierStart(V2I)
    call SaveFogModifierHandle(hashTable, DMI, 42, V2I)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function W1I))
    set t = null
endfunction

function W2I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer W3I = LoadInteger(hashTable, DMI, 55)
    local destructable d = DAI(W3I)
    if d != null then
        call RemoveDestructable(d)
    endif
    call DCI(W3I)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set d = null
    set t = null
    return false
endfunction

function W4I takes destructable d, real BTI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function W2I))
    call SaveInteger(hashTable, DMI, 55, DDI(d))
    set t = null
endfunction

function W5I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer VPI = LoadInteger(hashTable, DMI, 52)
    if E1I != null and GetUnitAbilityLevel(E1I, VPI) > 0 then
        call UnitRemoveAbility(E1I, VPI)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function W6I takes unit u, integer VPI, real BTI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function W5I))
    call SaveUnitHandle(hashTable, DMI, 14, u)
    call SaveInteger(hashTable, DMI, 52, VPI)
    set t = null
endfunction

function W7I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call SetUnitAnimation(LoadUnitHandle(hashTable, DMI, 53), "stand")
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function W8I takes unit u, real BTI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 53, u)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function W7I))
    set t = null
endfunction

function W9I takes real BTI, boolean WAI, real x, real y, real WBI, real WCI, real WDI, real WEI, real WFI returns nothing
    local real WGI
    local real WHI
    local real WZI
    if (WCI <= 0 or WFI <= 0 or WEI <= 0) then
        return
    endif
    set WHI = 2.0*BTI/WEI
    set WGI = 2.0*WCI/WFI
    set WZI = WBI/WCI
    call TerrainDeformRipple(x, y, WCI, WDI, R2I(BTI*1000), 1, WGI, WHI, WZI, WAI)
endfunction

function WVI takes player COI, unit E4I, integer FFI returns nothing
    local texttag t = CreateTextTag()
    call SetPlayerState(COI, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(COI, PLAYER_STATE_RESOURCE_GOLD) + FFI)
    call SetTextTagText(t, "+" + I2S(FFI), 0.025)
    call SetTextTagPosUnit(t, E4I, 0)
    call SetTextTagColor(t, 255, 220, 0, 255)
    call SetTextTagVelocity(t, 0, 0.03)
    if GetLocalPlayer() == COI then
        call SetTextTagVisibility(t, true)
    else 
        call SetTextTagVisibility(t, false)
    endif
    call SetTextTagFadepoint(t, 2)
    call SetTextTagLifespan(t, 3)
    call SetTextTagPermanent(t, false)
endfunction

function WWI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call FlushChildHashtable(hashTable, GetHandleId( LoadUnitHandle(hashTable, DMI, 26) ))
    call ShowUnit(LoadUnitHandle(hashTable, DMI, 26), false)
    call RemoveUnit( LoadUnitHandle(hashTable, DMI, 26) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    return false
endfunction

function WXI takes unit u, real d returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, d, false)
    call TriggerAddCondition(t, Condition(function WWI))
    call SaveUnitHandle(hashTable, DMI, 26, u)
    set t = null
endfunction

function KillUnitTimed_Expire takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call FlushChildHashtable(hashTable, GetHandleId( LoadUnitHandle(hashTable, DMI, 26) ))
    call ShowUnit(LoadUnitHandle(hashTable, DMI, 26), false)
    call KillUnit( LoadUnitHandle(hashTable, DMI, 26) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    return false
endfunction

function HideUnitTimed_Expire takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call FlushChildHashtable(hashTable, GetHandleId( LoadUnitHandle(hashTable, DMI, 26) ))
    call ShowUnit(LoadUnitHandle(hashTable, DMI, 26), false)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    return false
endfunction

function WYI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call RemoveUnit( LoadUnitHandle(hashTable, DMI, 26) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    return false
endfunction

function WJI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call KillUnit( LoadUnitHandle(hashTable, DMI, 26) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    return false
endfunction

function WKI takes unit u, real d returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, d, false)
    call TriggerAddCondition(t, Condition(function WJI))
    call SaveUnitHandle(hashTable, DMI, 26, u)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, d + 0.01, false)
    call TriggerAddCondition(t, Condition(function WYI))
    call SaveUnitHandle(hashTable, DMI, 26, u)
    set t = null
endfunction

function WLI takes sound V1I returns nothing
    if V1I != null and disableSoundEffect[GetPlayerId(GetLocalPlayer())] == false then
        call StartSound(V1I)
    endif
endfunction

function WMI takes sound V1I, player GKI returns nothing
    if GetLocalPlayer() == GKI and disableSoundEffect[GetPlayerId(GKI)] == false then
        call StartSound(V1I)
    endif
endfunction

function WNI takes unit E4I, item WSI returns integer 
    local integer i = 0
    loop
        exitwhen i > 5
        if UnitItemInSlot(E4I, i) == WSI then
            return i
        endif
        set i = i + 1
    endloop
    return -1
endfunction

function DelayedSetUnitPosition_Helper takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E4I = LoadUnitHandle(hashTable, DMI, 56)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    call SetUnitPosition(E4I, x, y)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E4I = null
    return false
endfunction

function WTI takes real n1, real n2 returns integer 
    if n1/n2 - R2I(n1/n2) >= 0.5 then
        return R2I(n1/n2) + 1
    endif
    return R2I(n1/n2)
endfunction

function WRI takes player p returns nothing
    if GetLocalPlayer() == p then
        call ClearTextMessages()
    endif
endfunction

function WPI takes unit u, real d returns nothing
    call SetUnitState(u, UNIT_STATE_LIFE, HGI(GetUnitState(u, UNIT_STATE_LIFE) - d, 1))
endfunction

function WQI takes integer WUI returns nothing
    local unit u = CreateUnit(Player(15), WUI, 0, 0, 0)
    call RemoveUnit(u)
    set u = null
endfunction

function X0I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, DMI, 53)
    local real BTI = LoadReal(hashTable, DMI, 57)
    local integer XII = LoadInteger(hashTable, DMI, 58)
    if GetTriggerEvalCount(t)/10 > R2I(BTI) then
        call SetUnitVertexColor(u, 255, 100, 255, 255)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif isUnitUnavailable(u) == false then
        call SetUnitVertexColor(u, 255, 100, 255, XII)
    endif
    set t = null
    set u = null
    return false
endfunction

function X1I takes unit u, real BTI, integer XII returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function X0I))
    call SaveUnitHandle(hashTable, DMI, 53, u)
    call SaveReal(hashTable, DMI, 57, (BTI*1.0))
    call SaveInteger(hashTable, DMI, 58, XII)
    set t = null
endfunction

function addGoldWithEffect takes player whichPlayer, integer amount, unit uEffectTarget returns nothing
    local texttag t = CreateTextTag()
    local string s
    call SetPlayerState(whichPlayer, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(whichPlayer, PLAYER_STATE_RESOURCE_GOLD) + amount)
    call SetTextTagText(t, "+" + I2S(amount), 0.025)
    call SetTextTagPosUnit(t, uEffectTarget, 0)
    call SetTextTagColor(t, 255, 220, 0, 255)
    call SetTextTagVelocity(t, 0, 0.03)
    if GetLocalPlayer() == whichPlayer then
        call SetTextTagVisibility(t, true)
        set s = "UI\\Feedback\\GoldCredit\\GoldCredit.mdl"
    else 
        call SetTextTagVisibility(t, false)
        set s = ""
    endif
    if GetUnitState(uEffectTarget, UNIT_STATE_LIFE) > 0.5 then
        call DestroyEffect( AddSpecialEffectTarget(s, uEffectTarget, "overhead") )
    endif
    call SetTextTagFadepoint(t, 2)
    call SetTextTagLifespan(t, 3)
    call SetTextTagPermanent(t, false)
endfunction

function X5I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer X6I = LoadInteger(hashTable, DMI, 59)
    if UnitRemoveAbility(GDI, X6I) == true or GetUnitAbilityLevel(GDI, X6I) == 0 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function X7I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer X6I = LoadInteger(hashTable, DMI, 59)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    if UnitRemoveAbility(GDI, X6I) == false then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function X5I))
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveInteger(hashTable, DMI, 59, X6I)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function unitAddTimedAbility takes unit u, integer abilCode, integer lvl, real timeout returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitAddAbility(u, abilCode)
    call SetUnitAbilityLevel(u, abilCode, lvl)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, timeout, false)
    call TriggerAddCondition(t, Condition(function X7I))
    call SaveUnitHandle(hashTable, DMI, 17, u)
    call SaveInteger(hashTable, DMI, 59, abilCode)
    set t = null
endfunction

function X9I takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer X6I = LoadInteger(hashTable, DMI, 59)
    local integer XAI = LoadInteger(hashTable, DMI, 59)
    call UnitRemoveAbility(GDI, XAI)
    if UnitRemoveAbility(GDI, X6I) == true or GetUnitAbilityLevel(GDI, X6I) == 0 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function XBI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer X6I = LoadInteger(hashTable, DMI, 59)
    local integer XAI = LoadInteger(hashTable, DMI, 60)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call UnitRemoveAbility(GDI, XAI)
    if UnitRemoveAbility(GDI, X6I) == false then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function X9I))
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveInteger(hashTable, DMI, 59, X6I)
        call SaveInteger(hashTable, DMI, 60, XAI)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function XCI takes unit GDI, integer X6I, integer FVI, real BTI, integer XAI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitAddAbility(GDI, X6I)
    call SetUnitAbilityLevel(GDI, X6I, FVI)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function XBI))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, DMI, 59, X6I)
    call SaveInteger(hashTable, DMI, 60, XAI)
    set t = null
endfunction

function XDI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer XEI = LoadInteger(hashTable, DMI, 61)
    local integer XFI = LoadInteger(hashTable, DMI, 62)
    local unit u1 = D9I(XEI)
    local unit u2 = D9I(XFI)
    local real BTI = LoadReal(hashTable, DMI, 57)
    local lightning ZVI = LoadLightningHandle(hashTable, DMI, 41)
    if I2R(GetTriggerEvalCount(t))*0.025 > BTI then
        call DestroyLightning(ZVI)
        call D8I(XEI)
        call D8I(XFI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call MoveLightning(ZVI, true, GetUnitX(u1), GetUnitY(u1), GetUnitX(u2), GetUnitY(u2))
    endif
    set t = null
    set u1 = null
    set u2 = null
    set ZVI = null
    return false
endfunction

function XGI takes string ZZI, unit u1, unit u2, real r, real g, real b, real a, real BTI returns nothing
    local real x1 = GetUnitX(u1)
    local real y1 = GetUnitY(u1)
    local real x2 = GetUnitX(u2)
    local real y2 = GetUnitY(u2)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local lightning ZVI = AddLightning(ZZI, true, x1, y1, x2, y2)
    call SetLightningColor(ZVI, r, g, b, a)
    call SaveLightningHandle(hashTable, DMI, 41, ZVI)
    call SaveInteger(hashTable, DMI, 61, DBI(u1))
    call SaveInteger(hashTable, DMI, 62, DBI(u2))
    call SaveReal(hashTable, DMI, 57, (BTI*1.0))
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function XDI))
    set t = null
    set ZVI = null
endfunction

function XHI takes string XZI returns nothing
    local sound XVI = CreateSound(XZI, false, false, false, 10, 10, "")
    call SetSoundVolume(XVI, 0)
    call StartSound(XVI)
    call KillSoundWhenDone(XVI)
    set XVI = null
endfunction

function XWI takes unit u returns boolean 
    return GetUnitAbilityLevel(u, 'B068') > 0 or GetUnitAbilityLevel(u, 'B07T') > 0 or GetUnitAbilityLevel(u, 'B076') > 0 or GetUnitAbilityLevel(u, 'BOwk') > 0 or GetUnitAbilityLevel(u, 'B04R') > 0 or GetUnitAbilityLevel(u, 'B0A5') > 0 or GetUnitAbilityLevel(u, 'B01Q') > 0 or GetUnitAbilityLevel(u, 'B006') > 0 or GetUnitAbilityLevel(u, 'Binv') > 0 or GetUnitAbilityLevel(u, 'Apiv') > 0 or GetUnitAbilityLevel(u, 'A021') > 0 or GetUnitAbilityLevel(u, 'A0K4') > 0 or GetUnitAbilityLevel(u, 'A0XB') > 0 or GetUnitAbilityLevel(u, 'A0Z2') > 0 or GetUnitAbilityLevel(u, 'A1GA') > 0 or GetUnitAbilityLevel(u, 'A1HW') > 0 or GetUnitAbilityLevel(u, 'A1HX') > 0 or GetUnitAbilityLevel(u, 'A00J') > 0
endfunction

function isUnitSyllabearOrIgnis takes unit E4I returns boolean 
    local integer XYI = GetUnitTypeId(E4I)
    return XYI == 'n004' or XYI == 'n01G' or XYI == 'n01C' or XYI == 'n018' or XYI == 'e00K' or XYI == 'e00I' or XYI == 'e00L' or XYI == 'e01J'
endfunction

function GenericCondition_Basics takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false
endfunction

function XJI takes nothing returns boolean 
    return (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and GetUnitAbilityLevel(GetFilterUnit(), 'A1RB') == 0
endfunction

function GenericCondition_BasicsAndVisible takes nothing returns boolean 
    return (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction

function GenericCondition_BasicsAndStructure takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == false
endfunction

function XKI takes nothing returns boolean 
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function XLI takes nothing returns boolean 
    return (IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction

function GenericCondition_EnemyUnitsAndVisibleOrWW takes nothing returns boolean 
    return (IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and (IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) or XWI(GetFilterUnit()))
endfunction

function XMI takes nothing returns boolean 
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false)
endfunction

function XNI takes nothing returns boolean 
    return IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(myUnit))
endfunction

function filterUnitInjurable takes nothing returns boolean 
    return IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function XTI takes nothing returns boolean 
    return (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and GetUnitAbilityLevel(GetFilterUnit(), 'A1RB') == 0
endfunction

function XRI takes nothing returns boolean 
    return GOI(GetFilterUnit()) == false and IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function XPI takes nothing returns boolean 
    return GOI(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(myUnit)) and IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function XQI takes nothing returns boolean 
    return IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false)
endfunction

function GenericCondition_EnemyUnitsNoNeutrals takes nothing returns boolean 
    return IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and GetOwningPlayer(GetFilterUnit()) != playerNeutrals
endfunction

function XUI takes nothing returns boolean 
    return IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function GenericCondition_EnemyUnitsAndStructureWithAncientsEx takes nothing returns boolean 
    return IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == false)
endfunction

function Y0I takes nothing returns boolean 
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function YII takes nothing returns boolean 
    return IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false)
endfunction

function GenericCondition_AlliedUnitsEx takes nothing returns boolean 
    return IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function Y1I takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function YOI takes nothing returns boolean 
    return (IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true or GetOwningPlayer(GetFilterUnit()) == sentinelPlayers[0] or GetOwningPlayer(GetFilterUnit()) == scourgePlayers[0]) and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function Y2I takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitIllusion(GetFilterUnit()) == false and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function Y3I takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function Y4I takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == true and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function Y5I takes nothing returns boolean 
    return GOI(GetFilterUnit()) == false and (IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == true and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit())))
endfunction

function Y6I takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) == true and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit())) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction

function Y7I takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) == true and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function GenericCondition_AllUnits takes nothing returns boolean 
    return (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function Y8I takes nothing returns boolean 
    return ((GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and GetUnitAbilityLevel(GetFilterUnit(), 'A1RB') == 0
endfunction

function GenericCondition_AllNonNeutrals takes nothing returns boolean 
    return (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and GetOwningPlayer(GetFilterUnit()) != playerNeutrals
endfunction

function Y9I takes nothing returns boolean 
    return (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false)
endfunction

function YAI takes nothing returns boolean 
    return (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function GenericCondition_AllHeroesNotSelf takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and GetTriggerUnit() != GetFilterUnit() and IsUnitIllusion(GetFilterUnit()) == false
endfunction

function GenericCondition_AllHeroesAndIllusions takes nothing returns boolean 
    return (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true or IsUnitIllusion(GetFilterUnit()) == true) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function GenericCondition_Hero takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true
endfunction

function YBI takes nothing returns boolean 
    return (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(myUnit))
endfunction

function GenericCondition_RegularUnits takes nothing returns boolean 
    return (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))
endfunction

function GenericCondition_RegularUnitsExVisible takes nothing returns boolean 
    return ((GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(myUnit))
endfunction

function YCI takes nothing returns boolean 
    return GOI(GetFilterUnit()) == false and ((GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(myUnit))
endfunction

function YDI takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == true and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false
endfunction

function GenericCondition_FloatingHeroes takes nothing returns boolean 
    return GetUnitTypeId(GetFilterUnit()) == 'H00E' or GetUnitTypeId(GetFilterUnit()) == 'H00G' or GetUnitTypeId(GetFilterUnit()) == 'H00F' or GetUnitTypeId(GetFilterUnit()) == 'E00P' or GetUnitTypeId(GetFilterUnit()) == 'N00B' or GetUnitTypeId(GetFilterUnit()) == 'UC60' or GetUnitTypeId(GetFilterUnit()) == 'EC77' or GetUnitTypeId(GetFilterUnit()) == 'U00P'
endfunction

function YFI takes nothing returns nothing
    set XN = CreateRegion()
    call RegionAddRect(XN, Z5)
    set JN = CreateRegion()
    call RegionAddRect(JN, V5)
    set WN = CreateRegion()
    call RegionAddRect(WN, B6)
    call RegionAddRect(WN, C6)
    call RegionAddRect(WN, D6)
    set YN = CreateRegion()
    call RegionAddRect(YN, E6)
    call RegionAddRect(YN, F6)
    call RegionAddRect(YN, G6)
    set KN = CreateRegion()
    call RegionAddRect(KN, H6)
    call RegionAddRect(KN, Z6)
    call RegionAddRect(KN, V6)
    call RegionAddRect(KN, W6)
    call RegionAddRect(KN, X6)
    call RegionAddRect(KN, Y6)
    call RegionAddRect(KN, J6)
    call RegionAddRect(KN, K6)
    call RegionAddRect(KN, L6)
    call RegionAddRect(KN, M6)
    call RegionAddRect(KN, N6)
    call RegionAddRect(KN, S6)
    call RegionAddRect(KN, T6)
    call RegionAddRect(KN, R6)
    call RegionAddRect(KN, P6)
    call RegionAddRect(KN, Q6)
    call RegionAddRect(KN, U6)
    call RegionAddRect(KN, I7)
    call RegionAddRect(KN, O7)
    call RegionAddRect(KN, A7)
    call RegionAddRect(KN, B7)
    call RegionAddRect(KN, C7)
    call RegionAddRect(KN, D7)
    call RegionAddRect(KN, E7)
    call RegionAddRect(KN, F7)
    call RegionAddRect(KN, G7)
    call RegionAddRect(KN, H7)
    call RegionAddRect(KN, Z7)
    call RegionAddRect(KN, V7)
    call RegionAddRect(KN, W7)
    call RegionAddRect(KN, X7)
    call RegionAddRect(KN, Y7)
    call RegionAddRect(KN, J7)
    call RegionAddRect(KN, K7)
    call RegionAddRect(KN, L7)
    call RegionAddRect(KN, M7)
    call RegionAddRect(KN, N7)
    call RegionAddRect(KN, S7)
    call RegionAddRect(KN, T7)
    call RegionAddRect(KN, R7)
    call RegionAddRect(KN, P7)
    call RegionAddRect(KN, Q7)
    call RegionAddRect(KN, U7)
    call RegionAddRect(KN, I8)
    call RegionAddRect(KN, O8)
    call RegionAddRect(KN, A8)
    call RegionAddRect(KN, B8)
    call RegionAddRect(KN, C8)
    call RegionAddRect(KN, D8)
    call RegionAddRect(KN, E8)
    call RegionAddRect(KN, F8)
    call RegionAddRect(KN, G8)
    call RegionAddRect(KN, H8)
    call RegionAddRect(KN, Z8)
    call RegionAddRect(KN, V8)
    call RegionAddRect(KN, W8)
    call RegionAddRect(KN, X8)
    call RegionAddRect(KN, Y8)
    call RegionAddRect(KN, J8)
    call RegionAddRect(KN, K8)
    call RegionAddRect(KN, L8)
    call RegionAddRect(KN, M8)
    call RegionAddRect(KN, N8)
    call RegionAddRect(KN, S8)
    call RegionAddRect(KN, T8)
    call RegionAddRect(KN, R8)
    call RegionAddRect(KN, P8)
    call RegionAddRect(KN, Q8)
    call RegionAddRect(KN, U8)
    call RegionAddRect(KN, I9)
    call RegionAddRect(KN, O9)
    call RegionAddRect(KN, A9)
    call RegionAddRect(KN, B9)
    call RegionAddRect(KN, C9)
    call RegionAddRect(KN, D9)
    call RegionAddRect(KN, E9)
    call RegionAddRect(KN, F9)
    call RegionAddRect(KN, G9)
    call RegionAddRect(KN, H9)
    call RegionAddRect(KN, Z9)
    call RegionAddRect(KN, V9)
    call RegionAddRect(KN, W9)
    call RegionAddRect(KN, X9)
    call RegionAddRect(KN, Y9)
    call RegionAddRect(KN, J9)
    call RegionAddRect(KN, K9)
    call RegionAddRect(KN, L9)
    call RegionAddRect(KN, M9)
    call RegionAddRect(KN, N9)
    call RegionAddRect(KN, S9)
    call RegionAddRect(KN, T9)
    call RegionAddRect(KN, R9)
    call RegionAddRect(KN, P9)
    call RegionAddRect(KN, Q9)
    call RegionAddRect(KN, U9)
endfunction

function InitTrig_Regions takes nothing returns nothing
    call YFI()
endfunction

function YGI takes real YHI returns integer 
    if YHI >= 4.00 then
        return 19
    elseif YHI >= 3.75 then
        return 18
    elseif YHI >= 3.5 then
        return 17
    elseif YHI >= 3.25 then
        return 16
    elseif YHI >= 3 then
        return 15
    elseif YHI >= 2.75 then
        return 14
    elseif YHI >= 2.5 then
        return 13
    elseif YHI >= 2.25 then
        return 12
    elseif YHI >= 2 then
        return 11
    elseif YHI >= 1.8 then
        return 10
    elseif YHI >= 1.75 then
        return 9
    elseif YHI >= 1.65 then
        return 8
    elseif YHI >= 1.5 then
        return 7
    elseif YHI >= 1.25 then
        return 6
    elseif YHI >= 1.2 then
        return 5
    elseif YHI >= 1 then
        return 4
    elseif YHI >= 0.75 then
        return 3
    elseif YHI >= 0.5 then
        return 2
    elseif YHI >= 0.25 then
        return 1
    endif
    return 1
endfunction

function YZI takes unit GCI, unit GDI, real YHI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GDI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    local integer FVI = YGI(YHI)
    call UnitAddAbility(YVI, 'A0X6')
    call SetUnitAbilityLevel(YVI, 'A0X6', FVI)
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
    set YVI = null
endfunction

function YWI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer YXI = LoadInteger(hashTable, DMI, 73)
    local unit E1I = D9I(YXI)
    local integer DHI = GetTriggerEvalCount(t)
    local real y = (DHI - 13)*(DHI - 13)
    if DHI < 26 then
        if G4I(E1I) == false then
            call SetUnitFlyHeight(E1I, 375 - y, 0)
        endif
    else 
        call PauseUnit(E1I, false)
        if G4I(E1I) == false then
            call SetUnitFlyHeight(E1I, GetUnitDefaultFlyHeight(E1I), 0)
        endif
        call doDamage(LoadUnitHandle(hashTable, DMI, 2), E1I, 1, LoadReal(hashTable, DMI, 20))
        call YZI(LoadUnitHandle(hashTable, DMI, 2), E1I, LoadReal(hashTable, DMI, 57))
        call D8I(YXI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    return false
endfunction

function YYI takes unit E1I, unit GCI, real BTI, real YJI, real YKI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call PauseUnit(E1I, true)
    if G4I(E1I) == false then
        call UnitAddAbility(E1I, 'Amrf')
        call UnitRemoveAbility(E1I, 'Amrf')
    endif
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl", GetUnitX(E1I), GetUnitY(E1I)) )
    call SaveInteger(hashTable, DMI, 73, DBI(E1I))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 20, (YJI*1.0))
    call SaveReal(hashTable, DMI, 57, (BTI*1.0))
    call TriggerRegisterTimerEvent(t, 0.02/0.52*YKI, true)
    call TriggerAddCondition(t, Condition(function YWI))
endfunction

function YLI takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), WK) == false and GOI(GetEnumUnit()) == false and (LoadInteger(hashTable, GetHandleId(GetEnumUnit()), 4253) == 1) == false then
        call GroupAddUnit(WK, GetEnumUnit())
        call YYI(GetEnumUnit(), myUnit, AK, OK, BK)
    endif
endfunction

function YMI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real YJI = LoadReal(hashTable, DMI, 20)
    local real BTI = LoadReal(hashTable, DMI, 57)
    local real x1 = LoadReal(hashTable, DMI, 64)
    local real y1 = LoadReal(hashTable, DMI, 65)
    local real x2 = LoadReal(hashTable, DMI, 66)
    local real y2 = LoadReal(hashTable, DMI, 67)
    local real w = LoadReal(hashTable, DMI, 68)
    local real YNI = LoadReal(hashTable, DMI, 44)
    local real a = Atan2(y2 - y1, x2 - x1)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    local group YSI = allocGroup()
    local real YTI = YNI*0.0625
    local real YRI = LoadReal(hashTable, DMI, 71)
    local real YPI = LoadReal(hashTable, DMI, 72)
    local real YQI = LoadReal(hashTable, DMI, 70)
    local real YUI = LoadReal(hashTable, DMI, 63)
    if YTI > getDistance(x1, y1, x2, y2) then
        set x1 = x2
        set y1 = y2
    else 
        set x1 = x1 + YTI*Cos(a)
        set y1 = y1 + YTI*Sin(a)
    endif
    set myUnit = GCI
    set OK = YJI
    set AK = BTI
    set BK = YUI
    set WK = g
    call GroupEnumUnitsInRange(YSI, x1, y1, w, Condition(function filterUnitInjurable))
    call ForGroup(YSI, function YLI)
    call releaseGroup(YSI)
    if getDistance(x1, y1, YRI, YPI) >= YQI then
        call SaveReal(hashTable, DMI, 71, (x1*1.0))
        call SaveReal(hashTable, DMI, 72, (y1*1.0))
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl", x1, y1) )
    endif
    call SaveReal(hashTable, DMI, 64, (x1*1.0))
    call SaveReal(hashTable, DMI, 65, (y1*1.0))
    if x1 == x2 and y1 == y2 then
        if LoadBoolean(hashTable, DMI, 69) == true then
            call releaseGroup(g)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set g = null
    set YSI = null
    set GCI = null
    set t = null
    return false
endfunction

function J0I takes unit GCI, unit JII, real YJI, real BTI, real YUI, real x1, real y1, real x2, real y2, real w, group J1I, boolean JOI, real YNI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real HJI = getDistance(x1, y1, x2, y2)
    local integer J2I = WTI(HJI, LN)
    local real YQI = HJI/J2I
    local group g
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 20, (YJI*1.0))
    call SaveReal(hashTable, DMI, 57, (BTI*1.0))
    call SaveReal(hashTable, DMI, 63, (YUI*1.0))
    call SaveReal(hashTable, DMI, 64, (x1*1.0))
    call SaveReal(hashTable, DMI, 65, (y1*1.0))
    call SaveReal(hashTable, DMI, 66, (x2*1.0))
    call SaveReal(hashTable, DMI, 67, (y2*1.0))
    call SaveReal(hashTable, DMI, 68, (w*1.0))
    call SaveReal(hashTable, DMI, 44, (YNI*1.0))
    if J1I == null then
        set g = allocGroup()
        if JII != null and IsUnitIllusion(JII) == false then
            call GroupAddUnit(g, JII)
        endif
        call SaveGroupHandle(hashTable, DMI, 22, g)
        call SaveBoolean(hashTable, DMI, 69, JOI)
        set g = null
    else 
        call SaveGroupHandle(hashTable, DMI, 22, J1I)
        call SaveBoolean(hashTable, DMI, 69, JOI)
    endif
    call SaveReal(hashTable, DMI, 70, (YQI*1.0))
    call SaveReal(hashTable, DMI, 71, (x1*1.0))
    call SaveReal(hashTable, DMI, 72, (y1*1.0))
    call TriggerRegisterTimerEvent(t, 0.0625, true)
    call TriggerAddCondition(t, Condition(function YMI))
    set t = null
endfunction

function J3I takes unit J4I returns boolean 
    return GetUnitTypeId(J4I) == 'n004' or GetUnitTypeId(J4I) == 'n018' or GetUnitTypeId(J4I) == 'n01C' or GetUnitTypeId(J4I) == 'n01G'
endfunction

function J5I takes player p returns nothing
    local unit E1I = playerHero[GetPlayerId(p)]
    local integer i = 0
    local item J6I
    loop
        exitwhen i > 5
        set J6I = UnitItemInSlot(E1I, i)
        call SetItemDroppable(J6I, false)
        set i = i + 1
    endloop
    set E1I = null
    set J6I = null
endfunction

function J7I takes player p returns nothing
    local unit E1I = playerHero[GetPlayerId(p)]
    local integer i = 0
    local item J6I
    loop
        exitwhen i > 5
        set J6I = UnitItemInSlot(E1I, i)
        call SetItemDroppable(J6I, true)
        set i = i + 1
    endloop
    set E1I = null
    set J6I = null
endfunction

function J8I takes unit u returns boolean 
    return GetUnitAbilityLevel(u, 'Aetl') > 0 or GetUnitAbilityLevel(u, 'Bcyc') > 0 or GetUnitAbilityLevel(u, 'Bcy2') > 0
endfunction

function J9I takes integer JAI, integer JBI, boolean extraColor returns nothing
    local integer x = 0
    loop
        exitwhen x > 15
        call SetPlayerState(Player(x), PLAYER_STATE_RESOURCE_LUMBER, JAI)
        call SetPlayerState(Player(x), PLAYER_STATE_RESOURCE_FOOD_USED, JBI)
        set x = x + 1
    endloop
endfunction

function JCI takes unit u returns boolean 
    local integer id = GetUnitTypeId(u)
    return id == 'n027' or id == 'u014' or id == 'u015' or id == 'u016' or id == 'u01D' or id == 'u01E' or id == 'u01F' or id == 'u017' or id == 'u019' or id == 'u018' or id == 'u01A' or id == 'u01B' or id == 'u01C'
endfunction

function setUnitInvulnerable takes unit u, boolean b returns nothing
    call SetUnitInvulnerable(u, b)
    call SaveBoolean(hashTable, GetHandleId(u), 509, b)
endfunction

function isUnitInvulnerable takes unit u returns boolean 
    return LoadBoolean(hashTable, GetHandleId(u), 509) or GetUnitAbilityLevel(u, 'Avul') > 0
endfunction

function JFI takes real x, real y returns location 
    local real VGI
    local real VHI
    local integer i = 0
    loop
        exitwhen i > 40
        set VGI = x + i*20
        set VHI = y + i*20
        if IsPointInRegion(KN, VGI, VHI) == false then
            return Location(VGI, VHI)
        endif
        set VGI = x + i*20
        set VHI = y - i*20
        if IsPointInRegion(KN, VGI, VHI) == false then
            return Location(VGI, VHI)
        endif
        set VGI = x - i*20
        set VHI = y + i*20
        if IsPointInRegion(KN, VGI, VHI) == false then
            return Location(VGI, VHI)
        endif
        set VGI = x - i*20
        set VHI = y - i*20
        if IsPointInRegion(KN, VGI, VHI) == false then
            return Location(VGI, VHI)
        endif
        set i = i + 1
    endloop
    return Location(x, y)
endfunction

function JGI takes integer JHI returns nothing
    set NN = NN + 1
    set MN[NN] = JHI
endfunction

function JZI takes unit u returns nothing
    local integer i = 1
    loop
        exitwhen i > NN
        call UnitRemoveAbility(u, MN[i])
        set i = i + 1
    endloop
endfunction

function JWI takes integer JXI returns boolean 
    return JXI == 'AIpg' or JXI == 'A02V' or JXI == 'ACpu' or JXI == 'A18D' or JXI == 'A1OU' or JXI == 'AIcy'
endfunction

function JYI takes unit GDI returns nothing
    call UnitRemoveAbility(GDI, 'A1JA')
    call UnitRemoveAbility(GDI, 'B0CD')
    call UnitRemoveAbility(GDI, 'A1LD')
endfunction

function JJI takes nothing returns boolean 
    if JWI(GetSpellAbilityId()) then
        call JYI(GetSpellTargetUnit())
    endif
    return false
endfunction

function JLI takes integer JMI returns integer 
    if F90[JMI] == 0 then
        return JMI
    else 
        return F90[JMI]
    endif
endfunction

function JNI takes integer id returns boolean 
    return id == GS0 or id == GM0 or id == GL0 or id == GN0 or id == GK0
endfunction

function JSI takes unit E4I, integer ZAI returns boolean 
    local integer CDI
    local item ZBI
    set CDI = 0
    loop
        exitwhen CDI > 5
        set ZBI = UnitItemInSlot(E4I, CDI)
        if ZBI != null and GetItemTypeId(ZBI) == ZAI then
            set ZBI = null
            return true
        endif
        set CDI = CDI + 1
    endloop
    set ZBI = null
    return false
endfunction

function JTI takes item WSI returns integer 
    local integer ZAI
    local integer i = 1
    if WSI == null then
        return -2
    endif
    set ZAI = GetItemTypeId(WSI)
    loop
        exitwhen i > FA0
        if itemOnGroundId[i] == ZAI or itemId[i] == ZAI or itemDisabledId[i] == ZAI then
            return i
        endif
        set i = i + 1
    endloop
    return -1
endfunction

function JRI takes unit E4I returns integer 
    local integer JPI
    if E4I == null then
        return -2
    endif
    set JPI = GetUnitTypeId(E4I)
    if JPI == 'H004' then
        return XV0
    elseif JPI == 'UC18' then
        return XW0
    elseif JPI == 'H00H' then
        return XM0
    elseif JPI == 'UC01' then
        return XN0
    elseif JPI == 'Orkn' then
        return XS0
    elseif JPI == 'Hmbr' then
        return XQ0
    elseif JPI == 'Hjai' then
        return XT0
    elseif JPI == 'Ulic' then
        return XZ0
    elseif JPI == 'Ekee' then
        return XH0
    elseif JPI == 'Emns' then
        return XF0
    elseif JPI == 'EC57' then
        return XR0
    elseif JPI == 'U00E' then
        return XJ0
    elseif JPI == 'E005' then
        return XY0
    elseif JPI == 'E01A' then
        return XP0
    elseif JPI == 'UC42' then
        return XX0
    elseif JPI == 'Npbm' then
        return Y80
    elseif JPI == 'H00T' then
        return Y00
    elseif JPI == 'Hvwd' then
        return YI0
    elseif JPI == 'Nbbc' then
        return Y10
    elseif JPI == 'H00A' then
        return Y20
    elseif JPI == 'Udre' then
        return Y30
    elseif JPI == 'E00P' then
        return Y40
    elseif JPI == 'U00K' then
        return Y50
    elseif JPI == 'H00Q' then
        return Y60
    elseif JPI == 'H00U' then
        return Y70
    elseif JPI == 'U00F' then
        return Y90
    elseif JPI == 'N0EG' then
        return YA0
    elseif JPI == 'EC45' then
        return YB0
    elseif JPI == 'O00J' then
        return YC0
    elseif JPI == 'Oshd' then
        return YD0
    elseif JPI == 'Udea' then
        return YE0
    elseif JPI == 'N01W' then
        return YF0
    elseif JPI == 'H00K' then
        return YG0
    elseif JPI == 'Opgh' then
        return YH0
    elseif JPI == 'Otch' then
        return YZ0
    elseif JPI == 'H00R' then
        return XL0
    elseif JPI == 'H07I' then
        return XL0
    elseif JPI == 'N00B' then
        return YV0
    endif
    return XE0
endfunction

function JQI takes unit E4I returns integer 
    local integer JPI
    if E4I == null then
        return -2
    endif
    set JPI = GetUnitTypeId(E4I)
    if JPI == 'H004' then
        return 'A0TP'
    elseif JPI == 'UC18' then
        return 'A0TR'
    elseif JPI == 'H00H' then
        return 'A0TV'
    elseif JPI == 'UC01' then
        return 'A0TX'
    elseif JPI == 'Orkn' then
        return 'A0TZ'
    elseif JPI == 'Hmbr' then
        return 'A0U1'
    elseif JPI == 'Hjai' then
        return 'A0U3'
    elseif JPI == 'Ulic' then
        return 'A0U5'
    elseif JPI == 'Ekee' then
        return 'A0U7'
    elseif JPI == 'Emns' then
        return 'A0U9'
    elseif JPI == 'EC57' then
        return 'A0UB'
    elseif JPI == 'U00E' then
        return 'A0UD'
    elseif JPI == 'E005' then
        return 'A0UF'
    elseif JPI == 'E01A' then
        return 'A0UH'
    elseif JPI == 'UC42' then
        return 'A0UJ'
    elseif JPI == 'Npbm' then
        return 'A1BE'
    elseif JPI == 'H00T' then
        return 'A1B9'
    elseif JPI == 'Hvwd' then
        return 'A1BA'
    elseif JPI == 'Nbbc' then
        return 'A1BB'
    elseif JPI == 'H00A' then
        return 'A1CU'
    elseif JPI == 'Udre' then
        return 'A1BG'
    elseif JPI == 'E00P' then
        return 'A1BJ'
    elseif JPI == 'U00K' then
        return 'A1BC'
    elseif JPI == 'H00Q' then
        return 'A1BI'
    elseif JPI == 'H00U' then
        return 'A1BD'
    elseif JPI == 'U00F' then
        return 'A1CY'
    elseif JPI == 'N0EG' then
        return 'A1D2'
    elseif JPI == 'EC45' then
        return 'A1D1'
    elseif JPI == 'O00J' then
        return 'A1CZ'
    elseif JPI == 'Oshd' then
        return 'A1D0'
    elseif JPI == 'Udea' then
        return 'A1D3'
    elseif JPI == 'N01W' then
        return 'A1D4'
    elseif JPI == 'H00K' then
        return 'A1G1'
    elseif JPI == 'Opgh' then
        return 'A1MT'
    elseif JPI == 'Otch' then
        return 'A1N0'
    elseif JPI == 'N00B' then
        return 'A1QS'
    endif
    return 0
endfunction

function JUI takes item J6I returns boolean 
    local integer i = 1
    loop
        exitwhen i > J70
        if J6I == J60[i] then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction

function K0I takes item WSI returns boolean 
    local integer JMI = JTI(WSI)
    return JMI == XE0 or JMI == XF0 or JMI == XG0 or JMI == XH0 or JMI == XZ0 or JMI == XV0 or JMI == XW0 or JMI == XX0 or JMI == XY0 or JMI == XJ0 or JMI == XK0 or JMI == XM0 or JMI == XN0 or JMI == XS0 or JMI == XT0 or JMI == XR0 or JMI == XP0 or JMI == XQ0 or JMI == Y00 or JMI == YI0 or JMI == Y10 or JMI == Y20 or JMI == Y30 or JMI == Y40 or JMI == Y50 or JMI == Y60 or JMI == Y70 or JMI == Y90 or JMI == YA0 or JMI == YB0 or JMI == YC0 or JMI == YD0 or JMI == YE0 or JMI == YF0 or JMI == YG0 or JMI == Y80 or JMI == YH0 or JMI == YZ0 or JMI == YV0
endfunction

function KII takes integer JMI returns boolean 
    return JMI == VA0 or JMI == H60 or JMI == H00 or JMI == H10 or JMI == HO0 or JMI == H20 or JMI == H30 or JMI == H40 or JMI == HI0 or JMI == H90
endfunction

function K1I takes integer JMI returns boolean 
    return JMI == VT0 or JMI == HR0 or JMI == HP0 or JMI == itemIdBloodstone or JMI == itemIdAegisOfImmortal or JMI == H80 or JMI == GT0 or JMI == VJ0
endfunction

function KOI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer ZAI = LoadInteger(hashTable, DMI, 74)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local boolean K2I = LoadBoolean(hashTable, DMI, 75)
    local integer K3I = LoadInteger(hashTable, DMI, 76)
    local item K4I = CreateItem(ZAI, x, y)
    call SetItemPlayer(K4I, p, true)
    call SetItemUserData(K4I, 0)
    if K2I then
        call SetItemCharges(K4I, K3I)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set p = null
    return false
endfunction

function K5I takes integer ZAI, real x, real y, player p, boolean K2I, integer K3I returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveInteger(hashTable, DMI, 74, ZAI)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SavePlayerHandle(hashTable, DMI, 54, p)
    call SaveBoolean(hashTable, DMI, 75, K2I)
    call SaveInteger(hashTable, DMI, 76, K3I)
    call TriggerAddCondition(t, Condition(function KOI))
    call TriggerRegisterTimerEvent(t, 0, false)
    set t = null
endfunction

function DisableItemTriggers takes nothing returns nothing
    call DisableTrigger(trigItemActions)
endfunction

function EnableItemTriggers takes nothing returns nothing
    call EnableTrigger(trigItemActions)
endfunction

function K6I takes item WSI returns nothing
    call DisableTrigger(trigItemActions)
    call RemoveItem(WSI)
    call EnableTrigger(trigItemActions)
endfunction

function K7I takes unit E4I, integer ZAI, item K8I returns item 
    local integer CDI
    local item ZBI
    set CDI = 0
    loop
        exitwhen CDI > 5
        set ZBI = UnitItemInSlot(E4I, CDI)
        if ZBI != null and ZBI != K8I and GetItemTypeId(ZBI) == ZAI then
            set ZBI = null
            return UnitItemInSlot(E4I, CDI)
        endif
        set CDI = CDI + 1
    endloop
    set ZBI = null
    return null
endfunction

function getSpecificItem takes unit E4I, integer itemCode returns item 
    local integer i
    local item Item
    set i = 0
    loop
        exitwhen i > 5
        set Item = UnitItemInSlot(E4I, i)
        if (Item != null) and (GetItemTypeId(Item) == itemCode) then
            set Item = null
            return UnitItemInSlot(E4I, i)
        endif
        set i = i + 1
    endloop
    set Item = null
    return null
endfunction

function KAI takes unit E4I, integer JMI, item K8I returns item 
    local integer CDI
    local item ZBI
    set CDI = 0
    loop
        exitwhen CDI > 5
        set ZBI = UnitItemInSlot(E4I, CDI)
        if ZBI != null and ZBI != K8I and JTI(ZBI) == JMI then
            set ZBI = null
            return UnitItemInSlot(E4I, CDI)
        endif
        set CDI = CDI + 1
    endloop
    set ZBI = null
    return null
endfunction

function KBI takes unit E4I, integer JMI returns item 
    local integer CDI
    local item ZBI
    set CDI = 0
    loop
        exitwhen CDI > 5
        set ZBI = UnitItemInSlot(E4I, CDI)
        if (ZBI != null) and (JTI(ZBI) == JMI) then
            set ZBI = null
            return UnitItemInSlot(E4I, CDI)
        endif
        set CDI = CDI + 1
    endloop
    set ZBI = null
    return null
endfunction

function KCI takes unit E4I returns integer 
    local integer i = 0
    local integer n = 0
    local integer KDI = UnitInventorySize(E4I) - 1
    loop
        exitwhen i > KDI
        if UnitItemInSlot(E4I, i) == null then
            set n = n + 1
        endif
        set i = i + 1
    endloop
    return n
endfunction

function KEI takes item WSI returns integer 
    local integer ZAI
    local integer i = 1
    if WSI == null then
        return -2
    endif
    set ZAI = GetItemTypeId(WSI)
    loop
        exitwhen i > FA0
        if itemOnGroundId[i] == ZAI or itemId[i] == ZAI then
            return i
        endif
        set i = i + 1
    endloop
    return -1
endfunction

function KFI takes item WSI returns integer 
    local integer ZAI
    local integer i = 1
    if WSI == null then
        return -2
    endif
    set ZAI = GetItemTypeId(WSI)
    loop
        exitwhen i > FA0
        if itemDisabledId[i] == ZAI then
            return itemId[i]
        endif
        set i = i + 1
    endloop
    return -1
endfunction

function KGI takes unit E4I returns integer 
    local integer JPI
    local integer i = 0
    if E4I == null then
        return -2
    endif
    set JPI = GetUnitTypeId(E4I)
    loop
        exitwhen i > FA0
        if itemInShopId[i] == JPI then
            return i
        endif
        set i = i + 1
    endloop
    return -1
endfunction

function KHI takes item KZI returns string 
    if KZI == null then
        return "UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
    endif
    return itemBtnPic[JTI(KZI)]
endfunction

function KVI takes item WSI returns boolean 
    return JTI(WSI) == ZN0 or JTI(WSI) == FL0
endfunction

function KWI takes integer JMI returns integer 
    if HO0 == JMI then
        return 3
    endif
    if H20 == JMI or H30 == JMI or H70 == JMI or HI0 == JMI or H90 == JMI then
        return 2
    endif
    return 1
endfunction

function KXI takes item WSI returns boolean 
    return GetItemType(WSI) == ITEM_TYPE_POWERUP or GetItemType(WSI) == ITEM_TYPE_PURCHASABLE or GetItemType(WSI) == ITEM_TYPE_MISCELLANEOUS
endfunction

function KYI takes unit E1I returns real 
    local real KJI
    if isPlayerSentinel(GetOwningPlayer(E1I)) then
        set KJI = GetRectCenterX(B4)
    else 
        set KJI = GetRectCenterX(R3)
    endif
    return KJI
endfunction

function KKI takes unit E1I returns real 
    local real KJI
    if isPlayerSentinel(GetOwningPlayer(E1I)) then
        set KJI = GetRectCenterY(B4)
    else 
        set KJI = GetRectCenterY(R3)
    endif
    return KJI
endfunction

function KLI takes unit E1I, integer KMI, integer KNI returns item 
    local real x = KYI(E1I)
    local real y = KKI(E1I)
    local item J6I = CreateItem(KMI, x, y)
    local integer i = 0
    local boolean array KSI
    local item KTI
    call DisableTrigger(trigItemActions)
    if KMI > 0 then
        loop
            exitwhen i > (UnitInventorySize(E1I) - 1)
            if UnitItemInSlot(E1I, i) == null and i != KNI then
                set KTI = CreateItem('I02M', x, y)
                call UnitAddItem(E1I, KTI)
                set KSI[i] = true
            else 
                set KSI[i] = false
            endif
            if i == KNI then
                call EnableTrigger(trigItemActions)
                call UnitAddItem(E1I, J6I)
                call DisableTrigger(trigItemActions)
            endif
            set i = i + 1
        endloop
        set i = 0
        loop
            exitwhen i > 5
            if KSI[i] == true then
                call RemoveItem( UnitItemInSlot(E1I, i) )
            endif
            set i = i + 1
        endloop
    endif
    call EnableTrigger(trigItemActions)
    set ZK = J6I
    set J6I = null
    set KTI = null
    return ZK
endfunction

function KRI takes integer ECI, integer r, integer g, integer b returns nothing
    set QN = QN + 1
    set SN[QN] = r
    set TN[QN] = g
    set RN[QN] = b
    set PN[QN] = ECI
endfunction

function KPI takes unit u returns nothing
    local integer id = GetUnitTypeId(u)
    local integer i = 1
    local integer a = 255
    local boolean KQI = false
    if id == 'Ewar' then
        set a = R2I(2.55*(100 - 18 + 20*GetUnitAbilityLevel(u, 'A03P')))
    endif
    loop
        exitwhen i > QN or KQI
        if PN[i] == id then
            set KQI = true
            call SetUnitVertexColor(u, SN[i], TN[i], RN[i], a)
        endif
        set i = i + 1
    endloop
    if KQI == false then
        call SetUnitVertexColor(u, 255, 255, 255, 255)
    endif
endfunction

function KUI takes unit u returns nothing
    local integer id = GetUnitTypeId(u)
    local integer i = 1
    local boolean KQI = false
    loop
        exitwhen i > QN or KQI
        if PN[i] == id then
            set KQI = true
            call SetUnitVertexColor(u, SN[i], TN[i], RN[i], 0)
        endif
        set i = i + 1
    endloop
    if KQI == false then
        call SetUnitVertexColor(u, 255, 255, 255, 0)
    endif
endfunction

function L0I takes player p, string LII, integer ZOI returns nothing
    local string id = I2S(GetPlayerId(p))
    call StoreInteger(UN, id, LII, ZOI)
    if isPlayerAlive(firstPlayerAlive) == false then
        call findFirstPlayerAlive()
    endif
    if GetLocalPlayer() == firstPlayerAlive then
        call SyncStoredInteger(UN, id, LII)
    endif
endfunction

function L1I takes string LOI, integer ZOI returns nothing
    call StoreInteger(UN, "Data", LOI, ZOI)
    if isPlayerAlive(firstPlayerAlive) == false then
        call findFirstPlayerAlive()
    endif
    if GetLocalPlayer() == firstPlayerAlive then
        call SyncStoredInteger(UN, "Data", LOI)
    endif
endfunction

function L2I takes nothing returns nothing
    call FlushGameCache(InitGameCache("dr.x"))
    set UN = InitGameCache("dr.x")
endfunction

function InitTrig_Traffic_Functions takes nothing returns nothing
    call L2I()
endfunction

function strReplace takes string s, string L4I, string L5I returns string 
    local string L6I = ""
    local integer i = 0
    local integer L7I = StringLength(s)
    local string L8I
    local integer L9I = StringLength(L4I)
    local boolean KQI = false
    loop
        exitwhen i + 1 > L7I
        set L8I = SubString(s, i, i + L9I)
        if L8I != L4I or KQI then
            set L6I = L6I + SubString(s, i, i + 1)
            set i = i + 1
        else 
            set L6I = L6I + L5I
            set i = i + L9I
            set KQI = true
        endif
    endloop
    return L6I
endfunction

function getFriendKillString takes player LBI, player LCI returns string 
    local string s = GetObjectName('n0C8')
    set s = strReplace(s, "$dead", playerColor[GetPlayerId(LBI)] + playerName[GetPlayerId(LBI)] + "|r")
    set s = strReplace(s, "$killer", playerColor[GetPlayerId(LCI)] + playerName[GetPlayerId(LCI)] + "|r")
    return s
endfunction

function LDI takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer KDI
    if d < 1 then
        call UnitRemoveAbility(u, IS[0])
        call UnitRemoveAbility(u, IS[1])
        call UnitRemoveAbility(u, IS[2])
        call UnitRemoveAbility(u, IS[3])
        call UnitRemoveAbility(u, IS[4])
        call UnitRemoveAbility(u, IS[5])
        call UnitRemoveAbility(u, IS[6])
        call UnitRemoveAbility(u, IS[7])
        call UnitRemoveAbility(u, IS[8])
        return
    endif
    loop
        exitwhen c == 0
        set c = a/2
        set b[i] = a - c*2
        set a = c
        set i = i + 1
    endloop
    set KDI = 8
    set i = 0
    loop
        exitwhen i > KDI
        if b[i] == 1 then
            call UnitAddAbility(u, IS[i])
        else 
            call UnitRemoveAbility(u, IS[i])
        endif
        set i = i + 1
    endloop
endfunction

function LFI takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer KDI
    if d < 1 then
        call UnitRemoveAbility(u, OS[0])
        call UnitRemoveAbility(u, OS[1])
        call UnitRemoveAbility(u, OS[2])
        call UnitRemoveAbility(u, OS[3])
        call UnitRemoveAbility(u, OS[4])
        call UnitRemoveAbility(u, OS[5])
        call UnitRemoveAbility(u, OS[6])
        call UnitRemoveAbility(u, OS[7])
        call UnitRemoveAbility(u, OS[8])
        call UnitRemoveAbility(u, OS[9])
        call UnitRemoveAbility(u, OS[10])
        return
    endif
    loop
        exitwhen c == 0
        set c = a/2
        set b[i] = a - c*2
        set a = c
        set i = i + 1
    endloop
    set KDI = 10
    set i = 0
    loop
        exitwhen i > KDI
        if b[i] == 1 then
            call UnitAddAbility(u, OS[i])
        else 
            call UnitRemoveAbility(u, OS[i])
        endif
        set i = i + 1
    endloop
endfunction

function LHI takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer KDI
    if d < 1 then
        call UnitRemoveAbility(u, BS[0])
        call UnitRemoveAbility(u, BS[1])
        call UnitRemoveAbility(u, BS[2])
        call UnitRemoveAbility(u, BS[3])
        call UnitRemoveAbility(u, BS[4])
        call UnitRemoveAbility(u, BS[5])
        call UnitRemoveAbility(u, BS[6])
        call UnitRemoveAbility(u, BS[7])
        call UnitRemoveAbility(u, BS[8])
        return
    endif
    loop
        exitwhen c == 0
        set c = a/2
        set b[i] = a - c*2
        set a = c
        set i = i + 1
    endloop
    set KDI = 8
    set i = 0
    loop
        exitwhen i > KDI
        if b[i] == 1 then
            call UnitAddAbility(u, BS[i])
        else 
            call UnitRemoveAbility(u, BS[i])
        endif
        set i = i + 1
    endloop
endfunction

function LVI takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer KDI
    if d < 1 then
        call UnitRemoveAbility(u, CS[0])
        call UnitRemoveAbility(u, CS[1])
        call UnitRemoveAbility(u, CS[2])
        call UnitRemoveAbility(u, CS[3])
        call UnitRemoveAbility(u, CS[4])
        call UnitRemoveAbility(u, CS[5])
        return
    endif
    loop
        exitwhen c == 0
        set c = a/2
        set b[i] = a - c*2
        set a = c
        set i = i + 1
    endloop
    set KDI = i
    set i = 0
    loop
        exitwhen i > KDI
        if b[i] == 1 then
            call UnitAddAbility(u, CS[i])
        else 
            call UnitRemoveAbility(u, CS[i])
        endif
        set i = i + 1
    endloop
endfunction

function LXI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local integer i = LoadInteger(hashTable, DMI, 77)
    local string c = "|c006699CC"
    if GetObjectName('n0HH') == "Language: English" and (heroHelp1[i] != "") then
        if GetTriggerEvalCount(t) == 1 then
        elseif GetTriggerEvalCount(t) == 2 then
            call DisplayTimedTextToPlayer(p, 0, 0, 15, "Tip 1: " + c + heroHelp1[i] + "|r")
            call WMI(BG, p)
        elseif GetTriggerEvalCount(t) == 3 then
            call DisplayTimedTextToPlayer(p, 0, 0, 15, "Tip 2: " + c + heroHelp2[i] + "|r")
            call WMI(BG, p)
        elseif GetTriggerEvalCount(t) == 4 then
            call DisplayTimedTextToPlayer(p, 0, 0, 15, "Tip 3: " + c + heroHelp3[i] + "|r")
            call WMI(BG, p)
        elseif GetTriggerEvalCount(t) == 5 then
            call DisplayTimedTextToPlayer(p, 0, 0, 15, "Tip 4: " + c + heroHelp4[i] + "|r")
            call WMI(BG, p)
        elseif GetTriggerEvalCount(t) == 6 then
            call DisplayTimedTextToPlayer(p, 0, 0, 15, "Tip 5: " + c + heroHelp5[i] + "|r")
            call WMI(BG, p)
        endif
    endif
    if GetTriggerEvalCount(t) == 5 then
        call abandonTrigger(t)
        call FlushChildHashtable(hashTable, DMI)
    endif
    return false
endfunction

function LYI takes player p, integer i returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerRegisterTimerEvent(t, 15, false)
    call TriggerRegisterTimerEvent(t, 300, true)
    call TriggerAddCondition(t, Condition(function LXI))
    call SavePlayerHandle(hashTable, DMI, 54, p)
    call SaveInteger(hashTable, DMI, 77, i)
    set t = null
endfunction

function LJI takes integer JPI returns boolean 
    local integer i = 0
    loop
        exitwhen i > 59
        if JPI == itemReviveHero[i] then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction

function LKI takes integer FVI returns integer 
    local real LLI = TimerGetElapsed(M) - N
    local real JAI = (R2I(LLI)/60) - (1/2)
    local real LMI = 100 + FVI*FVI*1.5 + JAI*15
    local integer CDI
    set CDI = R2I(LMI/50)
    set CDI = IMinBJ(CDI, 59)
    set CDI = IMaxBJ(CDI, 0)
    return CDI
endfunction

function LNI takes player p returns nothing
    local integer id = GetPlayerId(p)
    local unit LSI = CT0[id]
    local unit E1I = playerHero[id]
    local integer FVI = GetHeroLevel(E1I)
    local integer i = 0
    loop
        exitwhen i > 59
        call RemoveUnitFromStock(LSI, itemReviveHero[i])
        set i = i + 1
    endloop
    if deathMatchMode == true then
        return
    endif
    if M30 == false then
        return
    endif
    call AddUnitToStock(LSI, itemReviveHero[LKI(FVI)], 1, 1)
    set FS[id] = itemReviveHero[LKI(FVI)]
    set E1I = null
    set LSI = null
endfunction

function LTI takes player p returns nothing
    local integer id = GetPlayerId(p)
    local unit LSI = CT0[id]
    local unit E1I = playerHero[id]
    local integer FVI = GetHeroLevel(E1I)
    local integer i = 0
    if deathMatchMode == true then
        return
    endif
    if M30 == false then
        return
    endif
    if FS[id] != 0 then
        call RemoveUnitFromStock(LSI, FS[id])
    endif
    call AddUnitToStock(LSI, itemReviveHero[LKI(FVI)], 1, 1)
    set FS[id] = itemReviveHero[LKI(FVI)]
    set E1I = null
    set LSI = null
endfunction

function LRI takes nothing returns boolean 
    if deathMatchMode == true then
        return false
    endif
    call LTI(sentinelPlayers[1])
    call LTI(sentinelPlayers[2])
    call LTI(sentinelPlayers[3])
    call LTI(sentinelPlayers[4])
    call LTI(sentinelPlayers[5])
    call LTI(scourgePlayers[1])
    call LTI(scourgePlayers[2])
    call LTI(scourgePlayers[3])
    call LTI(scourgePlayers[4])
    call LTI(scourgePlayers[5])
    return false
endfunction

function LQI takes nothing returns nothing
    set hashTable = InitHashtable()
    set M = CreateTimer()
    call SetFloatGameState(GAME_STATE_TIME_OF_DAY, 6.00)
    call SuspendTimeOfDay(false)
    call SetTimeOfDayScale(0.5)
    call SetSkyModel("Environment\\Sky\\FoggedSky\\FoggedSky.mdl")
    call SetCreepCampFilterState(true)
    set F3 = "Normal Mode"
    call TimerStart(M, 99999.00, false, null)
    set X3 = AddWeatherEffect(bj_mapInitialPlayableArea, 'RAhr')
    set W3 = AddWeatherEffect(bj_mapInitialPlayableArea, 'SNbs')
    set ZS = AddWeatherEffect(bj_mapInitialPlayableArea, 'LRma')
    set VS = AddWeatherEffect(bj_mapInitialPlayableArea, 'WOlw')
    set sentinelPlayers[0] = Player(0)
    set sentinelPlayers[1] = Player(1)
    set sentinelPlayers[2] = Player(2)
    set sentinelPlayers[3] = Player(3)
    set sentinelPlayers[4] = Player(4)
    set sentinelPlayers[5] = Player(5)
    set scourgePlayers[0] = Player(6)
    set scourgePlayers[1] = Player(7)
    set scourgePlayers[2] = Player(8)
    set scourgePlayers[3] = Player(9)
    set scourgePlayers[4] = Player(10)
    set scourgePlayers[5] = Player(11)
    set playerNeutrals = Player(12)
    set FO = Player(15)
    call SetUnitPathing(JZ, false)
    call SetUnitPathing(KZ, false)
    call SetUnitPathing(TZ, false)
    call SetUnitPathing(YZ, false)
    call SetUnitPathing(WZ, false)
    call setUnitInvulnerable(WZ, true)
    call setUnitInvulnerable(YZ, true)
    call setUnitInvulnerable(TZ, true)
    call setUnitInvulnerable(KZ, true)
    call setUnitInvulnerable(JZ, true)
    set U0 = GetUnitLoc(WZ)
    set BI = GetUnitLoc(JZ)
    set CI = GetUnitLoc(TZ)
    set DI = GetUnitLoc(YZ)
    set EI = GetUnitLoc(KZ)
    set A2 = 'A06G'
    set B2[1] = BI
    set B2[2] = DI
    set B2[3] = CI
    set B2[4] = EI
    set B2[5] = U0
    set RI = GetRectCenter(S3)
    set PI = GetRectCenter(T3)
    set QI = GetRectCenter(N3)
    set UI = GetRectCenter(O4)
    set O1 = GetRectCenter(A4)
    set I1 = GetRectCenter(I4)
    set A1 = GetRectCenter(E4)
    set C1 = GetRectCenter(D4)
    set B1 = GetRectCenter(C4)
    set D1 = GetRectCenter(U3)
    set F1 = GetRectCenter(Q3)
    set E1 = GetRectCenter(P3)
    set G1 = GetRectCenter(Z4)
    set H1 = GetRectCenter(F4)
    set defaultMode = true
endfunction

function InitTrig_Map takes nothing returns nothing
    call LQI()
endfunction

function LUI takes nothing returns nothing
    set YS = GetUnitX(ZV)
    set JS = GetUnitY(ZV)
    set KS = GetUnitX(YV)
    set LS = GetUnitY(YV)
    set MS = GetUnitX(WV)
    set SS = GetUnitY(WV)
    set TS = GetUnitX(VV)
    set PS = GetUnitY(VV)
    set QS = GetUnitX(SW)
    set US = GetUnitY(SW)
    set IT = GetUnitX(SZ)
    set OT = GetUnitY(SZ)
    set AT = GetUnitX(MZ)
    set BT = GetUnitY(MZ)
    set CT = GetUnitX(XZ)
    set DT = GetUnitY(XZ)
    set ET = GetUnitX(RZ)
    set FT = GetUnitY(RZ)
    set GT = GetUnitX(JV)
    set HT = GetUnitY(JV)
    set GT = GetUnitX(JV)
    set HT = GetUnitY(JV)
    set ZT = GetUnitX(SY)
    set VT = GetUnitY(SY)
    set WT = GetUnitX(ZZ)
    set XT = GetUnitY(ZZ)
    set YT = GetUnitX(NV)
    set JT = GetUnitY(NV)
    set KT = GetUnitX(MV)
    set LT = GetUnitY(MV)
    set MT = GetUnitX(KV)
    set ST = GetUnitY(KV)
    set TT = GetUnitX(SV)
    set RT = GetUnitY(SV)
    set PT = GetUnitX(PZ)
    set QT = GetUnitY(PZ)
    set UT = GetUnitX(LV)
    set IR = GetUnitY(LV)
    set OR = GetUnitX(PV)
    set BR = GetUnitY(PV)
    set CR = GetUnitX(TV)
    set DR = GetUnitY(TV)
    set GR = GetUnitX(CW)
    set HR = GetUnitY(CW)
    set ZR = GetUnitX(UV)
    set WR = GetUnitY(UV)
    set XR = GetUnitX(QV)
    set YR = GetUnitY(QV)
    set JR = GetUnitX(IW)
    set KR = GetUnitY(IW)
    set LR = GetUnitX(BW)
    set SR = GetUnitY(BW)
    set RR = GetUnitX(AW)
    set PR = GetUnitY(AW)
    set QR = GetUnitX(OW)
    set UR = GetUnitY(OW)
    set IP = GetUnitX(EW)
    set OP = GetUnitY(EW)
    set BP = GetUnitX(DW)
    set DP = GetUnitY(DW)
    set EP = GetUnitX(HW)
    set FP = GetUnitY(HW)
    set GP = GetUnitX(GW)
    set ZP = GetUnitY(GW)
    set VP = GetUnitX(ZW)
    set WP = GetUnitY(ZW)
    set XP = GetUnitX(VW)
    set YP = GetUnitY(VW)
    set JP = GetUnitX(WW)
    set KP = GetUnitY(WW)
    set LP = GetUnitX(FW)
    set MP = GetUnitY(FW)
    set TP = GetUnitX(YW)
    set RP = GetUnitY(YW)
    set PP = GetUnitX(JW)
    set QP = GetUnitY(JW)
    set UP = GetUnitX(XW)
    set IQ = GetUnitY(XW)
    set OQ = GetUnitX(KW)
    set AQ = GetUnitY(KW)
    set BQ = GetUnitX(LW)
    set CQ = GetUnitY(LW)
    set DQ = GetUnitX(XV)
    set EQ = GetUnitY(XV)
    set FQ = GetUnitX(MW)
    set GQ = GetUnitY(MW)
    set HQ = GetUnitX(RW)
    set ZQ = GetUnitY(RW)
    set VQ = GetUnitX(TW)
    set WQ = GetUnitY(TW)
    call RemoveUnit(PV)
    call RemoveUnit(OW)
    call RemoveUnit(IW)
    call RemoveUnit(TV)
    call RemoveUnit(EW)
    call RemoveUnit(BW)
    call RemoveUnit(CW)
    call RemoveUnit(DW)
    call RemoveUnit(AW)
    call RemoveUnit(XV)
    call RemoveUnit(MW)
    call RemoveUnit(ZZ)
    call RemoveUnit(UV)
    call RemoveUnit(QV)
    call RemoveUnit(HW)
    call RemoveUnit(GW)
    call RemoveUnit(ZW)
    call RemoveUnit(VW)
    call RemoveUnit(WW)
    call RemoveUnit(FW)
    call RemoveUnit(YW)
    call RemoveUnit(JW)
    call RemoveUnit(XW)
    call RemoveUnit(KW)
    call RemoveUnit(LW)
    call RemoveUnit(JV)
    call RemoveUnit(SY)
    call RemoveUnit(RZ)
    call RemoveUnit(XZ)
    call RemoveUnit(MZ)
    call RemoveUnit(SZ)
    call RemoveUnit(WV)
    call RemoveUnit(VV)
    call RemoveUnit(ZV)
    call RemoveUnit(YV)
    call RemoveUnit(SW)
    call RemoveUnit(NV)
    call RemoveUnit(MV)
    call RemoveUnit(KV)
    call RemoveUnit(SV)
    call RemoveUnit(PZ)
    call RemoveUnit(LV)
    call RemoveUnit(RW)
    call RemoveUnit(TW)
    set XQ = CreateUnit(sentinelPlayers[0], 'nfoh', YS, JS, 270)
    set YQ = CreateUnit(FO, 'hC95', KS, LS, 270)
    set JQ = CreateUnit(FO, 'n01K', MS, SS, 270)
    set KQ = CreateUnit(FO, 'nC38', TS, PS, 270)
    set LQ = CreateUnit(FO, 'e025', QS, US, 270)
    set MQ = CreateUnit(FO, 'n00V', IT, OT, 270)
    set NQ = CreateUnit(FO, 'n00W', AT, BT, 270)
    set SQ = CreateUnit(FO, 'n002', CT, DT, 270)
    set TQ = CreateUnit(FO, 'n00X', ET, FT, 270)
    set RQ = CreateUnit(FO, 'n009', GT, HT, 270)
    set PQ = CreateUnit(FO, 'n0HE', ZT, VT, 270)
    set QQ = CreateUnit(sentinelPlayers[0], 'etol', WT, XT, 270)
    set UQ = CreateUnit(sentinelPlayers[0], 'e00R', YT, JT, 90)
    set I00 = CreateUnit(sentinelPlayers[0], 'e00R', KT, LT, 45)
    set II0 = CreateUnit(sentinelPlayers[0], 'e00R', MT, ST, 0)
    set I10 = CreateUnit(sentinelPlayers[0], 'e011', TT, RT, 90)
    set IO0 = CreateUnit(sentinelPlayers[0], 'e011', PT, QT, 45)
    set I20 = CreateUnit(sentinelPlayers[0], 'e011', UT, IR, 0)
    set I30 = CreateUnit(sentinelPlayers[0], 'e00S', OR, BR, 90)
    set I40 = CreateUnit(sentinelPlayers[0], 'e00S', CR, DR, 45)
    set I50 = CreateUnit(sentinelPlayers[0], 'e00S', GR, HR, 0)
    set I60 = CreateUnit(sentinelPlayers[0], 'e019', ZR, WR, 45)
    set I70 = CreateUnit(sentinelPlayers[0], 'e019', XR, YR, 45)
    set I80 = CreateUnit(sentinelPlayers[0], 'eaom', JR, KR, 90)
    set I90 = CreateUnit(sentinelPlayers[0], 'eaom', LR, SR, 45)
    set IA0 = CreateUnit(sentinelPlayers[0], 'eaom', RR, PR, 0)
    set IB0 = CreateUnit(sentinelPlayers[0], 'eaoe', QR, UR, 90)
    set IC0 = CreateUnit(sentinelPlayers[0], 'eaoe', IP, OP, 45)
    set ID0 = CreateUnit(sentinelPlayers[0], 'eaoe', BP, DP, 0)
    set IE0 = CreateUnit(sentinelPlayers[0], 'emow', EP, FP, 270)
    set IF0 = CreateUnit(sentinelPlayers[0], 'emow', GP, ZP, 270)
    set IG0 = CreateUnit(sentinelPlayers[0], 'emow', VP, WP, 270)
    set IH0 = CreateUnit(sentinelPlayers[0], 'emow', XP, YP, 270)
    set IZ0 = CreateUnit(sentinelPlayers[0], 'emow', JP, KP, 270)
    set IV0 = CreateUnit(sentinelPlayers[0], 'emow', LP, MP, 270)
    set IW0 = CreateUnit(sentinelPlayers[0], 'emow', TP, RP, 270)
    set IX0 = CreateUnit(sentinelPlayers[0], 'emow', PP, QP, 270)
    set IY0 = CreateUnit(sentinelPlayers[0], 'emow', UP, IQ, 270)
    set IJ0 = CreateUnit(sentinelPlayers[0], 'emow', OQ, AQ, 270)
    set IK0 = CreateUnit(sentinelPlayers[0], 'emow', BQ, CQ, 270)
    set IL0 = CreateUnit(sentinelPlayers[0], 'eaow', DQ, EQ, 270)
    set IM0 = CreateUnit(sentinelPlayers[0], 'eaow', FQ, GQ, 270)
    set IN0 = CreateUnit(sentinelPlayers[0], 'edob', HQ, ZQ, 270)
    set IS0 = CreateUnit(sentinelPlayers[0], 'edob', VQ, WQ, 270)
    call SetPlayerAbilityAvailable(FO, 'Aro1', false)
    call SetUnitColor(YQ, WS)
    call SetUnitColor(LQ, WS)
    call SetUnitColor(KQ, XS)
    call SetUnitColor(JQ, XS)
    call SetUnitColor(MQ, XS)
    call SetUnitColor(NQ, XS)
    call SetUnitColor(SQ, XS)
    call SetUnitColor(TQ, XS)
    call SetUnitColor(RQ, XS)
    call setUnitInvulnerable(UQ, true)
    call setUnitInvulnerable(I00, true)
    call setUnitInvulnerable(II0, true)
    call setUnitInvulnerable(I10, true)
    call setUnitInvulnerable(IO0, true)
    call setUnitInvulnerable(I20, true)
    call setUnitInvulnerable(I30, true)
    call setUnitInvulnerable(I40, true)
    call setUnitInvulnerable(I50, true)
    call setUnitInvulnerable(I60, true)
    call setUnitInvulnerable(I70, true)
    call setUnitInvulnerable(QQ, true)
    call setUnitInvulnerable(I80, true)
    call setUnitInvulnerable(I90, true)
    call setUnitInvulnerable(IA0, true)
    call setUnitInvulnerable(IB0, true)
    call setUnitInvulnerable(IC0, true)
    call setUnitInvulnerable(ID0, true)
    call setUnitInvulnerable(IL0, true)
    call setUnitInvulnerable(IM0, true)
    call setUnitInvulnerable(IN0, true)
    call setUnitInvulnerable(IS0, true)
    call setUnitInvulnerable(IE0, true)
    call setUnitInvulnerable(IF0, true)
    call setUnitInvulnerable(IG0, true)
    call setUnitInvulnerable(IH0, true)
    call setUnitInvulnerable(IZ0, true)
    call setUnitInvulnerable(IV0, true)
    call setUnitInvulnerable(IW0, true)
    call setUnitInvulnerable(IX0, true)
    call setUnitInvulnerable(IY0, true)
    call setUnitInvulnerable(IJ0, true)
    call setUnitInvulnerable(IK0, true)
endfunction

function InitTrig_Sent_Buildings takes nothing returns nothing
    call LUI()
endfunction

function M0I takes nothing returns nothing
    set IP0 = GetUnitX(MX)
    set IQ0 = GetUnitY(MX)
    set IU0 = GetUnitX(ZX)
    set O00 = GetUnitY(ZX)
    set OI0 = GetUnitX(VX)
    set O10 = GetUnitY(VX)
    set OO0 = GetUnitX(WX)
    set O20 = GetUnitY(WX)
    set O30 = GetUnitX(GX)
    set O40 = GetUnitY(GX)
    set O50 = GetUnitX(DX)
    set O60 = GetUnitY(DX)
    set O70 = GetUnitX(CX)
    set O80 = GetUnitY(CX)
    set O90 = GetUnitX(BX)
    set OA0 = GetUnitY(BX)
    set OB0 = GetUnitX(EX)
    set OC0 = GetUnitY(EX)
    set OD0 = GetUnitX(HX)
    set OE0 = GetUnitY(HX)
    set OF0 = GetUnitX(IV)
    set OG0 = GetUnitY(IV)
    set OH0 = GetUnitX(IY)
    set OZ0 = GetUnitY(IY)
    set OV0 = GetUnitX(NZ)
    set OW0 = GetUnitY(NZ)
    set OX0 = GetUnitX(AY)
    set OY0 = GetUnitY(AY)
    set OJ0 = GetUnitX(UZ)
    set OK0 = GetUnitY(UZ)
    set OL0 = GetUnitX(CV)
    set OM0 = GetUnitY(CV)
    set ON0 = GetUnitX(BY)
    set OS0 = GetUnitY(BY)
    set OT0 = GetUnitX(QZ)
    set OR0 = GetUnitY(QZ)
    set OP0 = GetUnitX(AX)
    set OQ0 = GetUnitY(AX)
    set OU0 = GetUnitX(CY)
    set A00 = GetUnitY(CY)
    set AI0 = GetUnitX(LY)
    set A10 = GetUnitY(LY)
    set AO0 = GetUnitX(DY)
    set A20 = GetUnitY(DY)
    set A30 = GetUnitX(PX)
    set A40 = GetUnitY(PX)
    set A50 = GetUnitX(OX)
    set A60 = GetUnitY(OX)
    set A70 = GetUnitX(RX)
    set A80 = GetUnitY(RX)
    set A90 = GetUnitX(KY)
    set AA0 = GetUnitY(KY)
    set AB0 = GetUnitX(IX)
    set AC0 = GetUnitY(IX)
    set AD0 = GetUnitX(OY)
    set AE0 = GetUnitY(OY)
    set AF0 = GetUnitX(JY)
    set AG0 = GetUnitY(JY)
    set AH0 = GetUnitX(ZY)
    set AZ0 = GetUnitY(ZY)
    set AV0 = GetUnitX(FY)
    set AW0 = GetUnitY(FY)
    set AX0 = GetUnitX(XY)
    set AY0 = GetUnitY(XY)
    set AJ0 = GetUnitX(UW)
    set AK0 = GetUnitY(UW)
    set AL0 = GetUnitX(WY)
    set AM0 = GetUnitY(WY)
    set AN0 = GetUnitX(EY)
    set AS0 = GetUnitY(EY)
    set AT0 = GetUnitX(GY)
    set AR0 = GetUnitY(GY)
    set AP0 = GetUnitX(VY)
    set AQ0 = GetUnitY(VY)
    set AU0 = GetUnitX(MY)
    set B00 = GetUnitY(MY)
    set BI0 = GetUnitX(PW)
    set B10 = GetUnitY(PW)
    set BO0 = GetUnitX(QX)
    set B20 = GetUnitY(QX)
    set B30 = GetUnitX(QW)
    set B40 = GetUnitY(QW)
    set B50 = GetUnitX(YY)
    set B60 = GetUnitY(YY)
    set B70 = GetUnitX(HY)
    set B80 = GetUnitY(HY)
    set B90 = GetUnitX(UX)
    set BA0 = GetUnitY(UX)
    call RemoveUnit(ZY)
    call RemoveUnit(FY)
    call RemoveUnit(XY)
    call RemoveUnit(UW)
    call RemoveUnit(WY)
    call RemoveUnit(EY)
    call RemoveUnit(GY)
    call RemoveUnit(VY)
    call RemoveUnit(MY)
    call RemoveUnit(PW)
    call RemoveUnit(QX)
    call RemoveUnit(NZ)
    call RemoveUnit(CV)
    call RemoveUnit(AX)
    call RemoveUnit(AY)
    call RemoveUnit(BY)
    call RemoveUnit(CY)
    call RemoveUnit(UZ)
    call RemoveUnit(QZ)
    call RemoveUnit(LY)
    call RemoveUnit(DY)
    call RemoveUnit(PX)
    call RemoveUnit(OX)
    call RemoveUnit(RX)
    call RemoveUnit(KY)
    call RemoveUnit(IX)
    call RemoveUnit(OY)
    call RemoveUnit(JY)
    call RemoveUnit(QW)
    call RemoveUnit(YY)
    call RemoveUnit(HY)
    call RemoveUnit(UX)
    call RemoveUnit(IY)
    call RemoveUnit(DX)
    call RemoveUnit(CX)
    call RemoveUnit(BX)
    call RemoveUnit(EX)
    call RemoveUnit(HX)
    call RemoveUnit(IV)
    call RemoveUnit(WX)
    call RemoveUnit(VX)
    call RemoveUnit(MX)
    call RemoveUnit(ZX)
    call RemoveUnit(GX)
    set BB0 = CreateUnit(scourgePlayers[0], 'ndfl', IP0, IQ0, 270)
    set BC0 = CreateUnit(FO, 'nC35', IU0, O00, 270)
    set BD0 = CreateUnit(FO, 'n01K', OI0, O10, 270)
    set BE0 = CreateUnit(FO, 'nC38', OO0, O20, 270)
    set BF0 = CreateUnit(FO, 'u00Q', O30, O40, 270)
    set BG0 = CreateUnit(FO, 'n00V', O50, O60, 0)
    set BH0 = CreateUnit(FO, 'n00W', O70, O80, 0)
    set BZ0 = CreateUnit(FO, 'n002', O90, OA0, 0)
    set BV0 = CreateUnit(FO, 'n00X', OB0, OC0, 0)
    set BW0 = CreateUnit(FO, 'n009', OD0, OE0, 0)
    set BX0 = CreateUnit(FO, 'n0HE', OF0, OG0, 0)
    set BY0 = CreateUnit(scourgePlayers[0], 'unpl', OH0, OZ0, 220)
    set BJ0 = CreateUnit(scourgePlayers[0], 'u00M', OV0, OW0, 270)
    set BK0 = CreateUnit(scourgePlayers[0], 'u00M', OX0, OY0, 270)
    set BL0 = CreateUnit(scourgePlayers[0], 'u00M', OJ0, OK0, 270)
    set BM0 = CreateUnit(scourgePlayers[0], 'u00D', OL0, OM0, 270)
    set BN0 = CreateUnit(scourgePlayers[0], 'u00D', ON0, OS0, 270)
    set BS0 = CreateUnit(scourgePlayers[0], 'u00D', OT0, OR0, 270)
    set BT0 = CreateUnit(scourgePlayers[0], 'u00N', OP0, OQ0, 270)
    set BR0 = CreateUnit(scourgePlayers[0], 'u00N', OU0, A00, 270)
    set BP0 = CreateUnit(scourgePlayers[0], 'u00N', AI0, A10, 270)
    set BQ0 = CreateUnit(scourgePlayers[0], 'u00T', AO0, A20, 270)
    set BU0 = CreateUnit(scourgePlayers[0], 'u00T', A30, A40, 270)
    set C00 = CreateUnit(scourgePlayers[0], 'usep', A50, A60, 270)
    set CI0 = CreateUnit(scourgePlayers[0], 'usep', A70, A80, 270)
    set C10 = CreateUnit(scourgePlayers[0], 'usep', A90, AA0, 270)
    set CO0 = CreateUnit(scourgePlayers[0], 'utod', AB0, AC0, 270)
    set C20 = CreateUnit(scourgePlayers[0], 'utod', AD0, AE0, 270)
    set C30 = CreateUnit(scourgePlayers[0], 'utod', AF0, AG0, 270)
    set C40 = CreateUnit(scourgePlayers[0], 'uzig', AH0, AZ0, 270)
    set C50 = CreateUnit(scourgePlayers[0], 'uzig', AV0, AW0, 270)
    set C60 = CreateUnit(scourgePlayers[0], 'uzig', AX0, AY0, 270)
    set C70 = CreateUnit(scourgePlayers[0], 'uzig', AJ0, AK0, 270)
    set C80 = CreateUnit(scourgePlayers[0], 'uzig', AL0, AM0, 270)
    set C90 = CreateUnit(scourgePlayers[0], 'uzig', AN0, AS0, 270)
    set CA0 = CreateUnit(scourgePlayers[0], 'uzig', AT0, AR0, 270)
    set CB0 = CreateUnit(scourgePlayers[0], 'uzig', AP0, AQ0, 270)
    set CC0 = CreateUnit(scourgePlayers[0], 'uzig', AU0, B00, 270)
    set CD0 = CreateUnit(scourgePlayers[0], 'uzig', BI0, B10, 270)
    set CE0 = CreateUnit(scourgePlayers[0], 'uzig', BO0, B20, 270)
    set CF0 = CreateUnit(scourgePlayers[0], 'usap', B30, B40, 270)
    set CG0 = CreateUnit(scourgePlayers[0], 'usap', B50, B60, 270)
    set CH0 = CreateUnit(scourgePlayers[0], 'ubon', B70, B80, 270)
    set CZ0 = CreateUnit(scourgePlayers[0], 'ubon', B90, BA0, 270)
    call SetUnitColor(BC0, IT0)
    call SetUnitColor(BE0, IR0)
    call SetUnitColor(BD0, IR0)
    call SetUnitColor(BG0, IR0)
    call SetUnitColor(BH0, IR0)
    call SetUnitColor(BZ0, IR0)
    call SetUnitColor(BV0, IR0)
    call SetUnitColor(BW0, IR0)
    call setUnitInvulnerable(BJ0, true)
    call setUnitInvulnerable(BK0, true)
    call setUnitInvulnerable(BL0, true)
    call setUnitInvulnerable(BM0, true)
    call setUnitInvulnerable(BN0, true)
    call setUnitInvulnerable(BS0, true)
    call setUnitInvulnerable(BT0, true)
    call setUnitInvulnerable(BR0, true)
    call setUnitInvulnerable(BP0, true)
    call setUnitInvulnerable(BQ0, true)
    call setUnitInvulnerable(BU0, true)
    call setUnitInvulnerable(BY0, true)
    call setUnitInvulnerable(C00, true)
    call setUnitInvulnerable(CI0, true)
    call setUnitInvulnerable(C10, true)
    call setUnitInvulnerable(CO0, true)
    call setUnitInvulnerable(C20, true)
    call setUnitInvulnerable(C30, true)
    call setUnitInvulnerable(CF0, true)
    call setUnitInvulnerable(CG0, true)
    call setUnitInvulnerable(CH0, true)
    call setUnitInvulnerable(CZ0, true)
    call setUnitInvulnerable(C40, true)
    call setUnitInvulnerable(C50, true)
    call setUnitInvulnerable(C60, true)
    call setUnitInvulnerable(C70, true)
    call setUnitInvulnerable(C80, true)
    call setUnitInvulnerable(C90, true)
    call setUnitInvulnerable(CA0, true)
    call setUnitInvulnerable(CB0, true)
    call setUnitInvulnerable(CC0, true)
    call setUnitInvulnerable(CD0, true)
    call setUnitInvulnerable(CE0, true)
endfunction

function InitTrig_Scourge_Buildings takes nothing returns nothing
    call M0I()
endfunction

function MII takes nothing returns nothing
    local real M1I = GetUnitX(DV)
    local real MOI = GetUnitY(DV)
    local real M2I = GetUnitX(HV)
    local real M3I = GetUnitY(HV)
    local real M4I = GetUnitX(GV)
    local real M5I = GetUnitY(GV)
    local real M6I = GetUnitX(EV)
    local real M7I = GetUnitY(EV)
    local real M8I = GetUnitX(FV)
    local real M9I = GetUnitY(FV)
    local real MAI = GetUnitX(YX)
    local real MBI = GetUnitY(YX)
    local real MCI = GetUnitX(XX)
    local real MDI = GetUnitY(XX)
    local real MEI = GetUnitX(LX)
    local real MFI = GetUnitY(LX)
    local real MGI = GetUnitX(JX)
    local real MHI = GetUnitY(JX)
    local real MZI = GetUnitX(KX)
    local real MVI = GetUnitY(KX)
    local integer MWI = 25
    call RemoveUnit(DV)
    call RemoveUnit(HV)
    call RemoveUnit(GV)
    call RemoveUnit(EV)
    call RemoveUnit(FV)
    call RemoveUnit(YX)
    call RemoveUnit(XX)
    call RemoveUnit(LX)
    call RemoveUnit(JX)
    call RemoveUnit(KX)
    set CV0 = CreateUnit(Player(1), 'ncop', M1I, MOI, 270)
    call ClearSelectionForPlayer(Player(1))
    call SelectUnitAddForPlayer(CV0, Player(1))
    if GetLocalPlayer() == Player(1) then
        call SetUnitVertexColor(CV0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CV0, 255, 255, 255, MWI)
    endif
    set CW0 = CreateUnit(Player(2), 'ncop', M2I, M3I, 270)
    call ClearSelectionForPlayer(Player(2))
    call SelectUnitAddForPlayer(CW0, Player(2))
    if GetLocalPlayer() == Player(2) then
        call SetUnitVertexColor(CW0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CW0, 255, 255, 255, MWI)
    endif
    set CX0 = CreateUnit(Player(3), 'ncop', M4I, M5I, 270)
    call ClearSelectionForPlayer(Player(3))
    call SelectUnitAddForPlayer(CX0, Player(3))
    if GetLocalPlayer() == Player(3) then
        call SetUnitVertexColor(CX0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CX0, 255, 255, 255, MWI)
    endif
    set CY0 = CreateUnit(Player(4), 'ncop', M6I, M7I, 270)
    call ClearSelectionForPlayer(Player(4))
    call SelectUnitAddForPlayer(CY0, Player(4))
    if GetLocalPlayer() == Player(4) then
        call SetUnitVertexColor(CY0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CY0, 255, 255, 255, MWI)
    endif
    set CJ0 = CreateUnit(Player(5), 'ncop', M8I, M9I, 270)
    call ClearSelectionForPlayer(Player(5))
    call SelectUnitAddForPlayer(CJ0, Player(5))
    if GetLocalPlayer() == Player(5) then
        call SetUnitVertexColor(CJ0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CJ0, 255, 255, 255, MWI)
    endif
    set CK0 = CreateUnit(Player(7), 'ncop', MAI, MBI, 270)
    call ClearSelectionForPlayer(Player(7))
    call SelectUnitAddForPlayer(CK0, Player(7))
    if GetLocalPlayer() == Player(7) then
        call SetUnitVertexColor(CK0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CK0, 255, 255, 255, MWI)
    endif
    set CL0 = CreateUnit(Player(8), 'ncop', MCI, MDI, 270)
    call ClearSelectionForPlayer(Player(8))
    call SelectUnitAddForPlayer(CL0, Player(8))
    if GetLocalPlayer() == Player(8) then
        call SetUnitVertexColor(CL0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CL0, 255, 255, 255, MWI)
    endif
    set CM0 = CreateUnit(Player(9), 'ncop', MEI, MFI, 270)
    call ClearSelectionForPlayer(Player(9))
    call SelectUnitAddForPlayer(CM0, Player(9))
    if GetLocalPlayer() == Player(9) then
        call SetUnitVertexColor(CM0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CM0, 255, 255, 255, MWI)
    endif
    set CN0 = CreateUnit(Player(10), 'ncop', MGI, MHI, 270)
    call ClearSelectionForPlayer(Player(10))
    call SelectUnitAddForPlayer(CN0, Player(10))
    if GetLocalPlayer() == Player(10) then
        call SetUnitVertexColor(CN0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CN0, 255, 255, 255, MWI)
    endif
    set CS0 = CreateUnit(Player(11), 'ncop', MZI, MVI, 270)
    call ClearSelectionForPlayer(Player(11))
    call SelectUnitAddForPlayer(CS0, Player(11))
    if GetLocalPlayer() == Player(11) then
        call SetUnitVertexColor(CS0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CS0, 255, 255, 255, MWI)
    endif
    set CT0[1] = CV0
    set CT0[2] = CW0
    set CT0[3] = CX0
    set CT0[4] = CY0
    set CT0[5] = CJ0
    set CT0[7] = CK0
    set CT0[8] = CL0
    set CT0[9] = CM0
    set CT0[10] = CN0
    set CT0[11] = CS0
    set CR0[1] = GetUnitX(CV0)
    set CR0[2] = GetUnitX(CW0)
    set CR0[3] = GetUnitX(CX0)
    set CR0[4] = GetUnitX(CY0)
    set CR0[5] = GetUnitX(CJ0)
    set CR0[7] = GetUnitX(CK0)
    set CR0[8] = GetUnitX(CL0)
    set CR0[9] = GetUnitX(CM0)
    set CR0[10] = GetUnitX(CN0)
    set CR0[11] = GetUnitX(CS0)
    set CP0[1] = GetUnitY(CV0)
    set CP0[2] = GetUnitY(CW0)
    set CP0[3] = GetUnitY(CX0)
    set CP0[4] = GetUnitY(CY0)
    set CP0[5] = GetUnitY(CJ0)
    set CP0[7] = GetUnitY(CK0)
    set CP0[8] = GetUnitY(CL0)
    set CP0[9] = GetUnitY(CM0)
    set CP0[10] = GetUnitY(CN0)
    set CP0[11] = GetUnitY(CS0)
endfunction

function InitTrig_Circle_of_Power takes nothing returns nothing
    call MII()
endfunction

function MXI takes nothing returns nothing
    set DI0[GetPlayerId(sentinelPlayers[1])] = 0
    set D10[GetPlayerId(sentinelPlayers[1])] = 66
    set DO0[GetPlayerId(sentinelPlayers[1])] = 255
    set DI0[GetPlayerId(sentinelPlayers[2])] = 48
    set D10[GetPlayerId(sentinelPlayers[2])] = 230
    set DO0[GetPlayerId(sentinelPlayers[2])] = 185
    set DI0[GetPlayerId(sentinelPlayers[3])] = 50
    set D10[GetPlayerId(sentinelPlayers[3])] = 0
    set DO0[GetPlayerId(sentinelPlayers[3])] = 129
    set DI0[GetPlayerId(sentinelPlayers[4])] = 255
    set D10[GetPlayerId(sentinelPlayers[4])] = 252
    set DO0[GetPlayerId(sentinelPlayers[4])] = 1
    set DI0[GetPlayerId(sentinelPlayers[5])] = 255
    set D10[GetPlayerId(sentinelPlayers[5])] = 50
    set DO0[GetPlayerId(sentinelPlayers[5])] = 0
    set DI0[GetPlayerId(scourgePlayers[1])] = 220
    set D10[GetPlayerId(scourgePlayers[1])] = 50
    set DO0[GetPlayerId(scourgePlayers[1])] = 50
    set DI0[GetPlayerId(scourgePlayers[2])] = 50
    set D10[GetPlayerId(scourgePlayers[2])] = 50
    set DO0[GetPlayerId(scourgePlayers[2])] = 50
    set DI0[GetPlayerId(scourgePlayers[3])] = 75
    set D10[GetPlayerId(scourgePlayers[3])] = 150
    set DO0[GetPlayerId(scourgePlayers[3])] = 190
    set DI0[GetPlayerId(scourgePlayers[4])] = 16
    set D10[GetPlayerId(scourgePlayers[4])] = 60
    set DO0[GetPlayerId(scourgePlayers[4])] = 18
    set DI0[GetPlayerId(scourgePlayers[5])] = 68
    set D10[GetPlayerId(scourgePlayers[5])] = 42
    set DO0[GetPlayerId(scourgePlayers[5])] = 4
endfunction

function MYI takes nothing returns nothing
    local integer EUI
    local integer F0I
    local integer i
    set playerColor[GetPlayerId(sentinelPlayers[0])] = "|c00ff0303"
    set playerColor[GetPlayerId(sentinelPlayers[1])] = "|c000042ff"
    set playerColor[GetPlayerId(sentinelPlayers[2])] = "|c001ce6b9"
    set playerColor[GetPlayerId(sentinelPlayers[3])] = "|c00540081"
    set playerColor[GetPlayerId(sentinelPlayers[4])] = "|c00fffc01"
    set playerColor[GetPlayerId(sentinelPlayers[5])] = "|c00ff8000"
    set playerColor[GetPlayerId(scourgePlayers[0])] = "|c0020c000"
    set playerColor[GetPlayerId(scourgePlayers[1])] = "|c00e55bb0"
    set playerColor[GetPlayerId(scourgePlayers[2])] = "|c00959697"
    set playerColor[GetPlayerId(scourgePlayers[3])] = "|c007ebff1"
    set playerColor[GetPlayerId(scourgePlayers[4])] = "|c00106246"
    set playerColor[GetPlayerId(scourgePlayers[5])] = "|c004e2a04"
    call SetPlayerColor(sentinelPlayers[0], PLAYER_COLOR_RED)
    call SetPlayerColor(sentinelPlayers[1], PLAYER_COLOR_BLUE)
    call SetPlayerColor(sentinelPlayers[2], PLAYER_COLOR_CYAN)
    call SetPlayerColor(sentinelPlayers[3], PLAYER_COLOR_PURPLE)
    call SetPlayerColor(sentinelPlayers[4], PLAYER_COLOR_YELLOW)
    call SetPlayerColor(sentinelPlayers[5], PLAYER_COLOR_ORANGE)
    call SetPlayerColor(scourgePlayers[0], PLAYER_COLOR_GREEN)
    call SetPlayerColor(scourgePlayers[1], PLAYER_COLOR_PINK)
    call SetPlayerColor(scourgePlayers[2], PLAYER_COLOR_LIGHT_GRAY)
    call SetPlayerColor(scourgePlayers[3], PLAYER_COLOR_LIGHT_BLUE)
    call SetPlayerColor(scourgePlayers[4], PLAYER_COLOR_AQUA)
    call SetPlayerColor(scourgePlayers[5], PLAYER_COLOR_BROWN)
    set EUI = 1
    set F0I = 5
    loop
        if GetPlayerSlotState(sentinelPlayers[EUI]) == PLAYER_SLOT_STATE_EMPTY then
            call SetPlayerName(sentinelPlayers[EUI], GetObjectName('n0DH') + " " + I2S(EUI))
        endif
        if GetPlayerSlotState(scourgePlayers[EUI]) == PLAYER_SLOT_STATE_EMPTY then
            call SetPlayerName(scourgePlayers[EUI], GetObjectName('n0DH') + " " + I2S(5 + EUI))
        endif
        set EUI = EUI + 1
        exitwhen EUI > F0I
    endloop
endfunction

function MJI takes nothing returns nothing
    local integer i
    local integer MWI = 125
    call SetUnitOwner(CV0, sentinelPlayers[1], false)
    call SetUnitOwner(CW0, sentinelPlayers[2], false)
    call SetUnitOwner(CX0, sentinelPlayers[3], false)
    call SetUnitOwner(CY0, sentinelPlayers[4], false)
    call SetUnitOwner(CJ0, sentinelPlayers[5], false)
    call SetUnitOwner(CK0, scourgePlayers[1], false)
    call SetUnitOwner(CL0, scourgePlayers[2], false)
    call SetUnitOwner(CM0, scourgePlayers[3], false)
    call SetUnitOwner(CN0, scourgePlayers[4], false)
    call SetUnitOwner(CS0, scourgePlayers[5], false)
    set CT0[GetPlayerId(sentinelPlayers[1])] = CV0
    set CT0[GetPlayerId(sentinelPlayers[2])] = CW0
    set CT0[GetPlayerId(sentinelPlayers[3])] = CX0
    set CT0[GetPlayerId(sentinelPlayers[4])] = CY0
    set CT0[GetPlayerId(sentinelPlayers[5])] = CJ0
    set CT0[GetPlayerId(scourgePlayers[1])] = CK0
    set CT0[GetPlayerId(scourgePlayers[2])] = CL0
    set CT0[GetPlayerId(scourgePlayers[3])] = CM0
    set CT0[GetPlayerId(scourgePlayers[4])] = CN0
    set CT0[GetPlayerId(scourgePlayers[5])] = CS0
    set i = 1
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 2
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 3
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 4
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 5
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 7
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 8
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 9
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 10
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set i = 11
    if GetLocalPlayer() == Player(i) then
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CT0[GetPlayerId(Player(i))], 255, 255, 255, MWI)
    endif
    set CR0[GetPlayerId(sentinelPlayers[1])] = GetUnitX(CT0[GetPlayerId(sentinelPlayers[1])])
    set CR0[GetPlayerId(sentinelPlayers[2])] = GetUnitX(CT0[GetPlayerId(sentinelPlayers[2])])
    set CR0[GetPlayerId(sentinelPlayers[3])] = GetUnitX(CT0[GetPlayerId(sentinelPlayers[3])])
    set CR0[GetPlayerId(sentinelPlayers[4])] = GetUnitX(CT0[GetPlayerId(sentinelPlayers[4])])
    set CR0[GetPlayerId(sentinelPlayers[5])] = GetUnitX(CT0[GetPlayerId(sentinelPlayers[5])])
    set CR0[GetPlayerId(scourgePlayers[1])] = GetUnitX(CT0[GetPlayerId(scourgePlayers[1])])
    set CR0[GetPlayerId(scourgePlayers[2])] = GetUnitX(CT0[GetPlayerId(scourgePlayers[2])])
    set CR0[GetPlayerId(scourgePlayers[3])] = GetUnitX(CT0[GetPlayerId(scourgePlayers[3])])
    set CR0[GetPlayerId(scourgePlayers[4])] = GetUnitX(CT0[GetPlayerId(scourgePlayers[4])])
    set CR0[GetPlayerId(scourgePlayers[5])] = GetUnitX(CT0[GetPlayerId(scourgePlayers[5])])
    set CP0[GetPlayerId(sentinelPlayers[1])] = GetUnitY(CT0[GetPlayerId(sentinelPlayers[1])])
    set CP0[GetPlayerId(sentinelPlayers[2])] = GetUnitY(CT0[GetPlayerId(sentinelPlayers[2])])
    set CP0[GetPlayerId(sentinelPlayers[3])] = GetUnitY(CT0[GetPlayerId(sentinelPlayers[3])])
    set CP0[GetPlayerId(sentinelPlayers[4])] = GetUnitY(CT0[GetPlayerId(sentinelPlayers[4])])
    set CP0[GetPlayerId(sentinelPlayers[5])] = GetUnitY(CT0[GetPlayerId(sentinelPlayers[5])])
    set CP0[GetPlayerId(scourgePlayers[1])] = GetUnitY(CT0[GetPlayerId(scourgePlayers[1])])
    set CP0[GetPlayerId(scourgePlayers[2])] = GetUnitY(CT0[GetPlayerId(scourgePlayers[2])])
    set CP0[GetPlayerId(scourgePlayers[3])] = GetUnitY(CT0[GetPlayerId(scourgePlayers[3])])
    set CP0[GetPlayerId(scourgePlayers[4])] = GetUnitY(CT0[GetPlayerId(scourgePlayers[4])])
    set CP0[GetPlayerId(scourgePlayers[5])] = GetUnitY(CT0[GetPlayerId(scourgePlayers[5])])
endfunction

function MKI takes unit GTI returns boolean 
    local integer ID = GetUnitTypeId(GTI)
    if ID == 'n00V' or ID == 'n00W' or ID == 'n002' or ID == 'n00X' or ID == 'nC38' or ID == 'n01K' or ID == 'n009' then
        return true
    endif
    return false
endfunction

function MLI takes nothing returns nothing
    if (GetOwningPlayer(GetEnumUnit()) == Player(0)) then
        call SetUnitOwner(GetEnumUnit(), sentinelPlayers[0], false)
        if MKI(GetEnumUnit()) == false then
            call SetUnitColor(GetEnumUnit(), ConvertPlayerColor(0))
        endif
    else 
        call SetUnitOwner(GetEnumUnit(), scourgePlayers[0], false)
        if MKI(GetEnumUnit()) == false then
            call SetUnitColor(GetEnumUnit(), ConvertPlayerColor(6))
        endif
    endif
endfunction

function MMI takes nothing returns nothing
    local group MNI = allocGroup()
    call GroupEnumUnitsOfPlayer(MNI, Player(0), Condition(function returnTrue1))
    call ForGroup(MNI, function MLI)
    call GroupClear(MNI)
    call GroupEnumUnitsOfPlayer(MNI, Player(6), Condition(function returnTrue1))
    call ForGroup(MNI, function MLI)
    call releaseGroup(MNI)
endfunction

function MSI takes player p returns nothing
    local integer i = 0
    local string MTI = GetPlayerName(p)
    local integer L7I = StringLength(MTI)
    local integer MRI = L7I
    loop
        exitwhen i == L7I
        if SubString(MTI, i, i + 1) == "(" and SubString(MTI, i - 1, i) == " " then
            set MRI = i - 1
            call SetPlayerName(p, SubString(MTI, 0, MRI))
            set i = L7I
        else 
            set i = i + 1
        endif
    endloop
endfunction

function MPI takes nothing returns nothing
    local integer MQI
    local integer MUI
    local integer EUI
    local integer F0I
    local integer x = 0
    local integer y = 0
    local integer i
    local trigger t
    local location N0I = GetRectCenter(T4)
    local location NII = GetRectCenter(R4)
    if GetPlayerState(sentinelPlayers[0], PLAYER_STATE_OBSERVER) != 0 or GetPlayerState(scourgePlayers[0], PLAYER_STATE_OBSERVER) != 0 then
        set E2 = true
        set sentinelPlayers[0] = Player(13)
        set scourgePlayers[0] = Player(14)
        set CQ0 = Player(0)
        set CU0 = Player(6)
        call SetAllyColorFilterState(0)
        loop
            exitwhen x > 5
            call SetPlayerAlliance(Player(0), sentinelPlayers[x], ConvertAllianceType(0), true)
            call SetPlayerAlliance(Player(0), sentinelPlayers[x], ConvertAllianceType(4), true)
            call SetPlayerAlliance(Player(0), scourgePlayers[x], ConvertAllianceType(0), false)
            call SetPlayerAlliance(Player(0), scourgePlayers[x], ConvertAllianceType(4), false)
            set x = x + 1
        endloop
    endif
    call ForceAddPlayer(AO, sentinelPlayers[0])
    call ForceAddPlayer(AO, sentinelPlayers[1])
    call ForceAddPlayer(AO, sentinelPlayers[2])
    call ForceAddPlayer(AO, sentinelPlayers[3])
    call ForceAddPlayer(AO, sentinelPlayers[4])
    call ForceAddPlayer(AO, sentinelPlayers[5])
    call ForceAddPlayer(BO, scourgePlayers[0])
    call ForceAddPlayer(BO, scourgePlayers[1])
    call ForceAddPlayer(BO, scourgePlayers[2])
    call ForceAddPlayer(BO, scourgePlayers[3])
    call ForceAddPlayer(BO, scourgePlayers[4])
    call ForceAddPlayer(BO, scourgePlayers[5])
    call ForceAddPlayer(forceAllPlayers, sentinelPlayers[1])
    call ForceAddPlayer(forceAllPlayers, sentinelPlayers[2])
    call ForceAddPlayer(forceAllPlayers, sentinelPlayers[3])
    call ForceAddPlayer(forceAllPlayers, sentinelPlayers[4])
    call ForceAddPlayer(forceAllPlayers, sentinelPlayers[5])
    call ForceAddPlayer(forceAllPlayers, scourgePlayers[1])
    call ForceAddPlayer(forceAllPlayers, scourgePlayers[2])
    call ForceAddPlayer(forceAllPlayers, scourgePlayers[3])
    call ForceAddPlayer(forceAllPlayers, scourgePlayers[4])
    call ForceAddPlayer(forceAllPlayers, scourgePlayers[5])
    if E2 then
        call ForceAddPlayer(forceAllPlayers, Player(0))
        call ForceAddPlayer(forceAllPlayers, Player(6))
    endif
    set x = 0
    set y = 0
    loop
        exitwhen x > 5
        loop
            exitwhen y > 5
            if (x != y) then
                call SetPlayerAlliance(sentinelPlayers[x], sentinelPlayers[y], ConvertAllianceType(0), true)
                call SetPlayerAlliance(sentinelPlayers[x], sentinelPlayers[y], ConvertAllianceType(1), true)
                call SetPlayerAlliance(sentinelPlayers[x], sentinelPlayers[y], ConvertAllianceType(2), true)
                call SetPlayerAlliance(sentinelPlayers[x], sentinelPlayers[y], ConvertAllianceType(3), true)
                call SetPlayerAlliance(sentinelPlayers[x], sentinelPlayers[y], ConvertAllianceType(4), true)
                call SetPlayerAlliance(sentinelPlayers[x], sentinelPlayers[y], ConvertAllianceType(5), true)
                call SetPlayerAlliance(sentinelPlayers[x], sentinelPlayers[y], ConvertAllianceType(6), false)
                call SetPlayerAlliance(sentinelPlayers[x], sentinelPlayers[y], ConvertAllianceType(7), false)
                call SetPlayerAlliance(scourgePlayers[x], scourgePlayers[y], ConvertAllianceType(0), true)
                call SetPlayerAlliance(scourgePlayers[x], scourgePlayers[y], ConvertAllianceType(1), true)
                call SetPlayerAlliance(scourgePlayers[x], scourgePlayers[y], ConvertAllianceType(2), true)
                call SetPlayerAlliance(scourgePlayers[x], scourgePlayers[y], ConvertAllianceType(3), true)
                call SetPlayerAlliance(scourgePlayers[x], scourgePlayers[y], ConvertAllianceType(4), true)
                call SetPlayerAlliance(scourgePlayers[x], scourgePlayers[y], ConvertAllianceType(5), true)
                call SetPlayerAlliance(scourgePlayers[x], scourgePlayers[y], ConvertAllianceType(6), false)
                call SetPlayerAlliance(scourgePlayers[x], scourgePlayers[y], ConvertAllianceType(7), false)
                call SetPlayerAlliance(sentinelPlayers[x], scourgePlayers[y], ConvertAllianceType(0), false)
                call SetPlayerAlliance(sentinelPlayers[x], scourgePlayers[y], ConvertAllianceType(1), false)
                call SetPlayerAlliance(sentinelPlayers[x], scourgePlayers[y], ConvertAllianceType(2), false)
                call SetPlayerAlliance(sentinelPlayers[x], scourgePlayers[y], ConvertAllianceType(3), false)
                call SetPlayerAlliance(sentinelPlayers[x], scourgePlayers[y], ConvertAllianceType(4), false)
                call SetPlayerAlliance(sentinelPlayers[x], scourgePlayers[y], ConvertAllianceType(5), false)
                call SetPlayerAlliance(sentinelPlayers[x], scourgePlayers[y], ConvertAllianceType(6), false)
                call SetPlayerAlliance(sentinelPlayers[x], scourgePlayers[y], ConvertAllianceType(7), false)
                call SetPlayerAlliance(scourgePlayers[x], sentinelPlayers[y], ConvertAllianceType(0), false)
                call SetPlayerAlliance(scourgePlayers[x], sentinelPlayers[y], ConvertAllianceType(1), false)
                call SetPlayerAlliance(scourgePlayers[x], sentinelPlayers[y], ConvertAllianceType(2), false)
                call SetPlayerAlliance(scourgePlayers[x], sentinelPlayers[y], ConvertAllianceType(3), false)
                call SetPlayerAlliance(scourgePlayers[x], sentinelPlayers[y], ConvertAllianceType(4), false)
                call SetPlayerAlliance(scourgePlayers[x], sentinelPlayers[y], ConvertAllianceType(5), false)
                call SetPlayerAlliance(scourgePlayers[x], sentinelPlayers[y], ConvertAllianceType(6), false)
                call SetPlayerAlliance(scourgePlayers[x], sentinelPlayers[y], ConvertAllianceType(7), false)
            endif
            set y = y + 1
        endloop
        set y = 0
        set x = x + 1
    endloop
    call SetPlayerTeam(sentinelPlayers[0], 0)
    call SetPlayerTeam(sentinelPlayers[1], 0)
    call SetPlayerTeam(sentinelPlayers[2], 0)
    call SetPlayerTeam(sentinelPlayers[3], 0)
    call SetPlayerTeam(sentinelPlayers[4], 0)
    call SetPlayerTeam(sentinelPlayers[5], 0)
    call SetPlayerTeam(scourgePlayers[0], 1)
    call SetPlayerTeam(scourgePlayers[1], 1)
    call SetPlayerTeam(scourgePlayers[2], 1)
    call SetPlayerTeam(scourgePlayers[3], 1)
    call SetPlayerTeam(scourgePlayers[4], 1)
    call SetPlayerTeam(scourgePlayers[5], 1)
    call SetPlayerName(sentinelPlayers[0], GetObjectName('n03N'))
    call SetPlayerName(scourgePlayers[0], GetObjectName('n03O'))
    call SetPlayerName(playerNeutrals, GetObjectName('n0E8'))
    call MJI()
    if (sentinelPlayers[0] != Player(0) or scourgePlayers[0] != Player(6)) then
        call MMI()
    endif
    call MYI()
    set MUI = ESI(AO)
    set MQI = ESI(BO)
    set EUI = 1
    set F0I = 5
    loop
        exitwhen EUI > F0I
        if isPlayerAlive(sentinelPlayers[EUI]) then
            call SetPlayerState(sentinelPlayers[EUI], PLAYER_STATE_RESOURCE_GOLD, (4265/MUI))
            call SetPlayerState(sentinelPlayers[EUI], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        if isPlayerAlive(scourgePlayers[EUI]) then
            call SetPlayerState(scourgePlayers[EUI], PLAYER_STATE_RESOURCE_GOLD, (4265/MQI))
            call SetPlayerState(scourgePlayers[EUI], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        set EUI = EUI + 1
    endloop
    call SetPlayerHandicapXP(sentinelPlayers[1], 1)
    call SetPlayerHandicapXP(sentinelPlayers[2], 1)
    call SetPlayerHandicapXP(sentinelPlayers[3], 1)
    call SetPlayerHandicapXP(sentinelPlayers[4], 1)
    call SetPlayerHandicapXP(sentinelPlayers[5], 1)
    call SetPlayerHandicapXP(scourgePlayers[1], 1)
    call SetPlayerHandicapXP(scourgePlayers[2], 1)
    call SetPlayerHandicapXP(scourgePlayers[3], 1)
    call SetPlayerHandicapXP(scourgePlayers[4], 1)
    call SetPlayerHandicapXP(scourgePlayers[5], 1)
    call SetPlayerState(sentinelPlayers[0], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(sentinelPlayers[2], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(sentinelPlayers[3], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(sentinelPlayers[4], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(sentinelPlayers[5], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(scourgePlayers[0], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(scourgePlayers[1], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(scourgePlayers[2], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(scourgePlayers[3], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(scourgePlayers[4], PLAYER_STATE_GIVES_BOUNTY, 1)
    call SetPlayerState(scourgePlayers[5], PLAYER_STATE_GIVES_BOUNTY, 1)
    call findFirstPlayerAlive()
    call MXI()
    call MSI(sentinelPlayers[1])
    call MSI(sentinelPlayers[2])
    call MSI(sentinelPlayers[3])
    call MSI(sentinelPlayers[4])
    call MSI(sentinelPlayers[5])
    call MSI(scourgePlayers[1])
    call MSI(scourgePlayers[2])
    call MSI(scourgePlayers[3])
    call MSI(scourgePlayers[4])
    call MSI(scourgePlayers[5])
    set x = 1
    loop
        exitwhen x > 5
        if isPlayerAlive(sentinelPlayers[x]) then
            call CreateUnitAtLoc(sentinelPlayers[x], 'n00C', N0I, bj_UNIT_FACING)
        endif
        if isPlayerAlive(scourgePlayers[x]) then
            call CreateUnitAtLoc(scourgePlayers[x], 'n00C', NII, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    set i = 0
    loop
        set playerName[i] = GetPlayerName(Player(i))
        set i = i + 1
        exitwhen i == 16
    endloop
    set N0I = null
    set NII = null
endfunction

function InitTrig_Player takes nothing returns nothing
    call MPI()
endfunction

function N1I takes nothing returns nothing
    local integer i = 1
    set D40 = 1
    set heroId[1] = 'Hvwd'
    set heroSelectorId[1] = 'h03Z'
    set heroNameUnitId[1] = 'n09U'
    set heroPic[1] = "ReplaceableTextures\\CommandButtons\\BTNAvengingWatcher.blp"
    call setUnitAnim(heroId[1], "stand 4")
    call setHeroScaleAndSelector(heroId[1], 1.35, heroSelectorId[1])
    set heroHelp1[i] = "Cheap items such as Bracers, Bottle and Magic Stick help give Vengeful Spirit what she needs to use Magic Missile and Swap safely and frequently."
    set heroHelp2[i] = "By getting Magic Missile first, Vengeful Spirit should take advantage of this powerful stun by moving around the map instead of simply farming in a lane."
    set heroHelp3[i] = "It sometimes a good idea to save the Command Aura for later in the game when it will give your team more damage."
    set heroHelp4[i] = "Wave of Terror is used to provide sight, giving you vision over an area or providing an opportunity to use Swap."
    set heroHelp5[i] = "Swap will allow you to isolate a key hero on their team, sometimes your sacrifice is needed to win the battle and maybe even the game."
    set i = i + 1
    set heroId[2] = 'Hmbr'
    set heroSelectorId[2] = 'h040'
    set heroNameUnitId[2] = 'n09A'
    set heroPic[2] = "ReplaceableTextures\\CommandButtons\\BTNAvatar.blp"
    call setUnitAnim(heroId[2], "attack slam alternate")
    call setHeroScaleAndSelector(heroId[2], 1.3, heroSelectorId[2])
    set heroHelp1[i] = "When using Arc lightning, try to kill creeps and harass your opponent at the same time"
    set heroHelp2[i] = "When ganking, you can use Lightning Bolt to ensure you will not lose sight of the target quickly."
    set heroHelp3[i] = "Lightning Bolt has a mini-stun that can be used against channeling spells and teleporting heroes."
    set heroHelp4[i] = "Static Field is extremely powerful throughout the game: Use your spells as frequently as possible during fights."
    set heroHelp5[i] = "Both Lightning Bolt and Wrath of the Thundergod reveal invisible units. Wrath will not damage invisible units."
    set i = i + 1
    set heroId[3] = 'Emoo'
    set heroSelectorId[3] = 'h041'
    set heroNameUnitId[3] = 'n099'
    set heroPic[3] = "ReplaceableTextures\\CommandButtons\\BTNDryad.blp"
    call setUnitAnim(heroId[3], "stand 4")
    call setHeroScaleAndSelector(heroId[3], 1, heroSelectorId[3])
    set heroHelp1[i] = "Enchant can be used on neutral creeps, meaning Enchantress can fight and use neutral creeps to engage enemy heroes effectively."
    set heroHelp2[i] = "Nature's Attendants heals in an area AOE, so make sure you're far from creeps if you only want to heal yourself."
    set heroHelp3[i] = "Untouchable is great against physical attacks, but it does not help you survive huge burst damage nukes."
    set heroHelp4[i] = "Impetus deals negligible damage at short range; switch to normal attacks if your target gets close to save mana."
    set heroHelp5[i] = "Impetus deals pure damage, making it a great tool against heroes with a lot of resistance because it is not reduced."
    set i = i + 1
    set heroId[4] = 'O00P'
    set heroSelectorId[4] = 'h042'
    set heroNameUnitId[4] = 'n098'
    set heroPic[4] = "ReplaceableTextures\\CommandButtons\\BTNSeaElemental.blp"
    call setUnitAnim(heroId[4], "stand 2")
    call setHeroScaleAndSelector(heroId[4], 1, heroSelectorId[4])
    set heroHelp1[i] = "Waveform is extremely powerful: Used for damage, chasing, escaping, it even allows you to dodge some spells by casting it at the right time."
    set heroHelp2[i] = "Morph allows you to manipulate your Agility and Strength. Using the Strength Morph ('F') can act as a heal to help you survive between spells."
    set heroHelp3[i] = "Use Morph Replicate to take the location of your Replicated unit, making it great for a quick escape or simply as a free teleport."
    set heroHelp4[i] = "Replicate is usually cast on the strongest ally or enemy to a fight. Certain hero passives or items will retain their effects, so Replicate those heroes."
    set heroHelp5[i] = "Eye of Skadi and Linken's Sphere are two examples of Statistic-increasing items which give Morphling a lot of versatility and the ability to cast spells often."
    set i = i + 1
    set heroId[5] = 'Hjai'
    set heroSelectorId[5] = 'h043'
    set heroNameUnitId[5] = 'n09W'
    set heroPic[5] = "ReplaceableTextures\\CommandButtons\\BTNJaina.blp"
    call setUnitAnim(heroId[5], "stand victory")
    call setHeroScaleAndSelector(heroId[5], 1, heroSelectorId[5])
    set heroHelp1[i] = "CM is a fragile support hero: Items like Bracers and Phase Boots will help her survive and deal with her low movement speed and armor."
    set heroHelp2[i] = "A few points of Brilliance Aura early on provides your team with massive amounts of extra mana."
    set heroHelp3[i] = "Enemies hit by Frostbite can still cast spells, so don't take them lightly. "
    set heroHelp4[i] = "Frostbite on non-hero units will last 10 seconds. This can be useful for killing neutral creeps that are level 5 or lower as well."
    set heroHelp5[i] = "There are two items that can help you with the perfect Freezing Field: Placement with Kelen's Dagger and the spell immunity of Black King Bar."
    set i = i + 1
    set heroId[6] = 'H001'
    set heroSelectorId[6] = 'h044'
    set heroNameUnitId[6] = 'n096'
    set heroPic[6] = "ReplaceableTextures\\CommandButtons\\BTNFelGuardBlue.tga"
    call setUnitAnim(heroId[6], "spell")
    call setHeroScaleAndSelector(heroId[6], 1, heroSelectorId[6])
    set heroHelp1[i] = "Storm Bolt is a skill Sven should usually get early because of its damage and stun. "
    set heroHelp2[i] = "Take advantage of Storm Bolt's area of effect by hitting additional enemy creeps and heroes whenever possible. "
    set heroHelp3[i] = "Try to be near your allies when you cast Warcry."
    set heroHelp4[i] = "Only items that increase Strength will give you additional damage from effect of God's Strength."
    set heroHelp5[i] = "Casting God's Strength before engaging in fights or casting Storm Bolt will allow you to get additional attacks on your opponent."
    set i = i + 1
    set heroId[7] = 'HC49'
    set heroSelectorId[7] = 'h045'
    set heroNameUnitId[7] = 'n09P'
    set heroPic[7] = "ReplaceableTextures\\CommandButtons\\BTNSeaWitch.blp"
    call setUnitAnim(heroId[7], "spell")
    call setHeroScaleAndSelector(heroId[7], 1, heroSelectorId[7])
    set heroHelp1[i] = "Opponents can attack and cast spells while Ensnared. However, it will work on magic immune units and reveal invisible heroes until the duration expires."
    set heroHelp2[i] = "Mirror Image can be used defensively to avoid certain spells and dispel debuffs or channeling spells."
    set heroHelp3[i] = "Items that provide attribute bonuses improve your Image's power."
    set heroHelp4[i] = "Enemies caught by Song of the Siren are invulnerable while asleep. Save your attacks and spells for after the spell expires."
    set heroHelp5[i] = "Use Song of the Siren to isolate a magic immune or Cycloned hero (since they will not be affected), or to demolish buildings while enemies are asleep."
    set i = i + 1
    set heroId[8] = 'Otch'
    set heroSelectorId[8] = 'h046'
    set heroNameUnitId[8] = 'n09D'
    set heroPic[8] = "ReplaceableTextures\\CommandButtons\\BTNTauren.blp"
    call setUnitAnim(heroId[8], "attack slam")
    call setHeroScaleAndSelector(heroId[8], 1.1, heroSelectorId[8])
    set heroHelp1[i] = "Although he's a strength hero, Earthshaker (ES) actually plays more like a caster. Damage items are not very useful, but mana items can be nice."
    set heroHelp2[i] = "A good cast of Fissure can isolate an opponent and cut off their escape. Practice often to achieve devastating results."
    set heroHelp3[i] = "Kelen's Dagger is an incredible item on ES, it allows you to quickly position yourself for the perfect Fissure or Echoslam."
    set heroHelp4[i] = "The timing of your spells is important, by spacing them out properly you can keep a group of heroes disabled for several seconds."
    set heroHelp5[i] = "Due to Raigor's ability to split up an enemy team and keep them stunned, he is great for initiating fights."
    set i = i + 1
    set heroId[9] = 'HC92'
    set heroSelectorId[9] = 'h047'
    set heroNameUnitId[9] = 'n09X'
    set heroPic[9] = "ReplaceableTextures\\CommandButtons\\BTNSatyrTrickster.blp"
    call setUnitAnim(heroId[9], "stand 4")
    call setHeroScaleAndSelector(heroId[9], 1, heroSelectorId[9])
    set heroHelp1[i] = "Getting at least one level of Blink Strike and Smoke Screen help you survive to level 6 when you can learn Permanent Invisibility."
    set heroHelp2[i] = "Attacking or using your spells makes you visible: Consider the fade time of Permanent Invisibility before placing yourself at risk."
    set heroHelp3[i] = "Try to position Smoke Screen slightly behind enemies so that they spend more time in the cloud if they retreat."
    set heroHelp4[i] = "Wraith Bands and later a Yasha or a Diffusal Blade will provide Rikimaru with cheap damage and chasing power for dispatching fragile heroes quickly."
    set heroHelp5[i] = "Be careful of items that render you visible, such as Dust of Appearance, Sentry Wards or a Gem of True Sight."
    set i = i + 1
    set heroId[10] = 'N01O'
    set heroSelectorId[10] = 'h048'
    set heroNameUnitId[10] = 'n09Y'
    set heroPic[10] = "ReplaceableTextures\\CommandButtons\\BTNDruidOfTheClaw.blp"
    call setUnitAnim(heroId[10], "spell slam")
    call setHeroScaleAndSelector(heroId[10], 1, heroSelectorId[10])
    call setHeroScaleAndSelector('n013', 1.1, heroSelectorId[10])
    call setHeroScaleAndSelector('n014', 1.2, heroSelectorId[10])
    call setHeroScaleAndSelector('n015', 1.3, heroSelectorId[10])
    call setHeroScaleAndSelector('n004', 1, heroSelectorId[10])
    call setHeroScaleAndSelector('n018', 1.1, heroSelectorId[10])
    call setHeroScaleAndSelector('n01C', 1.2, heroSelectorId[10])
    call setHeroScaleAndSelector('n01G', 1.3, heroSelectorId[10])
    set heroHelp1[i] = "Spirit Bear is great to have in the lane and allowing Syllabear to fight neutral creeps because of its high HP and damage. "
    set heroHelp2[i] = "Leveling Spirit Bear also gets various bonuses that make it very powerful for fighting heroes and towers so it is usually the first thing to max out."
    set heroHelp3[i] = "Your Spirit Bear might be able to handle a lot of damage, but if it dies you will also take damage (100 X its level). If you die, it dies as well."
    set heroHelp4[i] = "Give items to your bear instead of Syllabear since it is usually engaging the enemy for you. Remember that stat-increasing items do not benefit the bear."
    set heroHelp5[i] = "True Form gives Syllabear massive HP in his melee form, and Rabid and Battle Cry give both him and his Bear huge damage temporarily."
    set i = i + 1
    set heroId[11] = 'H004'
    set heroSelectorId[11] = 'h049'
    set heroNameUnitId[11] = 'n09Z'
    set heroPic[11] = "ReplaceableTextures\\CommandButtons\\BTNSorceress.blp"
    call setUnitAnim(heroId[11], "stand victory")
    call setHeroScaleAndSelector(heroId[11], 1.2, heroSelectorId[11])
    set heroHelp1[i] = "Light Strike Array is usually a good skill to get at level 1 because it provides you with a stun."
    set heroHelp2[i] = "Target the ground in their direction instead of clicking on enemies to maximize Dragon Slave's long range."
    set heroHelp3[i] = "Cheap items will help Lina do her job: Bracers, Bottle, Phase Boots. A Point booster provides a nice HP/mana bonus for its cost."
    set heroHelp4[i] = "Fiery Soul can help you maneuver better during a fight."
    set heroHelp5[i] = "Try to stun as many heroes as possible during team fights"
    set i = i + 1
    set heroId[12] = 'Nbbc'
    set heroSelectorId[12] = 'h04A'
    set heroNameUnitId[12] = 'n0A5'
    set heroPic[12] = "ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"
    call setUnitAnim(heroId[12], "stand victory")
    call setHeroScaleAndSelector(heroId[12], 1, heroSelectorId[12])
    set heroHelp1[i] = "Blade Fury is your most important skill early game for getting hero kills and avoiding magic damage."
    set heroHelp2[i] = "Avoid follow-command (right-clicking) heroes with Blade Fury and instead click the ground near the opponent."
    set heroHelp3[i] = "Isolate enemy heroes before using Omnislash to prevent Juggernaut from attacking multiple targets and doing less damage."
    set heroHelp4[i] = "Increasing your attack speed will give you 'extra attacks' during Omnislash, which are treated like a normal attack (in terms of damage and orb effects)."
    set heroHelp5[i] = "Protect the 1-HP Healing Ward in battles and it can prolong and save the lives of your entire team."
    set i = i + 1
    set heroId[13] = 'N01A'
    set heroSelectorId[13] = 'h04B'
    set heroNameUnitId[13] = 'n097'
    set heroPic[13] = "ReplaceableTextures\\CommandButtons\\BTNSpellBreaker.blp"
    call setUnitAnim(heroId[13], "stand ready")
    call setHeroScaleAndSelector(heroId[13], 1, heroSelectorId[13])
    set heroHelp1[i] = "Glaives of Wisdom is useful to get early because it is useful for killing creeps and harassing your opponent manually ('W' and then the target)."
    set heroHelp2[i] = "Curse of the Silent will cause an enemy to lose HP/mana if they do not choose to use their spells, or cannot use their spells (disabled, silenced, cooldown)."
    set heroHelp3[i] = "Last Word will prevent enemies from using multiple spells on you and your team at the same time provided you get close enough."
    set heroHelp4[i] = "Global Silence can be used for initiating on enemies or saving allies early on. Try to pay attention to your teammates and enemies, even those not nearby."
    set heroHelp5[i] = "Global Silence will also give your allies the opportunity in team battles to use their spells without repercussions - making it a powerful control spell."
    set i = i + 1
    set heroId[14] = 'Hamg'
    set heroSelectorId[14] = 'h04C'
    set heroNameUnitId[14] = 'n09F'
    set heroPic[14] = "ReplaceableTextures\\CommandButtons\\BTNTreant.blp"
    call setUnitAnim(heroId[14], "stand 3")
    call setHeroScaleAndSelector(heroId[14], 0.72, heroSelectorId[14])
    set heroHelp1[i] = "Thanks to his high base damage and survivability, Rooftrellen can usually obtain high-tier damage or caster items depending on the needs of the team."
    set heroHelp2[i] = "Living armor adds significant defensive bonuses to an allied unit. It can even be cast on buildings to make them more resilient and provide regeneration."
    set heroHelp3[i] = "Nature's Guise is more than an escape tool, it can be used offensively as well. Use it to position allies and yourself near trees before surprising the enemy."
    set heroHelp4[i] = "Use Eyes in the Forest whenever you can to gain vision of key locations such as the rune spots, neutral creep camps and Roshan."
    set heroHelp5[i] = "Enemies under the effect of Overgrowth can still use spells and items, so make sure your team acts quickly while enemies remain immobilized."
    set i = i + 1
    set heroId[15] = 'O015'
    set heroSelectorId[15] = 'h07P'
    set heroNameUnitId[15] = 'n0GC'
    set heroPic[15] = "ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"
    call setUnitAnim(heroId[15], "stand victory")
    call setHeroScaleAndSelector(heroId[15], 1.1, heroSelectorId[15])
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[16] = 'Hblm'
    set heroSelectorId[16] = 'h04E'
    set heroNameUnitId[16] = 'n09G'
    set heroPic[16] = "ReplaceableTextures\\CommandButtons\\BTNHeroArchMage.blp"
    call setUnitAnim(heroId[16], "stand victory")
    call setHeroScaleAndSelector(heroId[16], 1.2, heroSelectorId[16])
    call setHeroScaleAndSelector('H06X', 1.5, heroSelectorId[16])
    call setHeroScaleAndSelector('H06Y', 1.5, heroSelectorId[16])
    call setHeroScaleAndSelector('H06W', 1.5, heroSelectorId[16])
    set heroHelp1[i] = "Chakra Magic is an amazing support skill that you should cast on allies as often as possible if they have powerful spells."
    set heroHelp2[i] = "Illuminate can be useful for earning gold or clearing creeps quickly, but channeling the blast can leave you vulnerable. "
    set heroHelp3[i] = "Mana Leak gives you the offensive: An enemy that moves loses his resources to cast spells, but if he does not, you can punish him with spells and attacks."
    set heroHelp4[i] = "When in your Spirit Form, use Blinding Light to push enemies aside, and Recall for saving or calling on the assistance of an ally."
    set heroHelp5[i] = "Keeper of the Light usually needs to stay back in fights and make use of the long range of his spells as a support hero when pushing and defending."
    set i = i + 1
    set heroId[17] = 'Huth'
    set heroSelectorId[17] = 'h04F'
    set heroNameUnitId[17] = 'n09V'
    set heroPic[17] = "ReplaceableTextures\\CommandButtons\\BTNFurbolgTracker.blp"
    call setUnitAnim(heroId[17], "attack spell")
    call setHeroScaleAndSelector(heroId[17], 1.2, heroSelectorId[17])
    set heroHelp1[i] = "Get Fury Swipes and Overpower early. Fury Swipes is a very powerful orb effect on Ursa, replacing it with another is not advised."
    set heroHelp2[i] = "Ursa is a very effective hero to fight neutral creeps with: Vladimir's Offering is a recommended item choice."
    set heroHelp3[i] = "Thanks to Enrage, Ursa usually purchases items that increase HP or Strength over Agility and Damage items."
    set heroHelp4[i] = "It is a good idea to fight the two ancient camps when you need a quick boost in experience and gold. They are marked red in your minimap."
    set heroHelp5[i] = "Certain items like Kelen's Dagger and Lothar's Edge will help both close the distance on enemies and take them by surprise."
    set i = i + 1
    set heroId[18] = 'Hmkg'
    set heroSelectorId[18] = 'h04G'
    set heroNameUnitId[18] = 'n0A1'
    set heroPic[18] = "ReplaceableTextures\\CommandButtons\\BTNOgreMagi.blp"
    call setUnitAnim(heroId[18], "sleep")
    call setHeroScaleAndSelector(heroId[18], 1.4, heroSelectorId[18])
    set heroHelp1[i] = "Buying a few Clarity Potions, Ring of Basilius or Bottle in the beginning of the game will help you cast a few more spells."
    set heroHelp2[i] = "Fireblast provides a disable, Ignite provides a slow. Both deal damage, usually making them good skills early."
    set heroHelp3[i] = "Ogre Magi has a lot of survivability but he does need the ability to use his spells: An Arcane Ring might be the only item you will need all game."
    set heroHelp4[i] = "Use Bloodlust to help teammates chase and escape enemies and on the hero capable of dealing the most damage before major battles."
    set heroHelp5[i] = "Focus heroes that need to be shut down quickly with Fireblast: Hopefully they are repeatedly damaged and disabled by the effect of Multicast."
    set i = i + 1
    set heroId[19] = 'Ntin'
    set heroSelectorId[19] = 'h04H'
    set heroNameUnitId[19] = 'n0AA'
    set heroPic[19] = "ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp"
    call setUnitAnim(heroId[19], "stand 2")
    call setHeroScaleAndSelector(heroId[19], 1, heroSelectorId[19])
    set heroHelp1[i] = "Laser and Missile give Tinker massive burst damage, so it is usually a good idea to get these two skills before Rearm, your ultimate."
    set heroHelp2[i] = "Laser is not reduced by magic resistance or armor; you deal the number in the description exactly."
    set heroHelp3[i] = "You can use the active effects of items indefinitely with Rearm, which makes Boots of Travel a very powerful item for Tinker."
    set heroHelp4[i] = "March of the Machines can be very useful for killing creeps quickly, its large area of effect makes it useful for pushing and team fights."
    set heroHelp5[i] = "Level 1 of Rearm is generally enough until much later when you have the mana pool to support levels 2 and 3."
    set i = i + 1
    set heroId[20] = 'Emns'
    set heroSelectorId[20] = 'h04I'
    set heroNameUnitId[20] = 'n0A4'
    set heroPic[20] = "ReplaceableTextures\\CommandButtons\\BTNFurion.blp"
    call setUnitAnim(heroId[20], "spell")
    call setHeroScaleAndSelector(heroId[20], 1.2, heroSelectorId[20])
    set heroHelp1[i] = "Get Force of Nature early if you plan on leaving the lane to kill neutral creeps. Start with a Ring of Basilius to provide you with mana and armor."
    set heroHelp2[i] = "Invest points in Teleportation, it gives you the mobility to be anywhere in the map: Cancel the spell if you change your mind by clicking 'S'."
    set heroHelp3[i] = "Sprout can be extremely useful offensively and defensively so get at least one point in it. Higher levels increase the duration but also the mana cost."
    set heroHelp4[i] = "Teleportation shows allies and enemies where you intend to go, so if you want to surprise enemies, teleport where they cannot see."
    set heroHelp5[i] = "Wrath of Nature is a great farming tool but also a powerful nuke on enemy heroes: Hit other units nearby to deal more damage to the intended target."
    set i = i + 1
    set heroId[21] = 'Ogrh'
    set heroSelectorId[21] = 'h04J'
    set heroNameUnitId[21] = 'n0A3'
    set heroPic[21] = "ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"
    call setUnitAnim(heroId[21], "stand victory")
    call setHeroScaleAndSelector(heroId[21], 1, heroSelectorId[21])
    set heroHelp1[i] = "Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."
    set heroHelp2[i] = "Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."
    set heroHelp3[i] = "Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."
    set heroHelp4[i] = "Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."
    set heroHelp5[i] = "Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."
    set i = i + 1
    set heroId[22] = 'Ucrl'
    set heroSelectorId[22] = 'h04K'
    set heroNameUnitId[22] = 'n0A7'
    set heroPic[22] = "ReplaceableTextures\\CommandButtons\\BTNMountainGiant.blp"
    call setUnitAnim(heroId[22], "spell")
    call setHeroScaleAndSelector(heroId[22], 0.5, heroSelectorId[22])
    set heroHelp1[i] = "Buy items that give you at least 3 Intelligence or 39 mana in the beginning of the game so that you can use both of your spells at level 2."
    set heroHelp2[i] = "Avalanche and Toss should be the two spells you level first because they make you a force to be reckoned with early game."
    set heroHelp3[i] = "You can sometimes kill a hero outright by casting Avalanche on him, and then Tossing him on the Avalanche area of effect before the animation ends."
    set heroHelp4[i] = "To ensure that you Toss your desired target, isolate him by making him the only one in the area of effect. Kelen's Dagger can help you with placement."
    set heroHelp5[i] = "Tiny deals most of his damage through Avalanche and Toss, so the reduced attack speed from Grow is less important than the bonuses given."
    set i = i + 1
    set heroId[23] = 'H00K'
    set heroSelectorId[23] = 'h04L'
    set heroNameUnitId[23] = 'n0A9'
    set heroPic[23] = "ReplaceableTextures\\CommandButtons\\BTNGoblinSapper.blp"
    call setUnitAnim(heroId[23], "stand 2")
    call setHeroScaleAndSelector(heroId[23], 1, heroSelectorId[23])
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[24] = 'H00A'
    set heroSelectorId[24] = 'h04M'
    set heroNameUnitId[24] = 'n0AB'
    set heroPic[24] = "ReplaceableTextures\\CommandButtons\\BTNHeroFarseer.blp"
    call setUnitAnim(heroId[24], "spell chain lightning")
    call setHeroScaleAndSelector(heroId[24], 1, heroSelectorId[24])
    set heroHelp1[i] = "Chen can take control of high level neutral creeps with Holy Persuasion, making him extremely powerful at low levels even without items."
    set heroHelp2[i] = "Neutrals with special abilities usually are more useful, try to find out what has a disable or slow as this will be much better for attacking heroes with."
    set heroHelp3[i] = "When preparing to attack from the forest, start with Penitence to slow enemies. Engage enemies from the side or from behind to catch them off guard."
    set heroHelp4[i] = "Chen excels as a support hero, items that contribute to teammates such as Mekansm usually benefit the team more than damage items."
    set heroHelp5[i] = "Hand of God is really useful early on for helping allies across the map. Later, it can be used to assist with pushing or defending."
    set i = i + 1
    set heroId[25] = 'E005'
    set heroSelectorId[25] = 'h04N'
    set heroNameUnitId[25] = 'n0BE'
    set heroPic[25] = "ReplaceableTextures\\CommandButtons\\BTNHuntress.blp"
    call setUnitAnim(heroId[25], "spell")
    call setHeroScaleAndSelector(heroId[25], 1, heroSelectorId[25])
    set heroHelp1[i] = "The level of Lucent Beam determines the damage of Eclipse, making it the most important spell to get first. "
    set heroHelp2[i] = "Moon Glaives can be useful early if you plan to kill neutral creeps. Lifesteal items like Helm of the Dominator can help you survive against neutral creeps."
    set heroHelp3[i] = "Try to cast Eclipse on enemy heroes when other units are not present to maximize the damage dealt to a single target. "
    set heroHelp4[i] = "Later on with some attack speed, Lunar Blessing and Moon Glaives provide you with both massive damage and pushing power."
    set heroHelp5[i] = "You should also consider items that allow you to land Eclipse successfully and increase your carry potential in battles, such as a Black King Bar."
    set i = i + 1
    set heroId[26] = 'Usyl'
    set heroSelectorId[26] = 'h04O'
    set heroNameUnitId[26] = 'n0BD'
    set heroPic[26] = "ReplaceableTextures\\CommandButtons\\BTNRifleman.blp"
    call setUnitAnim(heroId[26], "spell")
    call setHeroScaleAndSelector(heroId[26], 1.1, heroSelectorId[26])
    set heroHelp1[i] = "Headshot will provide you with bonus damage and a short stun, making it useful for killing creeps and harassing with his incredible attack animation."
    set heroHelp2[i] = "Sniper usually needs to find a combination of damage, attack speed and survivability that allow him to deal significant damage but survive to do so."
    set heroHelp3[i] = "Sniper is very fragile so he needs to maintain his range. Getting Take Aim and/or Shrapnel can help provide means of staying out of harm's way."
    set heroHelp4[i] = "Shrapenl can also be used for slowing opponents, pushing or defending against large waves of creeps."
    set heroHelp5[i] = "Try to use Assassinate to heavily damage an enemy before the fight even begins to give your team an advantage."
    set i = i + 1
    set heroId[27] = 'N016'
    set heroSelectorId[27] = 'h04P'
    set heroNameUnitId[27] = 'n0A8'
    set heroPic[27] = "ReplaceableTextures\\CommandButtons\\BTNForestTroll.blp"
    call setUnitAnim(heroId[27], "stand 3")
    call setHeroScaleAndSelector(heroId[27], 1.25, heroSelectorId[27])
    call setHeroScaleAndSelector('N02B', 1.25, heroSelectorId[27])
    call setHeroScaleAndSelector('N017', 1.25, heroSelectorId[27])
    set heroHelp1[i] = "Berserker's Rage gives Troll the option of melee combat, which gives him many powerful offensive bonuses at the cost of losing his ranged ability."
    set heroHelp2[i] = "roll Warlord generally does not have to worry about attack speed thanks to his set of skills, go for damage or survivability items instead."
    set heroHelp3[i] = "Blind will prevent your opponents from landing all their attacks, making it harder from them to harass you or kill your creeps for gold."
    set heroHelp4[i] = "Play defensively and fight neutral creeps too. Switch to melee form and it will allow you to have an easier time."
    set heroHelp5[i] = "In team battles, it is vital that you cast Blind on the enemy hero that deals the most damage as this will greatly reduce their damage output."
    set i = i + 1
    set heroId[28] = 'Orkn'
    set heroSelectorId[28] = 'h057'
    set heroNameUnitId[28] = 'n094'
    set heroPic[28] = "ReplaceableTextures\\CommandButtons\\BTNShadowHunter.blp"
    call setUnitAnim(heroId[28], "stand victory")
    call setHeroScaleAndSelector(heroId[28], 1, heroSelectorId[28])
    set heroHelp1[i] = "At least one level of Shackles is advised early on for immobilizing opponents. Remember that it is channeling so it can be interrupted or broken by yourself."
    set heroHelp2[i] = "Rhasta needs survivability and the mana to use his spells: Bracers, Null Talismans, Point Booster are examples of items that will help out a lot."
    set heroHelp3[i] = "Forked Lightning is your primary nuke and finisher due to its range and ability to hit multiple targets, so it more effective to get it earlier than later."
    set heroHelp4[i] = "Use Shackles and Voodoo on enemy heroes when casting Mass Serpent Ward. You can even surround an enemy completely with the right timing."
    set heroHelp5[i] = "Mass Serpent Wards can clear creeps quickly and deal a lot of damage over time to buildings, making them really useful for pushing and defending."
    set i = i + 1
    set heroId[29] = 'H008'
    set heroSelectorId[29] = 'h04U'
    set heroNameUnitId[29] = 'n0AC'
    set heroPic[29] = "ReplaceableTextures\\CommandButtons\\BTNRazorManeChief.blp"
    call setUnitAnim(heroId[29], "stand")
    call setHeroScaleAndSelector(heroId[29], 1.5, heroSelectorId[29])
    set heroHelp1[i] = "Rigwarl is a known for punishing heroes that attack him and surviving for long times but he still needs armor, regeneration and hit points."
    set heroHelp2[i] = "Quill spray doesn't initially deal much damage, but the stacking effect makes it very powerful over time in battles."
    set heroHelp3[i] = "Sometimes one level of Goo can be enough to slow down an enemy hero early game."
    set heroHelp4[i] = "Rigwarl needs a fair amount of mana early-game, Ring of Basilius, Magic Stick or Bottle can boost his early offensive power immensely."
    set heroHelp5[i] = "You can mitigate a lot of damage if you turn your hero at the right times thanks to your passive Bristleback. Play mind games on your opponent."
    set i = i + 1
    set heroId[30] = 'Npbm'
    set heroSelectorId[30] = 'h053'
    set heroNameUnitId[30] = 'n0AO'
    set heroPic[30] = "ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"
    call setUnitAnim(heroId[30], "stand ready")
    call setHeroScaleAndSelector(heroId[30], 1, heroSelectorId[30])
    set heroHelp1[i] = "Thunder Clap is a great skill early game but you may need to invest in regeneration items such as a Bottle, Magic Stick, Ring of Basilius or Void Stone."
    set heroHelp2[i] = "Drunken Haze works not only as a slow, but the miss chance reduces the damage severely for enemy heroes."
    set heroHelp3[i] = "Primal Split is not only for escaping: Once you master your three Pandas, Earth, Storm and Fire, you can use them offensively as well."
    set heroHelp4[i] = "In Primal Split form, Mangix has two useful disables that can be used against enemies: Storm's Cyclone and Earth's Hurl Boulder."
    set heroHelp5[i] = "Mangix usually initiates for the team, so survivability items are helpful, investing in a Kelen's Dagger to help land Thunder Clap is often a good idea."
    set i = i + 1
    set heroId[31] = 'H000'
    set heroSelectorId[31] = 'h04X'
    set heroNameUnitId[31] = 'n0AN'
    set heroPic[31] = "ReplaceableTextures\\CommandButtons\\BTNCentaurKhan.blp"
    call setUnitAnim(heroId[31], "stand 3")
    call setHeroScaleAndSelector(heroId[31], 1.75, heroSelectorId[31])
    set heroHelp1[i] = "Return should be leveled if Centaur plans to fight neutral creeps, otherwise Double Edge is more useful in the lane."
    set heroHelp2[i] = "Thanks to a high strength gain and the bonus strength from your ultimate, Centaur is a great at heading into battle first and receiving damage."
    set heroHelp3[i] = "A Hood of Defiance can prove to be just as useful as a Vanguard depending on whether the other team has a lot of magical spells."
    set heroHelp4[i] = "Avoid putting yourself at risk after using Double Edge. You can use it to commit suicide if you are about to die to deny opponents experience and gold."
    set heroHelp5[i] = "Kelen's Dagger is a great way of initiating on opponents and dealing with his slow casting animation of Stomp."
    set i = i + 1
    set heroId[32] = 'Naka'
    set heroSelectorId[32] = 'h052'
    set heroNameUnitId[32] = 'n0AM'
    set heroPic[32] = "ReplaceableTextures\\CommandButtons\\BTNakama.blp"
    call setUnitAnim(heroId[32], "stand var4")
    call setHeroScaleAndSelector(heroId[32], 1.2, heroSelectorId[32])
    set heroHelp1[i] = "Shuriken Toss, Wind Walk and Track are much more useful than Jinada early on."
    set heroHelp2[i] = "You're going to need mana regen: Bottle, Ring Of Basillius and Void Stone are examples of good options. "
    set heroHelp3[i] = "Use Wind Walk cautiously: If you wait until the cooldown is complete before breaking out of invisibility, you can cast it again immediately afterward."
    set heroHelp4[i] = "Shuriken Toss and Wind Walk deal a lot of damage quickly: Search the map often for low HP heroes to hunt. "
    set heroHelp5[i] = "Use Track on a nearby enemy hero to allow you and your allies to outrun them. Also cast it on nearly dead heroes for bonus gold."
    set i = i + 1
    set heroId[33] = 'Hlgr'
    set heroSelectorId[33] = 'h04V'
    set heroNameUnitId[33] = 'n0AQ'
    set heroPic[33] = "ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp"
    call setUnitAnim(heroId[33], "stand victory")
    call setHeroScaleAndSelector(heroId[33], 1.35, heroSelectorId[33])
    call setHeroScaleAndSelector('H00F', 1, heroSelectorId[33])
    call setHeroScaleAndSelector('H00G', 1, heroSelectorId[33])
    call setHeroScaleAndSelector('H00E', 1, heroSelectorId[33])
    call KRI('H00G', 255, 255, 200)
    call KRI('H00F', 255, 255, 200)
    call KRI('H00G', 255, 200, 200)
    set heroHelp1[i] = "Breath Fire is a strong nuke and farming ability. However, against difficult opponents, Dragon's Blood is very useful."
    set heroHelp2[i] = "Dragon Tail is the longest duration level 1 stun in the game. One point is usually sufficient until later on."
    set heroHelp3[i] = "Thanks to the defensive bonuses on Dragon's Blood, he can often focus on other damage items instead of increasing armor and regeneration."
    set heroHelp4[i] = "Level 1 of Elder Dragon Form has a special passive called Corrosive Attack, which deals significant damage over time against towers."
    set heroHelp5[i] = "The ranged splash damage and slow of his Level 3 ultimate makes him extremely powerful; getting to level 16 is very important for DK."
    set i = i + 1
    set heroId[34] = 'Edem'
    set heroSelectorId[34] = 'h04T'
    set heroNameUnitId[34] = 'n0AR'
    set heroPic[34] = "ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp"
    call setUnitAnim(heroId[34], "stand channel")
    call setHeroScaleAndSelector(heroId[34], 1, heroSelectorId[34])
    set heroHelp1[i] = "Blink is very versatile, allowing you to chase, escape and even avoid certain spells. It is definitely worth at least one point in the beginning."
    set heroHelp2[i] = "You can also use Mana Break to prevent enemy heroes from casting spells on you, but be careful since it forces you to get in melee range to attack."
    set heroHelp3[i] = "Spell Shield might be useful for reducing magic damage, but it does not prevent you from being disabled or status effects (slow, poison, etc.)."
    set heroHelp4[i] = "Offensive items without orb effects such as a Battlefury, Monkey King Bar or Butterfly are usually desired over items that would override your Mana Break."
    set heroHelp5[i] = "Sometimes survivability is just as important as damage, items such as Linken's Sphere or Manta Style offer a good mix of both offense and defense."
    set i = i + 1
    set heroId[35] = 'Nbrn'
    set heroSelectorId[35] = 'h055'
    set heroNameUnitId[35] = 'n0AL'
    set heroPic[35] = "ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.tga"
    call setUnitAnim(heroId[35], "spell")
    call setHeroScaleAndSelector(heroId[35], 1, heroSelectorId[35])
    set heroHelp1[i] = "Frost Arrows make Drow an excellent chaser early game and allow her to harass opponents safely by manually casting them (clicking 'R' and the target)."
    set heroHelp2[i] = "An early level of Silence is great for preventing opponents from using multiple spells on you or your allies."
    set heroHelp3[i] = "Trueshot Aura and Marksmanship provide Traxex with plenty of damage even with just a few Wraith Bands and Power Treads."
    set heroHelp4[i] = "Lothar's Edge provides damage and an escape mechanism, the latter of which can help Traxex survive."
    set heroHelp5[i] = "Stay out of danger in major battles, only close in on your enemies when you are chasing and finishing off heroes near the end."
    set i = i + 1
    set heroId[36] = 'Harf'
    set heroSelectorId[36] = 'h04Z'
    set heroNameUnitId[36] = 'n0AS'
    set heroPic[36] = "ReplaceableTextures\\CommandButtons\\BTNArthas.blp"
    call setUnitAnim(heroId[36], "stand victory")
    call setHeroScaleAndSelector(heroId[36], 1.1, heroSelectorId[36])
    set heroHelp1[i] = "Omniknight is a powerful support hero, items that provide mana such as Arcane Ring help make sure that you can use all your spells."
    set heroHelp2[i] = "Purification can be used offensively and defensively: The unit you cast it on will deal damage around it, making it a powerful heal and nuke."
    set heroHelp3[i] = "Degen Aura is a very strong passive slow that is useful both to chase down enemy heroes and help you and your allies escape as well."
    set heroHelp4[i] = "Repel is used to remove buffs from allies and enemies, and to prevent heroes with spells from being interrupted or damage dealers from being disabled."
    set heroHelp5[i] = "Guardian Angel makes a team nearly impervious to physical damage and provides 25/sec HP regeneration, use this time wisely to survive or attack."
    set i = i + 1
    set heroId[37] = 'H00D'
    set heroSelectorId[37] = 'h04S'
    set heroNameUnitId[37] = 'n0AK'
    set heroPic[37] = "ReplaceableTextures\\CommandButtons\\BTNBeastMaster.blp"
    call setUnitAnim(heroId[37], "spell slam")
    call setHeroScaleAndSelector(heroId[37], 1, heroSelectorId[37])
    set heroHelp1[i] = "Endurance Aura is usually more useful later in the game when your team is fighting together, so get your other skills first."
    set heroHelp2[i] = "Call of the Wild is very powerful: The boar gives damage and slow, while the hawk can provide vision over runes, neutral creeps and other key locations."
    set heroHelp3[i] = "Wild Axes are more useful early game and against heroes with less armor. Destroy trees with Wild Axes to surprise your opponents and for escaping."
    set heroHelp4[i] = "Try casting Wild Axes behind the target to compensate for their movement. You can also manipulate their return path by moving Rexxar."
    set heroHelp5[i] = "Find opportunities to use Roar whenever it is available. It is useful on heroes who have an escape mechanism or are immune to magic."
    set i = i + 1
    set heroId[38] = 'E00P'
    set heroSelectorId[38] = 'h04R'
    set heroNameUnitId[38] = 'n0AJ'
    set heroPic[38] = "ReplaceableTextures\\CommandButtons\\BTNChimaera.blp"
    call setUnitAnim(heroId[38], "stand 3")
    call setHeroScaleAndSelector(heroId[38], 1, heroSelectorId[38])
    set heroHelp1[i] = "Dual Breath and Ice Path help to make Jakiro a strong offensive and defensive support hero. "
    set heroHelp2[i] = "Jakiro can cast his spells immediately by clicking the nearby ground in the desired direction, sometimes this is more effective than clicking on the target."
    set heroHelp3[i] = "A level of Liquid Fire early on can be useful for deterring physical attacks "
    set heroHelp4[i] = "Macropyre is a slow but powerful spell, combine it with other spells (yours or a teammate) to make sure the opponent is standing in the area of effect."
    set heroHelp5[i] = "It is often a good idea to purchase useful support items like Mekansm or Shiva's Guard, two items that also increase his low armor significantly."
    set i = i + 1
    set heroId[39] = 'N01I'
    set heroSelectorId[39] = 'h054'
    set heroNameUnitId[39] = 'n0AI'
    set heroPic[39] = "ReplaceableTextures\\CommandButtons\\BTNHeroAlchemist.blp"
    call setUnitAnim(heroId[39], "stand 2")
    call setHeroScaleAndSelector(heroId[39], 1, heroSelectorId[39])
    call setHeroScaleAndSelector('N01J', 1, heroSelectorId[39])
    call setHeroScaleAndSelector('N01H', 1, heroSelectorId[39])
    call setHeroScaleAndSelector('N01T', 1, heroSelectorId[39])
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[40] = 'N01V'
    set heroSelectorId[40] = 'h04W'
    set heroNameUnitId[40] = 'n0AH'
    set heroPic[40] = "ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp"
    call setUnitAnim(heroId[40], "stand ready")
    call setHeroScaleAndSelector(heroId[40], 1, heroSelectorId[40])
    set heroHelp1[i] = "PotM can be extremely efficient and gank with just a few Wraith Bands, Boots of Speed and a Bottle."
    set heroHelp2[i] = "Getting one level of Leap is usually sufficient early on until Starfall and Elune's Arrow are fully leveled."
    set heroHelp3[i] = "Land your Elune's Arrow by coordinating with allies and predicting enemy movements. You can even hit invisible or faraway targets with practice."
    set heroHelp4[i] = "Starfall hits a second time for half damage to one random enemy within 200 range, get close if you can to deal bonus damage"
    set heroHelp5[i] = "Moonlight Shadow can be used to initiate or escape but sometimes it can be learned later when PotM can use it without compromising her mana pool."
    set i = i + 1
    set heroId[41] = 'H00S'
    set heroSelectorId[41] = 'h04Q'
    set heroNameUnitId[41] = 'n0AT'
    set heroPic[41] = "ReplaceableTextures\\CommandButtons\\BTNStorm.blp"
    call setUnitAnim(heroId[41], "spell")
    call setHeroScaleAndSelector(heroId[41], 1, heroSelectorId[41])
    set heroHelp1[i] = "Do not get Overload at level 1 since you do not have any spells to activate its effect with."
    set heroHelp2[i] = "Choosing which ability to max first can be difficult, but generally at least one point in all three skills is a good idea."
    set heroHelp3[i] = "You have to wait 1 second after casting Static Remnant before it begins detecting nearby units for its explosion effect."
    set heroHelp4[i] = "In addition to chasing and escaping, Lightning Ball can be used to dodge many spells with the right timing."
    set heroHelp5[i] = "An item like Bloodstone is useful on Storm Spirit because the percentage-based mana cost of Lightning Ball makes regeneration an important asset."
    set i = i + 1
    set heroId[42] = 'H00Q'
    set heroSelectorId[42] = 'h04Y'
    set heroNameUnitId[42] = 'n0AG'
    set heroPic[42] = "ReplaceableTextures\\CommandButtons\\BTNHeadHunterBerserker.blp"
    call setUnitAnim(heroId[42], "stand alternate 3")
    call setHeroScaleAndSelector(heroId[42], 1.15, heroSelectorId[42])
    set heroHelp1[i] = "A level of Burning Spears early on is great for harassing enemy heroes. Use it manually by clicking 'R' then the desired target to avoid drawing focus fire."
    set heroHelp2[i] = "Berserker's Blood makes you stronger as you take damage. The bonuses stop when you have 51% HP, so there is little point in taking additional damage."
    set heroHelp3[i] = "Life Break deals damage based on the remaining health of the target, making it strongest at the beginning of a fight. "
    set heroHelp4[i] = "Inner Vitality heals more when you have less than 40% of your life, but avoid making the mistake of casting it too late in battles."
    set heroHelp5[i] = "Survivability while in low health is important for Huskar: Consider items such as Armlet of Mordiggan, Black King Bar, or Heart of Tarrasque."
    set i = i + 1
    set heroId[43] = 'E01Y'
    set heroSelectorId[43] = 'h058'
    set heroNameUnitId[43] = 'n0AF'
    set heroPic[43] = "ReplaceableTextures\\CommandButtons\\BTNAssassin.blp"
    call setUnitAnim(heroId[43], "stand victory")
    call setHeroScaleAndSelector(heroId[43], 1.2, heroSelectorId[43])
    set heroHelp1[i] = "Refraction is a great way of surviving in a lane, just be careful not to get hit by creeps too much."
    set heroHelp2[i] = "Meld starts cooling down when you click the spell, so you can hit him twice with it if you can predict your enemy's movements."
    set heroHelp3[i] = "Traps can be used for vision, most effectively in cramped areas like the end of ramps or at the rune powerup spots."
    set heroHelp4[i] = "You can farm extremely fast by positioning yourself so that the Psi Blades splash on multiple creeps at once."
    set heroHelp5[i] = "Placing a trap or two before engaging a fight can be a good idea, to cut off possible escape and/or chase routes."
    set i = i + 1
    set heroId[44] = 'N00B'
    set heroSelectorId[44] = 'h050'
    set heroNameUnitId[44] = 'n0AE'
    set heroPic[44] = "ReplaceableTextures\\CommandButtons\\BTNFaerieDragon.blp"
    call setUnitAnim(heroId[44], "attack spell")
    call setHeroScaleAndSelector(heroId[44], 1.1, heroSelectorId[44])
    set heroHelp1[i] = "Illusory Orb and Jaunt are used to travel short distances quickly, but if you wait too long to Jaunt, you will lose the opportunity."
    set heroHelp2[i] = "Puck is very fragile early game, some Bracers or Null Talismans and a level of Phase Shift can help you survive."
    set heroHelp3[i] = "Using Phase Shift manually instead of Autocast will prevent stray attacks from triggering it on Autocast. In general you will have better control of its use."
    set heroHelp4[i] = "Waning Rift deals damage and silences, but forces you to be close enough. Use Illusory Orb or Dream Coil to help you land the spell on enemies."
    set heroHelp5[i] = "Puck is a great initiator in fights who offers control of the battle with his spells, allowing allies to join the battle and use their spells or attacks safely."
    set i = i + 1
    set heroId[45] = 'H00T'
    set heroSelectorId[45] = 'h051'
    set heroNameUnitId[45] = 'n0AU'
    set heroPic[45] = "ReplaceableTextures\\CommandButtons\\BTNClockWerkGoblin.blp"
    call setUnitAnim(heroId[45], "Birth")
    call setHeroScaleAndSelector(heroId[45], 1.5, heroSelectorId[45])
    set heroHelp1[i] = "You can use Rocket Flare for harassing and killing creeps early on. With the right timing, you can even fire at enemies across the map."
    set heroHelp2[i] = "Power Cogs can be used to trap an enemy, push them away while draining mana, or as an escape mechanism since Rattletrap destroys Cogs in only 1 hit."
    set heroHelp3[i] = "Battery Assault adds a lot of damage and the stuns help you with chasing, use it when no other units are nearby for best results."
    set heroHelp4[i] = "Hookshot's long range and high speed lets you reach enemies from out of sight. Follow up with your other spells quickly so your target cannot escape."
    set heroHelp5[i] = "Rocket Flare also gives vision where it lands, making it very useful for scouting areas such as rune spots, neutral creeps, the enemy base."
    set i = i + 1
    set heroId[46] = 'H06S'
    set heroSelectorId[46] = 'h06T'
    set heroNameUnitId[46] = 'n0EE'
    set heroPic[46] = "ReplaceableTextures\\CommandButtons\\BTNProudmoore.blp"
    call setUnitAnim(heroId[46], "stand victory")
    call setHeroScaleAndSelector(heroId[46], 1.1, heroSelectorId[46])
    set heroHelp1[i] = "Tidebringer is extremely useful early game: Use the bonus damage for killing creeps and the cleave effect to harass opponents at the same time."
    set heroHelp2[i] = "The bubble animation from Torrent can only be seen by your team so try to use this to your advantage."
    set heroHelp3[i] = "An ally's assistance or X Marks the Spot is a great way of making sure Torrent and Ghost Ship hit your opponent."
    set heroHelp4[i] = "Escaping enemy heroes is easy by casting X Marks the Spot on them. It also prevents them from getting away."
    set heroHelp5[i] = "The Ghost Ship will crash 1000 range from where you stand when you cast it. Keep your distance when you use it."
    set i = i + 1
    set heroId[47] = 'N0EG'
    set heroSelectorId[47] = 'h07A'
    set heroNameUnitId[47] = 'n0EH'
    set heroPic[47] = "ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp"
    call setUnitAnim(heroId[47], "stand victory")
    call setHeroScaleAndSelector(heroId[47], 1.2, heroSelectorId[47])
    set heroHelp1[i] = "Powershot deals significant damage, making it ideal to max first. Be sure not to fire through creeps if you want to deal maximum damage to your target."
    set heroHelp2[i] = "An early level of Windrunner can provide you with a quick getaway and chasing tool."
    set heroHelp3[i] = "Shackleshot can either be used on your intended target to bind him to a nearby unit, or to bind the designated target located BEHIND the unit that you fired it at."
    set heroHelp4[i] = "Focus Fire is also a powerful spell to use on buildings and Roshan."
    set heroHelp5[i] = "As long as you do not attack another target, the effect of Focus Fire will stay on. Use your spells and active items to help you fire at your target."
    set i = i + 1
    set D50 = 47
    set i = 49
    set D60 = 49
    set heroId[49] = 'Eevi'
    set heroSelectorId[49] = 'h056'
    set heroNameUnitId[49] = 'n0AV'
    set heroPic[49] = "ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"
    call setUnitAnim(heroId[49], "spell channel")
    call setHeroScaleAndSelector(heroId[49], 1, heroSelectorId[49])
    call setHeroScaleAndSelector('Eevm', 1, heroSelectorId[49])
    set heroHelp1[i] = "Get Soul Steal if you need healing in the lane."
    set heroHelp2[i] = "Purchase statistic-increasing items like Wraith Bands and later items like Sange and Yasha to benefit both Terrorblade and his images."
    set heroHelp3[i] = "It might be difficult to escape due to the trail you leave behind when walking, you may have to use an image to act as a block or decoy."
    set heroHelp4[i] = "Sunder can turn fights around when you have low health but be careful of disables and high damage spells when trying to swap."
    set heroHelp5[i] = "Creating ranged images in Metamorphosis will allow you to deal damage safely in fights as well as push down buildings very quickly."
    set i = i + 1
    set heroId[50] = 'Ekee'
    set heroSelectorId[50] = 'h059'
    set heroNameUnitId[50] = 'n0AW'
    set heroPic[50] = "ReplaceableTextures\\CommandButtons\\BTNKeeperGhostBlue.blp"
    call setUnitAnim(heroId[50], "stand victory")
    call setHeroScaleAndSelector(heroId[50], 1, heroSelectorId[50])
    set heroHelp1[i] = "Split Earth is a very useful disable while Lightning Storm is taken because of its low cooldown. Both are powerful spells that hit multiple targets."
    set heroHelp2[i] = "By using Lightning Storm to finish low-health creeps with nearby opponents, you can get gold and harass enemy heroes at the same time."
    set heroHelp3[i] = "Diabolic Edict is one of the most powerful spells for destroying buildings. Eliminate the creeps first so that you only have one target."
    set heroHelp4[i] = "Turn off Pulse Nova when you have finished using it because the spell will continue until you have exhausted your entire mana pool."
    set heroHelp5[i] = "Items like Bloodstone or Aghanim's Scepter will allow Leshrac to use his spells more liberally and survive in the midst of battle."
    set i = i + 1
    set heroId[51] = 'Ulic'
    set heroSelectorId[51] = 'h05A'
    set heroNameUnitId[51] = 'n0AX'
    set heroPic[51] = "ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp"
    call setUnitAnim(heroId[51], "stand channel")
    call setHeroScaleAndSelector(heroId[51], 1.3, heroSelectorId[51])
    set heroHelp1[i] = "Dark Ritual is useful for denying allied creeps and provides you with mana to use spells without buying regeneration items."
    set heroHelp2[i] = "Frost Nova is a very powerful spell that allows you to be aggressive. Attack the enemy a few extra times while they are slowed."
    set heroHelp3[i] = "Chain Frost is most effective when used against 2-3 nearby targets (ideally heroes), but will not bounce when used on a lone unit."
    set heroHelp4[i] = "Frost Armor should be cast on multiple teammates when you have the mana for it later on; it works nicely against melee units."
    set heroHelp5[i] = "The first target of your Chain Frost can interrupt channeling and teleport spells if absolutely necessary."
    set i = i + 1
    set heroId[52] = 'UC76'
    set heroSelectorId[52] = 'h05B'
    set heroNameUnitId[52] = 'n0AY'
    set heroPic[52] = "ReplaceableTextures\\CommandButtons\\BTNBanshee.blp"
    call setUnitAnim(heroId[52], "spell wail")
    call setHeroScaleAndSelector(heroId[52], 1.35, heroSelectorId[52])
    set heroHelp1[i] = "Carrion Swarm is your primary nuke and first skill to max. Make use of its range by casting it on the ground instead of on a unit directly."
    set heroHelp2[i] = "An early level of Silence can help prevent you and your allies from being attacked by multiple spells."
    set heroHelp3[i] = "The ghosts of Exorcism will attack whatever you attack, so if you want to direct all attention to a single unit simply focus them and stay nearby."
    set heroHelp4[i] = "Exorcism also makes Krobelus extremely effective for quickly destroying enemy buildings, so be sure to push the enemy base when you can"
    set heroHelp5[i] = "The effect of Exorcism stops if you die in combat: Invest in items that improve your survivability, such as a Bloodstone or a Heart of Tarrasque."
    set i = i + 1
    set heroId[53] = 'UC18'
    set heroSelectorId[53] = 'h05C'
    set heroNameUnitId[53] = 'n0AZ'
    set heroPic[53] = "ReplaceableTextures\\CommandButtons\\BTNLion.BLP"
    call setUnitAnim(heroId[53], "spell callstorm")
    call setHeroScaleAndSelector(heroId[53], 1.3, heroSelectorId[53])
    call KRI(heroId[53], 50, 100, 255)
    set heroHelp1[i] = "With plenty of damage and disables, Lion is quite a force to be reckoned with cheap utility items such as Bottle and Phase Boots."
    set heroHelp2[i] = "Impale gives Lion the ability to disable multiple targets and deals decent damage, so it is definitely the most versatile of his three skills for the early game."
    set heroHelp3[i] = "Mana Drain only works on units with mana: Using Mana Drain on enemy heroes will reduce their spell use while replenishing mana."
    set heroHelp4[i] = "Avoid wasting Finger of Death on low-health enemy heroes when a few extra attacks or using another spell like Impale will deal enough damage."
    set heroHelp5[i] = "Wait until the duration of your first disable wears off before using another one for maximum disable time when using Impale and Voodoo."
    set i = i + 1
    set heroId[54] = 'EC57'
    set heroSelectorId[54] = 'h05D'
    set heroNameUnitId[54] = 'n0B0'
    set heroPic[54] = "ReplaceableTextures\\CommandButtons\\BTNHydralisk.blp"
    call setUnitAnim(heroId[54], "attack")
    call setHeroScaleAndSelector(heroId[54], 1.0, heroSelectorId[54])
    call KRI(heroId[54], 150, 200, 255)
    set heroHelp1[i] = "Venomous Gale is a spell that hits multiple opponents and slows them, making it very useful for getting early kills."
    set heroHelp2[i] = "At least one level of Poison Sting is recommended early game for its slow effect."
    set heroHelp3[i] = "Bottle and Magic Stick will help deal with his low HP/mana, while Phase Boots are a cheap way to improve his chasing capabilities."
    set heroHelp4[i] = "Wards are very useful for pushing a lane and killing neutral and enemy creeps, but you can also use it to provide vision."
    set heroHelp5[i] = "Poison Nova deals a lot of damage but you have to combine it with other spells and attacks because it does not deal fatal damage (stops at 1 HP)."
    set i = i + 1
    set heroId[55] = 'UC11'
    set heroSelectorId[55] = 'h05E'
    set heroNameUnitId[55] = 'n0A2'
    set heroPic[55] = "ReplaceableTextures\\CommandButtons\\BTNBlueMagnataur.tga"
    call setUnitAnim(heroId[55], "stand channel")
    call setHeroScaleAndSelector(heroId[55], 1, heroSelectorId[55])
    call KRI(heroId[55], 150, 150, 100)
    set heroHelp1[i] = "Bottle and Perseverance help with early regeneration,. while purchasing Kelen's Dagger later will help you to land Reverse Polarity."
    set heroHelp2[i] = "A few Attribute Bonus points can help you cast more spells. Save Mighty Swing for later levels when you have more damage."
    set heroHelp3[i] = "By targeting the ground where you want to fire Shockwave, you can hit both creeps and opponents and make use of its long range."
    set heroHelp4[i] = "Magnus should cast Empower on himself and other allies with high damage before initiating team battles with his ultimate."
    set heroHelp5[i] = "The cleave of Battlefury stacks directly with Mighty Swing, making it a good damage item especially if you already have a Perseverance."
    set i = i + 1
    set heroId[56] = 'UC60'
    set heroSelectorId[56] = 'h05F'
    set heroNameUnitId[56] = 'n0B1'
    set heroPic[56] = "ReplaceableTextures\\CommandButtons\\BTNSpiritWyvern.blp"
    call setUnitAnim(heroId[56], "stand victory")
    call setHeroScaleAndSelector(heroId[56], 1, heroSelectorId[56])
    call KRI(heroId[56], 150, 150, 150)
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[57] = 'U00A'
    set heroSelectorId[57] = 'h05G'
    set heroNameUnitId[57] = 'n0B2'
    set heroPic[57] = "ReplaceableTextures\\CommandButtons\\BTNChaosWarlord.blp"
    call setUnitAnim(heroId[57], "stand victory")
    call setHeroScaleAndSelector(heroId[57], 1.05, heroSelectorId[57])
    set heroHelp1[i] = "Chaos Bolt and Blink Strike are active abilities that are more useful in the lane and for killing opponents than Critical Strike."
    set heroHelp2[i] = "Chaos Bolt is a disable that switches between average and extremely powerful, the sooner you have max out this spell, the better."
    set heroHelp3[i] = "His high natural movement speed (325 - the highest in the game) and Blink Strike make him very difficult for opponents to outrun or chase him."
    set heroHelp4[i] = "If you Blink Strike and then use Chaos Bolt, you can spend more time hitting opponents and less time waiting for his slow casting animation. "
    set heroHelp5[i] = "Make Nessaj and Phantasm stronger by buying Strength items like Armlet of Mordiggan (when activated) and Heart of Tarrasque."
    set i = i + 1
    set heroId[58] = 'U008'
    set heroSelectorId[58] = 'h05H'
    set heroNameUnitId[58] = 'n0B3'
    set heroPic[58] = "ReplaceableTextures\\CommandButtons\\BTNKiljaedin.blp"
    call setUnitAnim(heroId[58], "spell")
    call setHeroScaleAndSelector(heroId[58], 1.2, heroSelectorId[58])
    call setHeroScaleAndSelector('E015', 1, heroSelectorId[58])
    call KRI(heroId[58], 255, 75, 255)
    set heroHelp1[i] = "If you want to neutral creeps, start with Summon Wolves and a Ring of Basilius, which can be used to make Vladmir's Offering later."
    set heroHelp2[i] = "Spirit Wolves gain invisibility at level 4, making them difficult to kill and easy to harass heroes with in the lane."
    set heroHelp3[i] = "Feral Heart make you and your wolves stronger overall, while Howl is an offensive spell used before engaging the enemy."
    set heroHelp4[i] = "Shapeshift makes you incredibly powerful and gives you max movement speed. Avoid being blocked by your wolves when chasing."
    set heroHelp5[i] = "A Black King Bar will prevent enemies from disabling you, making you very fearsome and almost unstoppable when attacking heroes."
    set i = i + 1
    set heroId[59] = 'U006'
    set heroSelectorId[59] = 'h05I'
    set heroNameUnitId[59] = 'n0B4'
    set heroPic[59] = "ReplaceableTextures\\CommandButtons\\BTNSpiderBlack.blp"
    call setUnitAnim(heroId[59], "walk")
    call setHeroScaleAndSelector(heroId[59], 1.36, heroSelectorId[59])
    set heroHelp1[i] = "At least one level in Spin Web early game will increase your survivability greatly. Remember that attacking/using spells will cause you to break invisibility."
    set heroHelp2[i] = "Spawn Spiderlings is both a nuke and pushing spell, so getting items like a Ring of Basilius will provide you with both mana and armor for pushing."
    set heroHelp3[i] = "Incapacitating Bite makes it very difficult for enemies to get away from you, great for chasing and slowing opponents temporarily for your allies."
    set heroHelp4[i] = "Try to space out your webs with least 2 seconds of walking distance so that you can benefit from its bonuses on as much ground as possible."
    set heroHelp5[i] = "With the damage and lifesteal from Insatiable Hunger, sometimes it is best to get items that will prevent you from being disabled, such as a Black King Bar."
    set i = i + 1
    set heroId[60] = 'Ewar'
    set heroSelectorId[60] = 'h05J'
    set heroNameUnitId[60] = 'n0B5'
    set heroPic[60] = "ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp"
    call setUnitAnim(heroId[60], "spell slam")
    call setHeroScaleAndSelector(heroId[60], 1, heroSelectorId[60])
    set heroHelp1[i] = "Stifling Dagger is used for creep-killing and slowing opponents; prevent enemies from escaping by using it with Blink Strike."
    set heroHelp2[i] = "Try to Blink Strike to a nearby allied or enemy unit to make a quick escape when caught in a defensive situation. "
    set heroHelp3[i] = "Be cautious when entering battles with Blink Strike, you could be caught outnumbered or disabled without your escape mechanism."
    set heroHelp4[i] = "Blur can sometimes allow you to surprise opponents if they aren't paying attention."
    set heroHelp5[i] = "Items like Battlefury are useful, but getting a Black King Bar or a Satanic afterward will help you survive long enough to deal damage."
    set i = i + 1
    set heroId[61] = 'H00V'
    set heroSelectorId[61] = 'h05K'
    set heroNameUnitId[61] = 'n0B6'
    set heroPic[61] = "ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"
    call setUnitAnim(heroId[61], "stand ready")
    call setHeroScaleAndSelector(heroId[61], 1, heroSelectorId[61])
    call setHeroScaleAndSelector('H08D', 1, heroSelectorId[61])
    call setHeroScaleAndSelector('H08C', 1, heroSelectorId[61])
    call setHeroScaleAndSelector('H084', 1, heroSelectorId[61])
    call setHeroScaleAndSelector('H08B', 1, heroSelectorId[61])
    set heroHelp1[i] = "Mystic Snake is a smart choice to have early game: Its damage and mana drain makes it great for harassing and offsetting its own mana cost."
    set heroHelp2[i] = "Mana Shield will increase your survivability drastically. Use it wisely or it can also leave you with no mana for your other spells."
    set heroHelp3[i] = "Using Split Shot allows you to attack multiple units, but the extra arrows from Split Shot do not gain the properties of orb effects."
    set heroHelp4[i] = "Stone Gaze is an ultimate that is used to slow opponents and remove their buffs, making it easy to escape or attack the purged enemies."
    set heroHelp5[i] = "Items that increase statistics and regeneration like Linkens Sphere will always be a good choice because of Mana Shield."
    set i = i + 1
    set heroId[62] = 'Udre'
    set heroSelectorId[62] = 'h05L'
    set heroNameUnitId[62] = 'n0B7'
    set heroPic[62] = "ReplaceableTextures\\CommandButtons\\BTNTichondrius.blp"
    call setUnitAnim(heroId[62], "spell slam")
    call setHeroScaleAndSelector(heroId[62], 1, heroSelectorId[62])
    set heroHelp1[i] = "Night Stalker may be passive during the day, but at night his spells make him much more powerful and great for hunting heroes down."
    set heroHelp2[i] = "Void is your primary source of damage early game and can be used to interrupt spells and teleports with its mini-stun."
    set heroHelp3[i] = "While Hunter in the Night does nothing during the day, get it so that during nighttime it will give you massive movement and attack speed."
    set heroHelp4[i] = "Use Crippling Fear when you are hunting heroes so that they cannot disable or slow you while you are chasing them."
    set heroHelp5[i] = "Since Darkness will pause time when activated, casting it at night whenever it is on cooldown will extend the total nighttime."
    set i = i + 1
    set heroId[63] = 'NC00'
    set heroSelectorId[63] = 'h05M'
    set heroNameUnitId[63] = 'n0C0'
    set heroPic[63] = "ReplaceableTextures\\CommandButtons\\BTNSkeletonArcher.blp"
    call setUnitAnim(heroId[63], "stand victory")
    call setHeroScaleAndSelector(heroId[63], 1.8, heroSelectorId[63])
    call KRI(heroId[63], 100, 125, 100)
    set heroHelp1[i] = "Skeleton King is a hero who is known for his ability to reincarnate if focused upon and dealing a lot of damage if he is ignored by opponents. "
    set heroHelp2[i] = "Hellfire Blast is a great spell for the early laning phase and a few levels of Attribute Bonus can give you stat points for additional stuns."
    set heroHelp3[i] = "Critical Strike is generally preferred over Vampiric Aura because its lifesteal is not very effective earlier when Leoric needs more damage."
    set heroHelp4[i] = "Make sure you have enough mana for Hellfire Blasts and especially Reincarnation. Buying a Magic Stick and/or a Bottle can pay off nicely."
    set heroHelp5[i] = "Get cheaper damage items like Armlet of Mordiggan and Desolator. A Black King Bar will allow you to dish out damage without being disabled."
    set i = i + 1
    set heroId[64] = 'UC42'
    set heroSelectorId[64] = 'h05N'
    set heroNameUnitId[64] = 'n0BV'
    set heroPic[64] = "ReplaceableTextures\\CommandButtons\\BTNDoomGuard.blp"
    call setUnitAnim(heroId[64], "stand victory")
    call setHeroScaleAndSelector(heroId[64], 1.1, heroSelectorId[64])
    set heroHelp1[i] = "Lucifer can obtain gold very quickly thanks to Devour, so getting regeneration items like Perseverance will help him to cast spells and survive in the lane."
    set heroHelp2[i] = "Devour deals 20 damage per second, so consume creeps with low HP remaining so you can finish digesting the enemy quickly."
    set heroHelp3[i] = "Use the command -ma to find your opponents' level for potential LVL? Death targets. Its mini-stun will also interrupt channeling spells and teleports."
    set heroHelp4[i] = "Doom is usually used in conjunction with LVL? Death for killing enemy heroes; you can also use it on heroes to silence their spells."
    set heroHelp5[i] = "When chasing or escaping with Scorched Earth, cast it in front of you so that you will experience the movement speed bonuses for a longer period of time."
    set i = i + 1
    set heroId[65] = 'U000'
    set heroSelectorId[65] = 'h05O'
    set heroNameUnitId[65] = 'n0BU'
    set heroPic[65] = "ReplaceableTextures\\CommandButtons\\BTNHeroCryptLord.tga"
    call setUnitAnim(heroId[65], "spell throw")
    call setHeroScaleAndSelector(heroId[65], 0.8, heroSelectorId[65])
    set heroHelp1[i] = "Effective use of Impale and Mana Burn early game requires you to purchase some Null Talismans or Bracers and Bottle."
    set heroHelp2[i] = "Mana Burn is a devastating spell to have in the lane, force opponents to play defensively by preventing them from casting spells."
    set heroHelp3[i] = "Unlike other Agility heroes, Anub'arak is a caster. Getting items like Dagon can be more useful than purchasing damage items."
    set heroHelp4[i] = "Vendetta is a good initiating spell for surprising opponents. Cast it far away so that they cannot hear its sound effect upon activation."
    set heroHelp5[i] = "Be careful when using Vendetta against multiple opponents and going near towers where they can see you while you are invisible."
    set i = i + 1
    set heroId[66] = 'UC91'
    set heroSelectorId[66] = 'h05P'
    set heroNameUnitId[66] = 'n0C1'
    set heroPic[66] = "ReplaceableTextures\\CommandButtons\\BTNNagaMyrmidon.tga"
    call setUnitAnim(heroId[66], "spell")
    call setHeroScaleAndSelector(heroId[66], 1, heroSelectorId[66])
    call KRI(heroId[66], 175, 75, 200)
    set heroHelp1[i] = "Slithereen Crush requires good positioning, so do your best to stand next to the hero you are trying to stun."
    set heroHelp2[i] = "Sprint is a great spell for both chasing and escaping but be careful when using it because you will take bonus damage."
    set heroHelp3[i] = "In addition to lowering armor, Amplify Damage provides vision of enemies, even heroes that have the ability to become invisible."
    set heroHelp4[i] = "Bash is usually more effective later in the game when you have more items like Armlet of Mordiggan."
    set heroHelp5[i] = "Slardar's role in battles is to initiate with Slithereen Crush and focus an enemy with Bash and Amplify Damage. Pick off escapees with Sprint."
    set i = i + 1
    set heroId[67] = 'UC01'
    set heroSelectorId[67] = 'h05Q'
    set heroNameUnitId[67] = 'n0C2'
    set heroPic[67] = "ReplaceableTextures\\CommandButtons\\BTNBlueDemoness.tga"
    call setUnitAnim(heroId[67], "spell slam")
    call setHeroScaleAndSelector(heroId[67], 1.3, heroSelectorId[67])
    set heroHelp1[i] = "Blink provides you with an escape mechanism and spell dodge but on higher levels it becomes a powerful chasing tool as well."
    set heroHelp2[i] = "Scream of Pain is used for killing creeps and harassing opponents, making it more useful than Shadow Strike early game."
    set heroHelp3[i] = "Try to hit as many targets as possible with Sonic Wave by targeting the ground instead of on an enemy hero directly."
    set heroHelp4[i] = "Shadow Strike does decent damage but its primary use is for the slow it provides for chasing and outrunning opponents."
    set heroHelp5[i] = "Her spell reliance, mobility and survivability allows her to buy expensive Intelligence items such as a Guinsoo's Scythe of Vyse."
    set i = i + 1
    set heroId[68] = 'E004'
    set heroSelectorId[68] = 'h05R'
    set heroNameUnitId[68] = 'n0BW'
    set heroPic[68] = "ReplaceableTextures\\CommandButtons\\BTNSkeletonMage.blp"
    call setUnitAnim(heroId[68], "stand victory")
    call setHeroScaleAndSelector(heroId[68], 1, heroSelectorId[68])
    set heroHelp1[i] = "Searing Arrows provide damage for last hitting creeps and harassing enemy heroes by using it manually by clicking 'R' followed by the designated target."
    set heroHelp2[i] = "Wind Walk is commonly used for chasing and escaping but the invisibility and movement speed can help you avoid specific spells with the right timing."
    set heroHelp3[i] = "Cast Death Pact on enemy or neutral creeps instead of allied units whenever possible because it will give you the gold for killing the unit."
    set heroHelp4[i] = "Regeneration items like Orchid Malevolence or a Linkens Sphere will allow liberal use of his abilities in battle and help him against spellcasters and nukers."
    set heroHelp5[i] = "Strafe is usually gotten later, but combined with Searing Arrows, Clinkz can deal a lot of damage quickly, powerful against enemy heroes and buildings."
    set i = i + 1
    set heroId[69] = 'EC45'
    set heroSelectorId[69] = 'h05S'
    set heroNameUnitId[69] = 'n0BS'
    set heroPic[69] = "ReplaceableTextures\\CommandButtons\\BTNFacelessOne.blp"
    call setUnitAnim(heroId[69], "spell slam")
    call setHeroScaleAndSelector(heroId[69], 1.3, heroSelectorId[69])
    call KRI(heroId[69], 0, 255, 150)
    set heroHelp1[i] = "Time Walk is your escaping and chasing skill, but it will allow you to avoid spells and damage since you are invulnerable during the animation."
    set heroHelp2[i] = "Get Backtrack early game if you need to play defensively, while Time Lock will allow you to be a little more aggressive."
    set heroHelp3[i] = "Since Darkterror is so fragile, enter battles by using Time Walk and then cast Chronosphere to prevent yourself from being disabled or killed otherwise."
    set heroHelp4[i] = "Chronosphere affects all units that are not controlled by you, including both allies and enemies. Avoid hitting teammates or it could cost them their lives."
    set heroHelp5[i] = "Items such as Power Treads and Butterfly will give both damage and attack speed, which is useful if Void wants to repetitively stun with Time Lock."
    set i = i + 1
    set heroId[70] = 'EC77'
    set heroSelectorId[70] = 'h05T'
    set heroNameUnitId[70] = 'n0BR'
    set heroPic[70] = "ReplaceableTextures\\CommandButtons\\BTNNetherDragon.blp"
    call setUnitAnim(heroId[70], "spell slam")
    call setHeroScaleAndSelector(heroId[70], 1.2, heroSelectorId[70])
    call KRI(heroId[70], 75, 255, 25)
    set heroHelp1[i] = "Poison Attack allows you to harass an opponent and permanently chase them thanks to a 0 cooldown starting at level 3."
    set heroHelp2[i] = "Prevent creeps and towers from attacking you by casting Poison Attack manually by clicking 'C' and then the designated target."
    set heroHelp3[i] = "Neurotoxin will add bonus damage, useful early for getting the last hit on creeps and also for dealing damage to heroes as well."
    set heroHelp4[i] = "Early HP and movement speed items like Phase Boots or a Point/Vitality Booster can really make a difference."
    set heroHelp5[i] = "Sometimes it is wise to invest in a Lothar's Edge or Kelen's Dagger to provide you with the ability to get in and out of combat safely."
    set i = i + 1
    set heroId[71] = 'E002'
    set heroSelectorId[71] = 'h05U'
    set heroNameUnitId[71] = 'n0BY'
    set heroPic[71] = "ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
    call setUnitAnim(heroId[71], "spell")
    call setHeroScaleAndSelector(heroId[71], 1, heroSelectorId[71])
    set heroHelp1[i] = "Use your attack range to help gauge how far opponents need to be for Plasma Field to deal the most damage."
    set heroHelp2[i] = "Unstable Current will slow opponents who cast spells on you and could be useful to help prevent yourself from being killed."
    set heroHelp3[i] = "Static Link is powerful if you can stay within the range of opponents - getting Unstable Current can sometimes help with that."
    set heroHelp4[i] = "Storm Seeker strikes the target with the lowest health, so use it after creeps have died or when chasing a solitary target."
    set heroHelp5[i] = "Consider increasing your HP along with damage when purchasing items."
    set i = i + 1
    set heroId[72] = 'U00C'
    set heroSelectorId[72] = 'h05V'
    set heroNameUnitId[72] = 'n0BQ'
    set heroPic[72] = "ReplaceableTextures\\CommandButtons\\BTNGhoul.blp"
    call setUnitAnim(heroId[72], "victory")
    call setHeroScaleAndSelector(heroId[72], 1.5, heroSelectorId[72])
    call KRI(heroId[72], 100, 100, 100)
    set heroHelp1[i] = "Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit.Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit."
    set heroHelp2[i] = "Feast deals percentage-based damage, which is useful against heroes with high HP and lets Naix fight neutral creeps with ease."
    set heroHelp3[i] = "Rage can be used to avoid spells and to prevent opponents from disabling you while you are attacking them or trying to escape from them."
    set heroHelp4[i] = "Infest can be used for escaping, surprising your opponents, to neutral, or to just gain significant health quickly when necessary."
    set heroHelp5[i] = "Thanks to your physical damage and ability to steal life, Armlet of Mordiggan or Desolator are both solid choices for high-tier items."
    set i = i + 1
    set heroId[73] = 'H00H'
    set heroSelectorId[73] = 'h05W'
    set heroNameUnitId[73] = 'n0BT'
    set heroPic[73] = "ReplaceableTextures\\CommandButtons\\BTNPugna.BLP"
    call setUnitAnim(heroId[73], "stand ready")
    call setHeroScaleAndSelector(heroId[73], 1, heroSelectorId[73])
    set heroHelp1[i] = "Nether Blast gives you an incredible skill for killing creeps, harassing heroes and pushing. Use it to score the killing blow to a tower."
    set heroHelp2[i] = "Decrepify can be used on opponents either to increase spell damage from you and your allies or to prevent them from attacking."
    set heroHelp3[i] = "Nether Ward will drain mana and punish opponents for using spells. Just remember to cast it where opponents cannot destroy it easily."
    set heroHelp4[i] = "Aghanim's Scepter, Linkens Sphere and Bloodstone are examples of items that offer survivability while improving his spellcasting abilities."
    set heroHelp5[i] = "Life Drain deals a lot of damage unless opponents disable you or run away. With an Aghanim's Scepter, its cooldown becomes 0."
    set i = i + 1
    set heroId[74] = 'Ofar'
    set heroSelectorId[74] = 'h05X'
    set heroNameUnitId[74] = 'n0BP'
    set heroPic[74] = "ReplaceableTextures\\CommandButtons\\BTNSeaGiantGreen.blp"
    call setUnitAnim(heroId[74], "attack slam")
    call setHeroScaleAndSelector(heroId[74], 1, heroSelectorId[74])
    set heroHelp1[i] = "Be sure to attack enemies slowed by Gush, the armor reduction means that your hits will deal more damage than normal."
    set heroHelp2[i] = "Anchor Smash is an offensive damage spell that lets you hurt multiple units, good for killing neutral creeps and useful in team battles."
    set heroHelp3[i] = "Kraken Shell gives you some protection against physical damage as well as a debuff removal against certain spells."
    set heroHelp4[i] = "In fights, Tidehunter should be in the middle of the action drawing focus fire and dealing damage because of his skill set and high survivability."
    set heroHelp5[i] = "Ravage has a large area of effect but Kelen's Dagger will allow you to initiate without being disabled and use it in an optimal spot."
    set i = i + 1
    set heroId[75] = 'Oshd'
    set heroSelectorId[75] = 'h05Y'
    set heroNameUnitId[75] = 'n0BO'
    set heroPic[75] = "ReplaceableTextures\\CommandButtons\\BTNVoidWalker.blp"
    call setUnitAnim(heroId[75], "spell")
    call setHeroScaleAndSelector(heroId[75], 1.5, heroSelectorId[75])
    call KRI(heroId[75], 150, 0, 150)
    set heroHelp1[i] = "High costs and cooldowns give Atropos limited ability use: Cast spells intelligently and get items like Null Talismans and/or Magic Stick for your mana pool."
    set heroHelp2[i] = "Brain Sap is a powerful nuke and heal and deals exact unreduced damage so get it early and always try to use it on enemy heroes when using the spell."
    set heroHelp3[i] = "Use Nightmare to help teammates to aim their spells and remove an opponent from battles temporarily while you fight their allies."
    set heroHelp4[i] = "Enfeeble is usually a skill to get after Brain Sap and Nightmare to use on enemy heroes with high damage to reduce their damage capabilities severely."
    set heroHelp5[i] = "Fiend's Grip will work on Magic Immune units such as those under the active effect of Black King Bar, holding them in place but dealing no damage."
    set i = i + 1
    set heroId[76] = 'U00E'
    set heroSelectorId[76] = 'h05Z'
    set heroNameUnitId[76] = 'n0B8'
    set heroPic[76] = "ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp"
    call setUnitAnim(heroId[76], "stand victory")
    call setHeroScaleAndSelector(heroId[76], 1.3, heroSelectorId[76])
    set heroHelp1[i] = "Death Pulse lets you kill creeps and harass heroes simultaneously, great for pushing and healing allied units because of its low cooldown."
    set heroHelp2[i] = "Sadist will provide you with some early regeneration for killing creeps, while Heartstopper Aura becomes effective as the game goes on."
    set heroHelp3[i] = "Reaper's Scythe is known for its ability to kill heroes outright, allowing you to bring down even high-HP Strength heroes with ease."
    set heroHelp4[i] = "Your ultimate can also be used to stun opponents in certain situations, such as interrupting channeling spells and teleports."
    set heroHelp5[i] = "Items like Bloodstone or Heart of Tarrasque allow you to survive long enough in team battles to make your spells more effective."
    set i = i + 1
    set heroId[77] = 'U00F'
    set heroSelectorId[77] = 'h060'
    set heroNameUnitId[77] = 'n0C5'
    set heroPic[77] = "ReplaceableTextures\\CommandButtons\\BTNAbomination.blp"
    call setUnitAnim(heroId[77], "stand 3")
    call setHeroScaleAndSelector(heroId[77], 1.1, heroSelectorId[77])
    set heroHelp1[i] = "Pudge can known for his ability to isolate enemies with Meat Hook and using Rot and Dismember afterward, killing them outright. "
    set heroHelp2[i] = "Early regeneration and movement speed items such as Bottle and Phase Boots help provide Pudge with the means to cast spells and chase his opponents."
    set heroHelp3[i] = "Use Meat Hook from a location where you are not obstructed by any allied or enemy units other than your target to ensure a better chance of landing it."
    set heroHelp4[i] = "A Hood of Defiance will improve your magic resistance to reduce damage from using Rot and getting hit by spells; The massive regeneration is also good."
    set heroHelp5[i] = "Use your spells defensively: Rot can be used to commit suicide if necessary and Meat Hook can be used to rescue an ally from one or more enemies."
    set i = i + 1
    set heroId[78] = 'O00J'
    set heroSelectorId[78] = 'h061'
    set heroNameUnitId[78] = 'n0C3'
    set heroPic[78] = "ReplaceableTextures\\CommandButtons\\BTNSpiritWalker.blp"
    call setUnitAnim(heroId[78], "stand ready")
    call setHeroScaleAndSelector(heroId[78], 1.2, heroSelectorId[78])
    set heroHelp1[i] = "Empowering Haste is a smart skill to level first, it gives Barathrum movement speed and significant damage for killing creeps and heroes."
    set heroHelp2[i] = "A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels.A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels."
    set heroHelp3[i] = "Get Strength Power Treads because the attack and movement speed benefits your other skills and the boost in HP helps you survive."
    set heroHelp4[i] = "Charge of Darkness gives Barathrum spell immunity after 12 seconds and provides vision of the target for you and your allies."
    set heroHelp5[i] = "Nether Strike puts you from the opposite side of where you were facing, push opponents backwards and into your allies."
    set i = i + 1
    set heroId[79] = 'Ubal'
    set heroSelectorId[79] = 'h062'
    set heroNameUnitId[79] = 'n0BX'
    set heroPic[79] = "ReplaceableTextures\\CommandButtons\\BTNNerubianQueen.blp"
    call setUnitAnim(heroId[79], "attack")
    call setHeroScaleAndSelector(heroId[79], 1.0, heroSelectorId[79])
    call KRI(heroId[79], 255, 200, 200)
    set heroHelp1[i] = "Take care of Weaver's HP/damage problems with Bracers or Wraith Bands and get regeneration so he can use his spells freely."
    set heroHelp2[i] = "An early level of Watchers can be used to provide vision over the rune powerups. Patrol them to increase their area of detection."
    set heroHelp3[i] = "Shukuchi is used for harassing and chasing opponents offensively, and escaping and avoiding certain projectile spells defensively."
    set heroHelp4[i] = "If your Geminate Attack is not working, make sure that you input an attack command ('A' or right-click) and are not simply auto-attacking."
    set heroHelp5[i] = "Use Time Lapse after taking a lot of recent damage to heal yourself, allowing you to pull off some dangerous moves like diving into towers."
    set i = i + 1
    set heroId[80] = 'Nfir'
    set heroSelectorId[80] = 'h063'
    set heroNameUnitId[80] = 'n0BN'
    set heroPic[80] = "ReplaceableTextures\\CommandButtons\\BTNShade.blp"
    call setUnitAnim(heroId[80], "stand channel")
    call setHeroScaleAndSelector(heroId[80], 1.15, heroSelectorId[80])
    call KRI(heroId[80], 0, 0, 0)
    set heroHelp1[i] = "Necromastery is important because of its massive damage gain and because your ultimate deals damage based on the number of souls."
    set heroHelp2[i] = "Shadow Raze gives you three powerful nuke spells that should be maxed out first. Gauge the distance correctly and hit multiple times."
    set heroHelp3[i] = "Requiem of Souls deals more damage the closer you are: Placement items like Lothar's Edge and Kelen's Dagger can help you land it."
    set heroHelp4[i] = "After maxing your other two spells, Presence of the Dark Lord will be useful by then, good for pushing and dealing more physical damage."
    set heroHelp5[i] = "If you die, remember to fill up on souls again before major fights when you respawn or you will be much less effective in battles."
    set i = i + 1
    set heroId[81] = 'U00K'
    set heroSelectorId[81] = 'h064'
    set heroNameUnitId[81] = 'n0C4'
    set heroPic[81] = "ReplaceableTextures\\CommandButtons\\BTNArachnathidGreen.blp"
    call setUnitAnim(heroId[81], "attack 3")
    call setHeroScaleAndSelector(heroId[81], 1, heroSelectorId[81])
    set heroHelp1[i] = "Burrowstrike is both versatile and powerful: It deals damage, stuns and provides you with a useful escape or chasing mechanism."
    set heroHelp2[i] = "Using Sandstorm at the right time will dodge certain projectile spells and can protect you temporarily if it is necessary."
    set heroHelp3[i] = "Getting Kelen's Dagger will give him increased mobility and reach, and also the ability to Blink into battle right after channeling Epicenter."
    set heroHelp4[i] = "While you cannot move while Epicenter is channeling, once the pulses begin you can freely move around (mostly to chase your opponent)."
    set heroHelp5[i] = "Caustic Finale might be an orb effect but it is extremely useful for killing multiple units quickly for fighting neutrals, pushing and defending."
    set i = i + 1
    set heroId[82] = 'Opgh'
    set heroSelectorId[82] = 'h065'
    set heroNameUnitId[82] = 'n0BM'
    set heroPic[82] = "ReplaceableTextures\\CommandButtons\\BTNChaosGrom.blp"
    call setUnitAnim(heroId[82], "stand victory")
    call setHeroScaleAndSelector(heroId[82], 1, heroSelectorId[82])
    set heroHelp1[i] = "Counter Helix gives Axe the flexibility to both lane and jungle. A Stout Shield will help reduce the damage from taking attacks in order to activate Helix."
    set heroHelp2[i] = "A Vanguard or a Hood of Defiance offers survivability and regeneration, which are usually more useful to Axe than increasing his attack speed or damage."
    set heroHelp3[i] = "Berserker's Call is used to initiate fights and draw focus fire. Using it when there are more enemy units increases the chance of activating Counter Helix."
    set heroHelp4[i] = "Monitor your opponent's HP for the perfect Culling Blade opportunity to finish them off. However, if your enemy has too much HP, it will hardly do anything."
    set heroHelp5[i] = "Kelen's Dagger and/or Phase Boots can help you enter the fight first and get close enough for a Berserker's Call."
    set i = i + 1
    set heroId[83] = 'Hvsh'
    set heroSelectorId[83] = 'h066'
    set heroNameUnitId[83] = 'n0BZ'
    set heroPic[83] = "ReplaceableTextures\\CommandButtons\\BTNShaman.blp"
    call setUnitAnim(heroId[83], "stand victory")
    call setHeroScaleAndSelector(heroId[83], 1.25, heroSelectorId[83])
    call KRI(heroId[83], 250, 150, 150)
    set heroHelp1[i] = "Getting Blood Bath will allow you to take a few hits as you are killing creeps because you will recover your health immediately afterwards."
    set heroHelp2[i] = "An early level of Bloodrage can be useful for silencing enemies temporarily and for dealing a little bit of damage."
    set heroHelp3[i] = "Phase Boots and HP can be just as useful as damage items because they increase his survivability for chasing enemies and other longer battles."
    set heroHelp4[i] = "Use Rupture when your enemy has to either run away or to prevent them from moving, such as when an ally is about to use a powerful spell."
    set heroHelp5[i] = "Both allies and enemies gain the massive damage increase and are silenced from Bloodrage, which can be disastrous if used incorrectly."
    set i = i + 1
    set heroId[84] = 'Udea'
    set heroSelectorId[84] = 'h067'
    set heroNameUnitId[84] = 'n0BL'
    set heroPic[84] = "ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp"
    call setUnitAnim(heroId[84], "stand ready")
    call setHeroScaleAndSelector(heroId[84], 1, heroSelectorId[84])
    set heroHelp1[i] = "Abbadon's spells can save allies while dealing damage, so support and regeneration items like Vladmir's Offering can be more useful than damage items."
    set heroHelp2[i] = "Death Coil can be used both as a nuke and a heal, just remember that it deals damage to you unless you are using Aphotic Shield or Borrowed Time."
    set heroHelp3[i] = "Aphotic Shield prevents damage but can also be used to remove certain debuffs, such as removing the stun duration effect on an ally."
    set heroHelp4[i] = "Frostmourne is usually gotten later but it is very useful for chasing and helping your allies outrun your opponents."
    set heroHelp5[i] = "Borrowed Time can be cast manually as well. If you know you are going to receive a lot of damage sometimes it can be wiser to use it then."
    set i = i + 1
    set heroId[85] = 'E01B'
    set heroSelectorId[85] = 'h068'
    set heroNameUnitId[85] = 'n0B9'
    set heroPic[85] = "ReplaceableTextures\\CommandButtons\\BTNvengeanceincarnate.blp"
    call setUnitAnim(heroId[85], "stand ready")
    call setHeroScaleAndSelector(heroId[85], 0.8, heroSelectorId[85])
    set heroHelp1[i] = "Spectral Dagger is your utility spell. You can use it for chasing people down, scouting dangerous areas and escaping. "
    set heroHelp2[i] = "You also walk through units, trees, even cliffs while you are walking on Spectral Dagger's black path, making it very handy when used properly."
    set heroHelp3[i] = "Desolate is great for dealing target to isolated targets but Dispersion helps you to survive in the lane: Chose whatever combination suits you best."
    set heroHelp4[i] = "Haunt lets you jump into a fight directly from anywhere in the map; just make sure that you pay attention to the actions of your team."
    set heroHelp5[i] = "Getting HP will allow you to withstand and dish out more Dispersion damage, which is extremely powerful in team fights."
    set i = i + 1
    set heroId[86] = 'E01A'
    set heroSelectorId[86] = 'h069'
    set heroNameUnitId[86] = 'n0BK'
    set heroPic[86] = "ReplaceableTextures\\CommandButtons\\BTNWitchDoctor.blp"
    call setUnitAnim(heroId[86], "stand victory")
    call setHeroScaleAndSelector(heroId[86], 1.25, heroSelectorId[86])
    set heroHelp1[i] = "Paralyzing Cask is your initiating spell for your other skills and can effectively keep two nearby units stun-locked at higher levels."
    set heroHelp2[i] = "Maledict drastically reduces the damage needed to kill opponents and is an important spell to land in every fight."
    set heroHelp3[i] = "An early level of Voodoo Restoration can provide a relatively cheap heal if you are forced to play defensively."
    set heroHelp4[i] = "Damaging your opponent immediately after using Maledict is wise because it will deal more bonus damage overall at the 3 ticks."
    set heroHelp5[i] = "Death Ward is a powerful channeling spell if not interrupted. A Black King Bar will help to prevent enemies from disabling you."
    set i = i + 1
    set heroId[87] = 'U00P'
    set heroSelectorId[87] = 'h06A'
    set heroNameUnitId[87] = 'n0BA'
    set heroPic[87] = "ReplaceableTextures\\CommandButtons\\BTNDestroyer.blp"
    call setUnitAnim(heroId[87], "stand alternate 2")
    call setHeroScaleAndSelector(heroId[87], 0.85, heroSelectorId[87])
    set heroHelp1[i] = "Getting Intelligence and mana items is extremely important for Harbringer as the power of Arcane Orb and Sanity's Eclipse rely on this."
    set heroHelp2[i] = "Use Astral Imprisonment to control your opponents' mana, for escaping/chasing, or on yourself and allies to avoid spells."
    set heroHelp3[i] = "Cast Arcane Orb manually early on because you will have a greater chance of activating Essence Aura to use it endlessly."
    set heroHelp4[i] = "Guinsoo's Scythe of Vyse is a great choice because it offers Intelligence, balanced stats and provides Harbringer with a powerful disable."
    set heroHelp5[i] = "Use Sanity's Eclipse early in fights so that you drain casters with high Intelligence of their mana and cripple their ability to cast spells."
    set i = i + 1
    set heroId[88] = 'E01C'
    set heroSelectorId[88] = 'h06C'
    set heroNameUnitId[88] = 'n0BB'
    set heroPic[88] = "ReplaceableTextures\\CommandButtons\\BTNGuldan.blp"
    call setUnitAnim(heroId[88], "spell")
    call setHeroScaleAndSelector(heroId[88], 1.5, heroSelectorId[88])
    set heroHelp1[i] = "Shadow Word is either a heal or damage over time, definitely the most powerful early game spell to have."
    set heroHelp2[i] = "The affordable Mekansm is a good support item for Warlock, who is not a hero who is reliant on gold and items to be effective."
    set heroHelp3[i] = "Rain of Chaos creates a powerful Infernal that can take on heroes and is also great for killing creeps and pushing buildings."
    set heroHelp4[i] = "Fatal Bonds can deal huge damage if you and your teammates have other area of effect (AoE) spells that would hurt multiple linked units."
    set heroHelp5[i] = "The stun when using Rain of Chaos along with its huge casting range (1200) is great for interrupting spells and initiating battles."
    set i = i + 1
    set heroId[89] = 'H00I'
    set heroSelectorId[89] = 'h06D'
    set heroNameUnitId[89] = 'n0BJ'
    set heroPic[89] = "ReplaceableTextures\\CommandButtons\\BTNKoboldGeomancer.blp"
    call setUnitAnim(heroId[89], "spell")
    call setHeroScaleAndSelector(heroId[89], 1.4, heroSelectorId[89])
    call setHeroScaleAndSelector('H00J', 1.4, heroSelectorId[89])
    set heroHelp1[i] = "Vladmir's Offering and/or Mekansm provides valuable auras and useful heals that can help support your team and keep your Meepos alive."
    set heroHelp2[i] = "Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival).Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival)."
    set heroHelp3[i] = "Geomancer is an advanced hero: Be sure to monitor their individual health because if one dies, they all will."
    set heroHelp4[i] = "Strength Power Treads are suggested since clones will receive all of the Strength from footwear along with a 2.5 bonus (12.5 total)."
    set heroHelp5[i] = "Time Earthbind with each of your clones. With 4 Meepos and Level 4 Earthbind, you can almost permanently immobilize them."
    set i = i + 1
    set heroId[90] = 'N01W'
    set heroSelectorId[90] = 'h06E'
    set heroNameUnitId[90] = 'n0BI'
    set heroPic[90] = "ReplaceableTextures\\CommandButtons\\BTNDarkTrollShadowPriest.blp"
    call setUnitAnim(heroId[90], "spell")
    call setHeroScaleAndSelector(heroId[90], 1.2, heroSelectorId[90])
    set heroHelp1[i] = "An early level of both Shadow Wave and Shallow Grave provides a lot of support before getting Poison Touch to level 3 for its added stun."
    set heroHelp2[i] = "Try to use Shadow Wave to heal and damage opponents at the same time. Surround an enemy with multiple allied units for more damage."
    set heroHelp3[i] = "In addition to slowing and damaging opponents, Poison Touch will allow you to interrupt channeling spells and teleports"
    set heroHelp4[i] = "Dazzle generally does not need many items and can sometimes focus on increasing his spell use with regeneration and support items like Mekansm."
    set heroHelp5[i] = "Weave is a powerful spell, try to hit both allies and enemies with it, and it can also be used to provide vision before major battles occur."
    set i = i + 1
    set heroId[91] = 'N00R'
    set heroSelectorId[91] = 'h06F'
    set heroNameUnitId[91] = 'n0BC'
    set heroPic[91] = "ReplaceableTextures\\CommandButtons\\BTNPitLord.blp"
    call setUnitAnim(heroId[91], "stand channel")
    call setHeroScaleAndSelector(heroId[91], 1, heroSelectorId[91])
    set heroHelp1[i] = "Firestorm will be your main ability for killing creeps but it can deal a lot of damage to heroes if you combine it with disables or slows."
    set heroHelp2[i] = "The Pit of Malice is a useful disable that lasts for 10 seconds so it will both ensnare opponents and deter opponents from entering the circle."
    set heroHelp3[i] = "Expulsion is usually used after some creeps have died so the spell lasts longer and will deal damage and mini-stun enemies."
    set heroHelp4[i] = "Pit Lord is played more as a caster, increase his team presence and spell use by obtaining expensive Intelligence items like Shiva's Guard."
    set heroHelp5[i] = "Dark Rift is a great spell for transporting multiple allies to surprise opponents, and more importantly to defend and attack the base."
    set i = i + 1
    set heroId[92] = 'H00R'
    set heroSelectorId[92] = 'h06G'
    set heroNameUnitId[92] = 'n0BH'
    set heroPic[92] = "ReplaceableTextures\\CommandButtons\\BTNZombie.blp"
    call setUnitAnim(heroId[92], "stand")
    call setHeroScaleAndSelector(heroId[92], 2, heroSelectorId[92])
    call setHeroScaleAndSelector('H07I', 1.3, heroSelectorId[92])
    set heroHelp1[i] = "Decay is used to deal damage and make opponents more vulnerable, while increasing the survivability of Dirge temporarily."
    set heroHelp2[i] = "Make sure Dirge is a presence who can cast his spells in fights by buying regeneration items like Vladmir's Offering and Void Stone."
    set heroHelp3[i] = "Soul Rip is a powerful heal or nuke but remember that it will have almost no effect without nearby units. Cast it in crowds."
    set heroHelp4[i] = "Use Tombstone when engaging the enemy because the zombies have a slowing capability and may also help block your opponents."
    set heroHelp5[i] = "Tombstone Zombies become extremely powerful when your opponents have low health and attack and move much faster."
    set i = i + 1
    set heroId[93] = 'H00N'
    set heroSelectorId[93] = 'h06H'
    set heroNameUnitId[93] = 'n0BG'
    set heroPic[93] = "ReplaceableTextures\\CommandButtons\\BTNDranaiMage.blp"
    call setUnitAnim(heroId[93], "spell")
    call setHeroScaleAndSelector(heroId[93], 1.15, heroSelectorId[93])
    set heroHelp1[i] = "Ion shell is great for killing creeps and dealing damage to heroes, but it will not damage an enemy target if you cast it on them directly."
    set heroHelp2[i] = "A level of Surge early game can help you and allies escape and chase enemies, and works nicely to help you close in on opponents with Ion Shell."
    set heroHelp3[i] = "Vacuum is an extremely powerful skill that can be used for initiating and combining with other spells. It can also interrupt channeling and teleport spells."
    set heroHelp4[i] = "Make sure they are standing closer to the edge of your targeting circle when casting Vacuum to pull your opponents further."
    set heroHelp5[i] = "Use Wall of Replica where multiple heroes will touch it; try using it with Vacuum. Get your allies to run through the wall too."
    set i = i + 1
    set heroId[94] = 'H00U'
    set heroSelectorId[94] = 'h06B'
    set heroNameUnitId[94] = 'n0BF'
    set heroPic[94] = "ReplaceableTextures\\CommandButtons\\BTNHeroBloodElfPrince.blp"
    call setUnitAnim(heroId[94], "spell")
    call setHeroScaleAndSelector(heroId[94], 1.25, heroSelectorId[94])
    set heroHelp1[i] = "Having at least one level in Quas, Wex and Exort will give you a larger repertoire of spells. Type -invokelist to obtain a full list of combinations."
    set heroHelp2[i] = "Ghost Walk (QQW) can be used to get yourself out of a tight situation, and also for slowing opponents so that your allies can chase/escape."
    set heroHelp3[i] = "Sunstrike (EEE) is a global-ranged nuke that deals damage based on the level of Exort. When using it, you have to factor in the 1.7 casting time."
    set heroHelp4[i] = "Forge Spirit (EEQ) and Cold Snap (QQQ) can be effective for pushing towers and against heroes with low armor. "
    set heroHelp5[i] = "EMP (WWW) and Tornado (WWQ) can completely drain off heroes with low mana pools and have a impressive casting range."
    set i = i + 1
    set heroId[95] = 'Uktl'
    set heroSelectorId[95] = 'h04D'
    set heroNameUnitId[95] = 'n0A6'
    set heroPic[95] = "ReplaceableTextures\\CommandButtons\\BTNSpell_Shadow_SummonVoidWalker.blp"
    call setUnitAnim(heroId[95], "stand")
    call setHeroScaleAndSelector(heroId[95], 1.5, heroSelectorId[95])
    set heroHelp1[i] = "Conversion allows Enigma to neutral creep effectively. Target the highest level creep possible and move your low HP Eidolons out of the way to save them."
    set heroHelp2[i] = "In the lane, Conversion can be used on allied creeps to deny your opponents of experience and gold, and for making sure you last hit enemy creeps."
    set heroHelp3[i] = "The multiple stuns on higher levels of Malefice make it useful for preventing an opponent from channeling spells or help you chase/escape them."
    set heroHelp4[i] = "Use Midnight Pulse in conjunction with Black Hole to deal massive damage to enemies. Just make sure that you cast it before Black Hole."
    set heroHelp5[i] = "Kelen's Dagger is great for Black Hole placement, and a Black King Bar will prevent most spells from stopping the channeling effect of the spell."
    set i = i + 1
    set heroId[96] = 'O016'
    set heroSelectorId[96] = 'h07R'
    set heroNameUnitId[96] = 'n0G9'
    set heroPic[96] = "ReplaceableTextures\\CommandButtons\\BTNTrollBatRider.blp"
    call setUnitAnim(heroId[96], "stand")
    call setHeroScaleAndSelector(heroId[96], 1.2, heroSelectorId[96])
    call setHeroScaleAndSelector('O017', 1.2, heroSelectorId[96])
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[97] = 'N0HP'
    set heroSelectorId[97] = 'h0B0'
    set heroNameUnitId[97] = 'n0HR'
    set heroPic[97] = "ReplaceableTextures\\CommandButtons\\BTNIcyGhost.blp"
    call setUnitAnim(heroId[97], "stand")
    call setHeroScaleAndSelector(heroId[97], 1.17, heroSelectorId[97])
    call setHeroScaleAndSelector('N0HP', 1.2, heroSelectorId[97])
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[98] = 'H071'
    set heroSelectorId[98] = 'h072'
    set heroNameUnitId[98] = 'n0EF'
    set heroPic[98] = "ReplaceableTextures\\CommandButtons\\BTNMurgulShadowCaster.blp"
    call setUnitAnim(heroId[98], "stand 3")
    call setHeroScaleAndSelector(heroId[98], 1.25, heroSelectorId[98])
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[99] = 'OPR1'
    set heroSelectorId[99] = 'hPR1'
    set heroNameUnitId[99] = 'nPR1'
    set heroPic[99] = "ProtonModels\\proton\\BTNproton.blp"
    call setUnitAnim(heroId[99], "stand victory")
    call setHeroScaleAndSelector(heroId[99], 1, heroSelectorId[99])
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[100] = 'OPR2'
    set heroSelectorId[100] = 'hPR2'
    set heroNameUnitId[100] = 'nPR2'
    set heroPic[100] = "ProtonModels\\pinwei\\BTNgwinnett.blp"
    call setUnitAnim(heroId[100], "stand victory")
    call setHeroScaleAndSelector(heroId[100], 2.2, heroSelectorId[100])
    set heroHelp1[i] = ""
    set heroHelp2[i] = ""
    set heroHelp3[i] = ""
    set heroHelp4[i] = ""
    set heroHelp5[i] = ""
    set i = i + 1
    set heroId[101] = 'OPR3'
    set heroSelectorId[101] = 'hPR3'
    set heroNameUnitId[101] = 'nPR3'
    set heroPic[101] = "ProtonModels\\panming\\BTNbossl.blp"
    call setUnitAnim(heroId[101], "stand victory")
    call setHeroScaleAndSelector(heroId[101], 0.7, heroSelectorId[101])
    set heroHelp1[i] = "Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."
    set heroHelp2[i] = "Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."
    set heroHelp3[i] = "Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."
    set heroHelp4[i] = "Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."
    set heroHelp5[i] = "Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."
    set i = i + 1
    set heroId[102] = 'OPR4'
    set heroSelectorId[102] = 'hPR4'
    set heroNameUnitId[102] = 'nPR4'
    set heroPic[102] = "ProtonModels\\zhanshen\\BTNzhanshen.blp"
    call setUnitAnim(heroId[99], "stand victory")
    call setHeroScaleAndSelector(heroId[99], 1, heroSelectorId[99])
    set heroHelp1[i] = "Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."
    set heroHelp2[i] = "Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."
    set heroHelp3[i] = "Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."
    set heroHelp4[i] = "Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."
    set heroHelp5[i] = "Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."
    set i = i + 1
    set heroId[103] = 'OPR5'
    set heroSelectorId[103] = 'hPR5'
    set heroNameUnitId[103] = 'nPR5'
    set heroPic[103] = "ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"
    call setUnitAnim(heroId[103], "stand victory")
    call setHeroScaleAndSelector(heroId[103], 1, heroSelectorId[103])
    set heroHelp1[i] = "Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."
    set heroHelp2[i] = "Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."
    set heroHelp3[i] = "Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."
    set heroHelp4[i] = "Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."
    set heroHelp5[i] = "Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."
    set i = i + 1
    set heroId[104] = 'OPR0'
    set heroSelectorId[104] = 'hPR0'
    set heroNameUnitId[104] = 'nPR0'
    set heroPic[104] = "ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"
    call setUnitAnim(heroId[104], "stand victory")
    call setHeroScaleAndSelector(heroId[104], 1.4, heroSelectorId[104])
    set heroHelp1[i] = "Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."
    set heroHelp2[i] = "Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."
    set heroHelp3[i] = "Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."
    set heroHelp4[i] = "Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."
    set heroHelp5[i] = "Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."
    set i = i + 1
    set numHeroes = 104
    set agilityHeroes[1] = 'Nbrn'
    set agilityHeroes[2] = 'Edem'
    set agilityHeroes[3] = 'N016'
    set agilityHeroes[4] = 'Nbbc'
    set agilityHeroes[5] = 'Naka'
    set agilityHeroes[6] = 'O00P'
    set agilityHeroes[7] = 'Usyl'
    set agilityHeroes[8] = 'E005'
    set agilityHeroes[9] = 'N01O'
    set agilityHeroes[10] = 'HC92'
    set agilityHeroes[11] = 'Hvwd'
    set agilityHeroes[12] = 'HC49'
    set agilityHeroes[13] = 'Huth'
    set agilityHeroes[14] = 'Ogrh'
    set agilityHeroes[15] = 'U006'
    set agilityHeroes[16] = 'EC57'
    set agilityHeroes[17] = 'Eevi'
    set agilityHeroes[18] = 'Ubal'
    set agilityHeroes[19] = 'E004'
    set agilityHeroes[20] = 'EC77'
    set agilityHeroes[21] = 'Hvsh'
    set agilityHeroes[22] = 'Nfir'
    set agilityHeroes[23] = 'E002'
    set agilityHeroes[24] = 'EC45'
    set agilityHeroes[25] = 'Ewar'
    set agilityHeroes[26] = 'U000'
    set agilityHeroes[27] = 'H00V'
    set agilityHeroes[28] = 'E01B'
    set agilityHeroes[29] = 'N01V'
    set agilityHeroes[30] = 'H00I'
    set agilityHeroes[31] = 'E01Y'
    set agilityHeroes[32] = 'H071'
    set agilityHeroes[33] = 'OPR0'
    set agilityHeroes[34] = 'OPR1'
    set agilityHeroes[35] = 'OPR2'
    set agilityHeroes[36] = 'OPR3'
    set agilityHeroes[37] = 'OPR4'
    set agilityHeroes[38] = 'OPR5'
    set numAgilityHeroes = 38
    set strengthHeroes[1] = 'Npbm'
    set strengthHeroes[2] = 'Hlgr'
    set strengthHeroes[3] = 'Harf'
    set strengthHeroes[4] = 'H000'
    set strengthHeroes[5] = 'H001'
    set strengthHeroes[6] = 'Hamg'
    set strengthHeroes[7] = 'H008'
    set strengthHeroes[8] = 'Ucrl'
    set strengthHeroes[9] = 'Otch'
    set strengthHeroes[10] = 'NC00'
    set strengthHeroes[11] = 'Udre'
    set strengthHeroes[12] = 'UC11'
    set strengthHeroes[13] = 'Ofar'
    set strengthHeroes[14] = 'U00F'
    set strengthHeroes[15] = 'U00K'
    set strengthHeroes[16] = 'O00J'
    set strengthHeroes[17] = 'Udea'
    set strengthHeroes[18] = 'Opgh'
    set strengthHeroes[19] = 'U00A'
    set strengthHeroes[20] = 'U00C'
    set strengthHeroes[21] = 'UC91'
    set strengthHeroes[22] = 'UC42'
    set strengthHeroes[23] = 'U008'
    set strengthHeroes[24] = 'H00D'
    set strengthHeroes[25] = 'N01I'
    set strengthHeroes[26] = 'H00Q'
    set strengthHeroes[27] = 'N00R'
    set strengthHeroes[28] = 'H00T'
    set strengthHeroes[29] = 'H06S'
    set strengthHeroes[30] = 'H00R'
    set strengthHeroes[31] = 'O015'
    set numStrengthHeroes = 31
    set intelligenceHeroes[1] = 'Orkn'
    set intelligenceHeroes[2] = 'Emoo'
    set intelligenceHeroes[3] = 'Emns'
    set intelligenceHeroes[4] = 'H004'
    set intelligenceHeroes[5] = 'Hjai'
    set intelligenceHeroes[6] = 'Uktl'
    set intelligenceHeroes[7] = 'Hmbr'
    set intelligenceHeroes[8] = 'H00K'
    set intelligenceHeroes[9] = 'Ntin'
    set intelligenceHeroes[10] = 'Hmkg'
    set intelligenceHeroes[11] = 'Hblm'
    set intelligenceHeroes[12] = 'N01A'
    set intelligenceHeroes[13] = 'H00A'
    set intelligenceHeroes[14] = 'Ulic'
    set intelligenceHeroes[15] = 'Ekee'
    set intelligenceHeroes[16] = 'UC76'
    set intelligenceHeroes[17] = 'UC18'
    set intelligenceHeroes[18] = 'UC01'
    set intelligenceHeroes[19] = 'UC60'
    set intelligenceHeroes[20] = 'H00H'
    set intelligenceHeroes[21] = 'Oshd'
    set intelligenceHeroes[22] = 'U00E'
    set intelligenceHeroes[23] = 'E01A'
    set intelligenceHeroes[24] = 'U00P'
    set intelligenceHeroes[25] = 'E00P'
    set intelligenceHeroes[26] = 'E01C'
    set intelligenceHeroes[27] = 'N01W'
    set intelligenceHeroes[28] = 'H00N'
    set intelligenceHeroes[29] = 'N0EG'
    set intelligenceHeroes[30] = 'H00S'
    set intelligenceHeroes[31] = 'N00B'
    set intelligenceHeroes[32] = 'H00U'
    set intelligenceHeroes[33] = 'O016'
    set intelligenceHeroes[34] = heroId[97]
    set numIntelligenceHeroes = 34
    set DE0[1] = 'Orkn'
    set DE0[2] = 'Emoo'
    set DE0[3] = 'Emns'
    set DE0[4] = 'H004'
    set DE0[5] = 'Hjai'
    set DE0[6] = 'Uktl'
    set DE0[7] = 'Hmbr'
    set DE0[8] = 'H00K'
    set DE0[9] = 'Ntin'
    set DE0[10] = 'Nbrn'
    set DE0[11] = 'Hblm'
    set DE0[12] = 'N01A'
    set DE0[13] = 'H00A'
    set DE0[14] = 'Ulic'
    set DE0[15] = 'Ekee'
    set DE0[16] = 'UC76'
    set DE0[17] = 'UC18'
    set DE0[18] = 'UC01'
    set DE0[19] = 'UC60'
    set DE0[20] = 'H00H'
    set DE0[21] = 'Oshd'
    set DE0[22] = 'U00E'
    set DE0[23] = 'E01A'
    set DE0[24] = 'U00P'
    set DE0[25] = 'E00P'
    set DE0[26] = 'E01C'
    set DE0[27] = 'N01W'
    set DE0[28] = 'N0EG'
    set DE0[29] = 'H00S'
    set DE0[30] = 'N00B'
    set DE0[31] = 'H00U'
    set DE0[32] = 'N016'
    set DE0[33] = 'O00P'
    set DE0[34] = 'Usyl'
    set DE0[35] = 'E005'
    set DE0[36] = 'N01O'
    set DE0[37] = 'E01Y'
    set DE0[38] = 'Hvwd'
    set DE0[39] = 'EC57'
    set DE0[40] = 'Ubal'
    set DE0[41] = 'E004'
    set DE0[42] = 'EC77'
    set DE0[43] = 'Nfir'
    set DE0[44] = 'E002'
    set DE0[45] = 'H00V'
    set DE0[46] = 'N01V'
    set DE0[47] = 'H00Q'
    set DE0[48] = 'O016'
    set DE0[49] = heroId[97]
    set DF0 = 49
    set DG0[1] = 'Hmkg'
    set DG0[2] = 'H00N'
    set DG0[3] = 'Edem'
    set DG0[4] = 'Nbbc'
    set DG0[5] = 'Naka'
    set DG0[6] = 'HC49'
    set DG0[7] = 'Huth'
    set DG0[8] = 'Ogrh'
    set DG0[9] = 'U006'
    set DG0[10] = 'Eevi'
    set DG0[11] = 'Hvsh'
    set DG0[12] = 'EC45'
    set DG0[13] = 'Ewar'
    set DG0[14] = 'U000'
    set DG0[15] = 'E01B'
    set DG0[16] = 'H00I'
    set DG0[17] = 'HC92'
    set DG0[18] = 'Npbm'
    set DG0[19] = 'Hlgr'
    set DG0[20] = 'Harf'
    set DG0[21] = 'H000'
    set DG0[22] = 'H001'
    set DG0[23] = 'Hamg'
    set DG0[24] = 'H008'
    set DG0[25] = 'Ucrl'
    set DG0[26] = 'Otch'
    set DG0[27] = 'NC00'
    set DG0[28] = 'Udre'
    set DG0[29] = 'UC11'
    set DG0[30] = 'Ofar'
    set DG0[31] = 'U00F'
    set DG0[32] = 'U00K'
    set DG0[33] = 'O00J'
    set DG0[34] = 'Udea'
    set DG0[35] = 'Opgh'
    set DG0[36] = 'U00A'
    set DG0[37] = 'U00C'
    set DG0[38] = 'UC91'
    set DG0[39] = 'UC42'
    set DG0[40] = 'U008'
    set DG0[41] = 'H00D'
    set DG0[42] = 'N01I'
    set DG0[43] = 'N00R'
    set DG0[44] = 'H00T'
    set DG0[45] = 'H06S'
    set DG0[46] = 'H00R'
    set DG0[47] = 'O015'
    set DG0[48] = 'H071'
    set DH0 = 48
    set DW0 = 1
    set neutralHeroes[1] = intelligenceHeroes[33]
    set neutralHeroes[2] = intelligenceHeroes[32]
    set neutralHeroes[3] = intelligenceHeroes[15]
    set neutralHeroes[4] = intelligenceHeroes[8]
    set neutralHeroes[5] = intelligenceHeroes[9]
    set neutralHeroes[6] = intelligenceHeroes[10]
    set neutralHeroes[7] = intelligenceHeroes[19]
    set neutralHeroes[8] = intelligenceHeroes[23]
    set neutralHeroes[9] = intelligenceHeroes[27]
    set neutralHeroes[10] = intelligenceHeroes[1]
    set neutralHeroes[11] = intelligenceHeroes[25]
    set neutralHeroes[12] = strengthHeroes[7]
    set neutralHeroes[13] = strengthHeroes[25]
    set neutralHeroes[14] = strengthHeroes[26]
    set neutralHeroes[15] = strengthHeroes[28]
    set neutralHeroes[16] = strengthHeroes[15]
    set neutralHeroes[17] = strengthHeroes[16]
    set neutralHeroes[18] = strengthHeroes[12]
    set neutralHeroes[19] = strengthHeroes[2]
    set neutralHeroes[20] = strengthHeroes[13]
    set neutralHeroes[21] = agilityHeroes[1]
    set neutralHeroes[22] = agilityHeroes[30]
    set neutralHeroes[23] = agilityHeroes[31]
    set neutralHeroes[24] = agilityHeroes[27]
    set neutralHeroes[25] = agilityHeroes[23]
    set neutralHeroes[26] = agilityHeroes[13]
    set neutralHeroes[27] = agilityHeroes[11]
    set neutralHeroes[28] = agilityHeroes[5]
    set neutralHeroes[29] = agilityHeroes[24]
    set neutralHeroes[30] = heroId[97]
    set neutralHeroes[31] = 'H071'
    set neutralHeroes[32] = 'OPR0'
    set neutralHeroes[33] = 'OPR1'
    set neutralHeroes[34] = 'OPR2'
    set neutralHeroes[35] = 'OPR3'
    set neutralHeroes[36] = 'OPR4'
    set neutralHeroes[37] = 'OPR5'
    set numNeutralHeroes = 37
    call F2I()
endfunction

function InitTrig_Hero takes nothing returns nothing
    call N1I()
endfunction

function NOI takes nothing returns nothing
    call setUnitAnim('esen', "stand 4")
    call setUnitAnim('e00V', "stand 4")
    call setUnitAnim('edry', "spell")
    call setUnitAnim('e00W', "spell")
    call setUnitAnim('ugho', "stand victory")
    call setUnitAnim('u001', "stand victory")
    call setUnitAnim('unec', "stand channel")
    call setUnitAnim('u002', "stand channel")
    call setHeroScaleAndSelector('n00M', 0.4, 'n00M')
endfunction

function InitTrig_Unit takes nothing returns nothing
    call NOI()
endfunction

function N2I takes nothing returns nothing
    local trigger t = CreateTrigger()
    local player EYI = Player(15)
    local real N3I = GetUnitX(TX)
    local real N4I = GetUnitY(TX)
    local real N5I = GetUnitX(AV)
    local real N6I = GetUnitY(AV)
    local real N7I = GetUnitX(NX)
    local real N8I = GetUnitY(NX)
    local real N9I = GetUnitX(OV)
    local real NAI = GetUnitY(OV)
    local real NBI = GetUnitX(BV)
    local real NCI = GetUnitY(BV)
    local real NDI = GetUnitX(VZ)
    local real NEI = GetUnitY(VZ)
    local real NFI = GetUnitX(LZ)
    local real NGI = GetUnitY(LZ)
    local real NHI = GetUnitX(SX)
    local real NZI = GetUnitY(SX)
    local real NVI = GetUnitX(NY)
    local real NWI = GetUnitY(NY)
    local real otakux = GetUnitX(houseDummyOtaku)
    local real otakuy = GetUnitY(houseDummyOtaku)
    call RemoveUnit(TX)
    call RemoveUnit(BV)
    call RemoveUnit(AV)
    call RemoveUnit(OV)
    call RemoveUnit(NX)
    call RemoveUnit(VZ)
    call RemoveUnit(LZ)
    call RemoveUnit(SX)
    call RemoveUnit(NY)
    call RemoveUnit(houseDummyOtaku)
    set houseIntSen = CreateUnit(EYI, 'n008', N9I, NAI, 270)
    set houseIntNeu = CreateUnit(EYI, 'n0GJ', NBI, NCI, 270)
    set houseIntSco = CreateUnit(EYI, 'n01D', NDI, NEI, 270)
    set houseAgiSen = CreateUnit(EYI, 'n01N', N3I, N4I, 270)
    set houseAgiNeu = CreateUnit(EYI, 'n007', N5I, N6I, 270)
    set houseAgiSco = CreateUnit(EYI, 'n005', N7I, N8I, 270)
    set houseStrSen = CreateUnit(EYI, 'n01B', NFI, NGI, 270)
    set houseStrNeu = CreateUnit(EYI, 'n01P', NHI, NZI, 270)
    set houseStrSco = CreateUnit(EYI, 'n0GK', NVI, NWI, 270)
    set houseOtaku = CreateUnit(EYI, 'nPR6', otakux, otakuy, 240)
    call SetUnitColor(houseIntSen, ConvertPlayerColor(1))
    call SetUnitColor(houseIntNeu, ConvertPlayerColor(9))
    call SetUnitColor(houseIntSco, ConvertPlayerColor(12))
    call SetUnitColor(houseAgiSen, ConvertPlayerColor(6))
    call SetUnitColor(houseAgiNeu, ConvertPlayerColor(10))
    call SetUnitColor(houseAgiSco, ConvertPlayerColor(12))
    call SetUnitColor(houseStrSen, ConvertPlayerColor(0))
    call SetUnitColor(houseStrNeu, ConvertPlayerColor(11))
    call SetUnitColor(houseStrSco, ConvertPlayerColor(12))
    call SetUnitColor(houseOtaku, ConvertPlayerColor(11))
    set t = null
endfunction

function InitTrig_Tavern takes nothing returns nothing
    call N2I()
endfunction

function NKI takes nothing returns nothing
    call CreateQuestBJ(0, "TRIGSTR_50004", "TRIGSTR_50005", "ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
    call CreateQuestBJ(0, "TRIGSTR_50006", "TRIGSTR_50007", "ReplaceableTextures\\CommandButtons\\BTNTome.blp")
    call CreateQuestBJ(0, "TRIGSTR_50008", "TRIGSTR_50009", "ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
    call CreateQuestBJ(2, "TRIGSTR_50010", "TRIGSTR_50011", "ReplaceableTextures\\CommandButtons\\BTNScrollOfHaste.blp")
    call CreateQuestBJ(2, "TRIGSTR_50012", "TRIGSTR_50013", "ReplaceableTextures\\CommandButtons\\BTNBansheeMaster.blp")
    call CreateQuestBJ(2, "TRIGSTR_50014", "TRIGSTR_50015", "ReplaceableTextures\\CommandButtons\\BTNCarrionScarabs.blp")
endfunction

function NMI takes nothing returns boolean 
    local string s
    if IsUnitIllusion(GetTriggerUnit()) == false and GetUnitTypeId(GetTriggerUnit()) != 'H00J' then
        set s = GetUnitName(GetTriggerUnit()) + " " + GetObjectName('n0HB') + " " + GetObjectName(GetLearnedSkill()) + " (" + GetObjectName('n0HC') + " " + I2S( GetUnitAbilityLevel(GetTriggerUnit(), GetLearnedSkill()) ) + ")"
        call DisplayTimedTextToPlayer(CQ0, 0, 0, 3, s)
        call DisplayTimedTextToPlayer(CU0, 0, 0, 3, s)
    endif
    return false
endfunction

function NNI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function NMI))
    set t = null
endfunction

function NSI takes nothing returns nothing
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 25.00, playerName[GetPlayerId(GetTriggerPlayer())] + "|c00ff0303 " + GetObjectName('n02D') + "|r")
endfunction

function NTI takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player NRI = LoadPlayerHandle(hashTable, DMI, 78)
    local integer EUI = 1
    local integer NPI
    local integer FFI = GetPlayerState(NRI, PLAYER_STATE_RESOURCE_GOLD)
    if MR0[GetPlayerId(NRI)] == false and YL == true then
        if GetTriggerEvalCount(t) == 4 then
            if IsPlayerAlly(GetLocalPlayer(), NRI) == true then
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 6, GetObjectName('n0J3'))
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 6, GetObjectName('n0JG'))
            endif
        endif
        return false
    endif
    if FFI > 20 then
        call SetPlayerState(NRI, PLAYER_STATE_RESOURCE_GOLD, 0)
        if isPlayerSentinel(NRI) then
            set NPI = EMI(AO)
        else 
            set NPI = EMI(BO)
        endif
        if isPlayerSentinel(NRI) then
            loop
                exitwhen EUI > 5
                if isPlayerAlive(sentinelPlayers[EUI]) then
                    call SetPlayerState(sentinelPlayers[EUI], PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(sentinelPlayers[EUI], PLAYER_STATE_RESOURCE_GOLD) + FFI/NPI)
                endif
                set EUI = EUI + 1
            endloop
        else 
            loop
                exitwhen EUI > 5
                if isPlayerAlive(scourgePlayers[EUI]) then
                    call SetPlayerState(scourgePlayers[EUI], PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(scourgePlayers[EUI], PLAYER_STATE_RESOURCE_GOLD) + FFI/NPI)
                endif
                set EUI = EUI + 1
            endloop
        endif
    endif
    return false
endfunction

function NQI takes player NRI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SavePlayerHandle(hashTable, DMI, 78, NRI)
    call TriggerRegisterTimerEvent(t, 2, true)
    call TriggerAddCondition(t, Condition(function NTI))
    set t = null
endfunction

function NUI takes player p returns nothing
    local multiboarditem CPI = MultiboardGetItem(M0, KV0[GetPlayerId(p)], KZ0[GetPlayerId(p)])
    call MultiboardSetItemValue(CPI, "|c00333333" + playerName[GetPlayerId(p)] + "|r")
    call MultiboardReleaseItem(CPI)
endfunction

function S0I takes nothing returns nothing
    local integer MUI = EMI(AO)
    local integer MQI = EMI(BO)
    local integer EUI
    local integer F0I
    local string LLI
    local string D30
    local unit E1I = playerHero[GetPlayerId(GetTriggerPlayer())]
    if E1I == null then
        set D30 = GetObjectName('n0EW')
    else 
        set D30 = GetUnitName(E1I)
    endif
    if (Z0 < 10) then
        set LLI = I2S(H0) + ":0" + I2S(Z0)
    else 
        set LLI = I2S(H0) + ":" + I2S(Z0)
    endif
    if gameEnded == false then
        set M3[GetPlayerId(GetTriggerPlayer())] = "|c00555555" + LLI + "|r"
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 25.00, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + " (" + D30 + ")|r|c00ff0303 " + GetObjectName('n02D') + "|r")
        if (isPlayerSentinel(GetTriggerPlayer()) == true) then
            set EUI = 1
            set F0I = 5
            loop
                exitwhen EUI > F0I
                if (sentinelPlayers[EUI] != GetTriggerPlayer()) then
                    if (isPlayerAlive(sentinelPlayers[EUI]) == true) then
                        call SetPlayerAllianceStateBJ(GetTriggerPlayer(), sentinelPlayers[EUI], 4)
                    endif
                endif
                set EUI = EUI + 1
            endloop
        else 
            set EUI = 1
            set F0I = 5
            loop
                exitwhen EUI > F0I
                if (scourgePlayers[EUI] != GetTriggerPlayer()) then
                    if (isPlayerAlive(scourgePlayers[EUI]) == true) then
                        call SetPlayerAllianceStateBJ(GetTriggerPlayer(), scourgePlayers[EUI], 4)
                    endif
                endif
                set EUI = EUI + 1
            endloop
        endif
        if isPlayerSentinel(GetTriggerPlayer()) or isPlayerScourge(GetTriggerPlayer()) then
            set E40 = E40 + 1
        endif
        call L1I("C" + "K" + I2S(A[GetPlayerId(GetTriggerPlayer())]) + "D" + I2S(B[GetPlayerId(GetTriggerPlayer())]) + "N" + I2S( LoadInteger(hashTable, (400 + GetPlayerId(GetTriggerPlayer())), 79) ), GetPlayerId(GetTriggerPlayer()))
        set MD0 = GetTriggerPlayer()
        call ExecuteFunc("SII")
        if YL then
            call J5I(GetTriggerPlayer())
        endif
        set E30[GetPlayerId(GetTriggerPlayer())] = true
        call NUI(GetTriggerPlayer())
        call NQI(GetTriggerPlayer())
        if E40 == 2 and E2 == false and ZL == true then
            call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, " ")
            call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, " ")
            call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, "|c006699CC" + GetObjectName('n0FW') + "|r")
        endif
        if E40 == 3 then
            set MB0 = true
            call ExecuteFunc("S1I")
            set MB0 = false
        endif
    else 
        set M3[GetPlayerId(GetTriggerPlayer())] = "|c00555555End|r"
        call ExecuteFunc("SOI")
    endif
endfunction

function S4I takes unit E1I returns nothing
    if GetUnitTypeId(E1I) != 'H00J' and GetUnitTypeId(E1I) != 'H00I' then
        if GetOwningPlayer(E1I) == GetLocalPlayer() then
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 1, " ")
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 1, "|c006699CC" + GetObjectName('n0GR'))
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 1, " ")
        endif
        call WMI(AG, GetOwningPlayer(E1I))
    endif
    call UnitRemoveAbility(E1I, 'A0AZ')
    call UnitRemoveAbility(E1I, 'A09J')
    call UnitRemoveAbility(E1I, 'A0KT')
    call UnitRemoveAbility(E1I, 'A0NW')
    call UnitRemoveAbility(E1I, 'A0NU')
    call UnitRemoveAbility(E1I, 'A0OW')
    call UnitRemoveAbility(E1I, 'A0OV')
    call UnitRemoveAbility(E1I, 'A0OX')
    call UnitRemoveAbility(E1I, 'A0OY')
    call UnitRemoveAbility(E1I, 'A0P0')
    call UnitRemoveAbility(E1I, 'A17K')
    call UnitRemoveAbility(E1I, 'A0PV')
    call UnitRemoveAbility(E1I, 'A0QO')
    call UnitRemoveAbility(E1I, 'A0RC')
    call UnitRemoveAbility(E1I, 'A0RF')
    call UnitRemoveAbility(E1I, EN)
    call UnitRemoveAbility(E1I, FN)
    call UnitRemoveAbility(E1I, GN)
    call UnitRemoveAbility(E1I, HN)
    call UnitRemoveAbility(E1I, 'A0NU')
    call UnitRemoveAbility(E1I, 'A0NW')
    call UnitRemoveAbility(E1I, K00)
    call UnitRemoveAbility(E1I, 'A0I5')
    call UnitRemoveAbility(E1I, 'A0C9')
    call UnitRemoveAbility(E1I, 'A0IH')
    call UnitRemoveAbility(E1I, 'A0SR')
    call UnitRemoveAbility(E1I, 'A0WO')
    call UnitRemoveAbility(E1I, 'A0WR')
    call UnitRemoveAbility(E1I, 'A1CN')
    call UnitRemoveAbility(E1I, 'A0VH')
    call UnitRemoveAbility(E1I, 'A0VJ')
    call UnitRemoveAbility(E1I, 'A109')
    call UnitRemoveAbility(E1I, 'A0VW')
    call UnitRemoveAbility(E1I, 'A0XM')
    call UnitRemoveAbility(E1I, 'A11O')
    call UnitRemoveAbility(E1I, 'A11R')
    call UnitRemoveAbility(E1I, 'A147')
    call UnitRemoveAbility(E1I, 'A148')
    call UnitRemoveAbility(E1I, 'A11U')
    call UnitRemoveAbility(E1I, 'A149')
    call UnitRemoveAbility(E1I, 'A121')
    call UnitRemoveAbility(E1I, 'A126')
    call UnitRemoveAbility(E1I, 'A179')
    call UnitRemoveAbility(E1I, 'Aetl')
    call UnitRemoveAbility(E1I, VN[0])
    call UnitRemoveAbility(E1I, VN[1])
    call UnitRemoveAbility(E1I, VN[2])
    call UnitRemoveAbility(E1I, VN[3])
    call UnitRemoveAbility(E1I, VN[4])
    call UnitRemoveAbility(E1I, VN[5])
    call UnitRemoveAbility(E1I, 'A1G5')
    call UnitRemoveAbility(E1I, 'A1G3')
    call UnitRemoveAbility(E1I, 'A1G6')
    call UnitRemoveAbility(E1I, 'A1G4')
    call SaveBoolean(hashTable, GetHandleId(E1I), 80, false)
    call SetUnitPathing(E1I, true)
    call PauseUnit(E1I, false)
    call SetUnitFlyHeight(E1I, GetUnitDefaultFlyHeight(E1I), 0)
    call SetUnitScale(E1I, EAI(E1I)*P90, EAI(E1I)*P90, EAI(E1I)*P90)
    call UnitRemoveAbility(E1I, 'A1CA')
    call UnitRemoveAbility(E1I, 'A1C9')
    call UnitRemoveAbility(E1I, 'A1CB')
    call UnitRemoveAbility(E1I, 'A1CC')
    call UnitRemoveAbility(E1I, 'A1GA')
    call LVI(E1I, 0)
endfunction

function S6I takes nothing returns boolean 
    if GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()), E60, ALLIANCE_SHARED_CONTROL) == true and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
        set E50 = E50 + 1
    endif
    return false
endfunction

function S7I takes unit u, player p, real x, real y, boolean S8I returns nothing
    local group g = allocGroup()
    set E50 = 0
    set E60 = p
    call GroupEnumUnitsSelected(g, p, Condition(function S6I))
    if E50 == 0 and GetLocalPlayer() == p then
        if S8I == false then
            call ClearSelection()
            call SelectUnit(u, true)
        endif
        call PanCameraToTimed(x, y, 0)
    endif
    set E50 = 0
    call releaseGroup(g)
    set g = null
endfunction

function S9I takes unit X4I returns boolean 
    return GetUnitTypeId(X4I) == 'H00I' or GetUnitTypeId(X4I) == 'H00J'
endfunction

function SAI takes unit SBI returns nothing
    local integer SCI
    if getSpecificItem(SBI, itemId[itemIdBloodstone]) != null and GetUnitTypeId(SBI) != 'H00J' then
        set SCI = R2I(GetItemCharges( getSpecificItem(SBI, itemId[itemIdBloodstone]) )*0.5)
        if GetItemCharges( getSpecificItem(SBI, itemId[itemIdBloodstone]) ) == 1 then
            set SCI = 0
        endif
        call SetItemCharges(getSpecificItem(SBI, itemId[itemIdBloodstone]), SCI)
        call AddHeroXP(SBI, GetHeroXP(J90[GetPlayerId(GetOwningPlayer(SBI))]), true)
        call RemoveUnit(J90[GetPlayerId(GetOwningPlayer(SBI))])
    endif
endfunction

function SDI takes unit SEI returns nothing
    local integer DMI = GetHandleId(GetOwningPlayer(SEI))
    local unit SFI = LoadUnitHandle(hashTable, DMI, 81)
    local unit SGI = LoadUnitHandle(hashTable, DMI, 82)
    local unit SHI = LoadUnitHandle(hashTable, DMI, 83)
    local unit SZI = LoadUnitHandle(hashTable, DMI, 84)
    local unit SVI
    set SVI = SFI
    if SVI != null then
        call RemoveUnit(SVI)
    endif
    set SVI = SGI
    if SVI != null then
        call RemoveUnit(SVI)
    endif
    set SVI = SHI
    if SVI != null then
        call RemoveUnit(SVI)
    endif
    set SVI = SZI
    if SVI != null then
        call RemoveUnit(SVI)
    endif
endfunction

function SWI takes nothing returns boolean 
    call abandonTrigger(GetTriggeringTrigger())
    set K90 = false
    return false
endfunction

function SXI takes unit SYI returns nothing
    local integer DMI = GetHandleId(GetOwningPlayer(SYI))
    local unit SFI = LoadUnitHandle(hashTable, DMI, 81)
    local unit SGI = LoadUnitHandle(hashTable, DMI, 82)
    local unit SHI = LoadUnitHandle(hashTable, DMI, 83)
    local unit SZI = LoadUnitHandle(hashTable, DMI, 84)
    local unit SVI
    local real x = GetUnitX(SFI)
    local real y = GetUnitY(SFI)
    local trigger t
    if K90 == false then
        if isPlayerSentinel(GetOwningPlayer(SFI)) then
            set x = GetRectCenterX(B4)
            set y = GetRectCenterY(B4)
        else 
            set x = GetRectCenterX(R3)
            set y = GetRectCenterY(R3)
        endif
    else 
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 2, false)
        call TriggerAddCondition(t, Condition(function SWI))
    endif
    set SVI = SFI
    if SVI != null and SYI != SVI then
        call ReviveHero(SVI, x, y, false)
        call SetUnitX(SVI, x)
        call SetUnitY(SVI, y)
        call S4I(SVI)
        call SetUnitPathing(SVI, true)
    endif
    set SVI = SGI
    if SVI != null and SYI != SVI then
        call ReviveHero(SVI, x, y, false)
        call SetUnitX(SVI, x)
        call SetUnitY(SVI, y)
        call S4I(SVI)
        call SetUnitPathing(SVI, true)
    endif
    set SVI = SHI
    if SVI != null and SYI != SVI then
        call ReviveHero(SVI, x, y, false)
        call SetUnitX(SVI, x)
        call SetUnitY(SVI, y)
        call S4I(SVI)
        call SetUnitPathing(SVI, true)
    endif
    set SVI = SZI
    if SVI != null and SYI != SVI then
        call ReviveHero(SVI, x, y, false)
        call SetUnitX(SVI, x)
        call SetUnitY(SVI, y)
        call S4I(SVI)
        call SetUnitPathing(SVI, true)
    endif
endfunction

function SJI takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local player EYI = GetOwningPlayer(GTI)
    local real x
    local real y
    local integer SCI
    set playerHeroDead[GetPlayerId(GetOwningPlayer(GTI))] = false
    if isPlayerSentinel(GetOwningPlayer(GTI)) then
        set x = GetRectCenterX(B4)
        set y = GetRectCenterY(B4)
    else 
        set x = GetRectCenterX(R3)
        set y = GetRectCenterY(R3)
    endif
    call TimerStart(timerDeathCountdown[GetPlayerId(EYI)], 0.0, false, null)
    if S9I(GTI) then
        call SXI(GTI)
    else 
        call S7I(GTI, EYI, x, y, false)
    endif
    call SetUnitX(GTI, x)
    call SetUnitY(GTI, y)
    call S4I(GTI)
    call SetUnitPathing(GTI, true)
    if getSpecificItem(GetTriggerUnit(), itemId[itemIdBloodstone]) != null and GetUnitTypeId(GTI) != 'H00J' then
        set SCI = R2I(((GetItemCharges( getSpecificItem(GetTriggerUnit(), itemId[itemIdBloodstone]) )*0.5)*1.0))
        if GetItemCharges( getSpecificItem(GetTriggerUnit(), itemId[itemIdBloodstone]) ) == 1 then
            set SCI = 0
        endif
        call SetItemCharges(getSpecificItem(GetTriggerUnit(), itemId[itemIdBloodstone]), SCI)
        call AddHeroXP(GetTriggerUnit(), GetHeroXP(J90[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]), true)
        call RemoveUnit(J90[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])
    endif
endfunction

function heroAbilityInit takes unit E1I returns nothing
    local integer num = GetUnitPointValue(E1I)
    local unit SNI
    if (num == 34) then
        call ExecuteFunc("SSI")
        call ExecuteFunc("STI")
    elseif (num == 37) then
        call ExecuteFunc("SRI")
        call ExecuteFunc("SPI")
        call ExecuteFunc("SQI")
        call ExecuteFunc("SUI")
    elseif (num == 38) then
        call ExecuteFunc("T0I")
        call ExecuteFunc("TII")
        call ExecuteFunc("T1I")
        call ExecuteFunc("TOI")
    elseif (num == 32) then
        call ExecuteFunc("T2I")
        call ExecuteFunc("T3I")
        call ExecuteFunc("T4I")
    elseif (num == 29) then
        call ExecuteFunc("T5I")
        call ExecuteFunc("T6I")
        call ExecuteFunc("T7I")
        call ExecuteFunc("T8I")
    elseif (num == 31) then
        call ExecuteFunc("T9I")
        call ExecuteFunc("TAI")
    elseif (num == 24) then
        call ExecuteFunc("TBI")
        call ExecuteFunc("TCI")
        call ExecuteFunc("TDI")
        call ExecuteFunc("TEI")
    elseif (num == 5) then
        call ExecuteFunc("TFI")
        call ExecuteFunc("TGI")
    elseif (num == 8) then
        call ExecuteFunc("THI")
        call ExecuteFunc("TZI")
        call ExecuteFunc("TVI")
        call ExecuteFunc("TWI")
        call ExecuteFunc("TXI")
    elseif (num == 3) then
        call ExecuteFunc("TYI")
        call ExecuteFunc("TJI")
        call ExecuteFunc("TKI")
        call ExecuteFunc("TLI")
    elseif (num == 95) then
        call ExecuteFunc("TMI")
        call ExecuteFunc("TNI")
        call ExecuteFunc("TSI")
        call ExecuteFunc("TTI")
    elseif (num == 20) then
        call ExecuteFunc("TRI")
        call ExecuteFunc("TPI")
        call ExecuteFunc("TQI")
    elseif (num == 12) then
        call ExecuteFunc("TUI")
        call ExecuteFunc("R0I")
        call ExecuteFunc("RII")
    elseif (num == 16) then
        call ExecuteFunc("R1I")
        call ExecuteFunc("ROI")
        call ExecuteFunc("ezalorIlluminateRegister")
        call ExecuteFunc("R4I")
        call ExecuteFunc("R5I")
        call ExecuteFunc("R6I")
    elseif (num == 25) then
        call ExecuteFunc("R7I")
        call ExecuteFunc("R8I")
    elseif (num == 4) then
        call ExecuteFunc("R9I")
        call ExecuteFunc("RAI")
        call ExecuteFunc("RBI")
        call ExecuteFunc("RCI")
        call ExecuteFunc("RDI")
        call SetUnitPathing(E1I, false)
        call DisableTrigger(trigItemActions)
        set M80 = true
        set SNI = CreateUnit(GetOwningPlayer(E1I), GetUnitTypeId(E1I), GetUnitX(E1I), GetUnitY(E1I), GetUnitFacing(E1I))
        call SaveBoolean(hashTable, GetHandleId(SNI), 85, true)
        set playerHero[GetPlayerId(GetOwningPlayer(E1I))] = SNI
        call SetUnitPathing(SNI, false)
        call SetUnitPosition(SNI, GetUnitX(E1I), GetUnitY(E1I))
        if deathMatchMode then
            call SetHeroXP(SNI, GetHeroXP(E1I), false)
            call UnitAddItem(SNI, UnitItemInSlot(E1I, 0))
            call UnitAddItem(SNI, UnitItemInSlot(E1I, 1))
            call UnitAddItem(SNI, UnitItemInSlot(E1I, 2))
            call UnitAddItem(SNI, UnitItemInSlot(E1I, 3))
            call UnitAddItem(SNI, UnitItemInSlot(E1I, 4))
            call UnitAddItem(SNI, UnitItemInSlot(E1I, 5))
        endif
        call H8I(E1I)
        call EnableTrigger(trigItemActions)
        call SetUnitPathing(SNI, true)
        call ClearSelectionForPlayer(GetOwningPlayer(SNI))
        call SelectUnitAddForPlayer(SNI, GetOwningPlayer(SNI))
    elseif (num == 7) then
        call ExecuteFunc("REI")
    elseif (num == 18) then
        call ExecuteFunc("RFI")
        call ExecuteFunc("RGI")
    elseif (num == 36) then
        call ExecuteFunc("RHI")
    elseif (num == 21) then
        call ExecuteFunc("RZI")
        call ExecuteFunc("RVI")
        call ExecuteFunc("RWI")
        call ExecuteFunc("RXI")
    elseif (num == 14) then
        call ExecuteFunc("RYI")
        call ExecuteFunc("RJI")
        call ExecuteFunc("RKI")
    elseif (num == 13) then
        call ExecuteFunc("RLI")
        call ExecuteFunc("RMI")
        call ExecuteFunc("GS")
        call ExecuteFunc("RNI")
    elseif (num == 26) then
        call ExecuteFunc("RSI")
        call ExecuteFunc("RTI")
        call ExecuteFunc("RRI")
    elseif (num == 9) then
        call ExecuteFunc("II")
        call ExecuteFunc("RPI")
        call ExecuteFunc("RQI")
        call ExecuteFunc("RUI")
    elseif (num == 10) then
        call ExecuteFunc("P0I")
        call ExecuteFunc("PII")
        call ExecuteFunc("P1I")
        call ExecuteFunc("POI")
        call ExecuteFunc("P2I")
        call ExecuteFunc("P3I")
        call ExecuteFunc("P4I")
        call ExecuteFunc("P5I")
    elseif (num == 23) then
        call ExecuteFunc("P6I")
        call ExecuteFunc("P7I")
        call ExecuteFunc("P8I")
        call ExecuteFunc("P9I")
    elseif (num == 19) then
        call ExecuteFunc("PAI")
        call ExecuteFunc("PBI")
        call ExecuteFunc("PCI")
    elseif (num == 22) then
        call ExecuteFunc("PDI")
        call ExecuteFunc("PEI")
        call ExecuteFunc("PFI")
        call ExecuteFunc("PGI")
    elseif (num == 17) then
        call ExecuteFunc("PHI")
        call ExecuteFunc("PZI")
    elseif (num == 1) then
        call ExecuteFunc("PVI")
        call ExecuteFunc("PWI")
        call ExecuteFunc("PXI")
    elseif (num == 2) then
        call ExecuteFunc("PYI")
        call ExecuteFunc("PJI")
        call ExecuteFunc("PKI")
        call ExecuteFunc("PLI")
    elseif (num == 27) then
        call ExecuteFunc("PMI")
        call ExecuteFunc("PNI")
        call ExecuteFunc("PSI")
        call ExecuteFunc("PTI")
    elseif (num == 82) then
        call ExecuteFunc("PRI")
        call ExecuteFunc("PPI")
        call ExecuteFunc("PQI")
        call ExecuteFunc("PUI")
    elseif (num == 75) then
        call ExecuteFunc("Q0I")
        call ExecuteFunc("QII")
    elseif (num == 83) then
        call ExecuteFunc("Q1I")
        call ExecuteFunc("QOI")
        call ExecuteFunc("Q2I")
    elseif (num == 59) then
        call ExecuteFunc("Q3I")
        call ExecuteFunc("Q4I")
        call ExecuteFunc("Q5I")
    elseif (num == 57) then
        call ExecuteFunc("Q6I")
        call ExecuteFunc("Q7I")
    elseif (num == 69) then
        call ExecuteFunc("Q8I")
        call ExecuteFunc("Q9I")
        call ExecuteFunc("QAI")
        call ExecuteFunc("QBI")
    elseif (num == 50) then
        call ExecuteFunc("QCI")
        call ExecuteFunc("QDI")
        call ExecuteFunc("QEI")
    elseif (num == 51) then
        call ExecuteFunc("QFI")
    elseif (num == 64) then
        call ExecuteFunc("QGI")
        call ExecuteFunc("QHI")
        call ExecuteFunc("QZI")
    elseif (num == 55) then
        call ExecuteFunc("QVI")
        call ExecuteFunc("QWI")
        call ExecuteFunc("QXI")
    elseif (num == 61) then
        call ExecuteFunc("QYI")
        call ExecuteFunc("QJI")
        call ExecuteFunc("QKI")
    elseif (num == 76) then
        call ExecuteFunc("QLI")
        call ExecuteFunc("QMI")
        call ExecuteFunc("QNI")
        call ExecuteFunc("QSI")
    elseif (num == 80) then
        call ExecuteFunc("QTI")
        call ExecuteFunc("QRI")
        call ExecuteFunc("QPI")
        call ExecuteFunc("QQI")
        call ExecuteFunc("NL")
    elseif (num == 62) then
        call ExecuteFunc("QUI")
        call ExecuteFunc("U0I")
        call ExecuteFunc("UII")
    elseif (num == 60) then
        call ExecuteFunc("U1I")
        call ExecuteFunc("UOI")
        call ExecuteFunc("U2I")
    elseif (num == 77) then
        call ExecuteFunc("U3I")
        call ExecuteFunc("U4I")
        call ExecuteFunc("U5I")
        call ExecuteFunc("U6I")
    elseif (num == 73) then
        call ExecuteFunc("NW")
    elseif (num == 81) then
        call ExecuteFunc("U7I")
        call ExecuteFunc("U8I")
        call ExecuteFunc("U9I")
    elseif (num == 66) then
        call ExecuteFunc("UAI")
    elseif (num == 78) then
        call ExecuteFunc("UBI")
        call ExecuteFunc("UCI")
        call ExecuteFunc("UDI")
        call ExecuteFunc("UEI")
    elseif (num == 49) then
        call ExecuteFunc("UFI")
        call ExecuteFunc("UGI")
        call ExecuteFunc("UHI")
    elseif (num == 74) then
        call ExecuteFunc("UZI")
        call ExecuteFunc("UVI")
        call ExecuteFunc("UWI")
    elseif (num == 54) then
        call ExecuteFunc("UXI")
        call ExecuteFunc("UYI")
    elseif (num == 70) then
        call ExecuteFunc("UJI")
        call ExecuteFunc("UKI")
        call ExecuteFunc("ULI")
    elseif (num == 56) then
        call ExecuteFunc("UMI")
        call ExecuteFunc("UNI")
        call ExecuteFunc("USI")
        call ExecuteFunc("UTI")
    elseif (num == 79) then
        call ExecuteFunc("URI")
        call ExecuteFunc("UPI")
        call ExecuteFunc("UQI")
        call ExecuteFunc("UUI")
    elseif (num == 68) then
        call ExecuteFunc("I01")
        call ExecuteFunc("II1")
    elseif (num == 84) then
        call ExecuteFunc("I11")
        call ExecuteFunc("IO1")
        call ExecuteFunc("I21")
        call ExecuteFunc("I31")
    elseif (num == 85) then
        call ExecuteFunc("I41")
        call ExecuteFunc("I51")
        call ExecuteFunc("I61")
        call ExecuteFunc("I71")
        call ExecuteFunc("I81")
    elseif (num == 86) then
        call ExecuteFunc("I91")
        call ExecuteFunc("IA1")
        call ExecuteFunc("IB1")
        call ExecuteFunc("IC1")
    elseif (num == 87) then
        call ExecuteFunc("ID1")
        call ExecuteFunc("IE1")
        call ExecuteFunc("IF1")
        call ExecuteFunc("IG1")
    elseif (num == 33) then
        call ExecuteFunc("IH1")
        call ExecuteFunc("IZ1")
    elseif (num == 39) then
        call ExecuteFunc("IV1")
        call ExecuteFunc("IW1")
        call ExecuteFunc("IX1")
    elseif (num == 88) then
        call ExecuteFunc("IY1")
        call ExecuteFunc("IJ1")
        call ExecuteFunc("IK1")
    elseif (num == 40) then
        call ExecuteFunc("IL1")
        call ExecuteFunc("IM1")
        call ExecuteFunc("IN1")
        call ExecuteFunc("IS1")
    elseif num == 89 then
        call ExecuteFunc("IT1")
        call ExecuteFunc("IR1")
        call ExecuteFunc("IP1")
    elseif num == 90 then
        call ExecuteFunc("IQ1")
        call ExecuteFunc("IU1")
        call ExecuteFunc("O01")
        call ExecuteFunc("OI1")
    elseif num == 71 then
        call ExecuteFunc("O11")
        call ExecuteFunc("OO1")
        call ExecuteFunc("O21")
        call ExecuteFunc("O31")
    elseif num == 93 then
        call ExecuteFunc("O41")
        call ExecuteFunc("O51")
        call ExecuteFunc("O61")
        call ExecuteFunc("O71")
    elseif num == 42 then
        call ExecuteFunc("O81")
        call ExecuteFunc("O91")
        call ExecuteFunc("OA1")
        call ExecuteFunc("OB1")
    elseif num == 91 then
        call ExecuteFunc("OC1")
        call ExecuteFunc("OD1")
        call ExecuteFunc("OE1")
        call ExecuteFunc("OF1")
    elseif num == 92 then
        call ExecuteFunc("OG1")
        call ExecuteFunc("OH1")
        call ExecuteFunc("OZ1")
        call ExecuteFunc("OV1")
    elseif num == 41 then
        call ExecuteFunc("OW1")
        call ExecuteFunc("OX1")
        call ExecuteFunc("OY1")
        call ExecuteFunc("OJ1")
        call ExecuteFunc("OK1")
    elseif num == 43 then
        call ExecuteFunc("OL1")
        call ExecuteFunc("OM1")
        call ExecuteFunc("ON1")
        call ExecuteFunc("OS1")
    elseif num == 44 then
        call ExecuteFunc("OT1")
        call ExecuteFunc("OR1")
        call ExecuteFunc("OP1")
        call ExecuteFunc("OQ1")
    elseif num == 72 then
        call ExecuteFunc("OU1")
        call ExecuteFunc("A01")
        call ExecuteFunc("AI1")
        call ExecuteFunc("A11")
    elseif num == 94 then
        call ExecuteFunc("AO1")
    elseif num == 6 then
        call ExecuteFunc("A21")
        call ExecuteFunc("A31")
        call ExecuteFunc("A41")
    elseif num == 53 then
        call ExecuteFunc("A51")
    elseif num == 65 then
        call ExecuteFunc("A61")
        call ExecuteFunc("A71")
        call ExecuteFunc("A81")
    elseif num == 58 then
        call ExecuteFunc("A91")
        call ExecuteFunc("AA1")
        call ExecuteFunc("AB1")
    elseif num == 63 then
        call ExecuteFunc("AC1")
    elseif num == 45 then
        call ExecuteFunc("AD1")
        call ExecuteFunc("AE1")
        call ExecuteFunc("AF1")
        call ExecuteFunc("AG1")
    elseif num == 46 then
        call ExecuteFunc("AH1")
        call ExecuteFunc("AZ1")
        call ExecuteFunc("AV1")
        call ExecuteFunc("AW1")
    elseif num == 47 then
        call ExecuteFunc("AX1")
        call ExecuteFunc("AY1")
        call ExecuteFunc("windrunnerPowershotRegister")
        call ExecuteFunc("AK1")
    elseif num == 11 then
        call ExecuteFunc("AL1")
    elseif num == 96 then
        call ExecuteFunc("AM1")
        call ExecuteFunc("AN1")
        call ExecuteFunc("AS1")
        call ExecuteFunc("AT1")
    elseif num == 15 then
        call ExecuteFunc("AR1")
        call ExecuteFunc("AP1")
        call ExecuteFunc("AQ1")
        call ExecuteFunc("AU1")
    elseif num == 97 then
        call ExecuteFunc("B01")
        call ExecuteFunc("BI1")
        call ExecuteFunc("B11")
        call ExecuteFunc("BO1")
        call ExecuteFunc("B21")
    elseif num == 98 then
        call ExecuteFunc("B31")
        call ExecuteFunc("B41")
        call ExecuteFunc("B51")
        call ExecuteFunc("B61")
        call ExecuteFunc("B71")
    elseif num == 67 then
        call ExecuteFunc("B81")
    elseif num == 28 then
        call ExecuteFunc("B91")
    elseif num == 101 then
        call ExecuteFunc("bosslHuijiRegister")
        call ExecuteFunc("bosslStinkFeetRegister")
    elseif num == 102 then
        call ExecuteFunc("copystyleDomineeringRegister")
        call ExecuteFunc("copystyleGrandBlastWaveRegister")
    elseif num == 100 then
        call ExecuteFunc("gwinnettFartRegister")
        call ExecuteFunc("gwinnettProFuckingResistanceRegister")
        call ExecuteFunc("gwinnettSunRegister")
    elseif num == 99 then
        call ExecuteFunc("protonHolyShitAuraRegister")
    endif
endfunction

function BA1 takes player COI, string CYI returns nothing
    if IsPlayerInForce(GetLocalPlayer(), C1I(COI)) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, O3, 40, playerColor[GetPlayerId(COI)] + playerName[GetPlayerId(COI)] + "|r " + CYI)
    endif
endfunction

function Main_AllHasHero takes nothing returns boolean 
    return playerHero[GetPlayerId(sentinelPlayers[1])] != null and playerHero[GetPlayerId(sentinelPlayers[2])] != null and playerHero[GetPlayerId(sentinelPlayers[3])] != null and playerHero[GetPlayerId(sentinelPlayers[4])] != null and playerHero[GetPlayerId(sentinelPlayers[5])] != null and playerHero[GetPlayerId(scourgePlayers[1])] != null and playerHero[GetPlayerId(scourgePlayers[2])] != null and playerHero[GetPlayerId(scourgePlayers[3])] != null and playerHero[GetPlayerId(scourgePlayers[4])] != null and playerHero[GetPlayerId(scourgePlayers[5])] != null
endfunction

function BB1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    set DN = true
    call abandonTrigger(t)
    call DestroyFogModifier( CreateFogModifierRadius(sentinelPlayers[0], FOG_OF_WAR_MASKED, NW0, NX0, 700, false, false) )
    call DestroyFogModifier( CreateFogModifierRadius(scourgePlayers[0], FOG_OF_WAR_MASKED, NW0, NX0, 700, false, false) )
    set t = null
    return false
endfunction

function BC1 takes unit u returns boolean 
    return GetUnitTypeId(u) != 'H00M' and GetUnitTypeId(u) != 'H07G' and GetUnitTypeId(u) != 'H00Y' and GetUnitTypeId(u) != 'H00J' and GetUnitTypeId(u) != 'H0B8'
endfunction

function BD1 takes nothing returns boolean 
    return IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and IsUnitIllusion(GetTriggerUnit()) == false and HaveSavedBoolean(hashTable, GetHandleId(GetTriggerUnit()), 85) == false and BC1(GetTriggerUnit())
endfunction

function BE1 takes nothing returns boolean 
    return GetUnitTypeId(GetFilterUnit()) == 'n00C'
endfunction

function BF1 takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function BG1 takes player EYI returns nothing
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function BE1)
    call GroupEnumUnitsOfPlayer(MNI, EYI, BH1)
    call ForGroup(MNI, function BF1)
    call releaseGroup(MNI)
endfunction

function BZ1 takes nothing returns nothing
    call BG1(sentinelPlayers[1])
    call BG1(sentinelPlayers[2])
    call BG1(sentinelPlayers[3])
    call BG1(sentinelPlayers[4])
    call BG1(sentinelPlayers[5])
    call BG1(scourgePlayers[1])
    call BG1(scourgePlayers[2])
    call BG1(scourgePlayers[3])
    call BG1(scourgePlayers[4])
    call BG1(scourgePlayers[5])
endfunction

function BV1 takes nothing returns boolean 
    return GetUnitTypeId(GetFilterUnit()) == 'ncop'
endfunction

function BW1 takes nothing returns nothing
    if RA0 then
        call UnitRemoveAbility(CT0[GetPlayerId(GetOwningPlayer(GetEnumUnit()))], 'A14F')
        call UnitRemoveAbility(CT0[GetPlayerId(GetOwningPlayer(GetEnumUnit()))], 'A14E')
        call UnitRemoveAbility(CT0[GetPlayerId(GetOwningPlayer(GetEnumUnit()))], 'A14H')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A0I4') == 0 then
        call UnitAddAbility(GetEnumUnit(), 'A0I4')
    endif
endfunction

function BX1 takes player p returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, p, Condition(function BV1))
    call ForGroup(g, function BW1)
    call releaseGroup(g)
    set g = null
endfunction

function DelayedHeroTech_Helper takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer ECI = LoadInteger(hashTable, DMI, 86)
    call disableHero(ECI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function BY1 takes unit E1I, player p returns string 
    local string s = GetObjectName('n0DB')
    set s = strReplace(s, "$hero", GetUnitName(E1I))
    set s = strReplace(s, "$p", playerName[GetPlayerId(p)])
    return s
endfunction

function BJ1 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local player EYI = GetOwningPlayer(GTI)
    local real x
    local real y
    local region r = CreateRegion()
    local player BK1 = EYI
    local item J6I
    local unit E1I = GTI
    local trigger t
    if deathMatchMode == false then
        call LTI(GetOwningPlayer(GTI))
    endif
    if GetObjectName('n0HH') == "Language: English" and (heroHelp1[GetUnitPointValue(GTI)] != "") then
        call DisplayTimedTextToPlayer(EYI, 0, 0, 4, "A |c006699CC-tips|r command is available if you would like some pointers for this hero")
    endif
    if NV0[GetPlayerId(EYI)] == true then
        call LYI(EYI, GetUnitPointValue(GTI))
    endif
    if DN == false and (playerHero[GetPlayerId(sentinelPlayers[1])] != null and playerHero[GetPlayerId(sentinelPlayers[2])] != null and playerHero[GetPlayerId(sentinelPlayers[3])] != null and playerHero[GetPlayerId(sentinelPlayers[4])] != null and playerHero[GetPlayerId(sentinelPlayers[5])] != null and playerHero[GetPlayerId(scourgePlayers[1])] != null and playerHero[GetPlayerId(scourgePlayers[2])] != null and playerHero[GetPlayerId(scourgePlayers[3])] != null and playerHero[GetPlayerId(scourgePlayers[4])] != null and playerHero[GetPlayerId(scourgePlayers[5])] != null) then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 7, false)
        call TriggerAddCondition(t, Condition(function BB1))
        set t = null
    endif
    set playerHeroDead[GetPlayerId(GetOwningPlayer(GTI))] = false
    call RegionAddRect(r, QA)
    if D3 and Z3 == false then
        set G3[GetPlayerId(EYI)] = true
        set EYI = LoadPlayerHandle(hashTable, 2000, (550 + GetPlayerId(EYI)))
        call SetUnitOwner(GTI, EYI, true)
    endif
    if isPlayerSentinel(GetOwningPlayer(GTI)) then
        if IsUnitInRegion(r, GTI) then
            set x = GetRandomReal(GetRectMinX(B4), GetRectMaxX(B4))
            set y = GetRandomReal(GetRectMinY(B4), GetRectMaxY(B4))
        else 
            set x = GetUnitX(GTI)
            set y = GetUnitY(GTI)
        endif
    else 
        if IsUnitInRegion(r, GTI) then
            set x = GetRandomReal(GetRectMinX(R3), GetRectMaxX(R3))
            set y = GetRandomReal(GetRectMinY(R3), GetRectMaxY(R3))
        else 
            set x = GetUnitX(GTI)
            set y = GetUnitY(GTI)
        endif
    endif
    set E3[GetPlayerId(EYI)] = true
    if (not D3 or Z3) then
        if ST0 == false and AN == false then
            call PanCameraToTimedForPlayer(EYI, x, y, 0)
        endif
        call ClearSelectionForPlayer(EYI)
        call SelectUnitAddForPlayer(GTI, EYI)
    endif
    call SetUnitX(GTI, x)
    call SetUnitY(GTI, y)
    set playerHero[GetPlayerId(EYI)] = GTI
    call L0I(EYI, "9", GetUnitTypeId(GTI))
    if D3 and Z3 == false then
        call EQI(BK1)
    else 
        call EQI(EYI)
    endif
    call SaveBoolean(hashTable, GetHandleId(GTI), 85, true)
    if not H2 then
        set R[GetUnitPointValue(GTI)] = true
        call disableHero(GetUnitTypeId(GTI))
    endif
    if deathMatchMode then
        if isPlayerSentinel(EYI) then
            set R1[0] = R1[0] + 1
        else 
            set R1[1] = R1[1] + 1
        endif
        set OO[GetPlayerId(EYI)] = OO[GetPlayerId(EYI)] + 1
        if OO[GetPlayerId(GetOwningPlayer(GTI))] > 1 and GTI != IO[GetPlayerId(GetOwningPlayer(GTI))] then
            call SAI(IO[GetPlayerId(GetOwningPlayer(GTI))])
            call DisableTrigger(trigItemActions)
            call SetHeroXP(GTI, GetHeroXP(IO[GetPlayerId(GetOwningPlayer(GTI))]), false)
            call UnitAddItem(GTI, UnitItemInSlot(IO[GetPlayerId(GetOwningPlayer(GTI))], 0))
            call UnitAddItem(GTI, UnitItemInSlot(IO[GetPlayerId(GetOwningPlayer(GTI))], 1))
            call UnitAddItem(GTI, UnitItemInSlot(IO[GetPlayerId(GetOwningPlayer(GTI))], 2))
            call UnitAddItem(GTI, UnitItemInSlot(IO[GetPlayerId(GetOwningPlayer(GTI))], 3))
            call UnitAddItem(GTI, UnitItemInSlot(IO[GetPlayerId(GetOwningPlayer(GTI))], 4))
            call UnitAddItem(GTI, UnitItemInSlot(IO[GetPlayerId(GetOwningPlayer(GTI))], 5))
            call EnableTrigger(trigItemActions)
            if S9I(IO[GetPlayerId(GetOwningPlayer(GTI))]) then
                call SDI(IO[GetPlayerId(GetOwningPlayer(GTI))])
            else 
                call H8I(IO[GetPlayerId(GetOwningPlayer(GTI))])
            endif
        endif
    endif
    if D3 then
        if TimerGetElapsed(M) > 60 then
            call BA1(EYI, GetObjectName('n02E') + " " + GetUnitName(GTI))
        elseif S0[GetPlayerId(BK1)] == true then
            call BA1(EYI, BY1(GTI, BK1))
        else 
            call SetPlayerState(BK1, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(BK1, PLAYER_STATE_RESOURCE_GOLD) + 250)
            call BA1(EYI, GetObjectName('n0D1') + " " + GetUnitName(GTI) + " " + GetObjectName('n0D0') + " " + playerName[GetPlayerId(BK1)])
        endif
    elseif K2 == false or EYI == firstPlayerAlive then
        if (D0[GetPlayerId(GetOwningPlayer(GTI))] == true and K2 == false) then
            call BA1(EYI, GetObjectName('n0D5') + " " + GetUnitName(GTI) + ".")
        elseif ((S0[GetPlayerId(EYI)] == true and deathMatchMode == false) or Y0 or J0 or T2) then
            call BA1(EYI, GetObjectName('n0D3') + " " + GetUnitName(GTI) + ".")
        else 
            call BA1(EYI, GetObjectName('n0D2') + " " + GetUnitName(GTI) + ".")
        endif
    endif
    if SK then
        if D3 then
            call BG1(BK1)
        else 
            call BG1(EYI)
        endif
    endif
    if (ST0 or AN) and SK then
        call BG1(EYI)
    endif
    call BX1(EYI)
    if (GetUnitTypeId(GTI) == 'E005') then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 60.00, " ")
        call DisplayTimedTextToPlayer(EYI, 0, O3, 60.00, "|c00ff0303" + GetObjectName('n06H') + GetObjectName('n0CB') + " " + GetObjectName('n06E') + "|r")
    elseif GetUnitTypeId(GTI) == 'O00J' or GetUnitTypeId(GTI) == 'N016' or GetUnitTypeId(GTI) == 'UC91' or GetUnitTypeId(GTI) == 'EC45' then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 10.00, " ")
        call DisplayTimedTextToPlayer(EYI, 0, O3, 10.00, "|c00ff0303" + GetObjectName('n0G3') + "|r")
    endif
    if (GetUnitTypeId(GTI) == 'E01B') then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 30.00, " ")
        call DisplayTimedTextToPlayer(EYI, 0, O3, 30.00, "|c00ff0303" + GetObjectName('n06P') + " " + GetObjectName('n06U') + "|r")
    endif
    if (S0[GetPlayerId(EYI)] == false) then
        if defaultMode then
            call SetPlayerState(EYI, PLAYER_STATE_RESOURCE_GOLD, 175 + GetPlayerState(EYI, PLAYER_STATE_RESOURCE_GOLD))
        endif
    endif
    if HaveSavedBoolean(hashTable, 600 + GetUnitPointValue(GTI), 87) == false then
        call SaveBoolean(hashTable, (600 + GetUnitPointValue(GTI)), 87, true)
        call heroAbilityInit(GTI)
    endif
    set myUnit = GTI
    call ExecuteFunc("BL1")
    if N40[GetPlayerId(GetLocalPlayer())] == false then
        call SetPlayerName(EYI, playerName[GetPlayerId(EYI)] + " (" + getHeroName(playerHero[GetPlayerId(EYI)]) + ")")
    endif
    call RemoveRegion(r)
endfunction

function BN1 takes nothing returns boolean 
    return IsUnitType(GetSoldUnit(), UNIT_TYPE_HERO) == true
endfunction

function BS1 takes nothing returns nothing
    local unit E1I = GetSoldUnit()
    local player EYI = GetOwningPlayer(E1I)
    call EQI(EYI)
endfunction

function addSalary_add takes player p, integer amount returns nothing
    if not (uProton != null and GetUnitAbilityLevel(playerHero[GetPlayerId(p)], 'BPR2') > 0 and GetUnitAbilityLevel(uProton, 'APR5') > 2) then
        // if the hero has a lvl3 'holy shit aura' buff, then no gold is going to be added
        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) + amount)
    endif
endfunction

function addSalary takes nothing returns boolean 
    local integer a = 1
    if easyMode then
        set a = 2
    endif
    call addSalary_add(sentinelPlayers[1], a)
    call addSalary_add(sentinelPlayers[2], a)
    call addSalary_add(sentinelPlayers[3], a)
    call addSalary_add(sentinelPlayers[4], a)
    call addSalary_add(sentinelPlayers[5], a)
    call addSalary_add(scourgePlayers[1], a)
    call addSalary_add(scourgePlayers[2], a)
    call addSalary_add(scourgePlayers[3], a)
    call addSalary_add(scourgePlayers[4], a)
    call addSalary_add(scourgePlayers[5], a)
    return false
endfunction

function BQ1 takes nothing returns nothing
    local integer HWI = R2I(TimerGetElapsed(M) - N)
    local integer JAI = HWI/60 - 1/2
    local integer JBI = ModuloInteger(HWI, 60)
    if BL then
        call J9I(JAI, JBI, false)
    elseif OL == false then
        set HWI = R2I(16 - TimerGetElapsed(M))
        set JAI = HWI/60 - 1/2
        set JBI = ModuloInteger(HWI, 60)
        call J9I(JAI, JBI, true)
    endif
endfunction

function C01 takes nothing returns boolean 
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and LoadInteger(hashAbilityCooldown, GetSpellAbilityId(), GetUnitAbilityLevel(GetTriggerUnit(), GetSpellAbilityId())) > 0 then
        call TimerStart(EB0[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], LoadInteger(hashAbilityCooldown, GetSpellAbilityId(), GetUnitAbilityLevel(GetTriggerUnit(), GetSpellAbilityId())), false, null)
    endif
    if GetSpellAbilityId() == 'A02W' then
        call TimerStart(EB0[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))], 0, false, null)
    endif
    return false
endfunction

function CI1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function C01))
    set i = 0
    loop
        exitwhen (i > 13)
        set EB0[i] = CreateTimer()
        set i = i + 1
    endloop
    set hashAbilityCooldown = InitHashtable()
    call SaveInteger(hashAbilityCooldown, 'A11K', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A11K', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A11K', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A0O2', 1, 80)
    call SaveInteger(hashAbilityCooldown, 'A0O2', 2, 75)
    call SaveInteger(hashAbilityCooldown, 'A0O2', 3, 70)
    call SaveInteger(hashAbilityCooldown, 'A0DH', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A0DH', 2, 130)
    call SaveInteger(hashAbilityCooldown, 'A0DH', 3, 110)
    call SaveInteger(hashAbilityCooldown, 'A0ER', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A0ER', 2, 150)
    call SaveInteger(hashAbilityCooldown, 'A0ER', 3, 150)
    call SaveInteger(hashAbilityCooldown, 'A0MQ', 1, 180)
    call SaveInteger(hashAbilityCooldown, 'A0MQ', 2, 150)
    call SaveInteger(hashAbilityCooldown, 'A0MQ', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A1B6', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A1B6', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A1B6', 3, 90)
    call SaveInteger(hashAbilityCooldown, 'A0WP', 1, 80)
    call SaveInteger(hashAbilityCooldown, 'A0WP', 2, 80)
    call SaveInteger(hashAbilityCooldown, 'A0WP', 3, 80)
    call SaveInteger(hashAbilityCooldown, 'A1A1', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A1A1', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A1A1', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A07Z', 1, 160)
    call SaveInteger(hashAbilityCooldown, 'A07Z', 2, 160)
    call SaveInteger(hashAbilityCooldown, 'A07Z', 3, 160)
    call SaveInteger(hashAbilityCooldown, 'ANcr', 1, 45)
    call SaveInteger(hashAbilityCooldown, 'ANcr', 2, 45)
    call SaveInteger(hashAbilityCooldown, 'ANcr', 3, 45)
    call SaveInteger(hashAbilityCooldown, 'A0Z8', 1, 80)
    call SaveInteger(hashAbilityCooldown, 'A0Z8', 2, 60)
    call SaveInteger(hashAbilityCooldown, 'A0Z8', 3, 40)
    call SaveInteger(hashAbilityCooldown, 'A1CV', 1, 15)
    call SaveInteger(hashAbilityCooldown, 'A1CV', 2, 15)
    call SaveInteger(hashAbilityCooldown, 'A1CV', 3, 15)
    call SaveInteger(hashAbilityCooldown, 'A03G', 1, 115)
    call SaveInteger(hashAbilityCooldown, 'A03G', 2, 115)
    call SaveInteger(hashAbilityCooldown, 'A03G', 3, 115)
    call SaveInteger(hashAbilityCooldown, 'A06F', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A06F', 2, 110)
    call SaveInteger(hashAbilityCooldown, 'A06F', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A0QR', 1, 45)
    call SaveInteger(hashAbilityCooldown, 'A0QR', 2, 30)
    call SaveInteger(hashAbilityCooldown, 'A0QR', 3, 15)
    call SaveInteger(hashAbilityCooldown, 'A1B3', 1, 24)
    call SaveInteger(hashAbilityCooldown, 'A1B3', 2, 16)
    call SaveInteger(hashAbilityCooldown, 'A1B3', 3, 8)
    call SaveInteger(hashAbilityCooldown, 'A06R', 1, 140)
    call SaveInteger(hashAbilityCooldown, 'A06R', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A06R', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A1B4', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A1B4', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A1B4', 3, 80)
    call SaveInteger(hashAbilityCooldown, 'A0G4', 1, 75)
    call SaveInteger(hashAbilityCooldown, 'A0G4', 2, 75)
    call SaveInteger(hashAbilityCooldown, 'A0G4', 3, 75)
    call SaveInteger(hashAbilityCooldown, 'A1D8', 1, 20)
    call SaveInteger(hashAbilityCooldown, 'A1D8', 2, 20)
    call SaveInteger(hashAbilityCooldown, 'A1D8', 3, 20)
    call SaveInteger(hashAbilityCooldown, 'A03Z', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A03Z', 2, 150)
    call SaveInteger(hashAbilityCooldown, 'A03Z', 3, 150)
    call SaveInteger(hashAbilityCooldown, 'A0E2', 1, 75)
    call SaveInteger(hashAbilityCooldown, 'A0E2', 2, 65)
    call SaveInteger(hashAbilityCooldown, 'A0E2', 3, 55)
    call SaveInteger(hashAbilityCooldown, 'A1MR', 1, 15)
    call SaveInteger(hashAbilityCooldown, 'A1MR', 2, 15)
    call SaveInteger(hashAbilityCooldown, 'A1MR', 3, 15)
    call SaveInteger(hashAbilityCooldown, 'A03O', 1, 180)
    call SaveInteger(hashAbilityCooldown, 'A03O', 2, 160)
    call SaveInteger(hashAbilityCooldown, 'A03O', 3, 140)
    call SaveInteger(hashAbilityCooldown, 'A0RW', 1, 20)
    call SaveInteger(hashAbilityCooldown, 'A0RW', 2, 20)
    call SaveInteger(hashAbilityCooldown, 'A0RW', 3, 20)
    call SaveInteger(hashAbilityCooldown, 'A0MU', 1, 110)
    call SaveInteger(hashAbilityCooldown, 'A0MU', 2, 110)
    call SaveInteger(hashAbilityCooldown, 'A0MU', 3, 110)
    call SaveInteger(hashAbilityCooldown, 'A0A2', 1, 110)
    call SaveInteger(hashAbilityCooldown, 'A0A2', 2, 110)
    call SaveInteger(hashAbilityCooldown, 'A0A2', 3, 110)
    call SaveInteger(hashAbilityCooldown, 'A0SW', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A0SW', 2, 60)
    call SaveInteger(hashAbilityCooldown, 'A0SW', 3, 30)
    call SaveInteger(hashAbilityCooldown, 'A093', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A093', 2, 70)
    call SaveInteger(hashAbilityCooldown, 'A093', 3, 40)
    call SaveInteger(hashAbilityCooldown, 'A03K', 1, 180)
    call SaveInteger(hashAbilityCooldown, 'A03K', 2, 150)
    call SaveInteger(hashAbilityCooldown, 'A03K', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A1B0', 1, 180)
    call SaveInteger(hashAbilityCooldown, 'A1B0', 2, 150)
    call SaveInteger(hashAbilityCooldown, 'A1B0', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A0R0', 1, 180)
    call SaveInteger(hashAbilityCooldown, 'A0R0', 2, 160)
    call SaveInteger(hashAbilityCooldown, 'A0R0', 3, 140)
    call SaveInteger(hashAbilityCooldown, 'A0FL', 1, 30)
    call SaveInteger(hashAbilityCooldown, 'A0FL', 2, 30)
    call SaveInteger(hashAbilityCooldown, 'A0FL', 3, 30)
    call SaveInteger(hashAbilityCooldown, 'A1CX', 1, 30)
    call SaveInteger(hashAbilityCooldown, 'A1CX', 2, 30)
    call SaveInteger(hashAbilityCooldown, 'A1CX', 3, 30)
    call SaveInteger(hashAbilityCooldown, 'A034', 1, 10)
    call SaveInteger(hashAbilityCooldown, 'A034', 2, 10)
    call SaveInteger(hashAbilityCooldown, 'A034', 3, 10)
    call SaveInteger(hashAbilityCooldown, 'A15J', 1, 90)
    call SaveInteger(hashAbilityCooldown, 'A15J', 2, 90)
    call SaveInteger(hashAbilityCooldown, 'A15J', 3, 90)
    call SaveInteger(hashAbilityCooldown, 'A0E3', 1, 70)
    call SaveInteger(hashAbilityCooldown, 'A0E3', 2, 70)
    call SaveInteger(hashAbilityCooldown, 'A0E3', 3, 70)
    call SaveInteger(hashAbilityCooldown, 'A04P', 1, 20)
    call SaveInteger(hashAbilityCooldown, 'A04P', 2, 15)
    call SaveInteger(hashAbilityCooldown, 'A04P', 3, 10)
    call SaveInteger(hashAbilityCooldown, 'A0M1', 1, 130)
    call SaveInteger(hashAbilityCooldown, 'A0M1', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A0M1', 3, 110)
    call SaveInteger(hashAbilityCooldown, 'A1AX', 1, 110)
    call SaveInteger(hashAbilityCooldown, 'A1AX', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A1AX', 3, 90)
    call SaveInteger(hashAbilityCooldown, 'A054', 1, 160)
    call SaveInteger(hashAbilityCooldown, 'A054', 2, 150)
    call SaveInteger(hashAbilityCooldown, 'A054', 3, 140)
    call SaveInteger(hashAbilityCooldown, 'A00U', 1, 160)
    call SaveInteger(hashAbilityCooldown, 'A00U', 2, 150)
    call SaveInteger(hashAbilityCooldown, 'A00U', 3, 140)
    call SaveInteger(hashAbilityCooldown, 'A0G8', 1, 80)
    call SaveInteger(hashAbilityCooldown, 'A0G8', 2, 80)
    call SaveInteger(hashAbilityCooldown, 'A0G8', 3, 80)
    call SaveInteger(hashAbilityCooldown, 'A07U', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A07U', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A07U', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A0KU', 1, 160)
    call SaveInteger(hashAbilityCooldown, 'A0KU', 2, 160)
    call SaveInteger(hashAbilityCooldown, 'A0KU', 3, 160)
    call SaveInteger(hashAbilityCooldown, 'A1EJ', 1, 20)
    call SaveInteger(hashAbilityCooldown, 'A1EJ', 2, 20)
    call SaveInteger(hashAbilityCooldown, 'A1EJ', 3, 20)
    call SaveInteger(hashAbilityCooldown, 'A0B4', 1, 10)
    call SaveInteger(hashAbilityCooldown, 'A0B4', 2, 7)
    call SaveInteger(hashAbilityCooldown, 'A0B4', 3, 5)
    call SaveInteger(hashAbilityCooldown, 'A1IN', 1, 25)
    call SaveInteger(hashAbilityCooldown, 'A1IN', 2, 25)
    call SaveInteger(hashAbilityCooldown, 'A1IN', 3, 25)
    call SaveInteger(hashAbilityCooldown, 'A0J1', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A0J1', 2, 110)
    call SaveInteger(hashAbilityCooldown, 'A0J1', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A1D7', 1, 75)
    call SaveInteger(hashAbilityCooldown, 'A1D7', 2, 75)
    call SaveInteger(hashAbilityCooldown, 'A1D7', 3, 75)
    call SaveInteger(hashAbilityCooldown, 'A1MI', 1, 40)
    call SaveInteger(hashAbilityCooldown, 'A1MI', 2, 30)
    call SaveInteger(hashAbilityCooldown, 'A1MI', 3, 20)
    call SaveInteger(hashAbilityCooldown, 'A1AO', 1, 80)
    call SaveInteger(hashAbilityCooldown, 'A1AO', 2, 70)
    call SaveInteger(hashAbilityCooldown, 'A1AO', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A1NE', 1, 160)
    call SaveInteger(hashAbilityCooldown, 'A1NE', 2, 160)
    call SaveInteger(hashAbilityCooldown, 'A1NE', 3, 160)
    call SaveInteger(hashAbilityCooldown, 'A1AT', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A1AT', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A1AT', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A0RP', 1, 11)
    call SaveInteger(hashAbilityCooldown, 'A0RP', 2, 9)
    call SaveInteger(hashAbilityCooldown, 'A0RP', 3, 7)
    call SaveInteger(hashAbilityCooldown, 'A0LC', 1, 25)
    call SaveInteger(hashAbilityCooldown, 'A0LC', 2, 25)
    call SaveInteger(hashAbilityCooldown, 'A0LC', 3, 25)
    call SaveInteger(hashAbilityCooldown, 'A0IN', 1, 45)
    call SaveInteger(hashAbilityCooldown, 'A0IN', 2, 45)
    call SaveInteger(hashAbilityCooldown, 'A0IN', 3, 45)
    call SaveInteger(hashAbilityCooldown, 'A1AW', 1, 10)
    call SaveInteger(hashAbilityCooldown, 'A1AW', 2, 10)
    call SaveInteger(hashAbilityCooldown, 'A1AW', 3, 10)
    call SaveInteger(hashAbilityCooldown, 'A0LH', 1, 70)
    call SaveInteger(hashAbilityCooldown, 'A0LH', 2, 70)
    call SaveInteger(hashAbilityCooldown, 'A0LH', 3, 70)
    call SaveInteger(hashAbilityCooldown, 'A04Q', 1, 45)
    call SaveInteger(hashAbilityCooldown, 'A04Q', 2, 45)
    call SaveInteger(hashAbilityCooldown, 'A04Q', 3, 45)
    call SaveInteger(hashAbilityCooldown, 'A0WQ', 1, 45)
    call SaveInteger(hashAbilityCooldown, 'A0WQ', 2, 45)
    call SaveInteger(hashAbilityCooldown, 'A0WQ', 3, 45)
    call SaveInteger(hashAbilityCooldown, 'A09U', 1, 90)
    call SaveInteger(hashAbilityCooldown, 'A09U', 2, 75)
    call SaveInteger(hashAbilityCooldown, 'A09U', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A0CT', 1, 60)
    call SaveInteger(hashAbilityCooldown, 'A0CT', 2, 50)
    call SaveInteger(hashAbilityCooldown, 'A0CT', 3, 40)
    call SaveInteger(hashAbilityCooldown, 'A0HE', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A0HE', 2, 110)
    call SaveInteger(hashAbilityCooldown, 'A0HE', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A07Q', 1, 200)
    call SaveInteger(hashAbilityCooldown, 'A07Q', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A07Q', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A0H9', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A0H9', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A0H9', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A013', 1, 140)
    call SaveInteger(hashAbilityCooldown, 'A013', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A013', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A0A6', 1, 140)
    call SaveInteger(hashAbilityCooldown, 'A0A6', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A0A6', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A080', 1, 80)
    call SaveInteger(hashAbilityCooldown, 'A080', 2, 50)
    call SaveInteger(hashAbilityCooldown, 'A080', 3, 30)
    call SaveInteger(hashAbilityCooldown, 'A03R', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A03R', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A03R', 3, 90)
    call SaveInteger(hashAbilityCooldown, 'A0AV', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A0AV', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A0AV', 3, 90)
    call SaveInteger(hashAbilityCooldown, 'A0S8', 1, 85)
    call SaveInteger(hashAbilityCooldown, 'A0S8', 2, 85)
    call SaveInteger(hashAbilityCooldown, 'A0S8', 3, 85)
    call SaveInteger(hashAbilityCooldown, 'A1QP', 1, 85)
    call SaveInteger(hashAbilityCooldown, 'A1QP', 2, 85)
    call SaveInteger(hashAbilityCooldown, 'A1QP', 3, 85)
    call SaveInteger(hashAbilityCooldown, 'A0LT', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A0LT', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A0LT', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A1CS', 1, 30)
    call SaveInteger(hashAbilityCooldown, 'A1CS', 2, 30)
    call SaveInteger(hashAbilityCooldown, 'A1CS', 3, 30)
    call SaveInteger(hashAbilityCooldown, 'A11T', 1, 80)
    call SaveInteger(hashAbilityCooldown, 'A11T', 2, 70)
    call SaveInteger(hashAbilityCooldown, 'A11T', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A07X', 1, 90)
    call SaveInteger(hashAbilityCooldown, 'A07X', 2, 60)
    call SaveInteger(hashAbilityCooldown, 'A07X', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A0AL', 1, 90)
    call SaveInteger(hashAbilityCooldown, 'A0AL', 2, 60)
    call SaveInteger(hashAbilityCooldown, 'A0AL', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A07C', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A07C', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A07C', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A06L', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A06L', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A06L', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A0L3', 1, 160)
    call SaveInteger(hashAbilityCooldown, 'A0L3', 2, 160)
    call SaveInteger(hashAbilityCooldown, 'A0L3', 3, 160)
    call SaveInteger(hashAbilityCooldown, 'A01P', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A01P', 2, 90)
    call SaveInteger(hashAbilityCooldown, 'A01P', 3, 55)
    call SaveInteger(hashAbilityCooldown, 'A09Z', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A09Z', 2, 90)
    call SaveInteger(hashAbilityCooldown, 'A09Z', 3, 55)
    call SaveInteger(hashAbilityCooldown, 'A12P', 1, 60)
    call SaveInteger(hashAbilityCooldown, 'A12P', 2, 60)
    call SaveInteger(hashAbilityCooldown, 'A12P', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A1D6', 1, 15)
    call SaveInteger(hashAbilityCooldown, 'A1D6', 2, 15)
    call SaveInteger(hashAbilityCooldown, 'A1D6', 3, 15)
    call SaveInteger(hashAbilityCooldown, 'A19O', 1, 130)
    call SaveInteger(hashAbilityCooldown, 'A19O', 2, 90)
    call SaveInteger(hashAbilityCooldown, 'A19O', 3, 50)
    call SaveInteger(hashAbilityCooldown, 'A0AK', 1, 10)
    call SaveInteger(hashAbilityCooldown, 'A0AK', 2, 10)
    call SaveInteger(hashAbilityCooldown, 'A0AK', 3, 10)
    call SaveInteger(hashAbilityCooldown, 'A1FY', 1, 10)
    call SaveInteger(hashAbilityCooldown, 'A1FY', 2, 10)
    call SaveInteger(hashAbilityCooldown, 'A1FY', 3, 10)
    call SaveInteger(hashAbilityCooldown, 'A0VF', 1, 30)
    call SaveInteger(hashAbilityCooldown, 'A0VF', 2, 25)
    call SaveInteger(hashAbilityCooldown, 'A0VF', 3, 12)
    call SaveInteger(hashAbilityCooldown, 'A0VF', 4, 5)
    call SaveInteger(hashAbilityCooldown, 'A1B5', 1, 16)
    call SaveInteger(hashAbilityCooldown, 'A1B5', 2, 8)
    call SaveInteger(hashAbilityCooldown, 'A1B5', 3, 4)
    call SaveInteger(hashAbilityCooldown, 'A1B5', 4, 2)
    call SaveInteger(hashAbilityCooldown, 'A07K', 1, 6)
    call SaveInteger(hashAbilityCooldown, 'A07K', 2, 6)
    call SaveInteger(hashAbilityCooldown, 'A07K', 3, 6)
    call SaveInteger(hashAbilityCooldown, 'A10Q', 1, 40)
    call SaveInteger(hashAbilityCooldown, 'A10Q', 2, 40)
    call SaveInteger(hashAbilityCooldown, 'A10Q', 3, 40)
    call SaveInteger(hashAbilityCooldown, 'A1DB', 1, 40)
    call SaveInteger(hashAbilityCooldown, 'A1DB', 2, 40)
    call SaveInteger(hashAbilityCooldown, 'A1DB', 3, 40)
    call SaveInteger(hashAbilityCooldown, 'A00H', 1, 110)
    call SaveInteger(hashAbilityCooldown, 'A00H', 2, 110)
    call SaveInteger(hashAbilityCooldown, 'A00H', 3, 110)
    call SaveInteger(hashAbilityCooldown, 'A0A1', 1, 110)
    call SaveInteger(hashAbilityCooldown, 'A0A1', 2, 110)
    call SaveInteger(hashAbilityCooldown, 'A0A1', 3, 110)
    call SaveInteger(hashAbilityCooldown, 'A0O5', 1, 60)
    call SaveInteger(hashAbilityCooldown, 'A0O5', 2, 60)
    call SaveInteger(hashAbilityCooldown, 'A0O5', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A1B1', 1, 60)
    call SaveInteger(hashAbilityCooldown, 'A1B1', 2, 60)
    call SaveInteger(hashAbilityCooldown, 'A1B1', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A0NT', 1, 90)
    call SaveInteger(hashAbilityCooldown, 'A0NT', 2, 90)
    call SaveInteger(hashAbilityCooldown, 'A0NT', 3, 90)
    call SaveInteger(hashAbilityCooldown, 'A0NX', 1, 90)
    call SaveInteger(hashAbilityCooldown, 'A0NX', 2, 90)
    call SaveInteger(hashAbilityCooldown, 'A0NX', 3, 90)
    call SaveInteger(hashAbilityCooldown, 'A02Q', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A02Q', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A02Q', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A1D9', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A1D9', 2, 120)
    call SaveInteger(hashAbilityCooldown, 'A1D9', 3, 120)
    call SaveInteger(hashAbilityCooldown, 'A0QK', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A0QK', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A0QK', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A073', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A073', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A073', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A03J', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A03J', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A03J', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A04J', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A04J', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A04J', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A04M', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A04M', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A04M', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A04N', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A04N', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A04N', 3, 100)
    call SaveInteger(hashAbilityCooldown, 'A095', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A095', 2, 90)
    call SaveInteger(hashAbilityCooldown, 'A095', 3, 55)
    call SaveInteger(hashAbilityCooldown, 'A09W', 1, 150)
    call SaveInteger(hashAbilityCooldown, 'A09W', 2, 90)
    call SaveInteger(hashAbilityCooldown, 'A09W', 3, 50)
    call SaveInteger(hashAbilityCooldown, 'A1BX', 1, 200)
    call SaveInteger(hashAbilityCooldown, 'A1BX', 2, 190)
    call SaveInteger(hashAbilityCooldown, 'A1BX', 3, 180)
    call SaveInteger(hashAbilityCooldown, 'A05T', 1, 145)
    call SaveInteger(hashAbilityCooldown, 'A05T', 2, 115)
    call SaveInteger(hashAbilityCooldown, 'A05T', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A08H', 1, 145)
    call SaveInteger(hashAbilityCooldown, 'A08H', 2, 115)
    call SaveInteger(hashAbilityCooldown, 'A08H', 3, 60)
    call SaveInteger(hashAbilityCooldown, 'A067', 1, 100)
    call SaveInteger(hashAbilityCooldown, 'A067', 2, 85)
    call SaveInteger(hashAbilityCooldown, 'A067', 3, 70)
    call SaveInteger(hashAbilityCooldown, 'A08P', 1, 70)
    call SaveInteger(hashAbilityCooldown, 'A08P', 2, 70)
    call SaveInteger(hashAbilityCooldown, 'A08P', 3, 70)
    call SaveInteger(hashAbilityCooldown, 'A0CC', 1, 22)
    call SaveInteger(hashAbilityCooldown, 'A0CC', 2, 22)
    call SaveInteger(hashAbilityCooldown, 'A0CC', 3, 22)
    call SaveInteger(hashAbilityCooldown, 'A0OK', 1, 160)
    call SaveInteger(hashAbilityCooldown, 'A0OK', 2, 160)
    call SaveInteger(hashAbilityCooldown, 'A0OK', 3, 160)
    call SaveInteger(hashAbilityCooldown, 'A00O', 1, 135)
    call SaveInteger(hashAbilityCooldown, 'A00O', 2, 135)
    call SaveInteger(hashAbilityCooldown, 'A00O', 3, 135)
    call SaveInteger(hashAbilityCooldown, 'A0AF', 1, 120)
    call SaveInteger(hashAbilityCooldown, 'A0AF', 2, 100)
    call SaveInteger(hashAbilityCooldown, 'A0AF', 3, 80)
    call SaveInteger(hashAbilityCooldown, 'S008', 1, 165)
    call SaveInteger(hashAbilityCooldown, 'S008', 2, 165)
    call SaveInteger(hashAbilityCooldown, 'S008', 3, 165)
endfunction

function C11 takes integer GCI, integer GDI returns boolean 
    local integer i = unitDamageCurrentLoc - 1
    local real CO1 = 0
    local real DJI = TimerGetElapsed(M)
    local integer DHI = 0
    loop
        exitwhen i == unitDamageCurrentLoc or CO1 > timeAssistTime or DHI > 200
        if i == 0 then
            set i = 8000 - 1
        endif
        set DHI = DHI + 1
        set CO1 = DJI - unitDamageTime[i]
        if unitDamageSourcePlayerId[i] == GCI and unitDamageTargetPlayerId[i] == GDI and CO1 < timeAssistTime then
            set unitDamageSourcePlayerId[i] = 0
            set unitDamageTargetPlayerId[i] = 0
            return true
        endif
        set i = i - 1
    endloop
    return false
endfunction

function isPlayerAssisted takes integer pidSource, integer pidTarget returns boolean 
    local integer i = unitDamageCurrentLoc - 1
    local real timeElasped = 0
    local real curTime = TimerGetElapsed(M)
    local integer c = 0
    loop
        exitwhen i == unitDamageCurrentLoc or timeElasped > timeAssistTime or c > 200
        if i == 0 then
            set i = 8000 - 1
        endif
        set c = c + 1
        set timeElasped = curTime - unitDamageTime[i]
        if unitDamageSourcePlayerId[i] == pidSource and unitDamageTargetPlayerId[i] == pidTarget and timeElasped < timeAssistTime then
            return true
        endif
        set i = i - 1
    endloop
    return false
endfunction

function recordUnitDamage takes nothing returns nothing
    local integer GCI = GetPlayerId(GetOwningPlayer(GetEventDamageSource()))
    local integer GDI = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    local real GFI = GetEventDamage()
    set unitDamageTime[unitDamageCurrentLoc] = TimerGetElapsed(M)
    set unitDamageSourcePlayerId[unitDamageCurrentLoc] = GCI
    set unitDamageTargetPlayerId[unitDamageCurrentLoc] = GDI
    set unitDamageCurrentLoc = unitDamageCurrentLoc + 1
    if unitDamageCurrentLoc == 8000 then
        set unitDamageCurrentLoc = 1
    endif
endfunction

function getAssistsString takes unit X4I, unit C51 returns string 
    local integer i = 1
    local integer C61 = GetPlayerId(GetOwningPlayer(X4I))
    local integer C71 = GetPlayerId(GetOwningPlayer(C51))
    local integer W3I
    local string C81 = " " + GetObjectName('n0JY') + " "
    local boolean C91 = false
    loop
        exitwhen i > 5
        if isPlayerSentinel(GetOwningPlayer(C51)) then
            set W3I = GetPlayerId(sentinelPlayers[i])
        else 
            set W3I = GetPlayerId(scourgePlayers[i])
        endif
        if C71 != W3I and C11(W3I, C61) then
            set D[W3I] = D[W3I] + 1
            call L1I("Assist" + I2S(W3I), C61)
            if C91 then
                set C81 = C81 + "/" + playerColor[W3I] + playerName[GetPlayerId(Player(W3I))] + "|r"
            else 
                set C81 = C81 + playerColor[W3I] + playerName[GetPlayerId(Player(W3I))] + "|r"
            endif
            set C91 = true
        endif
        set i = i + 1
    endloop
    if C91 then
        return C81
    endif
    return " "
endfunction

function CA1 takes unit X4I, unit C51 returns string 
    local integer i = 1
    local integer C61 = GetPlayerId(GetOwningPlayer(X4I))
    local integer C71 = GetPlayerId(GetOwningPlayer(C51))
    local integer W3I
    local string C81 = ""
    local boolean C91 = false
    loop
        exitwhen i > 5
        if isPlayerSentinel(GetOwningPlayer(C51)) then
            set W3I = GetPlayerId(sentinelPlayers[i])
        else 
            set W3I = GetPlayerId(scourgePlayers[i])
        endif
        if C71 != W3I and isPlayerAssisted(W3I, C61) then
            if C91 then
                set C81 = C81 + "/" + playerColor[W3I] + playerName[GetPlayerId(Player(W3I))] + "|r"
            else 
                set C81 = C81 + playerColor[W3I] + playerName[GetPlayerId(Player(W3I))] + "|r"
            endif
            set C91 = true
        endif
        set i = i + 1
    endloop
    if C91 then
        return C81
    endif
    return " "
endfunction

function getAssistCount takes unit uDying, unit uKiller returns integer 
    local integer i = 1
    local integer pidDying = GetPlayerId(GetOwningPlayer(uDying))
    local integer pidKiller = GetPlayerId(GetOwningPlayer(uKiller))
    local integer p
    local integer rst = 0
    loop
        exitwhen i > 5
        if isPlayerSentinel(GetOwningPlayer(uKiller)) then
            set p = GetPlayerId(sentinelPlayers[i])
        else 
            set p = GetPlayerId(scourgePlayers[i])
        endif
        if pidKiller != p and isPlayerAssisted(p, pidDying) then
            set rst = rst + 1
        endif
        set i = i + 1
    endloop
    return rst
endfunction

function getAssistedPlayers takes unit X4I, unit C51 returns boolean 
    local integer i = 1
    local integer C61 = GetPlayerId(GetOwningPlayer(X4I))
    local integer C71 = GetPlayerId(GetOwningPlayer(C51))
    local integer W3I
    local string C81 = " Assists: "
    local boolean C91 = false
    local integer x = 1
    set assistedPlayers[1] = null
    set assistedPlayers[2] = null
    set assistedPlayers[3] = null
    set assistedPlayers[4] = null
    set assistedPlayers[5] = null
    loop
        exitwhen i > 5
        if isPlayerSentinel(GetOwningPlayer(C51)) then
            set W3I = GetPlayerId(sentinelPlayers[i])
        else 
            set W3I = GetPlayerId(scourgePlayers[i])
        endif
        if C71 != W3I and isPlayerAssisted(W3I, C61) then
            set assistedPlayers[x] = Player(W3I)
            set x = x + 1
            set C91 = true
        endif
        set i = i + 1
    endloop
    return C91
endfunction

function addAssistGold takes unit X4I, unit C51, real FFI returns nothing
    local integer i = 1
    local integer DHI = 0
    call getAssistedPlayers(X4I, C51)
    loop
        exitwhen i > 5
        if assistedPlayers[i] != null then
            set DHI = DHI + 1
        endif
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > 5
        if assistedPlayers[i] != null then
            call addGoldWithEffect(assistedPlayers[i], R2I(FFI/DHI), playerHero[GetPlayerId(assistedPlayers[i])])
        endif
        set i = i + 1
    endloop
endfunction

function CE1 takes nothing returns nothing
endfunction

function CF1 takes nothing returns nothing
    local integer id = GetUnitTypeId(GetTriggerUnit())
    if GetOwningPlayer(GetTriggerUnit()) == playerNeutrals then
        set C[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = C[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
    elseif (id == 'ugho') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'unec') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'esen') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'edry') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'u001') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'u002') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'e00V') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'e00W') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'ebal') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'e026') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'umtw') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    elseif (id == 'u00R') then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = B[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        else 
            set A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = A[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
        endif
    endif
    call CE1()
endfunction

function CH1 takes integer i returns nothing
    local integer x = 1
    local integer y = 1
    set EZ0[i] = null
    set EV0[i] = 0
    set EW0[i] = false
    loop
        exitwhen y > EX0
        if EV0[y] != 0 then
            set EY0[x] = EZ0[y]
            set EJ0[x] = EV0[y]
            set EK0[x] = EW0[y]
            set EZ0[y] = null
            set EV0[y] = 0
            set EW0[y] = false
            set x = x + 1
        endif
        set y = y + 1
    endloop
    set EX0 = x - 1
    set x = 1
    loop
        exitwhen x > EX0
        set EZ0[x] = EY0[x]
        set EV0[x] = EJ0[x]
        set EW0[x] = EK0[x]
        set x = x + 1
    endloop
endfunction

function isMeepo takes unit X4I returns boolean 
    return GetUnitTypeId(X4I) == 'H00I' or GetUnitTypeId(X4I) == 'H00J'
endfunction

function CV1 takes unit X4I returns boolean 
    local integer DMI = GetHandleId(GetOwningPlayer(X4I))
    local unit SFI = LoadUnitHandle(hashTable, DMI, 81)
    local unit SGI = LoadUnitHandle(hashTable, DMI, 82)
    local unit SHI = LoadUnitHandle(hashTable, DMI, 83)
    local unit SZI = LoadUnitHandle(hashTable, DMI, 84)
    if GetUnitAbilityLevel(SFI, 'A0OV') != 0 or GetUnitAbilityLevel(SGI, 'A0OV') != 0 or GetUnitAbilityLevel(SHI, 'A0OV') != 0 or GetUnitAbilityLevel(SZI, 'A0OV') != 0 then
        return true
    endif
    return false
endfunction

function isUnitHasAegisOfImmortal takes unit X4I returns boolean 
    local integer i = 0
    local integer DMI = GetHandleId(GetOwningPlayer(X4I))
    local unit SEI = LoadUnitHandle(hashTable, DMI, 81)
    loop
        exitwhen i > 5
        if GetItemTypeId( UnitItemInSlot(SEI, i) ) == itemId[itemIdAegisOfImmortal] and GetItemCharges( UnitItemInSlot(SEI, i) ) > 0 then
            return true
        endif
        set i = i + 1
    endloop
    return false
endfunction

function CX1 takes unit X4I, location CY1 returns nothing
    local integer DMI = GetHandleId(GetOwningPlayer(X4I))
    local unit SFI = LoadUnitHandle(hashTable, DMI, 81)
    local unit SGI = LoadUnitHandle(hashTable, DMI, 82)
    local unit SHI = LoadUnitHandle(hashTable, DMI, 83)
    local unit SZI = LoadUnitHandle(hashTable, DMI, 84)
    if SFI != null then
        call ReviveHeroLoc(SFI, CY1, true)
        call S4I(SFI)
    endif
    if SGI != null then
        call ReviveHeroLoc(SGI, CY1, true)
        call S4I(SGI)
    endif
    if SHI != null then
        call ReviveHeroLoc(SHI, CY1, true)
        call S4I(SHI)
    endif
    if SZI != null then
        call ReviveHeroLoc(SZI, CY1, true)
        call S4I(SZI)
    endif
endfunction

function CustomHeroRevive_GetTime takes nothing returns real 
    return TimerGetElapsed(M)
endfunction

function CJ1 takes unit E1I, real LLI, boolean CK1 returns nothing
    set EX0 = EX0 + 1
    set EZ0[EX0] = E1I
    set EV0[EX0] = TimerGetElapsed(M) + LLI
    set EW0[EX0] = CK1
endfunction

function CL1 takes integer i returns nothing
    local unit X4I = EZ0[i]
    local boolean CK1 = EW0[i]
    local player CM1 = GetOwningPlayer(X4I)
    local location CY1
    if isPlayerScourge(CM1) then
        set CY1 = GetRectCenter(R3)
    else 
        set CY1 = GetRectCenter(B4)
    endif
    if gameEnded == false and isUnitUnavailable(X4I) then
        call S7I(X4I, CM1, GetLocationX(CY1), GetLocationY(CY1), true)
        if isMeepo(X4I) == false or GetUnitAbilityLevel(X4I, 'A0MW') == 0 then
            call ReviveHeroLoc(X4I, CY1, true)
        else 
            call CX1(X4I, CY1)
        endif
        if CK1 then
            call SetUnitState(X4I, UNIT_STATE_MANA, GetUnitState(X4I, UNIT_STATE_MAX_MANA))
        endif
    endif
    call RemoveLocation(CY1)
    call CH1(i)
    set X4I = null
    set CM1 = null
    set CY1 = null
endfunction

function CN1 takes nothing returns boolean 
    local real DJI = TimerGetElapsed(M)
    local integer i
    set i = 1
    loop
        exitwhen i > EX0
        if EV0[i] < DJI and EV0[i] != 0 then
            call CL1(i)
        endif
        if EV0[i] != 0 and isUnitUnavailable(EZ0[i]) == false then
            call CH1(i)
        endif
        set i = i + 1
    endloop
    return false
endfunction

function addHeroKillXP takes unit CR1, unit CP1 returns nothing
    if getUnitDistance(CR1, CP1) > 1000 then
        call AddHeroXP(CR1, getHeroKillXP(CP1), true)
    endif
endfunction

function CQ1 takes nothing returns boolean 
    if (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitIllusion(GetFilterUnit()) == false then
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(EL0)) and getSpecificItem(GetFilterUnit(), itemId[itemIdBloodstone]) != null then
            call SetItemCharges(getSpecificItem(GetFilterUnit(), itemId[itemIdBloodstone]), GetItemCharges( getSpecificItem(GetFilterUnit(), itemId[itemIdBloodstone]) ) + 1)
        endif
    endif
    return false
endfunction

function chargeUrnsCallback takes nothing returns boolean 
    local item i
    local integer K3I
    if EN0 == 0 and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitIllusion(GetFilterUnit()) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(EM0)) then
        if getSpecificItem(GetFilterUnit(), itemId[VT0]) != null then
            set EN0 = EN0 + 1
            set K3I = GetItemCharges( getSpecificItem(GetFilterUnit(), itemId[VT0]) )
            if K3I == 0 then
                set K3I = 2
            else 
                set K3I = K3I + 1
            endif
            call SetItemCharges(getSpecificItem(GetFilterUnit(), itemId[VT0]), K3I)
        endif
    endif
    return false
endfunction

function D01 takes unit u returns nothing
    local group g = allocGroup()
    set EL0 = u
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 1625, Condition(function CQ1))
    call releaseGroup(g)
    set g = null
endfunction

function chargeUrns takes unit u returns nothing
    local group g = allocGroup()
    set EN0 = 0
    set EM0 = u
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 1425, Condition(function chargeUrnsCallback))
    call releaseGroup(g)
    set EN0 = 0
    set g = null
endfunction

function D11 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DO1 = LoadInteger(hashTable, DMI, 88)
    local integer i = 1
    local player p
    local string CRI
    loop
        exitwhen i > 5
        if DO1 == 0 then
            set p = sentinelPlayers[i]
            set CRI = playerColor[GetPlayerId(sentinelPlayers[0])] + GetObjectName('n03N') + "|r " + GetObjectName('n03P') + " " + playerColor[GetPlayerId(sentinelPlayers[0])] + GetObjectName('n03Q') + "|r"
        else 
            set p = scourgePlayers[i]
            set CRI = playerColor[GetPlayerId(scourgePlayers[0])] + GetObjectName('n03O') + "|r " + GetObjectName('n03P') + " " + playerColor[GetPlayerId(scourgePlayers[0])] + GetObjectName('n03Q') + "|r"
        endif
        call DisplayTimedTextToPlayer(p, 0, 0, 10, CRI)
        call WMI(OE, p)
        set i = i + 1
    endloop
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function D21 takes integer DO1 returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1.5, false)
    call TriggerAddCondition(t, Condition(function D11))
    call SaveInteger(hashTable, DMI, 88, DO1)
    set t = null
endfunction

function D31 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer D41 = LoadInteger(hashTable, DMI, 89)
    local string CRI = LoadStr(hashTable, DMI, 90)
    if D41 == 1 then
        call WLI(sndDoubleKill)
    elseif D41 == 2 then
        call WLI(GF)
    elseif D41 == 3 then
        call WLI(CG)
    elseif D41 == 4 then
        call WLI(DG)
    endif
    call dispTimedTextToForce(forceAllPlayers, 10.00, CRI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function D51 takes string CRI, integer D41 returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1.5, false)
    call TriggerAddCondition(t, Condition(function D31))
    call SaveStr(hashTable, DMI, 90, CRI)
    call SaveInteger(hashTable, DMI, 89, D41)
    set t = null
endfunction

function shareKillGold takes player X2I, integer X3I returns nothing
    local integer EUI = 1
    local integer NPI
    if isPlayerSentinel(X2I) then
        set NPI = EMI(AO)
    else 
        set NPI = EMI(BO)
    endif
    if isPlayerSentinel(X2I) then
        loop
            exitwhen EUI > 5
            if isPlayerAlive(sentinelPlayers[EUI]) then
                call addGoldWithEffect(sentinelPlayers[EUI], X3I/NPI, playerHero[GetPlayerId(sentinelPlayers[EUI])])
            endif
            set EUI = EUI + 1
        endloop
    else 
        loop
            exitwhen EUI > 5
            if isPlayerAlive(scourgePlayers[EUI]) then
                call addGoldWithEffect(scourgePlayers[EUI], X3I/NPI, playerHero[GetPlayerId(scourgePlayers[EUI])])
            endif
            set EUI = EUI + 1
        endloop
    endif
endfunction

function D71 takes unit X4I, integer D81 returns nothing
    local player CM1 = GetOwningPlayer(X4I)
    call SetPlayerState(CM1, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(CM1, PLAYER_STATE_RESOURCE_GOLD) - D81)
endfunction

function D91 takes nothing returns boolean 
    if GetUnitTypeId(GetFilterUnit()) == 'o003' then
        call KillUnit(GetFilterUnit())
        return true
    endif
    return false
endfunction

function DA1 takes nothing returns nothing
    local boolexpr BH1 = Condition(function D91)
    local group MNI = allocGroup()
    call GroupEnumUnitsInRect(MNI, bj_mapInitialPlayableArea, BH1)
    call releaseGroup(MNI)
endfunction

function unitShouldProceed takes nothing returns boolean 
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
        if GetUnitTypeId(GetTriggerUnit()) == 'H00J' and isUnitHasAegisOfImmortal(GetTriggerUnit()) then
            return false
        endif
        return true
    endif
    return false
endfunction

function isFriendlyKill takes player CM1, player X2I returns boolean 
    return GetKillingUnit() == null or (isPlayerSentinel(CM1) and isPlayerSentinel(X2I)) or (isPlayerScourge(CM1) and isPlayerScourge(X2I))
endfunction

function filterIsUnitProton takes nothing returns boolean 
    return GetUnitTypeId(GetFilterUnit()) == 'OPR1'
endfunction

function heroDeathEventHandler takes nothing returns nothing
    local boolean DE1 = false
    local unit unitDying = GetDyingUnit()
    local unit unitKiller = GetKillingUnit()
    local player playerKiller = GetOwningPlayer(unitKiller)
    local player playerDying = GetOwningPlayer(unitDying)
    local location CY1
    local integer goldAward = 0
    local integer D81 = 0
    local boolean DF1 = false
    local string DG1 = ""
    local string DH1 = ""
    local string assistString = ""
    local string MidText
    local integer x
    local string DV1
    local string DW1
    local string killingString
    local string DY1
    local boolean CK1 = false
    local real DJ1 = 1
    local real DK1 = 1
    local real DL1 = 1
    local real DM1 = 0
    local trigger t
    local integer reviveTime
    local integer assistCount = getAssistCount(unitDying, unitKiller)
    local integer id
    local integer lvl
    local group g
    local unit u
    if GetUnitTypeId(unitKiller) == 'u01G' and GetOwningPlayer(unitKiller) == playerNeutrals then
        set unitKiller = unitDying
        set playerKiller = GetOwningPlayer(unitKiller)
    endif
    if unitKiller != null then
        set id = GetUnitTypeId(unitKiller)
        if id == 'o018' or id == 'o002' or id == 'o00B' or id == 'o01B' or id == 'n00O' or id == 'n00N' or id == 'n00Q' or id == 'n00P' then
            call addHeroKillXP(playerHero[GetPlayerId(GetOwningPlayer(unitKiller))], unitDying)
        endif
    endif
    if isFriendlyKill(playerDying, playerKiller) == false and assistCount == 1 and isPlayer(playerKiller) == false and playerKiller != playerNeutrals then
        call getAssistedPlayers(unitDying, unitKiller)
        set playerKiller = assistedPlayers[1]
        set unitKiller = playerHero[GetPlayerId(playerKiller)]
    endif
    if isPlayerSentinel(GetOwningPlayer(unitDying)) then
        if GetOwningPlayer(unitDying) != sentinelPlayers[1] then
        endif
        if GetOwningPlayer(unitDying) != sentinelPlayers[2] then
        endif
        if GetOwningPlayer(unitDying) != sentinelPlayers[3] then
        endif
        if GetOwningPlayer(unitDying) != sentinelPlayers[4] then
        endif
        if GetOwningPlayer(unitDying) != sentinelPlayers[5] then
        endif
    else 
        if GetOwningPlayer(unitDying) != scourgePlayers[1] then
        endif
        if GetOwningPlayer(unitDying) != scourgePlayers[2] then
        endif
        if GetOwningPlayer(unitDying) != scourgePlayers[3] then
        endif
        if GetOwningPlayer(unitDying) != scourgePlayers[4] then
        endif
        if GetOwningPlayer(unitDying) != scourgePlayers[5] then
        endif
    endif
    set playerHeroDead[GetPlayerId(GetOwningPlayer(unitDying))] = true
    if GetUnitAbilityLevel(unitDying, 'A0OV') != 0 or (isMeepo(unitDying) and CV1(unitDying)) then
        set CK1 = true
        call UnitRemoveAbility(unitDying, 'A0OV')
        set YO = unitDying
        set C2 = unitKiller
        if IsUnitType(unitKiller, UNIT_TYPE_STRUCTURE) == false then
        endif
    endif
    if playerKiller == null then
        set playerKiller = playerDying
    endif
    if itemDropMode and GetUnitTypeId(unitDying) != 'H00J' then
        set M2 = UnitRemoveItemFromSlot(unitDying, GetRandomInt(0, 5))
        if GetItemTypeId(M2) == 'I00K' then
            call CreateItem('I00G', GetItemX(M2), GetItemY(M2))
            call RemoveItem(M2)
        endif
    endif
    if isPlayerSentinel(playerDying) then
        if isPlayerSentinel(playerKiller) then
            set DE1 = true
            if (playerKiller == playerDying) then
                call dispTimedTextToForce(forceAllPlayers, 10.00, (playerColor[GetPlayerId(playerDying)] + playerName[GetPlayerId(playerDying)] + "|r " + GetObjectName('n03R')))
            else 
                call dispTimedTextToForce(forceAllPlayers, 10.00, getFriendKillString(playerDying, playerKiller))
            endif
        elseif isPlayerScourge(playerKiller) then
            set DF1 = true
            set nDeath[GetPlayerId(sentinelPlayers[0])] = nDeath[GetPlayerId(sentinelPlayers[0])] + 1
            set nKill[GetPlayerId(scourgePlayers[0])] = nKill[GetPlayerId(scourgePlayers[0])] + 1
            set nKillsInRowGroup[2] = nKillsInRowGroup[2] + 1
            set nKillsInRowGroup[1] = 0
            if playerKiller != scourgePlayers[0] then
                set nKill[GetPlayerId(playerKiller)] = nKill[GetPlayerId(playerKiller)] + 1
                set nKillsInRow[GetPlayerId(playerKiller)] = nKillsInRow[GetPlayerId(playerKiller)] + 1
            endif
        endif
    endif
    if isPlayerScourge(playerDying) then
        if isPlayerScourge(playerKiller) then
            set DE1 = true
            if (playerKiller == playerDying) then
                call dispTimedTextToForce(forceAllPlayers, 10.00, (playerColor[GetPlayerId(playerDying)] + playerName[GetPlayerId(playerDying)] + "|r " + GetObjectName('n03R')))
            else 
                call dispTimedTextToForce(forceAllPlayers, 10.00, getFriendKillString(playerDying, playerKiller))
            endif
        elseif isPlayerSentinel(playerKiller) then
            set DF1 = true
            set nDeath[GetPlayerId(scourgePlayers[0])] = nDeath[GetPlayerId(scourgePlayers[0])] + 1
            set nKill[GetPlayerId(sentinelPlayers[0])] = nKill[GetPlayerId(sentinelPlayers[0])] + 1
            set nKillsInRowGroup[1] = nKillsInRowGroup[1] + 1
            set nKillsInRowGroup[2] = 0
            if playerKiller != sentinelPlayers[0] then
                set nKill[GetPlayerId(playerKiller)] = nKill[GetPlayerId(playerKiller)] + 1
                set nKillsInRow[GetPlayerId(playerKiller)] = nKillsInRow[GetPlayerId(playerKiller)] + 1
            endif
        endif
    endif
    if playerKiller == playerNeutrals then
        set DF1 = false
        if GetUnitTypeId(unitKiller) == 'n00L' then
            call dispTimedTextToForce(forceAllPlayers, 10.00, (playerColor[GetPlayerId(playerDying)] + playerName[GetPlayerId(playerDying)] + "|r " + GetObjectName('n03T')))
        else 
            call dispTimedTextToForce(forceAllPlayers, 10.00, (playerColor[GetPlayerId(playerDying)] + playerName[GetPlayerId(playerDying)] + "|r " + GetObjectName('n03U')))
        endif
        set DE1 = true
    endif
    if ZN then
        call playSoundAt(HC, GetUnitX(unitDying), GetUnitY(unitDying))
    endif
    call L1I("Hero" + I2S(GetPlayerId(playerDying)), GetPlayerId(playerKiller))
    set x = nKillsInRow[GetPlayerId(playerDying)]
    if x > 2 and DE1 == false then
        if x == 3 then
            set goldAward = 50
            set DG1 = "|c0000ff40" + GetObjectName('n04L') + "|r"
        elseif x == 4 then
            set goldAward = 100
            set DG1 = "|c00400080" + GetObjectName('n04N') + "|r"
        elseif x == 5 then
            set goldAward = 150
            set DG1 = "|c00ff0080" + GetObjectName('n04M') + "|r"
        elseif x == 6 then
            set goldAward = 200
            set DG1 = "|c00ff8000" + GetObjectName('n04J') + "|r"
        elseif x == 7 then
            set goldAward = 250
            set DG1 = "|c00808000" + GetObjectName('n04I') + "|r"
        elseif x == 8 then
            set goldAward = 300
            set DG1 = "|c00ff80ff" + GetObjectName('n03V') + "|r"
        elseif x == 9 then
            set goldAward = 350
            set DG1 = "|c00ff0000" + GetObjectName('n03W') + "|r"
        else 
            set goldAward = 400
            set DG1 = "|c00ff8000" + GetObjectName('n03X') + "|r"
        endif
    endif
    set x = nKillsInRow[GetPlayerId(playerKiller)]
    if x > maxKillsInRow[GetPlayerId(playerKiller)] then
        set maxKillsInRow[GetPlayerId(playerKiller)] = x
    endif
    if x > 2 and DE1 == false then
        if x == 3 then
            call WLI(GD)
            set DH1 = " " + GetObjectName('n04K') + " |c0000ff40" + GetObjectName('n04L') + "|r" + GetObjectName('n049')
        elseif x == 4 then
            call WLI(sndDominating)
            set DH1 = " " + GetObjectName('n04H') + " |c00400080" + GetObjectName('n04N') + "|r" + GetObjectName('n049')
        elseif x == 5 then
            call WLI(ZD)
            set DH1 = " " + GetObjectName('n04G') + " |c00ff0080" + GetObjectName('n04M') + "|r" + GetObjectName('n049')
        elseif x == 6 then
            call WLI(WF)
            set DH1 = " " + GetObjectName('n04H') + " |c00ff8000" + GetObjectName('n04J') + "|r" + GetObjectName('n04A')
        elseif x == 7 then
            call WLI(JF)
            set DH1 = " " + GetObjectName('n04H') + " |c00808000" + GetObjectName('n04I') + "|r" + GetObjectName('n04A')
        elseif x == 8 then
            call WLI(WD)
            set DH1 = " " + GetObjectName('n04G') + " |c00ff80ff" + GetObjectName('n03V') + "|r" + GetObjectName('n04A')
        elseif x == 9 then
            call WLI(ZC)
            set DH1 = " " + GetObjectName('n04H') + " |c00ff0000" + GetObjectName('n03W') + "|r" + GetObjectName('n04B')
        else 
            call WLI(OD)
            set DH1 = " " + GetObjectName('n04H') + " |c00ff8000" + GetObjectName('n03X') + "|r. " + GetObjectName('n04F') + GetObjectName('n04B')
        endif
    endif
    if DE1 == false then
        set goldAward = goldAward + 100 + GetHeroLevel(unitDying)*5 + 100
        // for Proton's holy shit aura
        if uProton != null and GetUnitAbilityLevel(unitKiller, 'BPR2') > 0 then
            set lvl = GetUnitAbilityLevel(uProton, 'APR5')
            if lvl == 1 then
                set goldAward = goldAward*7/10
            elseif lvl == 2 then
                set goldAward = goldAward/2
            elseif lvl == 3 then
                set goldAward = goldAward*3/10
            endif
        endif
        // end
        set DV1 = playerColor[GetPlayerId(playerDying)] + playerName[GetPlayerId(playerDying)] + "|r"
        set DW1 = playerColor[GetPlayerId(playerKiller)] + playerName[GetPlayerId(playerKiller)] + "|r"
        set DY1 = "|c00FFDC00" + I2S(goldAward) + "|r"
        if playerKiller == sentinelPlayers[0] or playerKiller == scourgePlayers[0] then
            if assistCount == 0 then
                if playerKiller == sentinelPlayers[0] then
                    set killingString = DW1 + " " + GetObjectName('n042') + " " + DV1 + GetObjectName('n043') + GetObjectName('n049') + " " + DY1 + " " + GetObjectName('n044') + "."
                    call shareKillGold(playerKiller, goldAward)
                elseif playerKiller == scourgePlayers[0] then
                    set killingString = DW1 + " " + GetObjectName('n042') + " " + DV1 + GetObjectName('n043') + GetObjectName('n049') + " " + DY1 + " " + GetObjectName('n044') + "."
                    call shareKillGold(playerKiller, goldAward)
                endif
            elseif assistCount > 1 then
                set killingString = DW1 + " " + GetObjectName('n042') + " " + DV1 + GetObjectName('n043') + GetObjectName('n049') + " " + DY1 + " " + GetObjectName('n044') + "."
                call addAssistGold(unitDying, unitKiller, goldAward)
            endif
        elseif DG1 == "" and DH1 == "" then
            set killingString = DW1 + " " + GetObjectName('n042') + " " + DV1 + GetObjectName('n043') + " " + GetObjectName('n04C') + " " + DY1 + " " + GetObjectName('n045') + GetObjectName('n049')
        elseif DG1 == "" and DH1 != "" then
            set killingString = DW1 + " " + GetObjectName('n042') + " " + DV1 + GetObjectName('n043') + " " + GetObjectName('n04C') + " " + DY1 + " " + GetObjectName('n045') + GetObjectName('n049')
        elseif DG1 != "" and DH1 == "" then
            set killingString = DW1 + " " + GetObjectName('n048') + " " + DV1 + GetObjectName('n047') + " " + DG1 + " " + GetObjectName('n046') + " " + DY1 + " " + GetObjectName('n045') + GetObjectName('n049')
        elseif DG1 != "" and DH1 != "" then
            set killingString = DW1 + " " + GetObjectName('n048') + " " + DV1 + GetObjectName('n047') + " " + DG1 + " " + GetObjectName('n046') + " " + DY1 + " " + GetObjectName('n045') + GetObjectName('n049')
        endif
        if DF1 then
            set assistString = getAssistsString(unitDying, unitKiller)
        endif
        call dispTimedTextToForce(forceAllPlayers, 10, killingString + assistString)
        if DH1 != "" then
            call dispTimedTextToForce(forceAllPlayers, 10, DW1 + DH1)
        endif
        call addGoldWithEffect(playerKiller, goldAward, unitDying)
        set heroKillGold[GetPlayerId(playerKiller)] = heroKillGold[GetPlayerId(playerKiller)] + goldAward
        if nKillsInRowGroup[1] > 4 then
            call D21(0)
        endif
        if nKillsInRowGroup[2] > 4 then
            call D21(1)
        endif
    endif
    set D81 = GetHeroLevel(unitDying)*30
    if getSpecificItem(unitDying, itemId[itemIdBloodstone]) != null then
        if GetItemCharges( getSpecificItem(unitDying, itemId[itemIdBloodstone]) ) > 0 then
            set DM1 = -1*(3*GetItemCharges( getSpecificItem(unitDying, itemId[itemIdBloodstone]) ))
            set D81 = IMaxBJ(R2I(D81 - 25*GetItemCharges( getSpecificItem(unitDying, itemId[itemIdBloodstone]) )), 0)
        endif
    endif
    call D01(unitDying)
    call chargeUrns(unitDying)
    if CK1 == false then
        set G[GetPlayerId(playerDying)] = G[GetPlayerId(playerDying)] + D81
        call D71(unitDying, D81)
    endif
    call SaveInteger(hashTable, (400 + GetPlayerId(playerKiller)), (450 + GetPlayerId(playerDying)), (LoadInteger(hashTable, (400 + GetPlayerId(playerKiller)), (450 + GetPlayerId(playerDying))) + 1))
    call SaveInteger(hashTable, (400 + GetPlayerId(playerDying)), (500 + GetPlayerId(playerKiller)), (LoadInteger(hashTable, (400 + GetPlayerId(playerDying)), (500 + GetPlayerId(playerKiller))) + 1))
    call StartTimerBJ(E0[GetPlayerId(playerKiller)], false, 18)
    if DE1 == false and playerKiller != sentinelPlayers[0] and playerKiller != scourgePlayers[0] and playerKiller != playerNeutrals then
        set Q[GetPlayerId(playerKiller)] = Q[GetPlayerId(playerKiller)] + 1
        if Q[GetPlayerId(playerKiller)] == 2 then
            set Z[GetPlayerId(playerKiller)] = Z[GetPlayerId(playerKiller)] + 1
            call D51(playerColor[GetPlayerId(playerKiller)] + playerName[GetPlayerId(playerKiller)] + "|r " + GetObjectName('n04D') + " |c000000ff" + GetObjectName('n04S') + "|r" + GetObjectName('n049'), 1)
        endif
        if Q[GetPlayerId(playerKiller)] == 3 then
            set V[GetPlayerId(playerKiller)] = V[GetPlayerId(playerKiller)] + 1
            call D51(playerColor[GetPlayerId(playerKiller)] + playerName[GetPlayerId(playerKiller)] + "|r " + GetObjectName('n04D') + " |c0000ff40" + GetObjectName('n04E') + "|r" + GetObjectName('n04B'), 2)
        endif
        if Q[GetPlayerId(playerKiller)] == 4 then
            set V[GetPlayerId(playerKiller)] = V[GetPlayerId(playerKiller)] + 1
            call D51(playerColor[GetPlayerId(playerKiller)] + playerName[GetPlayerId(playerKiller)] + "|r " + GetObjectName('n04D') + " |c0000FFFF" + GetObjectName('n0HJ') + "|r" + GetObjectName('n04B'), 3)
        endif
        if Q[GetPlayerId(playerKiller)] > 4 then
            set V[GetPlayerId(playerKiller)] = V[GetPlayerId(playerKiller)] + 1
            call D51(playerColor[GetPlayerId(playerKiller)] + playerName[GetPlayerId(playerKiller)] + "|r " + GetObjectName('n04K') + " |c0000AAFF" + GetObjectName('n0HK') + "|r" + GetObjectName('n04B'), 4)
        endif
    endif
    if (DE1 == false) then
        set nKillsInRow[GetPlayerId(playerDying)] = 0
    endif
    set nKillsInRow[0] = 0
    set nKillsInRow[6] = 0
    set nDeath[GetPlayerId(playerDying)] = nDeath[GetPlayerId(playerDying)] + 1
    if CK1 then
        set DJ1 = 0.4
    endif
    set reviveTime = R2I(GetHeroLevel(unitDying)*4*DJ1*DK1*DL1) + R2I(DM1)
    if PB0 == true then
        set reviveTime = R2I(reviveTime*0.5)
    endif
    // for Proton's holy shit aura
    if uProton != null and IsUnitEnemy(unitDying, GetOwningPlayer(uProton)) then
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, GetUnitX(unitDying), GetUnitY(unitDying), 800, Filter(function filterIsUnitProton))
        if FirstOfGroup(g) != null then
            set lvl = GetUnitAbilityLevel(uProton, 'APR5')
            set reviveTime = reviveTime + reviveTime*(2 + lvl)/10
        endif
        call releaseGroup(g)
        set g = null
    endif
    // end

    if noReviveTimeMode then
        set timeDeathTotal[GetPlayerId(playerDying)] = 0
        call TimerStart(timerDeathCountdown[GetPlayerId(playerDying)], 1.00, false, null)
    else 
        set timeDeathTotal[GetPlayerId(playerDying)] = timeDeathTotal[GetPlayerId(playerDying)] + reviveTime
        call TimerStart(timerDeathCountdown[GetPlayerId(playerDying)], reviveTime, false, null)
    endif
    call TriggerExecute(JH)
    if deathMatchMode == false then
        call CJ1(unitDying, reviveTime, CK1)
    else 
        if isPlayerSentinel(playerDying) then
            set W0[0] = W0[0] + 1
        endif
        if isPlayerScourge(playerDying) then
            set W0[1] = W0[1] + 1
        endif
        set IO[GetPlayerId(playerDying)] = unitDying
        if GetUnitTypeId(unitDying) == 'H00J' then
            set IO[GetPlayerId(playerDying)] = LoadUnitHandle(hashTable, GetHandleId(GetOwningPlayer(unitDying)), 81)
        endif
        if W0[0] == WL then
            call TriggerExecute(RK)
        endif
        if W0[1] == WL then
            call TriggerExecute(TK)
        endif
        if (GetUnitTypeId(unitDying) == 'U006') then
            call ExecuteFunc("DA1")
        elseif GetUnitTypeId(unitDying) == 'U008' or GetUnitTypeId(unitDying) == 'E015' then
            set MK = unitDying
            call ExecuteFunc("DT1")
        elseif GetUnitTypeId(unitDying) == 'Ucrl' then
            set MK = unitDying
            call ExecuteFunc("DR1")
        endif
    endif
endfunction

function firstBlood takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local player X2I = GetOwningPlayer(GetKillingUnit())
    local player CM1 = GetOwningPlayer(GetTriggerUnit())
    local string CRI
    local integer DS1 = getAssistCount(GetTriggerUnit(), GetKillingUnit())
    if X2I == sentinelPlayers[0] or X2I == scourgePlayers[0] then
        call addAssistGold(GetTriggerUnit(), GetKillingUnit(), 200)
        set CRI = CA1(GetTriggerUnit(), GetKillingUnit()) + " " + GetObjectName('n04W') + " |c00ff0303" + GetObjectName('n04Y') + GetObjectName('n049') + "|r "
        if DS1 > 1 then
            set CRI = CRI + "(+200 " + GetObjectName('n044') + ")"
        else 
            set CRI = CRI + "(+200 " + GetObjectName('n045') + ")"
        endif
    else 
        set CRI = playerColor[GetPlayerId(X2I)] + playerName[GetPlayerId(X2I)] + "|r " + GetObjectName('n04W') + " |c00ff0303" + GetObjectName('n04Y') + GetObjectName('n049') + "|r "
        set CRI = CRI + "(+200 " + GetObjectName('n045') + ")"
        call addGoldWithEffect(X2I, 200, playerHero[GetPlayerId(X2I)])
    endif
    call dispTimedTextToForce(forceAllPlayers, 10, CRI)
    call WLI(sndFirstBlood)
    call abandonTrigger(t)
    set t = null
endfunction

function firstBloodEventHandler takes nothing returns boolean 
    if GetOwningPlayer(GetKillingUnit()) != playerNeutrals and GetKillingUnit() != null and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()), GetOwningPlayer(GetKillingUnit())) == true then
        if GetOwningPlayer(GetKillingUnit()) == sentinelPlayers[0] or GetOwningPlayer(GetKillingUnit()) == scourgePlayers[0] then
            if getAssistCount(GetTriggerUnit(), GetKillingUnit()) > 0 then
                call firstBlood()
            endif
        else 
            call firstBlood()
        endif
    endif
    return false
endfunction

function EI1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u
    local region r
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set u = LoadUnitHandle(hashTable, DMI, 53)
        set r = CreateRegion()
        call RegionAddRect(r, UA)
        call RegionAddRect(r, IB)
        call RegionAddRect(r, UB)
        if IsUnitInRegion(r, u) == false then
            if LoadBoolean(hashTable, DMI, 91) == true then
                call SaveBoolean(hashTable, DMI, 91, false)
            else 
                call SetUnitX(u, GetRectCenterX(U4))
                call SetUnitY(u, GetRectCenterY(U4))
                call SaveBoolean(hashTable, DMI, 91, true)
            endif
        endif
        call RemoveRegion(r)
        set u = null
        set r = null
    endif
    set t = null
    return false
endfunction

function E11 takes unit u returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 10, true)
    call TriggerAddCondition(t, Condition(function EI1))
    call SaveUnitHandle(hashTable, DMI, 53, u)
    call SaveBoolean(hashTable, DMI, 91, true)
    set t = null
endfunction

function EO1 takes nothing returns boolean 
    local item J6I
    local integer DHI = GetTriggerEvalCount(GetTriggeringTrigger())
    if DHI == 600 then
        call abandonTrigger(GetTriggeringTrigger())
    endif
    if DHI == 420 or DHI == 540 then
        if ES0 != null then
            set J6I = getSpecificItem(ES0, itemId[itemIdAegisOfImmortal])
            if J6I != null then
                if DHI == 420 then
                    if isPlayerSentinel(GetOwningPlayer(ES0)) then
                        call dispTimedTextToForce(AO, 15, GetObjectName('n0E9') + " |c00ff0303" + GetObjectName('n0E7') + "|r")
                    else 
                        call dispTimedTextToForce(BO, 15, GetObjectName('n0E9') + " |c00ff0303" + GetObjectName('n0E7') + "|r")
                    endif
                else 
                    if isPlayerSentinel(GetOwningPlayer(ES0)) then
                        call dispTimedTextToForce(AO, 15, GetObjectName('n0E9') + " |c00ff0303" + GetObjectName('n0DX') + "|r")
                    else 
                        call dispTimedTextToForce(BO, 15, GetObjectName('n0E9') + " |c00ff0303" + GetObjectName('n0DX') + "|r")
                    endif
                endif
            endif
        endif
    endif
    set J6I = null
    return false
endfunction

function E21 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function EO1))
    call TriggerEvaluate(t)
    set t = null
endfunction

function E31 takes nothing returns boolean 
    set ER0 = GetTriggerEvalCount(GetTriggeringTrigger())
    if N0 != null and GetUnitState(N0, UNIT_STATE_LIFE) > 1 then
        call SetPlayerTechResearched(GetOwningPlayer(N0), 'R00F', ER0)
        if GetUnitAbilityLevel(N0, 'A142') == 0 then
            call UnitAddAbility(N0, 'A142')
        endif
        call SetUnitAbilityLevel(N0, 'A142', ER0 + 1)
    endif
    return false
endfunction

function E41 takes nothing returns nothing
    local integer i = 1
    local unit E1I
    set ES0 = null
    loop
        exitwhen i > 5
        set E1I = playerHero[GetPlayerId(sentinelPlayers[i])]
        if E1I != null and getSpecificItem(E1I, itemId[itemIdAegisOfImmortal]) != null then
            call DisableTrigger(trigItemActions)
            call L1I("AegisOff", GetPlayerId(GetOwningPlayer(E1I)))
            call RemoveItem( getSpecificItem(E1I, itemId[itemIdAegisOfImmortal]) )
            call EnableTrigger(trigItemActions)
        endif
        set E1I = playerHero[GetPlayerId(scourgePlayers[i])]
        if E1I != null and getSpecificItem(E1I, itemId[itemIdAegisOfImmortal]) != null then
            call DisableTrigger(trigItemActions)
            call L1I("AegisOff", GetPlayerId(GetOwningPlayer(E1I)))
            call RemoveItem( getSpecificItem(E1I, itemId[itemIdAegisOfImmortal]) )
            call EnableTrigger(trigItemActions)
        endif
        set i = i + 1
    endloop
    set E1I = null
endfunction

function E51 takes string E61, string E71 returns string 
    local string s = GetObjectName('n0CA')
    set s = strReplace(s, "$team", E61)
    set s = strReplace(s, "$team", E71)
    return s
endfunction

function E81 takes nothing returns boolean 
    return GetUnitTypeId(GetDyingUnit()) == 'n00L'
endfunction

function IsHero takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true
endfunction

function E91 takes nothing returns nothing
    local location EA1 = GetRectCenter(U4)
    local real E8I
    call E41()
    set EQ0 = EQ0 + 1
    set N0 = CreateUnitAtLoc(Player(12), 'n00L', EA1, bj_UNIT_FACING)
    call E11(N0)
    call UnitAddAbility(N0, 'A142')
    call SetPlayerTechResearched(GetOwningPlayer(N0), 'R00F', ER0)
    call SetUnitAbilityLevel(N0, 'A142', ER0 + 1)
    call RemoveLocation(EA1)
    if EQ0 > 1 then
        call UnitRemoveAbility(N0, 'A0K2')
        call UnitAddAbility(N0, 'A0Q6')
        call UnitAddItem(N0, CreateItem(itemId[H60], 0, 0))
    endif
    call UnitAddItem(N0, CreateItem(itemId[itemIdAegisOfImmortal], 0, 0))
endfunction

function EB1 takes nothing returns nothing
    local timer t = CreateTimer()
    call TimerStart(t, 600, false, function E91)
    call E21()
    set ET0 = false
    if isPlayerSentinel(GetOwningPlayer(GetKillingUnit())) then
        call L1I("Roshan", 0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, E51("|c00ff0000" + GetObjectName('n065') + "|r", GetObjectName('n065')))
        call AdjustPlayerStateBJ(200, sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD)
        call AdjustPlayerStateBJ(200, sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD)
        call AdjustPlayerStateBJ(200, sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD)
        call AdjustPlayerStateBJ(200, sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD)
        call AdjustPlayerStateBJ(200, sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    endif
    if isPlayerScourge(GetOwningPlayer(GetKillingUnit())) then
        call L1I("Roshan", 1)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, E51("|c00004000" + GetObjectName('n06C') + "|r", GetObjectName('n06C')))
        call AdjustPlayerStateBJ(200, scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD)
        call AdjustPlayerStateBJ(200, scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD)
        call AdjustPlayerStateBJ(200, scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD)
        call AdjustPlayerStateBJ(200, scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD)
        call AdjustPlayerStateBJ(200, scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    endif
endfunction

function ED1 takes nothing returns nothing
    if (GetUnitTypeId(GetEnumUnit()) == 'H00J') == false then
        set FO0 = FO0 + 1
        if GetKillingUnit() != GetEnumUnit() then
            set F20 = F20 + 1
        endif
    endif
endfunction

function EE1 takes nothing returns nothing
    if (GetUnitTypeId(GetEnumUnit()) == 'H00J') == false then
        call AddHeroXP(GetEnumUnit(), F00, true)
        set FI0[GetPlayerId(GetOwningPlayer(GetEnumUnit()))] = FI0[GetPlayerId(GetOwningPlayer(GetEnumUnit()))] + F00
        if GetKillingUnit() != GetEnumUnit() then
            set F10[GetPlayerId(GetOwningPlayer(GetEnumUnit()))] = F10[GetPlayerId(GetOwningPlayer(GetEnumUnit()))] + EU0
            call SetPlayerState(GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD) + EU0)
        endif
    endif
endfunction

function EF1 takes nothing returns boolean 
    local integer FVI
    local integer EG1 = 0
    local integer EH1 = 0
    local group g
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and IsUnitIllusion(GetTriggerUnit()) == false and (GetUnitTypeId(GetTriggerUnit()) == 'H00J') == false then
        set FVI = GetHeroLevel(GetTriggerUnit())
        set F00 = 0
        set EU0 = 0
        set g = allocGroup()
        set FO0 = 0
        set F20 = 0
        call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 1000, Condition(function Y4I))
        call ForGroup(g, function ED1)
        if FO0 == 1 or FO0 == 2 then
            set EG1 = 15*FVI
        elseif FO0 == 3 then
            set EG1 = 14*FVI
        elseif FO0 == 4 then
            set EG1 = 13*FVI
        elseif FO0 == 5 then
            set EG1 = 12*FVI
        endif
        if F20 == 1 then
            set EH1 = 45 + 10*FVI
        elseif F20 == 2 then
            set EH1 = 40 + 9*FVI
        elseif F20 == 3 then
            set EH1 = 35 + 8*FVI
        elseif F20 == 4 or F20 == 5 then
            set EH1 = 30 + 7*FVI
        endif
        if easyMode then
        endif
        set F00 = EG1
        set EU0 = EH1
        call ForGroup(g, function EE1)
        call releaseGroup(g)
        set g = null
    endif
    return false
endfunction

function EZ1 takes nothing returns nothing
    local texttag t = CreateTextTag()
    local unit u = GetTriggerUnit()
    local player p = GetOwningPlayer(GetKillingUnit())
    call SetTextTagText(t, "$", 0.027)
    call SetTextTagPosUnit(t, u, 0)
    call SetTextTagColorBJ(t, DI0[GetPlayerId(p)], D10[GetPlayerId(p)], DO0[GetPlayerId(p)], 15)
    call SetTextTagVelocity(t, 0, 0.035)
    call SetTextTagFadepoint(t, 3)
    call SetTextTagLifespan(t, 1.5)
    call SetTextTagPermanent(t, false)
    call SetTextTagVisibility(t, false)
    if GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0 then
        call SetTextTagVisibility(t, true)
    endif
    set t = null
    set u = null
    set p = null
endfunction

function EV1 takes unit u, player p returns nothing
    local texttag t = CreateTextTag()
    call SetTextTagText(t, "!", 0.03)
    call SetTextTagPosUnit(t, u, 0)
    call SetTextTagColorBJ(t, DI0[GetPlayerId(p)], D10[GetPlayerId(p)], DO0[GetPlayerId(p)], 15)
    call SetTextTagVelocity(t, 0, 0.035)
    call SetTextTagFadepoint(t, 3)
    call SetTextTagLifespan(t, 1.5)
    call SetTextTagPermanent(t, false)
    call SetTextTagVisibility(t, false)
    if N10[GetPlayerId(GetLocalPlayer())] == true or (E2 and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0)) then
        call SetTextTagVisibility(t, true)
    endif
    set t = null
endfunction

function EW1 takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_MELEE_ATTACKER) == true then
        call AddHeroXP(GetEnumUnit(), IK/QJ, true)
    else 
        call AddHeroXP(GetEnumUnit(), UJ/QJ, true)
    endif
endfunction

function EX1 takes nothing returns nothing
    local group g = allocGroup()
    local integer EY1
    local integer EJ1 = 18
    local integer EK1 = EJ1*2
    call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 1000, Condition(function Y4I))
    set EY1 = WII(g)
    set QJ = EY1
    set UJ = EJ1
    set IK = EK1
    call ForGroup(g, function EW1)
    call releaseGroup(g)
    call EV1(GetDyingUnit(), GetOwningPlayer(GetKillingUnit()))
    set g = null
endfunction

function EL1 takes nothing returns boolean 
    if IsUnitAlly(GetKillingUnit(), GetOwningPlayer(GetTriggerUnit())) == true then
        call EX1()
    else 
        if E2 and isPlayer(GetOwningPlayer(GetKillingUnit())) then
            call EZ1()
        endif
    endif
    return false
endfunction

function EN1 takes player LBI, player LCI returns string 
    local string s = GetObjectName('n0AP')
    set s = strReplace(s, "$dead", playerName[GetPlayerId(LBI)])
    set s = strReplace(s, "$killer", playerColor[GetPlayerId(LCI)] + playerName[GetPlayerId(LCI)] + "|r")
    return s
endfunction

function ES1 takes nothing returns nothing
    if GII(GetTriggerUnit()) and IsUnitIllusion(GetTriggerUnit()) == false then
        call L1I("Courier" + I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call dispTimedTextToForce(forceAllPlayers, 10.00, EN1(GetOwningPlayer(GetTriggerUnit()), GetOwningPlayer(GetKillingUnit())))
    endif
endfunction

function ET1 takes nothing returns nothing
    local integer id = GetUnitTypeId(GetTriggerUnit())
    if id == 'e00R' or id == 'e011' or id == 'e00S' or id == 'e019' or id == 'u00M' or id == 'u00D' or id == 'u00N' or id == 'u00T' then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
            set X[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = X[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
            call dispTimedTextToForce(forceAllPlayers, 10, playerColor[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + playerName[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + "|r " + GetObjectName('n04P') + ".")
        else 
            call dispTimedTextToForce(forceAllPlayers, 10, playerColor[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + playerName[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + "|r " + GetObjectName('n0EN') + ".")
        endif
    endif
endfunction

function EQ1 takes integer i returns boolean 
    return i == 'I006' or i == 'I008' or i == 'I00J' or i == 'I00K' or i == 'I007'
endfunction

function EU1 takes nothing returns nothing
    if GetWidgetLife(GetEnumItem()) > 0 and EQ1(GetItemTypeId(GetEnumItem())) then
        set ZK = GetEnumItem()
    endif
endfunction

function F01 takes nothing returns boolean 
    local boolean FI1 = false
    local boolean F11 = false
    local real x
    local real y
    local real x1
    local real y1
    local real x2
    local real y2
    local integer FO1
    if GetRandomInt(1, 2) == 1 then
        set x = GetLocationX(G1)
        set y = GetLocationY(G1)
    else 
        set x = GetLocationX(H1)
        set y = GetLocationY(H1)
    endif
    set x1 = GetLocationX(G1)
    set y1 = GetLocationY(G1)
    set x2 = GetLocationX(H1)
    set y2 = GetLocationY(H1)
    set ZK = null
    call EnumItemsInRect(Z4, Condition(function returnTrue1), function EU1)
    if ZK == null then
        set FI1 = true
    endif
    set ZK = null
    call EnumItemsInRect(F4, Condition(function returnTrue1), function EU1)
    if ZK == null then
        set F11 = true
    endif
    if GL == false then
        if FI1 and F11 then
            set FO1 = GetRandomInt(1, 5)
            if FO1 == 1 then
                call CreateItem('I007', x, y)
            elseif FO1 == 2 then
                call CreateItem('I006', x, y)
            elseif FO1 == 3 then
                call CreateItem('I00K', x, y)
            elseif FO1 == 4 then
                call CreateItem('I008', x, y)
            elseif FO1 == 5 then
                call CreateItem('I00J', x, y)
            endif
        endif
    else 
        if FI1 then
            set FO1 = GetRandomInt(1, 5)
            if FO1 == 1 then
                call CreateItem('I007', x1, y1)
            elseif FO1 == 2 then
                call CreateItem('I006', x1, y1)
            elseif FO1 == 3 then
                call CreateItem('I00K', x1, y1)
            elseif FO1 == 4 then
                call CreateItem('I008', x1, y1)
            elseif FO1 == 5 then
                call CreateItem('I00J', x1, y1)
            endif
        endif
        if F11 then
            set FO1 = GetRandomInt(1, 5)
            if FO1 == 1 then
                call CreateItem('I007', x2, y2)
            elseif FO1 == 2 then
                call CreateItem('I006', x2, y2)
            elseif FO1 == 3 then
                call CreateItem('I00K', x2, y2)
            elseif FO1 == 4 then
                call CreateItem('I008', x2, y2)
            elseif FO1 == 5 then
                call CreateItem('I00J', x2, y2)
            endif
        endif
    endif
    return false
endfunction

function F31 takes nothing returns nothing
    set XD0 = XD0 + 1
    set X70[XD0] = G50
    set X80[XD0] = GH0
    set XC0[XD0] = HA0
    set XD0 = XD0 + 1
    set X70[XD0] = G70
    set X80[XD0] = FS0
    set X90[XD0] = VQ0
    set XC0[XD0] = HB0
    set XD0 = XD0 + 1
    set X70[XD0] = FV0
    set X80[XD0] = FS0
    set X90[XD0] = VU0
    set XC0[XD0] = HC0
    set XD0 = XD0 + 1
    set X70[XD0] = G60
    set X80[XD0] = GB0
    set XC0[XD0] = HD0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = W00
    set XC0[XD0] = HF0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = FD0
    set X90[XD0] = FC0
    set XC0[XD0] = HG0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = FF0
    set X90[XD0] = FC0
    set XC0[XD0] = HH0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = G80
    set X90[XD0] = FC0
    set XC0[XD0] = HZ0
    set XD0 = XD0 + 1
    set X70[XD0] = FC0
    set X80[XD0] = W10
    set XC0[XD0] = HV0
    set XD0 = XD0 + 1
    set X70[XD0] = G40
    set X80[XD0] = G80
    set X90[XD0] = GB0
    set XC0[XD0] = HW0
    set XD0 = XD0 + 1
    set X70[XD0] = FE0
    set X80[XD0] = FK0
    set X90[XD0] = WO0
    set XC0[XD0] = HX0
    set XD0 = XD0 + 1
    set X70[XD0] = FE0
    set X80[XD0] = GA0
    set X90[XD0] = W20
    set XC0[XD0] = HY0
    set XD0 = XD0 + 1
    set X70[XD0] = FE0
    set X80[XD0] = FP0
    set X90[XD0] = W30
    set XC0[XD0] = HJ0
    set XD0 = XD0 + 1
    set X70[XD0] = FG0
    set X80[XD0] = FD0
    set X90[XD0] = W40
    set XC0[XD0] = HK0
    set XD0 = XD0 + 1
    set X70[XD0] = G10
    set X80[XD0] = FF0
    set X90[XD0] = W50
    set XC0[XD0] = HL0
    set XD0 = XD0 + 1
    set X70[XD0] = GZ0
    set X80[XD0] = FF0
    set X90[XD0] = W60
    set XC0[XD0] = HM0
    set XD0 = XD0 + 1
    set X70[XD0] = FZ0
    set X80[XD0] = FV0
    set X90[XD0] = G80
    set XC0[XD0] = HS0
    set XD0 = XD0 + 1
    set X70[XD0] = G00
    set X80[XD0] = FC0
    set X90[XD0] = W70
    set XC0[XD0] = HT0
    set XD0 = XD0 + 1
    set X70[XD0] = FG0
    set X80[XD0] = FG0
    set X90[XD0] = G80
    set XA0[XD0] = W80
    set XC0[XD0] = HR0
    set XD0 = XD0 + 1
    set X70[XD0] = HR0
    set X80[XD0] = W80
    set XC0[XD0] = HP0
    set XD0 = XD0 + 1
    set X70[XD0] = HQ0
    set X80[XD0] = W80
    set XC0[XD0] = HP0
    set XD0 = XD0 + 1
    set X70[XD0] = FM0
    set X80[XD0] = FQ0
    set XC0[XD0] = Z00
    set XD0 = XD0 + 1
    set X70[XD0] = FQ0
    set X80[XD0] = W90
    set XC0[XD0] = Z10
    set XD0 = XD0 + 1
    set X70[XD0] = GB0
    set X80[XD0] = GC0
    set X90[XD0] = GH0
    set XA0[XD0] = WA0
    set XC0[XD0] = ZO0
    set XD0 = XD0 + 1
    set X70[XD0] = G30
    set X80[XD0] = FJ0
    set X90[XD0] = GG0
    set XC0[XD0] = Z20
    set XD0 = XD0 + 1
    set X70[XD0] = HB0
    set X80[XD0] = HC0
    set X90[XD0] = WB0
    set XC0[XD0] = Z30
    set XD0 = XD0 + 1
    set X70[XD0] = HL0
    set X80[XD0] = HK0
    set XC0[XD0] = Z40
    set XD0 = XD0 + 1
    set X70[XD0] = G00
    set X80[XD0] = G00
    set X90[XD0] = WD0
    set XC0[XD0] = Z50
    set XD0 = XD0 + 1
    set X70[XD0] = HA0
    set X80[XD0] = FZ0
    set X90[XD0] = FW0
    set XC0[XD0] = Z60
    set XD0 = XD0 + 1
    set X70[XD0] = FH0
    set X80[XD0] = FZ0
    set X90[XD0] = WE0
    set XC0[XD0] = Z70
    set XD0 = XD0 + 1
    set X70[XD0] = G00
    set X80[XD0] = G10
    set X90[XD0] = WF0
    set XC0[XD0] = Z80
    set XD0 = XD0 + 1
    set X70[XD0] = HK0
    set X80[XD0] = GF0
    set X90[XD0] = WG0
    set XC0[XD0] = ZF0
    set XD0 = XD0 + 1
    set X70[XD0] = G40
    set X80[XD0] = FW0
    set X90[XD0] = WH0
    set XC0[XD0] = ZG0
    set XD0 = XD0 + 1
    set X70[XD0] = GC0
    set X80[XD0] = FH0
    set X90[XD0] = WZ0
    set XC0[XD0] = ZH0
    set XD0 = XD0 + 1
    set X70[XD0] = ZH0
    set X80[XD0] = WZ0
    set XC0[XD0] = ZZ0
    set XD0 = XD0 + 1
    set X70[XD0] = ZZ0
    set X80[XD0] = WZ0
    set XC0[XD0] = ZV0
    set XD0 = XD0 + 1
    set X70[XD0] = ZV0
    set X80[XD0] = WZ0
    set XC0[XD0] = ZW0
    set XD0 = XD0 + 1
    set X70[XD0] = ZW0
    set X80[XD0] = WZ0
    set XC0[XD0] = ZX0
    set XD0 = XD0 + 1
    set X70[XD0] = GC0
    set X80[XD0] = FF0
    set X90[XD0] = WV0
    set XC0[XD0] = ZY0
    set XD0 = XD0 + 1
    set X70[XD0] = ZY0
    set X80[XD0] = WV0
    set XC0[XD0] = ZJ0
    set XD0 = XD0 + 1
    set X70[XD0] = ZJ0
    set X80[XD0] = WV0
    set XC0[XD0] = ZK0
    set XD0 = XD0 + 1
    set X70[XD0] = GF0
    set X80[XD0] = HA0
    set XA0[XD0] = WW0
    set XC0[XD0] = ZL0
    set XD0 = XD0 + 1
    set X70[XD0] = FX0
    set X80[XD0] = G90
    set XC0[XD0] = ZN0
    set XD0 = XD0 + 1
    set X70[XD0] = Z70
    set X80[XD0] = FX0
    set X90[XD0] = WX0
    set XC0[XD0] = ZT0
    set XD0 = XD0 + 1
    set X70[XD0] = FX0
    set X80[XD0] = GZ0
    set X90[XD0] = GZ0
    set XC0[XD0] = ZR0
    set XD0 = XD0 + 1
    set X70[XD0] = G90
    set X80[XD0] = WY0
    set XC0[XD0] = ZQ0
    set XD0 = XD0 + 1
    set X70[XD0] = FU0
    set X80[XD0] = GG0
    set X90[XD0] = WJ0
    set XC0[XD0] = V00
    set XD0 = XD0 + 1
    set X70[XD0] = FU0
    set X80[XD0] = Z00
    set X90[XD0] = WK0
    set XC0[XD0] = V10
    set XD0 = XD0 + 1
    set X70[XD0] = FU0
    set X80[XD0] = ZI0
    set X90[XD0] = WK0
    set XC0[XD0] = V10
    set XD0 = XD0 + 1
    set X70[XD0] = GF0
    set X80[XD0] = GF0
    set X90[XD0] = G30
    set XA0[XD0] = WL0
    set XC0[XD0] = VO0
    set XD0 = XD0 + 1
    set X70[XD0] = FY0
    set X80[XD0] = G40
    set X90[XD0] = GQ0
    set XC0[XD0] = V30
    set XD0 = XD0 + 1
    set X70[XD0] = FG0
    set X80[XD0] = G10
    set X90[XD0] = G30
    set XA0[XD0] = XO0
    set XC0[XD0] = XE0
    set XD0 = XD0 + 1
    set X70[XD0] = FG0
    set X80[XD0] = GC0
    set X90[XD0] = G30
    set XA0[XD0] = XO0
    set XC0[XD0] = XE0
    set XD0 = XD0 + 1
    set X70[XD0] = GC0
    set X80[XD0] = G10
    set X90[XD0] = G30
    set XA0[XD0] = XO0
    set XC0[XD0] = XE0
    set XD0 = XD0 + 1
    set X70[XD0] = HA0
    set X80[XD0] = HW0
    set X90[XD0] = WN0
    set XC0[XD0] = V40
    set XD0 = XD0 + 1
    set X70[XD0] = GF0
    set X80[XD0] = GI0
    set X90[XD0] = GH0
    set XC0[XD0] = V50
    set XD0 = XD0 + 1
    set X70[XD0] = GG0
    set X80[XD0] = G50
    set X90[XD0] = GD0
    set XC0[XD0] = V60
    set XD0 = XD0 + 1
    set X70[XD0] = GG0
    set X80[XD0] = G50
    set X90[XD0] = GE0
    set XC0[XD0] = V60
    set XD0 = XD0 + 1
    set X70[XD0] = FJ0
    set X80[XD0] = G60
    set X90[XD0] = WS0
    set XC0[XD0] = V80
    set XD0 = XD0 + 1
    set X70[XD0] = FN0
    set X80[XD0] = HT0
    set X90[XD0] = X20
    set XC0[XD0] = V90
    set XD0 = XD0 + 1
    set X70[XD0] = H50
    set X90[XD0] = WT0
    set XC0[XD0] = VA0
    set XD0 = XD0 + 1
    set X70[XD0] = G70
    set X80[XD0] = HD0
    set X90[XD0] = FQ0
    set XA0[XD0] = WR0
    set XC0[XD0] = VB0
    set XD0 = XD0 + 1
    set X70[XD0] = G70
    set X80[XD0] = HE0
    set X90[XD0] = FQ0
    set XA0[XD0] = WR0
    set XC0[XD0] = VB0
    set XD0 = XD0 + 1
    set X70[XD0] = FN0
    set X80[XD0] = G20
    set X90[XD0] = FV0
    set XA0[XD0] = WP0
    set XC0[XD0] = itemIdAssaultCuirass
    set XD0 = XD0 + 1
    set X70[XD0] = Z20
    set X80[XD0] = HA0
    set XC0[XD0] = itemIdBloodstone
    set XD0 = XD0 + 1
    set X70[XD0] = G70
    set X80[XD0] = G70
    set X90[XD0] = FM0
    set XA0[XD0] = GO0
    set XC0[XD0] = VE0
    set XD0 = XD0 + 1
    set X70[XD0] = G50
    set X80[XD0] = FM0
    set X90[XD0] = GO0
    set XC0[XD0] = VE0
    set XD0 = XD0 + 1
    set X70[XD0] = FC0
    set X80[XD0] = FM0
    set X90[XD0] = FH0
    set XA0[XD0] = WQ0
    set XC0[XD0] = VZ0
    set XD0 = XD0 + 1
    set X70[XD0] = GI0
    set X80[XD0] = G20
    set X90[XD0] = WU0
    set XC0[XD0] = VV0
    set XD0 = XD0 + 1
    set X70[XD0] = HW0
    set X80[XD0] = HW0
    set X90[XD0] = HW0
    set XC0[XD0] = VX0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = FH0
    set X90[XD0] = FH0
    set XC0[XD0] = itemIdPhaseBoots
    set XD0 = XD0 + 1
    set X70[XD0] = GT0
    set X80[XD0] = FS0
    set X90[XD0] = FS0
    set XA0[XD0] = FS0
    set XB0[XD0] = X00
    set XC0[XD0] = VJ0
    set XD0 = XD0 + 1
    set X70[XD0] = G40
    set X80[XD0] = GC0
    set X90[XD0] = XI0
    set XC0[XD0] = VK0
    set XD0 = XD0 + 1
    set X70[XD0] = VE0
    set X80[XD0] = HB0
    set X90[XD0] = X10
    set XC0[XD0] = VL0
    set XD0 = XD0 + 1
    set X70[XD0] = GD0
    set X80[XD0] = GA0
    set X90[XD0] = GA0
    set XC0[XD0] = VM0
    set XD0 = XD0 + 1
    set X70[XD0] = GE0
    set X80[XD0] = GA0
    set X90[XD0] = GA0
    set XC0[XD0] = VM0
    set XD0 = XD0 + 1
    set X70[XD0] = GB0
    set X80[XD0] = FK0
    set X90[XD0] = FK0
    set XA0[XD0] = X30
    set XC0[XD0] = VT0
    set XD0 = XD0 + 1
    set X70[XD0] = GB0
    set X80[XD0] = G70
    set X90[XD0] = X40
    set XC0[XD0] = VP0
    set XD0 = XD0 + 1
    set X70[XD0] = FY0
    set X80[XD0] = VS0
    set X90[XD0] = HY0
    set XC0[XD0] = GU0
endfunction

function InitTrig_Recipe_Definitions takes nothing returns nothing
    call F31()
endfunction

function F41 takes nothing returns nothing
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AZ'
    set itemId[FA0] = 'I011'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0EY'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00F'
    set itemId[FA0] = 'I00D'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0EZ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I018'
    set itemId[FA0] = 'I009'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F0'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I019'
    set itemId[FA0] = 'I005'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F6'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I01A'
    set itemId[FA0] = 'I00G'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F1'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I01B'
    set itemId[FA0] = 'I004'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F2'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XW0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I01H'
    set itemId[FA0] = 'I003'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F3'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XX0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I01I'
    set itemId[FA0] = 'I002'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F5'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XY0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02K'
    set itemId[FA0] = 'I001'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F4'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XJ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02L'
    set itemId[FA0] = 'I00I'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XK0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B2'
    set itemId[FA0] = 'I00H'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XM0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B3'
    set itemId[FA0] = 'I00P'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XN0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B4'
    set itemId[FA0] = 'I00U'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F7'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XS0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B7'
    set itemId[FA0] = 'I000'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FD'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XT0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B6'
    set itemId[FA0] = 'I016'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FC'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XR0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B5'
    set itemId[FA0] = 'I017'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FB'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XP0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B9'
    set itemId[FA0] = 'I00O'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XQ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J5'
    set itemId[FA0] = 'I0IT'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IJ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XU0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IV'
    set itemId[FA0] = 'I0IU'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0I9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y00 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IW'
    set itemId[FA0] = 'I0IS'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0II'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YI0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IX'
    set itemId[FA0] = 'I0IR'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y10 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IY'
    set itemId[FA0] = 'I0IQ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IH'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YO0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IZ'
    set itemId[FA0] = 'I0IK'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IG'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y20 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J0'
    set itemId[FA0] = 'I0IL'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IF'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y30 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J1'
    set itemId[FA0] = 'I0IM'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y40 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J2'
    set itemId[FA0] = 'I0IP'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0ID'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y50 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J3'
    set itemId[FA0] = 'I0IO'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IC'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y60 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J4'
    set itemId[FA0] = 'I0IN'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IB'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y70 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0I6'
    set itemId[FA0] = 'I0I7'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0I8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y80 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0JZ'
    set itemId[FA0] = 'I0JS'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JR'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y90 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K0'
    set itemId[FA0] = 'I0JT'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JL'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YA0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K1'
    set itemId[FA0] = 'I0JU'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JM'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YB0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K2'
    set itemId[FA0] = 'I0JW'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JN'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YC0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K3'
    set itemId[FA0] = 'I0JV'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JQ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YD0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K4'
    set itemId[FA0] = 'I0JY'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JP'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YE0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K5'
    set itemId[FA0] = 'I0JX'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JO'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0KI'
    set itemId[FA0] = 'I0KH'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0KJ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0L4'
    set itemId[FA0] = 'I0L5'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0L8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XL0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0L3'
    set itemId[FA0] = 'I0L0'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0L9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0L2'
    set itemId[FA0] = 'I0L7'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0LU'
    set itemId[FA0] = 'I0LV'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LW'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YV0 = FA0
endfunction

function InitTrig_Aghanims_Scepter_Definitions takes nothing returns nothing
    call F41()
endfunction

function F51 takes unit GCI returns nothing
    local real x
    local real y
    if isPlayerSentinel(GetOwningPlayer(GCI)) then
        set x = GetRectCenterX(B4)
        set y = GetRectCenterY(B4)
    else 
        set x = GetRectCenterX(R3)
        set y = GetRectCenterY(R3)
    endif
    call IssuePointOrder(GCI, "move", x, y)
endfunction

function F61 takes nothing returns nothing
    local item J6I = GetEnumItem()
    if GetWidgetLife(J6I) > 0 and GetItemPlayer(J6I) == YL0 and YS0 == 0 then
        set YS0 = YS0 + 1
        call UnitAddItem(YM0, J6I)
    endif
    set J6I = null
endfunction

function F71 takes nothing returns nothing
    local item J6I = GetEnumItem()
    if GetWidgetLife(J6I) > 0 and GetItemPlayer(J6I) == YL0 then
        call UnitAddItem(YN0, J6I)
    endif
    set J6I = null
endfunction

function F81 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit F91 = LoadUnitHandle(hashTable, DMI, 92)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local rect r = Rect(x - 300, y - 300, x + 300, y + 300)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        set YL0 = p
        set YM0 = GCI
        set YN0 = F91
        call EnumItemsInRect(r, Condition(function returnTrue1), function F71)
    else 
        if GetTriggerEvalCount(t) > 9 then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            set YL0 = p
            set YM0 = GCI
            set YN0 = F91
            call EnumItemsInRect(r, Condition(function returnTrue1), function F71)
        else 
            set YL0 = p
            set YM0 = GCI
            set YS0 = 0
            call EnumItemsInRect(r, Condition(function returnTrue1), function F61)
        endif
    endif
    call RemoveRect(r)
    set t = null
    set GCI = null
    set F91 = null
    set r = null
    return false
endfunction

function FA1 takes unit F91, unit GCI returns nothing
    local player p = GetOwningPlayer(GCI)
    local integer i
    local item J6I
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real x = GetUnitX(F91)
    local real y = GetUnitY(F91)
    local integer JMI
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 0.01, true)
    call TriggerAddCondition(t, Condition(function F81))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 92, F91)
    call SavePlayerHandle(hashTable, DMI, 54, p)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    set i = 0
    loop
        exitwhen i > 5
        set J6I = UnitItemInSlot(F91, i)
        set JMI = JTI(J6I)
        if J6I != null and GetItemPlayer(J6I) == p and JUI(J6I) == false and (JMI != GK0 and JMI != GL0 and JMI != GM0 and JMI != GN0 and JMI != GS0) then
            call UnitRemoveItem(F91, J6I)
        endif
        set i = i + 1
    endloop
    set t = null
    set J6I = null
endfunction

function FB1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit F91 = LoadUnitHandle(hashTable, DMI, 92)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real x
    local real y
    local integer i
    local player p = GetOwningPlayer(GCI)
    local item J6I
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if GetTriggerUnit() == GCI then
            call F51(F91)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER then
        if GetIssuedOrderId() != 852100 and GetIssuedOrderId() != 852090 then
            call abandonTrigger(t)
        endif
    else 
        if getUnitDistance(F91, GCI) < 150 then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call FA1(F91, GCI)
            call F51(F91)
        endif
    endif
    set t = null
    set F91 = null
    set GCI = null
    set J6I = null
    return false
endfunction

function FC1 takes unit E1I returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit F91 = GetSellingUnit()
    call IssueTargetOrder(F91, "move", E1I)
    call TriggerRegisterUnitEvent(t, F91, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, F91, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, F91, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, F91, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddCondition(t, Condition(function FB1))
    call SaveUnitHandle(hashTable, DMI, 2, E1I)
    call SaveUnitHandle(hashTable, DMI, 92, F91)
    set t = null
    set F91 = null
endfunction

function FD1 takes unit u returns string 
    local string s = GetObjectName('n0FO')
    set s = strReplace(s, "$hero", playerColor[GetPlayerId(GetOwningPlayer(u))] + GetUnitName(u) + "|r")
    return s
endfunction

function FE1 takes unit GCI returns boolean 
    if E2 and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 15, FD1(playerHero[GetPlayerId(GetOwningPlayer(GCI))]))
    elseif isPlayerSentinel(GetOwningPlayer(GetTriggerUnit())) then
        call dispTimedTextToForce(BO, 15, FD1(playerHero[GetPlayerId(GetOwningPlayer(GCI))]))
    else 
        call dispTimedTextToForce(AO, 15, FD1(playerHero[GetPlayerId(GetOwningPlayer(GCI))]))
    endif
    return false
endfunction

function FF1 takes nothing returns nothing
    if GetUnitTypeId(GetSoldUnit()) == 'h085' then
        if playerHero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] != null and isUnitUnavailable(playerHero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]) == false then
            call FC1(playerHero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
        endif
        call KillUnit(GetSoldUnit())
    elseif LJI(GetUnitTypeId(GetSoldUnit())) then
        if playerHero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] != null then
            if isUnitUnavailable(playerHero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]) == true and GetOwningPlayer(GetSoldUnit()) == GetOwningPlayer(GetSellingUnit()) then
                call FE1(playerHero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])
                call ReviveHero(playerHero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))], GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), true)
                call SetUnitState(playerHero[GetPlayerId(GetOwningPlayer(GetSoldUnit()))], UNIT_STATE_MANA, 10000)
            else 
                call SetPlayerState(GetOwningPlayer(GetSoldUnit()), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetOwningPlayer(GetSoldUnit()), PLAYER_STATE_RESOURCE_GOLD) + HS[LKI(GetHeroLevel(playerHero[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])
            endif
        endif
        call KillUnit(GetSoldUnit())
    endif
endfunction

function FH1 takes player COI, unit E4I, integer FZ1, integer i0, integer i1, integer i2, integer i3, integer i4, integer i5 returns nothing
    local item J6I
    call DisableTrigger(J30)
    if i0 > 0 then
        set J6I = UnitItemInSlot(E4I, 0)
        call K6I(J6I)
    endif
    if i1 > 0 then
        set J6I = UnitItemInSlot(E4I, 1)
        call K6I(J6I)
    endif
    if i2 > 0 then
        set J6I = UnitItemInSlot(E4I, 2)
        call K6I(J6I)
    endif
    if i3 > 0 then
        set J6I = UnitItemInSlot(E4I, 3)
        call K6I(J6I)
    endif
    if i4 > 0 then
        set J6I = UnitItemInSlot(E4I, 4)
        call K6I(J6I)
    endif
    if i5 > 0 then
        set J6I = UnitItemInSlot(E4I, 5)
        call K6I(J6I)
    endif
    set J6I = UnitAddItemById(E4I, itemId[FZ1])
    call SetItemPlayer(J6I, COI, true)
    call SetItemUserData(J6I, 0)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl", E4I, "origin") )
    call EnableTrigger(J30)
    set J6I = null
endfunction

function FV1 takes player p, unit E4I, integer JMI returns boolean 
    local integer i
    local integer x
    local integer y
    local integer array FW1
    local boolean array FX1
    local integer array FY1
    local boolean array FJ1
    local boolean array KQI
    local integer array KJI
    local player COI
    local integer FK1 = 1
    local integer k
    local player array FL1
    local integer m
    local item FM1
    local item FN1
    local item FS1
    local item FT1
    local item FR1
    local item FP1
    local player FQ1
    local player FU1
    local player G01
    local player GI1
    local player G11
    local player GO1
    local integer G21
    local integer G31
    local integer G41
    local integer G51
    local integer G61
    local integer G71
    local integer G81
    local integer G91
    local integer GA1
    local integer GB1
    local integer GC1
    local integer GD1
    local boolean GE1 = false
    local boolean GF1 = true
    set FM1 = UnitItemInSlot(E4I, 0)
    set FN1 = UnitItemInSlot(E4I, 1)
    set FS1 = UnitItemInSlot(E4I, 2)
    set FT1 = UnitItemInSlot(E4I, 3)
    set FR1 = UnitItemInSlot(E4I, 4)
    set FP1 = UnitItemInSlot(E4I, 5)
    set FQ1 = GetItemPlayer(FM1)
    set FU1 = GetItemPlayer(FN1)
    set G01 = GetItemPlayer(FS1)
    set GI1 = GetItemPlayer(FT1)
    set G11 = GetItemPlayer(FR1)
    set GO1 = GetItemPlayer(FP1)
    set G21 = GetItemUserData(FM1)
    set G31 = GetItemUserData(FN1)
    set G41 = GetItemUserData(FS1)
    set G51 = GetItemUserData(FT1)
    set G61 = GetItemUserData(FR1)
    set G71 = GetItemUserData(FP1)
    set G81 = JTI(FM1)
    set G91 = JTI(FN1)
    set GA1 = JTI(FS1)
    set GB1 = JTI(FT1)
    set GC1 = JTI(FR1)
    set GD1 = JTI(FP1)
    if (GetPlayerSlotState(p) == PLAYER_SLOT_STATE_LEFT) then
        set FK1 = 5
        set GE1 = true
    endif
    set FL1[1] = p
    if GE1 then
        set k = 2
        set m = 1
        loop
            exitwhen k > FK1
            if isPlayerSentinel(p) then
                if p != sentinelPlayers[m] then
                    set FL1[k] = sentinelPlayers[m]
                    set k = k + 1
                endif
            else 
                if p != scourgePlayers[m] then
                    set FL1[k] = scourgePlayers[m]
                    set k = k + 1
                endif
            endif
            set m = m + 1
        endloop
    endif
    set k = 1
    loop
        exitwhen k > FK1
        set COI = FL1[k]
        set i = 0
        if FM1 != null and G21 == 1 and (FQ1 == COI or HL or (GetPlayerSlotState(FQ1) == PLAYER_SLOT_STATE_LEFT) == true) then
            set FW1[i + 1] = G81
        else 
            set FW1[i + 1] = 0
        endif
        set i = 1
        if FN1 != null and G31 == 1 and (FU1 == COI or HL or (GetPlayerSlotState(FU1) == PLAYER_SLOT_STATE_LEFT) == true) then
            set FW1[i + 1] = G91
        else 
            set FW1[i + 1] = 0
        endif
        set i = 2
        if FS1 != null and G41 == 1 and (G01 == COI or HL or (GetPlayerSlotState(G01) == PLAYER_SLOT_STATE_LEFT) == true) then
            set FW1[i + 1] = GA1
        else 
            set FW1[i + 1] = 0
        endif
        set i = 3
        if FT1 != null and G51 == 1 and (GI1 == COI or HL or (GetPlayerSlotState(GI1) == PLAYER_SLOT_STATE_LEFT) == true) then
            set FW1[i + 1] = GB1
        else 
            set FW1[i + 1] = 0
        endif
        set i = 4
        if FR1 != null and G61 == 1 and (G11 == COI or HL or (GetPlayerSlotState(G11) == PLAYER_SLOT_STATE_LEFT) == true) then
            set FW1[i + 1] = GC1
        else 
            set FW1[i + 1] = 0
        endif
        set i = 5
        if FP1 != null and G71 == 1 and (GO1 == COI or HL or (GetPlayerSlotState(GO1) == PLAYER_SLOT_STATE_LEFT) == true) then
            set FW1[i + 1] = GD1
        else 
            set FW1[i + 1] = 0
        endif
        set FW1[0] = JMI
        set i = 1
        loop
            exitwhen i > XD0
            set FY1[0] = X70[i]
            set FY1[1] = X80[i]
            set FY1[2] = X90[i]
            set FY1[3] = XA0[i]
            set FY1[4] = XB0[i]
            if GF1 then
                set FJ1[0] = true
                set FJ1[1] = true
                set FJ1[2] = true
                set FJ1[3] = true
                set FJ1[4] = true
                set FJ1[5] = true
                set FJ1[6] = true
                set FX1[0] = true
                set FX1[1] = true
                set FX1[2] = true
                set FX1[3] = true
                set FX1[4] = true
                set FX1[5] = true
                set FX1[6] = true
                set KJI[0] = 0
                set KJI[1] = 0
                set KJI[2] = 0
                set KJI[3] = 0
                set KJI[4] = 0
                set KJI[5] = 0
                set KJI[6] = 0
                set GF1 = false
            endif
            set KQI[0] = false
            set KQI[1] = false
            set KQI[2] = false
            set KQI[3] = false
            set KQI[4] = false
            set x = 0
            loop
                exitwhen x == 5
                if FY1[x] == 0 then
                    set KQI[x] = true
                else 
                    set y = 0
                    loop
                        exitwhen y == 7
                        if FW1[y] == FY1[x] and FX1[y] and FJ1[x] then
                            set FX1[y] = false
                            set FJ1[x] = false
                            set KQI[x] = true
                            set KJI[y] = 1
                            set y = 7
                            set GF1 = true
                        else 
                            set y = y + 1
                        endif
                    endloop
                endif
                if KQI[x] == true then
                    set x = x + 1
                else 
                    set x = 5
                endif
            endloop
            if KQI[0] and KQI[1] and KQI[2] and KQI[3] and KQI[4] then
                call FH1(COI, E4I, XC0[i], KJI[1], KJI[2], KJI[3], KJI[4], KJI[5], KJI[6])
                set i = XD0 + 2
            else 
                set i = i + 1
            endif
        endloop
        set JK = KJI[0] == 1
        if i == (XD0 + 2) then
            set FM1 = null
            set FN1 = null
            set FS1 = null
            set FT1 = null
            set FR1 = null
            set FP1 = null
            return true
        endif
        set k = k + 1
    endloop
    set FM1 = null
    set FN1 = null
    set FS1 = null
    set FT1 = null
    set FR1 = null
    set FP1 = null
    return false
endfunction

function GG1 takes player COI, unit E4I, integer JMI returns boolean 
    local integer i = 1
    local boolean KJI
    set JK = false
    set KJI = FV1(COI, E4I, JMI)
    return KJI
endfunction

function GH1 takes nothing returns boolean 
    if IsUnitAlly(GetFilterUnit(), GetOwningPlayer(myUnit)) == true and GetUnitAbilityLevel(GetFilterUnit(), 'Aloc') == 0 and UnitInventorySize(GetFilterUnit()) > 1 and GetUnitTypeId(GetFilterUnit()) != 'ncop' and GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()), GetOwningPlayer(myUnit), ALLIANCE_SHARED_CONTROL) and GetOwningPlayer(myUnit) != GetOwningPlayer(GetFilterUnit()) and IsUnitIllusion(GetFilterUnit()) == false and isUnitUnavailable(GetFilterUnit()) == false then
        if GII(GetFilterUnit()) == true then
            set QJ = QJ + 1
            set GK = GetFilterUnit()
        endif
    endif
    return false
endfunction

function GZ1 takes nothing returns boolean 
    if IsUnitAlly(GetFilterUnit(), GetOwningPlayer(myUnit)) == true and GetUnitAbilityLevel(GetFilterUnit(), 'Aloc') == 0 and UnitInventorySize(GetFilterUnit()) > 1 and GetUnitTypeId(GetFilterUnit()) != 'ncop' and IsUnitIllusion(GetFilterUnit()) == false and isUnitUnavailable(GetFilterUnit()) == false then
        if GetOwningPlayer(myUnit) == GetOwningPlayer(GetFilterUnit()) then
            if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true then
                if GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 then
                    set GK = GetFilterUnit()
                endif
            elseif IsUnitType(GK, UNIT_TYPE_HERO) == false then
                set GK = GetFilterUnit()
            endif
        endif
    endif
    return false
endfunction

function GV1 takes unit E4I, integer GW1 returns unit 
    local group g = allocGroup()
    set myUnit = E4I
    set GK = null
    call GroupEnumUnitsInRange(g, GetUnitX(HK), GetUnitY(HK), 1300 + GW1, Condition(function GZ1))
    if GK == null then
        set QJ = 0
        call releaseGroup(g)
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, GetUnitX(HK), GetUnitY(HK), 1100 + GW1, Condition(function GH1))
        if QJ > 1 then
            set GK = null
        endif
    endif
    call releaseGroup(g)
    set g = null
    return GK
endfunction

function GX1 takes player COI, unit E4I, unit GY1, integer JMI, real x, real y, integer K3I, integer GJ1 returns nothing
    local unit GK1
    local item K4I
    set HK = GY1
    if GetUnitPointValue(E4I) == 200 then
        set GK1 = GV1(E4I, 0)
        if GK1 == null then
            set GK1 = GV1(E4I, 300)
        endif
    else 
        set GK1 = E4I
    endif
    if GK1 == null or GG1(COI, GK1, JLI(JMI)) == false or JK == false then
        if K1I(JLI(JMI)) then
            if KCI(GK1) == 0 or GK1 == null then
                call K5I(itemOnGroundId[JMI], x, y, COI, true, K3I)
            else 
                set K4I = UnitAddItemById(GK1, itemId[JMI])
                call SetItemCharges(K4I, K3I)
                call SetItemPlayer(K4I, COI, true)
                call SetItemUserData(K4I, GJ1)
            endif
        elseif KII(JLI(JMI)) then
            if GK1 == null or (KCI(GK1) == 0 and getSpecificItem(GK1, itemId[JMI]) == null) then
                call K5I(itemOnGroundId[JMI], x, y, COI, true, KWI(JMI))
            else 
                set K4I = CreateItem(itemOnGroundId[JMI], x, y)
                call SetItemPlayer(K4I, COI, true)
                call SetItemUserData(K4I, GJ1)
                call SetItemCharges(K4I, KWI(JMI))
                call UnitAddItem(GK1, K4I)
            endif
        else 
            if KCI(GK1) == 0 or GK1 == null then
                call K5I(itemOnGroundId[JMI], x, y, COI, false, 0)
            else 
                set K4I = UnitAddItemById(GK1, itemId[JMI])
                call SetItemPlayer(K4I, COI, true)
                call SetItemUserData(K4I, 0)
            endif
        endif
    else 
        if IsUnitType(GK1, UNIT_TYPE_HERO) == true then
            if GJ1 == 0 then
                call L1I("PUI_" + I2S(GetPlayerId(GetOwningPlayer(GK1))), itemId[JLI(JMI)])
            endif
        endif
    endif
    set GK1 = null
    set K4I = null
endfunction

function GL1 takes player p, integer JMI returns nothing
    local integer i = GetPlayerId(p)
    if JMI == H00 then
        set E[i] = E[i] + 1
    elseif JMI == H10 then
        set E[i] = E[i] + 1
    elseif JMI == HO0 then
        set E[i] = E[i] + 3
    elseif JMI == H20 then
        set E[i] = E[i] + 2
        set F[i] = F[i] + 2
    elseif JMI == H30 then
        set E[i] = E[i] + 2
        set F[i] = F[i] + 2
    elseif JMI == H40 then
        set E[i] = E[i] + 1
    elseif JMI == H80 then
        set E[i] = E[i] + 2
    elseif JMI == HI0 then
        set E[i] = E[i] + 2
    elseif JMI == H90 then
        set E[i] = E[i] + 2
    endif
endfunction

function GM1 takes unit GN1, unit GS1 returns boolean 
    local integer JMI
    if GN1 == BF0 and IsUnitAlly(GS1, scourgePlayers[0]) then
        return false
    elseif GN1 == LQ and IsUnitAlly(GS1, sentinelPlayers[0]) then
        return false
    endif
    set JMI = KGI(GS1)
    if JMI == H20 then
        return true
    endif
    return false
endfunction

function GT1 takes unit GY1, unit GR1 returns real 
    if GY1 == YQ or GY1 == JQ or GY1 == KQ or GY1 == LQ or GY1 == MQ or GY1 == NQ or GY1 == SQ or GY1 == TQ or GY1 == RQ or GY1 == PQ then
        return CR0[GetPlayerId(GetOwningPlayer(GR1))]
    elseif GY1 == BC0 or GY1 == BD0 or GY1 == BE0 or GY1 == BF0 or GY1 == BG0 or GY1 == BH0 or GY1 == BZ0 or GY1 == BV0 or GY1 == BW0 or GY1 == BX0 then
        return CR0[GetPlayerId(GetOwningPlayer(GR1))]
    endif
    return GetUnitX(GR1)
endfunction

function GP1 takes unit GY1, unit GR1 returns real 
    if GY1 == YQ or GY1 == JQ or GY1 == KQ or GY1 == LQ or GY1 == MQ or GY1 == NQ or GY1 == SQ or GY1 == TQ or GY1 == RQ or GY1 == PQ then
        return CP0[GetPlayerId(GetOwningPlayer(GR1))]
    elseif GY1 == BC0 or GY1 == BD0 or GY1 == BE0 or GY1 == BF0 or GY1 == BG0 or GY1 == BH0 or GY1 == BZ0 or GY1 == BV0 or GY1 == BW0 or GY1 == BX0 then
        return CP0[GetPlayerId(GetOwningPlayer(GR1))]
    endif
    return GetUnitY(GR1)
endfunction

function GQ1 takes unit GY1, unit GR1 returns real 
    if GY1 == YQ or GY1 == JQ or GY1 == KQ or GY1 == LQ or GY1 == MQ or GY1 == NQ or GY1 == SQ or GY1 == TQ or GY1 == RQ or GY1 == PQ then
        return GetRectCenterX(B4)
    elseif GY1 == BC0 or GY1 == BD0 or GY1 == BE0 or GY1 == BF0 or GY1 == BG0 or GY1 == BH0 or GY1 == BZ0 or GY1 == BV0 or GY1 == BW0 or GY1 == BX0 then
        return GetRectCenterX(R3)
    endif
    return GetUnitX(GR1)
endfunction

function GU1 takes unit GY1, unit GR1 returns real 
    if GY1 == YQ or GY1 == JQ or GY1 == KQ or GY1 == LQ or GY1 == MQ or GY1 == NQ or GY1 == SQ or GY1 == TQ or GY1 == RQ or GY1 == PQ then
        return GetRectCenterY(B4)
    elseif GY1 == BC0 or GY1 == BD0 or GY1 == BE0 or GY1 == BF0 or GY1 == BG0 or GY1 == BH0 or GY1 == BZ0 or GY1 == BV0 or GY1 == BW0 or GY1 == BX0 then
        return GetRectCenterY(R3)
    endif
    return GetUnitY(GR1)
endfunction

function UnitItem_Delayed_Expire takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local unit u = LoadUnitHandle(hashTable, DMI, 53)
    local unit s = LoadUnitHandle(hashTable, DMI, 94)
    local integer JMI = LoadInteger(hashTable, DMI, 93)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local integer K3I = LoadInteger(hashTable, DMI, 76)
    call GX1(p, u, s, JLI(JMI), x, y, K3I, 0)
    call ShowUnit(u, false)
    call UnitApplyTimedLife(u, 'BTLF', 2)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set p = null
    set u = null
    return false
endfunction

function H01 takes nothing returns nothing
    local unit u = GetSoldUnit()
    local player p = GetOwningPlayer(u)
    local integer JMI = KGI(u)
    local real x
    local real y
    if GM1(GetSellingUnit(), u) then
        call displayErrorMessage(p, GetObjectName('n02G'))
        if IsUnitAlly(u, sentinelPlayers[0]) then
            set p = scourgePlayers[0]
        else 
            set p = sentinelPlayers[0]
        endif
        set x = GQ1(GetSellingUnit(), u)
        set y = GU1(GetSellingUnit(), u)
        call K5I(itemOnGroundId[H20], x, y, p, true, 2)
    else 
        call GL1(p, JLI(JMI))
        if itemId[JMI] == 0 then
            call displayErrorMessage(p, GetObjectName('n02H'))
        else 
            set x = GT1(GetSellingUnit(), u)
            set y = GP1(GetSellingUnit(), u)
            if JMI == H80 then
                call GX1(p, u, GetSellingUnit(), JLI(JMI), x, y, 2, 0)
            else 
                call GX1(p, u, GetSellingUnit(), JLI(JMI), x, y, 0, 0)
            endif
        endif
    endif
    call UnitAddAbility(u, 'Aloc')
    call ShowUnit(u, false)
    call UnitApplyTimedLife(u, 'BTLF', 2)
    set u = null
    set p = null
endfunction

function HI1 takes nothing returns boolean 
    if GetUnitPointValue(GetSoldUnit()) >= 200 then
        call H01()
        if GetUnitTypeId(GetSoldUnit()) == 'h02F' then
            if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(GetSoldUnit())) then
                call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 20, playerColor[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + playerName[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + "|r |c00ffff00" + GetObjectName('n0HU') + "|r")
            endif
        elseif GetUnitTypeId(GetSoldUnit()) == 'h03Q' then
            if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(GetSoldUnit())) then
                call PingMinimapEx(GetUnitX(GetSoldUnit()), GetUnitY(GetSoldUnit()), 3, 255, 255, 255, false)
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 20, playerColor[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + playerName[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + "|r |c00ffff00" + GetObjectName('n0KG') + "|r")
            endif
        endif
    else 
        call FF1()
    endif
    return false
endfunction

function HO1 takes unit E1I, item J6I returns boolean 
    local unit u = E1I
    local integer JPI = GetUnitTypeId(u)
    local integer JMI = JTI(J6I)
    local real x
    local real y
    local boolean H21 = true
    set x = GetUnitX(u)
    set y = GetUnitY(u)
    if JMI == GV0 then
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", u, "overhead") )
        call GVI(GetOwningPlayer(u), "Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
        set YK = GetItemPlayer(J6I)
        call K6I(J6I)
        set ZK = UnitAddItemById(u, itemId[GJ0])
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    if JMI == HR0 and GetItemCharges(J6I) == 0 then
        set YK = GetItemPlayer(J6I)
        call K6I(J6I)
        set ZK = UnitAddItemById(u, itemId[HQ0])
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    call DisableTrigger(trigItemActions)
    if (JMI == HH0 or JMI == HG0 or JMI == HZ0) and (K7I(u, itemId[HH0], J6I) != null or K7I(u, itemId[HG0], J6I) != null or K7I(u, itemId[HZ0], J6I) != null) then
        call displayErrorMessage(GetOwningPlayer(u), GetObjectName('n02L'))
        set YK = GetItemPlayer(J6I)
        call RemoveItem(J6I)
        set ZK = CreateItem(itemOnGroundId[JMI], x, y)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    if (JMI == GR0) and (K7I(u, itemId[GR0], J6I) != null or K7I(u, itemId[GP0], J6I) != null) then
        call displayErrorMessage(GetOwningPlayer(u), GetObjectName('n0HL'))
        set YK = GetItemPlayer(J6I)
        call RemoveItem(J6I)
        set ZK = CreateItem(itemOnGroundId[JMI], x, y)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        set H21 = false
    endif
    if H21 and (JMI == GP0) and (K7I(u, itemId[GR0], J6I) != null or K7I(u, itemId[GP0], J6I) != null) then
        call displayErrorMessage(GetOwningPlayer(u), GetObjectName('n0HL'))
        set YK = GetItemPlayer(J6I)
        call RemoveItem(J6I)
        set ZK = CreateItem(itemOnGroundId[JMI], x, y)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        set H21 = false
    endif
    if (JMI == VG0 or JMI == VF0 or JMI == VZ0 or JMI == VH0) and (K7I(u, itemId[VG0], J6I) != null or K7I(u, itemId[VF0], J6I) != null or K7I(u, itemId[VZ0], J6I) != null or K7I(u, itemId[VH0], J6I) != null) then
        call displayErrorMessage(GetOwningPlayer(u), GetObjectName('n02C'))
        set YK = GetItemPlayer(J6I)
        call RemoveItem(J6I)
        set ZK = CreateItem(itemOnGroundId[JMI], x, y)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    if (JMI == ZN0 and IsPlayerEnemy(GetItemPlayer(J6I), GetOwningPlayer(u))) then
        set YK = GetItemPlayer(J6I)
        call K6I(J6I)
        set ZK = UnitAddItemById(u, itemId[ZS0])
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    if (JMI == FL0 or JMI == itemIdAegisOfImmortal) and (JPI == 'e01H' or JPI == 'e01Z') then
        call displayErrorMessage(GetOwningPlayer(u), GetObjectName('n02K'))
        set YK = GetItemPlayer(J6I)
        set QJ = GetItemCharges(J6I)
        call RemoveItem(J6I)
        if JMI == itemIdAegisOfImmortal then
            set ZK = CreateItem(itemOnGroundId[JMI], GetRectCenterX(U4), GetRectCenterY(U4))
        else 
            set ZK = CreateItem(itemOnGroundId[JMI], x, y)
        endif
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        if JMI == itemIdAegisOfImmortal then
            call SetItemCharges(ZK, QJ)
        endif
    endif
    if JMI == FT0 and (JPI == 'Hvwd' or JPI == 'U00F') then
        call displayErrorMessage(GetOwningPlayer(u), GetObjectName('n02J'))
        set YK = GetItemPlayer(J6I)
        call RemoveItem(J6I)
        set ZK = CreateItem(itemOnGroundId[JMI], x, y)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    if H21 and (JMI == GR0 or JMI == GP0) and (JPI == 'H06S') then
        call displayErrorMessage(GetOwningPlayer(u), GetObjectName('n02J'))
        set YK = GetItemPlayer(J6I)
        call RemoveItem(J6I)
        set ZK = CreateItem(itemOnGroundId[JMI], x, y)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        set H21 = false
    endif
    if (JMI == Z80 or JMI == Z90 or JMI == ZA0 or JMI == ZB0 or JMI == ZC0 or JMI == ZD0) and JPI == 'U00C' then
        call DisplayTimedTextToPlayer(GetOwningPlayer(u), 0, O3, 10, "|c00ff0303" + GetObjectName('n02P') + "|r")
    endif
    call EnableTrigger(trigItemActions)
    if H21 then
        if IsUnitType(u, UNIT_TYPE_MELEE_ATTACKER) == true or IsUnitType(u, UNIT_TYPE_HERO) == false then
            if JMI == V20 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[VO0])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            elseif JMI == GP0 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[GR0])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            elseif JMI == GE0 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[GD0])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            elseif JMI == VN0 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[VM0])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            elseif JMI == V70 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[V60])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            endif
        else 
            if JMI == VO0 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[V20])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            elseif JMI == GR0 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[GP0])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            elseif JMI == GD0 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[GE0])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            elseif JMI == VM0 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[VN0])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            elseif JMI == V60 then
                set YK = GetItemPlayer(J6I)
                call K6I(J6I)
                set ZK = UnitAddItemById(u, itemId[V70])
                call SetItemPlayer(ZK, YK, false)
                call SetItemUserData(ZK, 1)
            endif
        endif
    endif
    set u = null
    set J6I = null
    return false
endfunction

function H31 takes integer JMI returns boolean 
    return JMI == ZI0 or JMI == VH0 or JMI == VZ0 or JMI == VW0 or JMI == Z00 or JMI == VF0 or JMI == VG0 or JMI == VV0
endfunction

function H41 takes unit E1I, item J6I returns boolean 
    local integer KMI = 0
    local item WSI = J6I
    local integer JMI = KEI(WSI)
    local integer H51 = 0
    local boolean KJI = false
    if IsUnitType(E1I, UNIT_TYPE_HERO) == true then
        if JMI == ZI0 then
            set H51 = Z00
        endif
        if JMI == VH0 then
            set H51 = VF0
        endif
        if JMI == VZ0 then
            set H51 = VG0
        endif
        if JMI == VW0 then
            set H51 = VV0
        endif
        if H51 != 0 then
            set YK = GetItemPlayer(WSI)
            call K6I(WSI)
            set ZK = UnitAddItemById(E1I, itemId[H51])
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
            set KJI = true
        endif
    else 
        if JMI == Z00 then
            set H51 = ZI0
        endif
        if JMI == VF0 then
            set H51 = VH0
        endif
        if JMI == VG0 then
            set H51 = VZ0
        endif
        if JMI == VV0 then
            set H51 = VW0
        endif
        if H51 != 0 then
            set YK = GetItemPlayer(WSI)
            call K6I(WSI)
            set ZK = UnitAddItemById(E1I, itemId[H51])
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
            set KJI = true
        endif
    endif
    set WSI = null
    return KJI
endfunction

function H61 takes unit E1I, item J6I returns boolean 
    if H31(KEI(J6I)) then
        return H41(E1I, J6I)
    endif
    return false
endfunction

function H71 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit J4I = LoadUnitHandle(hashTable, DMI, 26)
    local integer H81 = LoadInteger(hashTable, DMI, 97)
    local integer JMI = LoadInteger(hashTable, DMI, 93)
    local boolean H91 = LoadBoolean(hashTable, DMI, 95)
    local item J6I
    local player p = GetOwningPlayer(J4I)
    local player HA1
    local integer K3I
    local boolean K2I = false
    local item K4I
    local integer HB1
    local integer HC1
    local integer newCharges
    local item HD1
    local integer targetCount
    local item HE1
    local boolean HF1 = false
    call DisableTrigger(J30)
    if H91 then
        set HE1 = null
        set HA1 = LoadPlayerHandle(hashTable, DMI, 54)
        set K3I = LoadInteger(hashTable, DMI, 76)
    else 
        set J6I = LoadItemHandle(hashTable, DMI, 96)
        set HE1 = J6I
        set HA1 = GetItemPlayer(J6I)
        set K3I = GetItemCharges(J6I)
    endif
    if H81 == 1 then
        if p != HA1 and GetUnitTypeId(J4I) == 'ncop' then
            if KII(JLI(JMI)) or K1I(JLI(JMI)) then
                set K2I = true
            endif
            call K5I(itemOnGroundId[JMI], CR0[GetPlayerId(HA1)], CP0[GetPlayerId(HA1)], HA1, K2I, K3I)
            call displayErrorMessage(p, GetObjectName('n0DR'))
            if H91 == false then
                set HF1 = true
                call K6I(J6I)
            endif
        elseif HL == false and H91 == false and GetItemType(J6I) == ITEM_TYPE_CAMPAIGN and KFI(J6I) != 0 and (p == HA1 or (GetPlayerSlotState(HA1) == PLAYER_SLOT_STATE_LEFT)) then
            if K1I(JMI) then
                set K2I = true
            else 
                set K2I = false
            endif
            if (GetPlayerSlotState(HA1) == PLAYER_SLOT_STATE_LEFT) and JNI(JMI) then
            else 
                call K6I(J6I)
                set HF1 = true
                set K4I = UnitAddItemById(J4I, itemId[JMI])
                set HE1 = K4I
                call SetItemPlayer(K4I, HA1, false)
                call SetItemUserData(K4I, 0)
                if K2I then
                    call SetItemCharges(K4I, K3I)
                endif
            endif
        elseif HL == false and H91 == false and GetItemType(J6I) == ITEM_TYPE_PERMANENT and p != HA1 and itemDisabledId[JTI(J6I)] != 0 and (GetPlayerSlotState(HA1) == PLAYER_SLOT_STATE_LEFT) == false then
            if K1I(JMI) then
                set K2I = true
            else 
                set K2I = false
            endif
            call K6I(J6I)
            set HF1 = true
            set K4I = UnitAddItemById(J4I, itemDisabledId[JMI])
            set HE1 = K4I
            call SetItemPlayer(K4I, HA1, false)
            call SetItemUserData(K4I, 0)
            if K2I then
                call SetItemCharges(K4I, K3I)
            endif
        elseif H91 == false and GetItemType(J6I) == ITEM_TYPE_PERMANENT and K0I(J6I) and IsUnitType(J4I, UNIT_TYPE_HERO) == true then
            set HB1 = JRI(J4I)
            set HC1 = JQI(J4I)
            if HC1 != 0 then
                call UnitAddAbility(J4I, HC1)
                call UnitMakeAbilityPermanent(J4I, true, HC1)
                call SetPlayerAbilityAvailable(p, HC1, false)
            endif
            if JMI != HB1 then
                call K6I(J6I)
                set K4I = UnitAddItemById(J4I, itemId[HB1])
                set HE1 = K4I
                call SetItemPlayer(K4I, HA1, false)
                call SetItemUserData(K4I, 1)
            endif
        elseif H91 == false and GetItemType(J6I) == ITEM_TYPE_ARTIFACT then
            call DisableTrigger(trigItemActions)
            set HD1 = KAI(J4I, JMI, J6I)
            if HD1 == null then
            else 
                call SetItemCharges(HD1, K3I + GetItemCharges(HD1))
                call K6I(J6I)
                set HE1 = null
            endif
            call EnableTrigger(trigItemActions)
        elseif H91 and KII(JLI(JMI)) then
            call DisableTrigger(trigItemActions)
            if KCI(J4I) == 0 and KBI(J4I, JMI) == null then
                call displayErrorMessage(p, GetObjectName('n02O'))
                call K5I(itemOnGroundId[JMI], (LoadReal(hashTable, DMI, 6)*1.0), (LoadReal(hashTable, DMI, 7)*1.0), HA1, true, K3I)
            else 
                set HD1 = KBI(J4I, JMI)
                if HD1 == null then
                    call DisableTrigger(trigItemActions)
                    set K4I = UnitAddItemById(J4I, itemId[JMI])
                    set HE1 = K4I
                    call SetItemPlayer(K4I, HA1, false)
                    call SetItemUserData(K4I, 1)
                    call SetItemCharges(K4I, K3I)
                else 
                    call SetItemCharges(HD1, K3I + GetItemCharges(HD1))
                endif
            endif
            call EnableTrigger(trigItemActions)
        elseif H91 == true then
            call GX1(HA1, J4I, null, JMI, LoadReal(hashTable, DMI, 6), LoadReal(hashTable, DMI, 7), K3I, 1)
        elseif H91 == false and (GetItemType(J6I) == ITEM_TYPE_PERMANENT or GetItemType(J6I) == ITEM_TYPE_CAMPAIGN) then
            call SetItemUserData(J6I, 1)
            set HF1 = GG1(HA1, J4I, 0)
        endif
        if HF1 == false and HE1 != null and KXI(HE1) == false then
            set HF1 = H61(J4I, HE1)
        endif
        if HF1 == false and HE1 != null and KXI(HE1) == false then
            call HO1(J4I, HE1)
        endif
    else 
        if GetWidgetLife(J6I) > 0 then
            set HB1 = JRI(J4I)
            set HC1 = JQI(J4I)
            if getSpecificItem(J4I, itemId[HB1]) == null and GetUnitAbilityLevel(J4I, HC1) > 0 then
                call UnitRemoveAbility(J4I, HC1)
            endif
            if IsItemOwned(J6I) == false then
                if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JMI) then
                    set K2I = true
                endif
                call K5I(itemOnGroundId[JMI], GetItemX(J6I), GetItemY(J6I), HA1, K2I, K3I)
                call K6I(J6I)
            endif
        endif
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call EnableTrigger(J30)
    set t = null
    set J6I = null
    set J4I = null
    set p = null
    set HA1 = null
    set K4I = null
    set HD1 = null
    set HE1 = null
    return false
endfunction

function HG1 takes nothing returns boolean 
    call EnableTrigger(trigItemActions)
    call abandonTrigger(GetTriggeringTrigger())
    return false
endfunction

function DelayTrigger takes nothing returns nothing
    local trigger t = CreateTrigger()
    call DisableTrigger(trigItemActions)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function HG1))
    set t = null
endfunction

function trigItemActionsCondition takes nothing returns boolean 
    local item J6I
    local integer H81
    local unit J4I = GetTriggerUnit()
    local trigger t
    local integer DMI
    local integer HB1
    local integer HC1
    local integer id
    set id = GetPlayerId(GetOwningPlayer(J4I))
    if IsUnitType(J4I, UNIT_TYPE_HERO) == true or J3I(J4I) then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
            if GetItemTypeId(GetManipulatedItem()) == itemId[GZ0] then
                set YP0 = YP0 + 1
                set YW0[id] = YW0[id] + 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[FT0] then
                set YQ0 = YQ0 + 1
                set YX0[id] = YX0[id] + 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[itemIdBloodstone] then
                set YU0 = YU0 + 1
                set YY0[id] = YY0[id] + 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[HM0] then
                set J00 = J00 + 1
                set YJ0[id] = YJ0[id] + 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[V00] then
                set JI0 = JI0 + 1
                set JC0[id] = JC0[id] + 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[ZL0] then
                set YR0 = YR0 + 1
                set YK0[id] = YK0[id] + 1
                call UnitAddItemById(J4I, 'I0HM')
            endif
        elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_DROP_ITEM then
            if GetItemTypeId(GetManipulatedItem()) == itemId[GZ0] then
                set YW0[id] = YW0[id] - 1
                set YP0 = YP0 - 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[FT0] then
                set YX0[id] = YX0[id] - 1
                set YQ0 = YQ0 - 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[itemIdBloodstone] then
                set YY0[id] = YY0[id] - 1
                set YU0 = YU0 - 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[HM0] then
                set J00 = J00 - 1
                set YJ0[id] = YJ0[id] - 1
                if YJ0[id] < 1 or K7I(J4I, itemId[HM0], GetManipulatedItem()) == null then
                    call UnitRemoveAbility(J4I, 'A174')
                endif
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[V00] then
                set JC0[id] = JC0[id] - 1
                set JI0 = JI0 - 1
            elseif GetItemTypeId(GetManipulatedItem()) == itemId[ZL0] or GetItemTypeId(GetManipulatedItem()) == itemDisabledId[ZL0] then
                set YR0 = IMaxBJ(YR0 - 1, 0)
                set YK0[id] = IMaxBJ(YK0[id] - 1, 0)
                call UnitRemoveAbility(J4I, 'B0BI')
            endif
        endif
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PAWN_ITEM then
        set J6I = GetSoldItem()
        call SetItemUserData(J6I, -2)
        set HB1 = JRI(J4I)
        set HC1 = JQI(J4I)
        if K7I(J4I, itemId[HB1], J6I) == null and GetUnitAbilityLevel(J4I, HC1) > 0 then
            call UnitRemoveAbility(J4I, HC1)
        endif
    elseif GetItemTypeId(GetManipulatedItem()) != 'I00E' and GetItemTypeId(GetManipulatedItem()) != 'I02M' then
        set J6I = GetManipulatedItem()
        if IsUnitIllusion(J4I) or GetItemUserData(J6I) == -2 then
            set J6I = null
            set J4I = null
            set t = null
            return false
        endif
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
            set H81 = 1
        else 
            set H81 = 2
        endif
        if (H81 == 1 or (H81 == 2 and KXI(J6I) == false and GetWidgetLife(J6I) > 0)) and GetUnitTypeId(J4I) != 'H00J' then
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function H71))
            call SaveUnitHandle(hashTable, DMI, 26, J4I)
            call SaveInteger(hashTable, DMI, 97, H81)
            call SaveInteger(hashTable, DMI, 93, JTI(J6I))
            if KXI(J6I) then
                call SaveBoolean(hashTable, DMI, 95, true)
                call SavePlayerHandle(hashTable, DMI, 54, GetItemPlayer(J6I))
                call SaveInteger(hashTable, DMI, 76, GetItemCharges(J6I))
                call SaveReal(hashTable, DMI, 6, (GetItemX(J6I)*1.0))
                call SaveReal(hashTable, DMI, 7, (GetItemY(J6I)*1.0))
            else 
                call SaveBoolean(hashTable, DMI, 95, false)
                call SaveItemHandle(hashTable, DMI, 96, J6I)
                call SetItemUserData(J6I, 0)
            endif
        else 
        endif
    endif
    set J6I = null
    set J4I = null
    set t = null
    return false
endfunction

function HV1 takes unit E1I, integer HW1, boolean HX1 returns nothing
    local string HY1
    local string s
    local player p = GetOwningPlayer(E1I)
    local real d = 2
    local string HJ1 = "Use"
    if HX1 then
        set HJ1 = "Store"
    endif
    if HW1 == 'I006' then
        set HY1 = "|c00ff0000" + GetObjectName('n0JQ') + "|r"
        call L1I("Rune" + HJ1 + "1", GetPlayerId(p))
    elseif HW1 == 'I008' then
        set HY1 = "|c0000ff00" + GetObjectName('n0JN') + "|r"
        call L1I("Rune" + HJ1 + "2", GetPlayerId(p))
    elseif HW1 == 'I00K' then
        set HY1 = "|c000000ff" + GetObjectName('n0K3') + "|r"
        call L1I("Rune" + HJ1 + "3", GetPlayerId(p))
    elseif HW1 == 'I007' then
        set HY1 = "|c00afaf00" + GetObjectName('n0K2') + "|r"
        call L1I("Rune" + HJ1 + "4", GetPlayerId(p))
    elseif HW1 == 'I00J' then
        set HY1 = "|c00652DC1" + GetObjectName('n0K4') + "|r"
        call L1I("Rune" + HJ1 + "5", GetPlayerId(p))
    endif
    if HX1 then
        set s = playerColor[GetPlayerId(p)] + GetUnitName(E1I) + "|r " + GetObjectName('n0GU') + "|r " + HY1 + " " + GetObjectName('n0GW')
        set d = 1
    else 
        if J10 then
            set s = playerColor[GetPlayerId(p)] + GetUnitName(E1I) + "|r " + GetObjectName('n0GV') + "|r " + HY1 + " " + GetObjectName('n0GW')
        else 
            set s = playerColor[GetPlayerId(p)] + GetUnitName(E1I) + "|r " + GetObjectName('n0GT') + "|r " + HY1 + " " + GetObjectName('n0GW')
        endif
    endif
    if IsPlayerAlly(GetLocalPlayer(), p) and GetLocalPlayer() != p then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, d, s)
    endif
endfunction

function HK1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if GetUnitAbilityLevel(E1I, 'B01S') == 0 then
        call UnitRemoveAbility(E1I, 'B01S')
        call UnitRemoveAbility(E1I, 'B04A')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetUnitState(E1I, UNIT_STATE_LIFE) == GetUnitState(E1I, UNIT_STATE_MAX_LIFE) and GetUnitState(E1I, UNIT_STATE_MANA) == GetUnitState(E1I, UNIT_STATE_MAX_MANA) then
        call UnitRemoveAbility(E1I, 'B01S')
        call UnitRemoveAbility(E1I, 'B04A')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function HL1 takes unit E1I, item J6I returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function HK1))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
endfunction

function HM1 takes unit E1I, item J6I returns nothing
    local unit u = E1I
    local real x = GetUnitX(u)
    local real y = GetUnitY(u)
    local unit YVI = CreateUnit(GetOwningPlayer(u), 'e00E', x, y, 0)
    call UnitAddAbility(YVI, 'A0GR')
    call IssueTargetOrderById(YVI, 852274, u)
    call IssueTargetOrderById(YVI, 852274, u)
    set u = null
    set YVI = null
endfunction

function HN1 takes unit E1I, item J6I returns nothing
    if GetItemTypeId(J6I) == 'I007' or GetItemTypeId(J6I) == 'I006' or GetItemTypeId(J6I) == 'I008' or GetItemTypeId(J6I) == 'I00K' or GetItemTypeId(J6I) == 'I00J' then
        call HV1(E1I, GetItemTypeId(J6I), false)
    endif
    if GetItemTypeId(J6I) == 'I007' then
        call HM1(E1I, J6I)
    elseif GetItemTypeId(J6I) == 'I00J' then
        if GetUnitAbilityLevel(E1I, 'B09Y') > 0 then
            call UnitRemoveAbility(E1I, 'B09Y')
            call UnitRemoveAbility(E1I, 'B01Q')
            call DisableTrigger(GetTriggeringTrigger())
            call UnitAddItemById(E1I, 'I00J')
            call EnableTrigger(GetTriggeringTrigger())
        endif
    elseif GetItemTypeId(J6I) == 'I008' then
        call HL1(E1I, J6I)
    endif
endfunction

function HS1 takes unit E1I, item J6I returns nothing
    local integer JXI
    local integer FVI
    if GetUnitTypeId(E1I) == 'Edem' then
        set JXI = 'A0KY'
    elseif GetUnitTypeId(E1I) == 'U00F' then
        set JXI = 'A06D'
    elseif GetUnitTypeId(E1I) == 'EC77' then
        set JXI = 'A0MM'
    elseif GetUnitTypeId(E1I) == 'Ogrh' then
        set JXI = 'A0YK'
    else 
        set E1I = null
        return
    endif
    set FVI = GetUnitAbilityLevel(E1I, JXI)
    if FVI > 0 then
        call UnitRemoveAbility(E1I, JXI)
        call UnitAddAbility(E1I, JXI)
        call SetUnitAbilityLevel(E1I, JXI, FVI)
    endif
endfunction

function HT1 takes nothing returns boolean 
    local unit E1I = GetTriggerUnit()
    local item J6I = GetManipulatedItem()
    local integer id = GetItemTypeId(J6I)
    if id == itemId[H40] then
        set JO0[GetPlayerId(GetOwningPlayer(E1I))] = GetItemX(J6I)
        set J20[GetPlayerId(GetOwningPlayer(E1I))] = GetItemY(J6I)
    endif
    call HN1(E1I, J6I)
    call HS1(E1I, J6I)
    if (GetItemTypeId(J6I) == itemId[VF0] or GetItemTypeId(J6I) == itemId[VG0]) and GII(E1I) then
        call UnitRemoveItem(E1I, J6I)
    elseif GetItemTypeId(J6I) == itemId[itemIdAegisOfImmortal] and GetUnitTypeId(E1I) != 'n00L' and ET0 == false then
        set ES0 = E1I
        set ET0 = true
        call L1I("AegisOn", GetPlayerId(GetOwningPlayer(E1I)))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, playerColor[GetPlayerId(GetOwningPlayer(E1I))] + GetUnitName(E1I) + "|r " + GetObjectName('n0EQ'))
    endif
    set E1I = null
    set J6I = null
    return false
endfunction

function HP1 takes nothing returns boolean 
    local unit E1I = GetTriggerUnit()
    local item J6I = GetManipulatedItem()
    local integer id = GetItemTypeId(J6I)
    if J6I == null or IsUnitIllusion(E1I) == true or IsUnitType(E1I, UNIT_TYPE_HERO) == false or GetUnitTypeId(E1I) == 'H00J' or GetItemTypeId(J6I) == 'I00E' or GetItemTypeId(J6I) == 'I02M' then
        set E1I = null
        set J6I = null
        return false
    endif
    if (GetTriggerEventId() == EVENT_PLAYER_UNIT_DROP_ITEM and GetItemType(J6I) != ITEM_TYPE_PURCHASABLE) or GetTriggerEventId() == EVENT_PLAYER_UNIT_PAWN_ITEM then
        call L1I("DRI_" + I2S(GetPlayerId(GetOwningPlayer(E1I))), itemId[JLI(JTI(J6I))])
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
        call L1I("PUI_" + I2S(GetPlayerId(GetOwningPlayer(E1I))), itemId[JLI(JTI(J6I))])
    endif
    set E1I = null
    set J6I = null
    return false
endfunction

function HU1 takes nothing returns boolean 
    local integer i
    if J70 > 0 and J50[1] < 1 then
        set i = 2
        loop
            exitwhen i > J70
            set J50[i - 1] = J50[i]
            set J60[i - 1] = J60[i]
            set i = i + 1
        endloop
        set J70 = J70 - 1
    endif
    set i = 1
    loop
        exitwhen i > J70
        if J50[i] >= 1 then
            set J50[i] = J50[i] - 1
            if J50[i] < 1 then
                call SetItemDroppable(J60[i], true)
            endif
        endif
        set i = i + 1
    endloop
    return false
endfunction

function Z01 takes item J6I returns nothing
    set J70 = J70 + 1
    set J60[J70] = J6I
    set J50[J70] = itemCooldown[KEI(J6I)]
    call SetItemDroppable(J6I, false)
endfunction

function ZI1 takes nothing returns boolean 
    if GetUnitTypeId(GetTriggerUnit()) != 'e00E' and itemCooldown[KEI(GetManipulatedItem())] > 0 then
        call Z01(GetManipulatedItem())
    endif
    return false
endfunction

function Z11 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, DMI, 26)
    local integer ZO1 = LoadInteger(hashTable, DMI, 98)
    local item J6I = UnitItemInSlot(u, ZO1)
    if J6I != null and JNI(JTI(J6I)) == false and GetWidgetLife(J6I) > 0 and JUI(J6I) == false then
        call SetItemDroppable(J6I, true)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set J6I = null
    return false
endfunction

function Z21 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, DMI, 26)
    local integer ZO1 = LoadInteger(hashTable, DMI, 98)
    local item J6I = UnitItemInSlot(u, ZO1)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    if (u != null and GetUnitTypeId(u) > 1 and IsUnitType(u, UNIT_TYPE_DEAD) == false) and (J6I != null and GetWidgetLife(J6I) > 0) then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SetItemDroppable(J6I, false)
        call SaveInteger(hashTable, DMI, 98, ZO1)
        call SaveUnitHandle(hashTable, DMI, 26, u)
        call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_ISSUED_POINT_ORDER)
        call TriggerAddCondition(t, Condition(function Z11))
    endif
    set J6I = null
    set u = null
    set t = null
    return false
endfunction

function Z31 takes nothing returns nothing
    local integer ZO1
    local unit u = GetTriggerUnit()
    local trigger t
    local integer DMI
    local item J6I
    if GetIssuedOrderId() == 852008 then
        set ZO1 = 0
    elseif GetIssuedOrderId() == 852009 then
        set ZO1 = 1
    elseif GetIssuedOrderId() == 852010 then
        set ZO1 = 2
    elseif GetIssuedOrderId() == 852011 then
        set ZO1 = 3
    elseif GetIssuedOrderId() == 852012 then
        set ZO1 = 4
    elseif GetIssuedOrderId() == 852013 then
        set ZO1 = 5
    endif
    set J6I = UnitItemInSlot(u, ZO1)
    if J6I != null and GetWidgetLife(J6I) > 0 then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SaveInteger(hashTable, DMI, 98, ZO1)
        call SaveUnitHandle(hashTable, DMI, 26, u)
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function Z21))
    endif
    set J6I = null
    set u = null
    set t = null
endfunction

function ItemCooldown_CheckOrderID takes nothing returns boolean 
    if GetIssuedOrderId() == 852008 or GetIssuedOrderId() == 852009 or GetIssuedOrderId() == 852010 or GetIssuedOrderId() == 852011 or GetIssuedOrderId() == 852012 or GetIssuedOrderId() == 852013 then
        call Z31()
    endif
    return false
endfunction

function itemDisassemble takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local item J6I
    local integer i = 0
    local real x = GetUnitX(u)
    local real y = GetUnitY(u)
    local integer JMI
    local item K4I
    call DisableTrigger(trigItemActions)
    loop
        exitwhen i > 5
        set J6I = UnitItemInSlot(u, i)
        set JMI = JTI(J6I)
        if JMI == HA0 then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[G50], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[GH0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        elseif JMI == HD0 or JMI == HE0 then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[G60], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[GB0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        elseif JMI == VV0 then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[G20], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[GI0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[WU0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        elseif JMI == VW0 then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[G20], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[GI0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[WU0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        elseif JMI == V90 then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[FN0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[HT0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[X20], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        elseif JMI == itemIdBloodstone then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[Z20], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[HA0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        elseif JMI == Z00 then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[FM0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[FQ0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        elseif JMI == ZI0 then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[FM0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[FQ0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        elseif JMI == ZF0 then
            set YK = GetItemPlayer(J6I)
            call RemoveItem(J6I)
            set K4I = CreateItem(itemOnGroundId[HK0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[GF0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
            set K4I = CreateItem(itemOnGroundId[WG0], x, y)
            call SetItemPlayer(K4I, YK, false)
            call SetItemUserData(K4I, 1)
        endif
        set i = i + 1
    endloop
    call EnableTrigger(trigItemActions)
    set u = null
    set J6I = null
    set K4I = null
endfunction

function trigConditionIsAbilityDisassemble takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0K5' then
        call itemDisassemble()
    endif
    return false
endfunction

function Z81 takes integer JMI returns boolean 
    return JMI != ZN0 and JMI != itemIdBloodstone and JMI != FL0 and JMI != itemIdAegisOfImmortal
endfunction

function Z91 takes nothing returns nothing
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
        call SetItemPawnable(GetManipulatedItem(), false)
    else 
        call SetItemPawnable(GetManipulatedItem(), true)
    endif
endfunction

function ZA1 takes nothing returns boolean 
    if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and Z81(KEI(GetManipulatedItem())) and GII(GetTriggerUnit()) then
        call Z91()
    endif
    return false
endfunction

function ZC1 takes nothing returns nothing
    local integer x = 1
    local player p
    loop
        exitwhen x > 16
        if getSpecificItem(playerHero[x], itemId[itemIdBloodstone]) != null then
            call RemoveUnit(J90[GetPlayerId(GetOwningPlayer(playerHero[x]))])
        endif
        set x = x + 1
    endloop
endfunction

function Bloodstone_ItemCondition takes nothing returns boolean 
    return GetItemTypeId(GetManipulatedItem()) == itemId[itemIdBloodstone] and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true
endfunction

function ZD1 takes nothing returns boolean 
    return IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and GetUnitTypeId(GetTriggerUnit()) != 'H00J' and getSpecificItem(GetTriggerUnit(), itemId[itemIdBloodstone]) != null
endfunction

function ZE1 takes nothing returns boolean 
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') != 1 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1
endfunction

function ZF1 takes nothing returns nothing
    call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + KO)
    call Z4I("Abilities\\Spells\\Orc\\TrollBerserk\\TrollBeserkerTarget.mdl", GetEnumUnit(), "overhead", 2)
endfunction

function Bloodstone_RegisterUnit takes nothing returns nothing
    call DUI(GetEnumUnit(), 4254, 40)
endfunction

function ZG1 takes nothing returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 1700, Condition(function ZE1))
    set KO = 400 + 25*GetItemCharges( getSpecificItem(GetTriggerUnit(), itemId[itemIdBloodstone]) )
    call ForGroup(g, function ZF1)
    call releaseGroup(g)
    set g = null
endfunction

function ZH1 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'H00M', GetUnitX(E1I), GetUnitY(E1I), GetUnitFacing(E1I))
    set J90[GetPlayerId(GetOwningPlayer(E1I))] = YVI
    call ZG1()
endfunction

function ZV1 takes unit u returns nothing
    local integer ZW1 = GetItemCharges( getSpecificItem(u, itemId[itemIdBloodstone]) )
    if ZW1 > 0 then
        call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + ZW1)
    endif
endfunction

function ZX1 takes nothing returns boolean 
    local integer i = 1
    local unit E1I
    local integer id
    if YU0 > 0 then
        loop
            exitwhen i > 5
            set id = GetPlayerId(sentinelPlayers[i])
            set E1I = playerHero[id]
            if YY0[id] > 0 and E1I != null and GetUnitTypeId(E1I) > 1 and IsUnitType(E1I, UNIT_TYPE_DEAD) == false then
                call ZV1(E1I)
            endif
            set id = GetPlayerId(scourgePlayers[i])
            set E1I = playerHero[id]
            if YY0[id] > 0 and E1I != null and GetUnitTypeId(E1I) > 1 and IsUnitType(E1I, UNIT_TYPE_DEAD) == false then
                call ZV1(E1I)
            endif
            set i = i + 1
        endloop
    endif
    set E1I = null
    return false
endfunction

function ZJ1 takes nothing returns boolean 
    return GetUnitTypeId(GetSummonedUnit()) == 'o004' or GetUnitTypeId(GetSummonedUnit()) == 'oeye'
endfunction

function ZK1 takes unit E1I, unit ZL1 returns nothing
    local integer ZM1
    local item ZN1
    if GetUnitTypeId(GetSummonedUnit()) == 'o004' then
        set ZM1 = itemId[H20]
    else 
        set ZM1 = itemId[H30]
    endif
    call DisableTrigger(trigItemActions)
    set ZN1 = getSpecificItem(E1I, ZM1)
    if ZN1 == null then
        set YK = GetOwningPlayer(E1I)
        set ZK = CreateItem(ZM1, 0, 0)
        call UnitAddItem(E1I, ZK)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    else 
        call SetItemCharges(ZN1, GetItemCharges(ZN1) + 1)
    endif
    call EnableTrigger(trigItemActions)
endfunction

function ZS1 takes nothing returns nothing
    local unit ZL1 = GetSummonedUnit()
    local unit E1I = GetSummoningUnit()
    if IsUnitInRegion(MZ0, ZL1) then
        call ZK1(E1I, ZL1)
        call RemoveUnit(ZL1)
    elseif GII(E1I) then
        call ZK1(E1I, ZL1)
        call displayErrorMessage(GetOwningPlayer(ZL1), "Couriers cannot place wards")
        call RemoveUnit(ZL1)
    endif
endfunction

function ZR1 takes nothing returns nothing
    local unit u = GetEnumUnit()
    local integer i = 0
    local player p = GetOwningPlayer(GetTriggerUnit())
    local item J6I
    local integer id = GetPlayerId(p)
    loop
        exitwhen i > 5
        set J6I = UnitItemInSlot(u, i)
        if J6I != null and GetItemPlayer(J6I) == p then
            call UnitRemoveItem(u, J6I)
            call SetItemPosition(J6I, CR0[id], CP0[id])
        endif
        set i = i + 1
    endloop
    set u = null
    set J6I = null
endfunction

function ZP1 takes nothing returns nothing
    local item J6I = GetEnumItem()
    local unit u = JA0
    local player p = GetOwningPlayer(u)
    local integer id = GetPlayerId(p)
    if GetWidgetLife(J6I) > 0 and GetItemPlayer(J6I) == p then
        call SetItemPosition(J6I, CR0[id], CP0[id])
        call UnitAddItem(CT0[id], J6I)
    endif
    set J6I = null
    set u = null
    set p = null
endfunction

function ZQ1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, DMI, 53)
    set JA0 = u
    if isPlayerSentinel(GetOwningPlayer(JA0)) then
        call EnumItemsInRect(Z5, Condition(function returnTrue1), function ZP1)
    else 
        call EnumItemsInRect(V5, Condition(function returnTrue1), function ZP1)
    endif
    if GetTriggerEvalCount(t) == 2 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set u = null
    return false
endfunction

function ZU1 takes nothing returns boolean 
    return GII(GetFilterUnit())
endfunction

function V01 takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local integer i = 0
    local group g = allocGroup()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 1300, Condition(function ZU1))
    call ForGroup(g, function ZR1)
    call releaseGroup(g)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function ZQ1))
    call SaveUnitHandle(hashTable, DMI, 53, u)
    set u = null
    set g = null
endfunction

function VI1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A14D' then
        call V01()
    endif
endfunction

function V11 takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local integer i = 0
    local item J6I
    local integer id = GetPlayerId(GetOwningPlayer(u))
    local region r = CreateRegion()
    if isPlayerSentinel(GetOwningPlayer(u)) then
        call RegionAddRect(r, Z5)
    else 
        call RegionAddRect(r, V5)
    endif
    loop
        exitwhen i > 5
        set J6I = UnitItemInSlot(u, i)
        if JNI(JTI(J6I)) == false and JTI(J6I) != itemIdAegisOfImmortal and JUI(J6I) == false then
            call UnitRemoveItemFromSlot(u, i)
            if GetUnitTypeId(u) == 'ncop' or IsUnitInRegion(r, u) then
                set id = GetPlayerId(GetItemPlayer(J6I))
                call SetItemPosition(J6I, CR0[id], CP0[id])
            endif
        endif
        set i = i + 1
    endloop
    call RemoveRegion(r)
    set u = null
    set r = null
endfunction

function VO1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A138' or GetSpellAbilityId() == 'A14C' then
        call V11()
    endif
endfunction

function V21 takes unit E1I returns nothing
    local integer i = 0
    local item V31
    local integer JMI
    local boolean V41 = false
    if JB0[GetPlayerId(GetOwningPlayer(E1I))] + 8 > TimerGetElapsed(M) then
        set V41 = true
    endif
    loop
        exitwhen i > 5
        set V31 = UnitItemInSlot(E1I, i)
        set JMI = KEI(V31)
        if JMI == V00 and V41 == true then
            call DisableTrigger(trigItemActions)
            set YK = GetItemPlayer(V31)
            call RemoveItem(V31)
            set ZK = KLI(E1I, itemId[VI0], i)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
            call EnableTrigger(trigItemActions)
        endif
        if JMI == VI0 and V41 == false then
            call DisableTrigger(trigItemActions)
            set YK = GetItemPlayer(V31)
            call RemoveItem(V31)
            set ZK = KLI(E1I, itemId[V00], i)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
            call EnableTrigger(trigItemActions)
        endif
        set i = i + 1
    endloop
    set E1I = null
    set V31 = null
endfunction

function V51 takes nothing returns nothing
    if GetEventDamage() > 2 and GetEventDamageSource() != GetTriggerUnit() and (isPlayer(GetOwningPlayer(GetEventDamageSource())) or GetUnitTypeId(GetEventDamageSource()) == 'n00L') then
        set JB0[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] = TimerGetElapsed(M)
    endif
endfunction

function V61 takes unit E1I returns nothing
    local integer i = 0
    local item V71
    local integer JMI
    local boolean V81 = false
    if JB0[GetPlayerId(GetOwningPlayer(E1I))] + 3 > TimerGetElapsed(M) then
        set V81 = true
    endif
    loop
        exitwhen i > 5
        set V71 = UnitItemInSlot(E1I, i)
        set JMI = KEI(V71)
        if JMI == FT0 and V81 == true then
            call DisableTrigger(trigItemActions)
            set YK = GetItemPlayer(V71)
            call RemoveItem(V71)
            set ZK = KLI(E1I, itemId[FR0], i)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
            call EnableTrigger(trigItemActions)
        endif
        if JMI == FR0 and V81 == false then
            call DisableTrigger(trigItemActions)
            set YK = GetItemPlayer(V71)
            call RemoveItem(V71)
            set ZK = KLI(E1I, itemId[FT0], i)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
            call EnableTrigger(trigItemActions)
        endif
        set i = i + 1
    endloop
    set E1I = null
    set V71 = null
endfunction

function V91 takes nothing returns boolean 
    local integer i = 1
    local unit E1I
    local integer id
    if YQ0 > 0 or JI0 > 0 then
        loop
            exitwhen i > 5
            set id = GetPlayerId(sentinelPlayers[i])
            set E1I = playerHero[id]
            if YX0[id] > 0 and E1I != null and GetUnitTypeId(E1I) > 1 and IsUnitType(E1I, UNIT_TYPE_DEAD) == false then
                call V61(E1I)
            endif
            if JC0[id] > 0 and E1I != null and GetUnitTypeId(E1I) > 1 and IsUnitType(E1I, UNIT_TYPE_DEAD) == false then
                call V21(E1I)
            endif
            set id = GetPlayerId(scourgePlayers[i])
            set E1I = playerHero[id]
            if YX0[id] > 0 and E1I != null and GetUnitTypeId(E1I) > 1 and IsUnitType(E1I, UNIT_TYPE_DEAD) == false then
                call V61(E1I)
            endif
            if JC0[id] > 0 and E1I != null and GetUnitTypeId(E1I) > 1 and IsUnitType(E1I, UNIT_TYPE_DEAD) == false then
                call V21(E1I)
            endif
            set i = i + 1
        endloop
    endif
    set E1I = null
    return false
endfunction

function VB1 takes nothing returns nothing
    local unit E1I = GetFilterUnit()
    local integer i = 0
    local item J6I
    local integer JMI
    loop
        exitwhen i > 5
        set J6I = UnitItemInSlot(E1I, i)
        set JMI = JTI(J6I)
        if (JMI == GW0 or JMI == GX0 or JMI == GY0) and GetItemUserData(J6I) > 0 then
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", E1I, "overhead") )
            call GVI(GetOwningPlayer(E1I), "Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
            set YK = GetItemPlayer(J6I)
            call K6I(J6I)
            set ZK = KLI(E1I, itemId[GJ0], i)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
        endif
        set i = i + 1
    endloop
    set E1I = null
    set J6I = null
endfunction

function VC1 takes nothing returns boolean 
    if UnitInventorySize(GetFilterUnit()) > 0 and isPlayerSentinel(GetOwningPlayer(GetFilterUnit())) and IsUnitIllusion(GetFilterUnit()) == false and isUnitUnavailable(GetFilterUnit()) == false then
        call VB1()
    endif
    return false
endfunction

function VD1 takes nothing returns boolean 
    if UnitInventorySize(GetFilterUnit()) > 0 and isPlayerScourge(GetOwningPlayer(GetFilterUnit())) and IsUnitIllusion(GetFilterUnit()) == false and isUnitUnavailable(GetFilterUnit()) == false then
        call VB1()
    endif
    return false
endfunction

function VE1 takes nothing returns boolean 
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, YS, JS, 750, Condition(function VC1))
    call releaseGroup(g)
    set g = allocGroup()
    call GroupEnumUnitsInRange(g, IP0, IQ0, 750, Condition(function VD1))
    call releaseGroup(g)
    set g = null
    return false
endfunction

function VG1 takes unit VH1 returns boolean 
    local unit VZ1 = playerHero[GetPlayerId(GetOwningPlayer(VH1))]
    if ((GetUnitX(VZ1) - GetUnitX(VH1))*(GetUnitX(VZ1) - GetUnitX(VH1)) + (GetUnitY(VZ1) - GetUnitY(VH1))*(GetUnitY(VZ1) - GetUnitY(VH1)) >= 855625) then
        return true
    endif
    return false
endfunction

function VV1 takes nothing returns nothing
    local unit VW1 = GetAttacker()
    local integer VX1 = UnitInventorySize(VW1)
    local integer x = 0
    local item i
    loop
        exitwhen x > VX1
        set i = UnitItemInSlot(VW1, x)
        if KEI(i) == GZ0 and GetRandomReal(0, 1) <= 0.2 and XWI(VW1) == false then
            if J3I(VW1) then
                if VG1(VW1) == false then
                    call doDamage(VW1, GetTriggerUnit(), 2, 40)
                endif
            else 
                call doDamage(VW1, GetTriggerUnit(), 2, 40)
            endif
        endif
        set x = x + 1
    endloop
    set i = null
    set VW1 = null
endfunction

function VJ1 takes nothing returns nothing
    local unit VW1 = GetAttacker()
    local integer VK1 = 25
    local integer id = GetPlayerId(GetOwningPlayer(GetAttacker()))
    local integer DMI = GetHandleId(VW1)
    local real DJI = TimerGetElapsed(M)
    local real VL1 = LoadReal(hashTable, DMI, 101)
    local boolean VM1 = LoadBoolean(hashTable, DMI, 99)
    local boolean VN1 = LoadBoolean(hashTable, DMI, 100)
    local boolean VS1 = DJI < VL1
    local boolean VT1 = false
    if IsUnitType(VW1, UNIT_TYPE_MELEE_ATTACKER) == false then
        set VK1 = 10
    endif
    if GetRandomInt(0, 100) < VK1 then
        set VT1 = true
    endif
    if GetUnitAbilityLevel(VW1, 'A0JJ') > 0 or GetUnitAbilityLevel(VW1, 'A081') > 0 or GetUnitAbilityLevel(VW1, 'A0G5') > 0 or GetUnitAbilityLevel(VW1, 'A09E') > 0 then
        call UnitRemoveAbility(VW1, 'A174')
        set VW1 = null
        return
    endif
    if VM1 and VS1 == false and VN1 == false then
        call SaveReal(hashTable, DMI, 101, ((DJI + 2)*1.0))
        if VT1 == false then
            call SaveBoolean(hashTable, DMI, 100, true)
        endif
    elseif VS1 or VN1 then
        call UnitRemoveAbility(VW1, 'A174')
        call SaveBoolean(hashTable, DMI, 99, false)
        call SaveBoolean(hashTable, DMI, 100, false)
    endif
    if VT1 then
        call UnitAddAbility(VW1, 'A174')
        call SaveBoolean(hashTable, DMI, 99, true)
    endif
    set VW1 = null
endfunction

function VP1 takes nothing returns boolean 
    if IsUnitType(GetKillingUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitAlly(GetDyingUnit(), GetOwningPlayer(GetKillingUnit())) == false then
        if GetUnitTypeId(GetTriggerUnit()) == 'n00J' then
            call doDamage(GetDyingUnit(), GetKillingUnit(), 3, 200)
        elseif GetUnitTypeId(GetTriggerUnit()) == 'n00A' then
            call doDamage(GetDyingUnit(), GetKillingUnit(), 3, 400)
        elseif GetUnitTypeId(GetTriggerUnit()) == 'n006' then
            call doDamage(GetDyingUnit(), GetKillingUnit(), 3, 600)
        endif
    endif
    return false
endfunction

function VU1 takes nothing returns boolean 
    local unit E1I = GetTriggerUnit()
    local integer FVI = 1
    if K7I(E1I, itemId[FB0], GetManipulatedItem()) != null then
        set FVI = 2
    endif
    if K7I(E1I, itemId[itemIdPhaseBoots], GetManipulatedItem()) != null then
        set FVI = 3
    endif
    if K7I(E1I, itemId[HG0], GetManipulatedItem()) != null or K7I(E1I, itemId[HH0], GetManipulatedItem()) != null or K7I(E1I, itemId[HZ0], GetManipulatedItem()) != null then
        set FVI = 4
    endif
    if K7I(E1I, itemId[HF0], GetManipulatedItem()) != null then
        set FVI = 5
    endif
    if K7I(E1I, itemId[ZO0], GetManipulatedItem()) != null then
        call UnitAddAbility(E1I, 'A0V0')
        call SetUnitAbilityLevel(E1I, 'A0V0', FVI)
        call UnitMakeAbilityPermanent(E1I, true, 'A0V0')
    else 
        call UnitRemoveAbility(E1I, 'A0V0')
    endif
    set E1I = null
    return false
endfunction

function W01 takes nothing returns boolean 
    local unit E1I = GetTriggerUnit()
    local integer FVI = 1
    if getSpecificItem(E1I, itemId[FB0]) != null then
        set FVI = 2
    endif
    if getSpecificItem(E1I, itemId[itemIdPhaseBoots]) != null then
        set FVI = 3
    endif
    if getSpecificItem(E1I, itemId[HG0]) != null or getSpecificItem(E1I, itemId[HH0]) != null or getSpecificItem(E1I, itemId[HZ0]) != null then
        set FVI = 4
    endif
    if getSpecificItem(E1I, itemId[HF0]) != null then
        set FVI = 5
    endif
    if getSpecificItem(E1I, itemId[ZO0]) != null then
        call UnitAddAbility(E1I, 'A0V0')
        call SetUnitAbilityLevel(E1I, 'A0V0', FVI)
        call UnitMakeAbilityPermanent(E1I, true, 'A0V0')
    endif
    set E1I = null
    return false
endfunction

function W11 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DROP_ITEM then
        if KEI(GetManipulatedItem()) == VG0 then
            call UnitRemoveAbility(E1I, 'A0PS')
        endif
        if KEI(GetManipulatedItem()) == V10 then
            call UnitRemoveAbility(E1I, 'A1BW')
        endif
        if KEI(GetManipulatedItem()) == VF0 then
            call UnitRemoveAbility(E1I, 'A0PS')
            call UnitRemoveAbility(E1I, 'A0TC')
            call UnitRemoveAbility(E1I, 'A0UK')
        endif
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_PICKUP_ITEM then
        if KEI(GetManipulatedItem()) == VG0 then
            call UnitAddAbility(E1I, 'A0PS')
        endif
        if KEI(GetManipulatedItem()) == V10 then
            call UnitAddAbility(E1I, 'A1BW')
            call UnitMakeAbilityPermanent(E1I, true, 'A1BW')
        endif
        if KEI(GetManipulatedItem()) == VF0 then
            call UnitAddAbility(E1I, 'A0PS')
            call UnitAddAbility(E1I, 'A0TC')
            call UnitAddAbility(E1I, 'A0UK')
        endif
    endif
    set E1I = null
endfunction

function WO1 takes nothing returns boolean 
    if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and (KEI(GetManipulatedItem()) == VF0 or KEI(GetManipulatedItem()) == VG0 or KEI(GetManipulatedItem()) == V10) then
        call W11()
    endif
    return false
endfunction

function W31 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local item J6I = LoadItemHandle(hashTable, DMI, 96)
    if GetTriggerEventId() == EVENT_UNIT_DROP_ITEM and GetManipulatedItem() == J6I then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitState(E1I, UNIT_STATE_LIFE, HGI(GetUnitState(E1I, UNIT_STATE_LIFE) - JD0, 1))
    endif
    set t = null
    set E1I = null
    set J6I = null
    return false
endfunction

function W41 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function W31))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveItemHandle(hashTable, DMI, 96, GetManipulatedItem())
    set t = null
    set E1I = null
endfunction

function W51 takes nothing returns boolean 
    if GetItemType(GetManipulatedItem()) == ITEM_TYPE_PERMANENT and KEI(GetManipulatedItem()) == VF0 then
        call W41()
    endif
    return false
endfunction

function W71 takes unit u returns boolean 
    local item W81 = CreateItem('I0KK', GetUnitX(u), GetUnitY(u))
    local boolean KJI = UnitAddItem(u, W81)
    if KJI == false then
        call RemoveItem(W81)
    endif
    return KJI
endfunction

function W91 takes unit E1I, item J6I, integer KNI returns item 
    local real x = KYI(E1I)
    local real y = KKI(E1I)
    local integer i = 0
    local boolean array KSI
    local item KTI
    loop
        exitwhen i > (UnitInventorySize(E1I) - 1)
        if UnitItemInSlot(E1I, i) == null and i != KNI then
            set KTI = CreateItem('I02M', x, y)
            call UnitAddItem(E1I, KTI)
            set KSI[i] = true
        else 
            set KSI[i] = false
        endif
        if i == KNI then
            call UnitAddItem(E1I, J6I)
        endif
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen i > 5
        if KSI[i] == true then
            call RemoveItem( UnitItemInSlot(E1I, i) )
        endif
        set i = i + 1
    endloop
    set ZK = J6I
    set KTI = null
    return ZK
endfunction

function WA1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer i = 0
    local item WB1
    local integer JMI
    local unit YVI
    local item WC1
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SaveBoolean(hashTable, GetHandleId(E1I), 102, false)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif W71(E1I) == false then
        call TriggerRegisterTimerEvent(t, 5.5, false)
    else 
        call SaveBoolean(hashTable, GetHandleId(E1I), 102, false)
        call DisableTrigger(trigItemActions)
        if YK0[GetPlayerId(GetOwningPlayer(E1I))] > 0 then
            call SetItemVisible(UnitAddItemById(E1I, 'I0HM'), false)
        endif
        loop
            exitwhen i > 5
            set WB1 = UnitItemInSlot(E1I, i)
            set JMI = KEI(WB1)
            if JMI == itemIdLinkenSphere then
                set YK = GetItemPlayer(WB1)
                call RemoveItem(WB1)
                set YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
                call UnitAddAbility(YVI, 'AInv')
                set WC1 = UnitAddItemById(YVI, itemId[ZL0])
                call UnitUseItem(YVI, WC1)
                set ZK = W91(E1I, WC1, i)
                call SetItemPlayer(WC1, YK, false)
                call SetItemUserData(WC1, 1)
                call UnitRemoveAbility(YVI, 'AInv')
                set YVI = null
                set WC1 = null
            endif
            set WB1 = null
            set i = i + 1
        endloop
        call EnableTrigger(trigItemActions)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function WD1 takes unit E1I returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer i = 0
    local item WB1
    local integer JMI
    local unit YVI
    local item WC1
    call DisableTrigger(trigItemActions)
    call SaveBoolean(hashTable, GetHandleId(E1I), 102, true)
    call TriggerRegisterTimerEvent(t, 20, false)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function WA1))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    loop
        exitwhen i > 5
        set WB1 = UnitItemInSlot(E1I, i)
        set JMI = KEI(WB1)
        if JMI == ZL0 or JMI == itemIdLinkenSphere then
            set YK = GetItemPlayer(WB1)
            call RemoveItem(WB1)
            set YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
            call UnitAddAbility(YVI, 'AInv')
            set WC1 = UnitAddItemById(YVI, itemId[itemIdLinkenSphere])
            call UnitUseItem(YVI, WC1)
            set ZK = W91(E1I, WC1, i)
            call SetItemPlayer(WC1, YK, false)
            call SetItemUserData(WC1, 1)
            call UnitRemoveAbility(YVI, 'AInv')
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl", E1I, "origin") )
            set YVI = null
            set WC1 = null
        endif
        set WB1 = null
        set i = i + 1
    endloop
    call EnableTrigger(trigItemActions)
    set t = null
endfunction

function WE1 takes nothing returns boolean 
    local integer i = 1
    local unit E1I
    local integer id
    if gameEnded then
        return false
    endif
    if YR0 > 0 then
        loop
            exitwhen i > 5
            set id = GetPlayerId(sentinelPlayers[i])
            set E1I = playerHero[id]
            if YK0[id] > 0 and E1I != null and GetUnitTypeId(E1I) > 1 and IsUnitType(E1I, UNIT_TYPE_DEAD) == false and LoadBoolean(hashTable, GetHandleId(E1I), 102) == false and (GetUnitAbilityLevel(E1I, 'B0BI') > 0) == false and LoadBoolean(hashTable, GetHandleId(E1I), 129) == false then
                call WD1(E1I)
            endif
            set id = GetPlayerId(scourgePlayers[i])
            set E1I = playerHero[id]
            if YK0[id] > 0 and E1I != null and GetUnitTypeId(E1I) > 1 and IsUnitType(E1I, UNIT_TYPE_DEAD) == false and LoadBoolean(hashTable, GetHandleId(E1I), 102) == false and (GetUnitAbilityLevel(E1I, 'B0BI') > 0) == false and LoadBoolean(hashTable, GetHandleId(E1I), 129) == false then
                call WD1(E1I)
            endif
            set i = i + 1
        endloop
    endif
    set E1I = null
    return false
endfunction

function WG1 takes integer KMI returns integer 
    if KMI == 'I006' then
        return GM0
    elseif KMI == 'I008' then
        return GN0
    elseif KMI == 'I00J' then
        return GK0
    elseif KMI == 'I00K' then
        return GL0
    elseif KMI == 'I007' then
        return GS0
    endif
    return -1
endfunction

function WH1 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0H6' then
        call SaveUnitHandle(hashTable, GetHandleId(GetTriggerUnit()), 103, null)
        call SaveInteger(hashTable, GetHandleId(GetTriggerUnit()), 104, 0)
        if (getSpecificItem(GetTriggerUnit(), itemId[GW0]) != null or getSpecificItem(GetTriggerUnit(), itemDisabledId[GW0]) != null) and (GetUnitTypeId(GetSpellTargetUnit()) == 'nfoh' or GetUnitTypeId(GetSpellTargetUnit()) == 'ndfl') then
            call SaveUnitHandle(hashTable, GetHandleId(GetTriggerUnit()), 103, GetSpellTargetUnit())
        elseif EQ1(GetItemTypeId(GetSpellTargetItem())) then
            call HV1(GetTriggerUnit(), GetItemTypeId(GetSpellTargetItem()), true)
            call SaveInteger(hashTable, GetHandleId(GetTriggerUnit()), 104, GetItemTypeId(GetSpellTargetItem()))
            call K6I(GetSpellTargetItem())
        endif
    endif
    return false
endfunction

function WZ1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, DMI, 26)
    local integer ZO1 = LoadInteger(hashTable, DMI, 98)
    local item J6I = UnitItemInSlot(u, ZO1)
    local integer WV1 = LoadInteger(hashTable, DMI, 105)
    local item WC1
    local integer KNI
    if J6I != null and JNI(JTI(J6I)) and GetHandleId(J6I) == WV1 and isUnitUnavailable(u) == false and isUnitUnavailable(u) == false then
        set WC1 = CreateItem(LoadInteger(hashTable, GetHandleId(J6I), GetHandleId(u)), GetUnitX(u), GetUnitY(u))
        call FlushChildHashtable(hashTable, GetHandleId(J6I))
        set KNI = WNI(u, J6I)
        set YK = GetItemPlayer(J6I)
        call K6I(J6I)
        set ZK = KLI(u, itemId[GJ0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call UnitAddItem(u, WC1)
    endif
    set t = null
    set u = null
    set J6I = null
    set WC1 = null
    return false
endfunction

function WW1 takes unit u, item WC1 returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer ZO1 = WNI(u, WC1)
    call SaveInteger(hashTable, DMI, 98, ZO1)
    call SaveInteger(hashTable, DMI, 105, GetHandleId(WC1))
    call SaveUnitHandle(hashTable, DMI, 26, u)
    call TriggerRegisterTimerEvent(t, 120, true)
    call TriggerAddCondition(t, Condition(function WZ1))
    set t = null
endfunction

function WX1 takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local item J6I = GetManipulatedItem()
    local integer JMI = JTI(J6I)
    local unit WY1
    local integer WJ1
    local boolean TargetFrog
    local integer KNI
    local item WC1
    local integer WK1
    if JMI == GW0 then
        set KNI = WNI(u, J6I)
        set WY1 = LoadUnitHandle(hashTable, GetHandleId(u), 103)
        set WJ1 = LoadInteger(hashTable, GetHandleId(u), 104)
        if GetUnitTypeId(WY1) == 'nfoh' or GetUnitTypeId(WY1) == 'ndfl' then
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", u, "overhead") )
            call GVI(GetOwningPlayer(u), "Abilities\\Spells\\Human\\Heal\\HealTarget.wav")
            set YK = GetItemPlayer(J6I)
            call K6I(J6I)
            set ZK = KLI(u, itemId[GJ0], KNI)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
        elseif EQ1(WJ1) then
            set WK1 = WG1(WJ1)
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", u, "overhead") )
            set YK = GetItemPlayer(J6I)
            call K6I(J6I)
            call DisableTrigger(trigItemActions)
            if GetOwningPlayer(u) == YK then
                set ZK = KLI(u, itemId[WK1], KNI)
            else 
                set ZK = KLI(u, itemDisabledId[WK1], KNI)
            endif
            call EnableTrigger(trigItemActions)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
            set WC1 = UnitItemInSlot(u, KNI)
            call SaveInteger(hashTable, GetHandleId(WC1), GetHandleId(u), WJ1)
            call WW1(u, WC1)
        endif
    elseif JMI == GJ0 then
        set KNI = WNI(u, J6I)
        set YK = GetItemPlayer(J6I)
        call K6I(J6I)
        set ZK = KLI(u, itemId[GY0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    elseif JMI == GY0 then
        set KNI = WNI(u, J6I)
        set YK = GetItemPlayer(J6I)
        call K6I(J6I)
        set ZK = KLI(u, itemId[GX0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    elseif JMI == GX0 then
        set KNI = WNI(u, J6I)
        set YK = GetItemPlayer(J6I)
        call K6I(J6I)
        set ZK = KLI(u, itemId[GW0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 0)
    elseif JNI(JMI) then
        if LoadInteger(hashTable, GetHandleId(J6I), GetHandleId(u)) > 0 then
            set J10 = true
            set KNI = WNI(u, J6I)
            set WC1 = CreateItem(LoadInteger(hashTable, GetHandleId(J6I), GetHandleId(u)), GetUnitX(u), GetUnitY(u))
            call FlushChildHashtable(hashTable, GetHandleId(J6I))
            set YK = GetItemPlayer(J6I)
            call K6I(J6I)
            set ZK = KLI(u, itemId[GJ0], KNI)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
            call UnitAddItem(u, WC1)
            set J10 = false
        endif
    endif
    set u = null
    set J6I = null
    set WY1 = null
    set WC1 = null
endfunction

function WL1 takes player p returns integer 
    local integer r = GetRandomInt(1, 3)
    if isPlayerSentinel(p) then
        if r == 1 then
            return 'n00I'
        elseif r == 2 then
            return 'n022'
        else 
            return 'n021'
        endif
    else 
        if r == 1 then
            return 'n023'
        elseif r == 2 then
            return 'n024'
        else 
            return 'n025'
        endif
    endif
    return 0
endfunction

function WM1 takes player p returns integer 
    if isPlayerSentinel(p) then
        return 'e01H'
    else 
        return 'e01Z'
    endif
    return 0
endfunction

function WN1 takes nothing returns nothing
    local unit WS1 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), WL1(GetOwningPlayer(GetTriggerUnit())), GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()))
    local real x = GetUnitX(GetTriggerUnit())
    local real y = GetUnitY(GetTriggerUnit())
    local real a = GetUnitFacing(GetTriggerUnit())
    call SetUnitPosition(WS1, x + 25*Cos(a*bj_DEGTORAD), y + 25*Sin(a*bj_DEGTORAD))
    if VM[GetPlayerId(GetOwningPlayer(WS1))] == false then
        call UnitRemoveType(WS1, UNIT_TYPE_PEON)
    else 
        call UnitAddType(WS1, UNIT_TYPE_PEON)
    endif
endfunction

function WT1 takes nothing returns nothing
    local unit WS1 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), WM1(GetOwningPlayer(GetTriggerUnit())), GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitFacing(GetTriggerUnit()))
    if VM[GetPlayerId(GetOwningPlayer(WS1))] == false then
        call UnitRemoveType(WS1, UNIT_TYPE_PEON)
    else 
        call UnitAddType(WS1, UNIT_TYPE_PEON)
    endif
endfunction

function WR1 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0B6' then
        call WN1()
    endif
    if GetSpellAbilityId() == 'A0JT' then
        call WT1()
    endif
    return false
endfunction

function WP1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit WS1 = LoadUnitHandle(hashTable, DMI, 124)
    local integer WQ1 = LoadInteger(hashTable, DMI, 125)
    local integer WU1 = LoadInteger(hashTable, DMI, 106)
    local integer X01 = LoadInteger(hashTable, DMI, 107)
    local integer XI1 = LoadInteger(hashTable, DMI, 108)
    local integer X11 = LoadInteger(hashTable, DMI, 109)
    local integer XO1 = LoadInteger(hashTable, DMI, 110)
    local integer X21 = LoadInteger(hashTable, DMI, 111)
    local player p0 = LoadPlayerHandle(hashTable, DMI, 118)
    local player p1 = LoadPlayerHandle(hashTable, DMI, 119)
    local player p2 = LoadPlayerHandle(hashTable, DMI, 120)
    local player p3 = LoadPlayerHandle(hashTable, DMI, 121)
    local player p4 = LoadPlayerHandle(hashTable, DMI, 122)
    local player p5 = LoadPlayerHandle(hashTable, DMI, 123)
    local integer X31 = LoadInteger(hashTable, DMI, 112)
    local integer X41 = LoadInteger(hashTable, DMI, 113)
    local integer X51 = LoadInteger(hashTable, DMI, 114)
    local integer X61 = LoadInteger(hashTable, DMI, 115)
    local integer X71 = LoadInteger(hashTable, DMI, 116)
    local integer X81 = LoadInteger(hashTable, DMI, 117)
    call DisableTrigger(trigItemActions)
    if GetTriggerEvalCount(t) == 1 then
        call UnitAddAbility(WS1, WQ1)
        if VM[GetPlayerId(GetOwningPlayer(WS1))] == false then
            call UnitRemoveType(WS1, UNIT_TYPE_PEON)
        else 
            call UnitAddType(WS1, UNIT_TYPE_PEON)
        endif
    else 
        if WU1 > 0 then
            set ZK = UnitAddItemById(WS1, WU1)
            call SetItemPlayer(ZK, p0, false)
            call SetItemUserData(ZK, 1)
        endif
        if X31 > 0 then
            call SetItemCharges(ZK, X31)
        endif
        if X01 > 0 then
            set ZK = UnitAddItemById(WS1, X01)
            call SetItemPlayer(ZK, p1, false)
            call SetItemUserData(ZK, 1)
        endif
        if X41 > 0 then
            call SetItemCharges(ZK, X41)
        endif
        if XI1 > 0 then
            set ZK = UnitAddItemById(WS1, XI1)
            call SetItemPlayer(ZK, p2, false)
            call SetItemUserData(ZK, 1)
        endif
        if X51 > 0 then
            call SetItemCharges(ZK, X51)
        endif
        if X11 > 0 then
            set ZK = UnitAddItemById(WS1, X11)
            call SetItemPlayer(ZK, p3, false)
            call SetItemUserData(ZK, 1)
        endif
        if X61 > 0 then
            call SetItemCharges(ZK, X61)
        endif
        if XO1 > 0 then
            set ZK = UnitAddItemById(WS1, XO1)
            call SetItemPlayer(ZK, p4, false)
            call SetItemUserData(ZK, 1)
        endif
        if X71 > 0 then
            call SetItemCharges(ZK, X71)
        endif
        if X21 > 0 then
            set ZK = UnitAddItemById(WS1, X21)
            call SetItemPlayer(ZK, p5, false)
            call SetItemUserData(ZK, 1)
        endif
        if X81 > 0 then
            call SetItemCharges(ZK, X81)
        endif
        if VM[GetPlayerId(GetOwningPlayer(WS1))] == false then
            call UnitRemoveType(WS1, UNIT_TYPE_PEON)
        else 
            call UnitAddType(WS1, UNIT_TYPE_PEON)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    call EnableTrigger(trigItemActions)
    set t = null
    set WS1 = null
    set p0 = null
    set p1 = null
    set p2 = null
    set p3 = null
    set p4 = null
    set p5 = null
    return false
endfunction

function X91 takes nothing returns nothing
    local unit XA1 = GetTriggerUnit()
    local integer XB1 = GetUnitTypeId(XA1)
    local real x = GetUnitX(XA1)
    local real y = GetUnitY(XA1)
    local item XC1
    local item XD1
    local item XE1
    local item XF1
    local item XG1
    local item XH1
    local player p0
    local player p1
    local player p2
    local player p3
    local player p4
    local player p5
    local integer WU1
    local integer X01
    local integer XI1
    local integer X11
    local integer XO1
    local integer X21
    local integer X31 = -1
    local integer X41 = -1
    local integer X51 = -1
    local integer X61 = -1
    local integer X71 = -1
    local integer X81 = -1
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer WQ1
    local item J6I
    set XC1 = UnitItemInSlot(XA1, 0)
    set XD1 = UnitItemInSlot(XA1, 1)
    set XE1 = UnitItemInSlot(XA1, 2)
    set XF1 = UnitItemInSlot(XA1, 3)
    set XG1 = UnitItemInSlot(XA1, 4)
    set XH1 = UnitItemInSlot(XA1, 5)
    set WU1 = GetItemTypeId(XC1)
    set X01 = GetItemTypeId(XD1)
    set XI1 = GetItemTypeId(XE1)
    set X11 = GetItemTypeId(XF1)
    set XO1 = GetItemTypeId(XG1)
    set X21 = GetItemTypeId(XH1)
    set p0 = GetItemPlayer(XC1)
    set p1 = GetItemPlayer(XD1)
    set p2 = GetItemPlayer(XE1)
    set p3 = GetItemPlayer(XF1)
    set p4 = GetItemPlayer(XG1)
    set p5 = GetItemPlayer(XH1)
    set J6I = XC1
    if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
        set X31 = GetItemCharges(J6I)
    endif
    set J6I = XD1
    if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
        set X41 = GetItemCharges(J6I)
    endif
    set J6I = XE1
    if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
        set X51 = GetItemCharges(J6I)
    endif
    set J6I = XF1
    if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
        set X61 = GetItemCharges(J6I)
    endif
    set J6I = XG1
    if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
        set X71 = GetItemCharges(J6I)
    endif
    set J6I = XH1
    if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
        set X81 = GetItemCharges(J6I)
    endif
    call K6I(XC1)
    call K6I(XD1)
    call K6I(XE1)
    call K6I(XF1)
    call K6I(XG1)
    call K6I(XH1)
    if XB1 == 'n00I' then
        set WQ1 = 'S009'
    elseif XB1 == 'n022' then
        set WQ1 = 'S00D'
    elseif XB1 == 'n021' then
        set WQ1 = 'S00C'
    elseif XB1 == 'n023' then
        set WQ1 = 'S00E'
    elseif XB1 == 'n024' then
        set WQ1 = 'S00B'
    elseif XB1 == 'n025' then
        set WQ1 = 'S00F'
    endif
    if GetRandomInt(1, 10) == 1 then
        set WQ1 = 'S00G'
    endif
    if XB1 == 'n00M' then
        set WQ1 = 'S00L'
    elseif XB1 == 'n0HV' then
        set WQ1 = 'S00F'
    endif
    call SavePlayerHandle(hashTable, DMI, 118, p0)
    call SavePlayerHandle(hashTable, DMI, 119, p1)
    call SavePlayerHandle(hashTable, DMI, 120, p2)
    call SavePlayerHandle(hashTable, DMI, 121, p3)
    call SavePlayerHandle(hashTable, DMI, 122, p4)
    call SavePlayerHandle(hashTable, DMI, 123, p5)
    call SaveInteger(hashTable, DMI, 106, WU1)
    call SaveInteger(hashTable, DMI, 107, X01)
    call SaveInteger(hashTable, DMI, 108, XI1)
    call SaveInteger(hashTable, DMI, 109, X11)
    call SaveInteger(hashTable, DMI, 110, XO1)
    call SaveInteger(hashTable, DMI, 111, X21)
    call SaveInteger(hashTable, DMI, 112, X31)
    call SaveInteger(hashTable, DMI, 113, X41)
    call SaveInteger(hashTable, DMI, 114, X51)
    call SaveInteger(hashTable, DMI, 115, X61)
    call SaveInteger(hashTable, DMI, 116, X71)
    call SaveInteger(hashTable, DMI, 117, X81)
    call SaveUnitHandle(hashTable, DMI, 124, XA1)
    call SaveInteger(hashTable, DMI, 125, WQ1)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function WP1))
    set t = null
    set XA1 = null
    set XC1 = null
    set XD1 = null
    set XE1 = null
    set XF1 = null
    set XG1 = null
    set XH1 = null
    set p0 = null
    set p1 = null
    set p2 = null
    set p3 = null
    set p4 = null
    set p5 = null
endfunction

function XZ1 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0OT' then
        call X91()
    endif
    return false
endfunction

function XV1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit WS1 = LoadUnitHandle(hashTable, DMI, 124)
    local integer WQ1 = LoadInteger(hashTable, DMI, 125)
    local integer WU1 = LoadInteger(hashTable, DMI, 106)
    local integer X01 = LoadInteger(hashTable, DMI, 107)
    local integer XI1 = LoadInteger(hashTable, DMI, 108)
    local integer X11 = LoadInteger(hashTable, DMI, 109)
    local integer XO1 = LoadInteger(hashTable, DMI, 110)
    local integer X21 = LoadInteger(hashTable, DMI, 111)
    local player p0 = LoadPlayerHandle(hashTable, DMI, 118)
    local player p1 = LoadPlayerHandle(hashTable, DMI, 119)
    local player p2 = LoadPlayerHandle(hashTable, DMI, 120)
    local player p3 = LoadPlayerHandle(hashTable, DMI, 121)
    local player p4 = LoadPlayerHandle(hashTable, DMI, 122)
    local player p5 = LoadPlayerHandle(hashTable, DMI, 123)
    local integer X31 = LoadInteger(hashTable, DMI, 112)
    local integer X41 = LoadInteger(hashTable, DMI, 113)
    local integer X51 = LoadInteger(hashTable, DMI, 114)
    local integer X61 = LoadInteger(hashTable, DMI, 115)
    local integer X71 = LoadInteger(hashTable, DMI, 116)
    local integer X81 = LoadInteger(hashTable, DMI, 117)
    call DisableTrigger(trigItemActions)
    if GetTriggerEvalCount(t) == 1 then
        call UnitAddAbility(WS1, WQ1)
        if VM[GetPlayerId(GetOwningPlayer(WS1))] == false then
            call UnitRemoveType(WS1, UNIT_TYPE_PEON)
        else 
            call UnitAddType(WS1, UNIT_TYPE_PEON)
        endif
    else 
        if WU1 > 0 then
            set ZK = UnitAddItemById(WS1, WU1)
            call SetItemPlayer(ZK, p0, false)
            call SetItemUserData(ZK, 1)
        endif
        if X31 > 0 then
            call SetItemCharges(ZK, X31)
        endif
        if X01 > 0 then
            set ZK = UnitAddItemById(WS1, X01)
            call SetItemPlayer(ZK, p1, false)
            call SetItemUserData(ZK, 1)
        endif
        if X41 > 0 then
            call SetItemCharges(ZK, X41)
        endif
        if XI1 > 0 then
            set ZK = UnitAddItemById(WS1, XI1)
            call SetItemPlayer(ZK, p2, false)
            call SetItemUserData(ZK, 1)
        endif
        if X51 > 0 then
            call SetItemCharges(ZK, X51)
        endif
        if X11 > 0 then
            set ZK = UnitAddItemById(WS1, X11)
            call SetItemPlayer(ZK, p3, false)
            call SetItemUserData(ZK, 1)
        endif
        if X61 > 0 then
            call SetItemCharges(ZK, X61)
        endif
        if XO1 > 0 then
            set ZK = UnitAddItemById(WS1, XO1)
            call SetItemPlayer(ZK, p4, false)
            call SetItemUserData(ZK, 1)
        endif
        if X71 > 0 then
            call SetItemCharges(ZK, X71)
        endif
        if X21 > 0 then
            set ZK = UnitAddItemById(WS1, X21)
            call SetItemPlayer(ZK, p5, false)
            call SetItemUserData(ZK, 1)
        endif
        if X81 > 0 then
            call SetItemCharges(ZK, X81)
        endif
        if VM[GetPlayerId(GetOwningPlayer(WS1))] == false then
            call UnitRemoveType(WS1, UNIT_TYPE_PEON)
        else 
            call UnitAddType(WS1, UNIT_TYPE_PEON)
        endif
        call SetUnitFlyHeight(WS1, 240, 0)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    call EnableTrigger(trigItemActions)
    set t = null
    set WS1 = null
    set p0 = null
    set p1 = null
    set p2 = null
    set p3 = null
    set p4 = null
    set p5 = null
    return false
endfunction

function XW1 takes nothing returns nothing
    local unit XA1 = GetTriggerUnit()
    local integer XB1 = GetUnitTypeId(XA1)
    local real x = GetUnitX(XA1)
    local real y = GetUnitY(XA1)
    local item XC1
    local item XD1
    local item XE1
    local item XF1
    local item XG1
    local item XH1
    local player p0
    local player p1
    local player p2
    local player p3
    local player p4
    local player p5
    local integer WU1
    local integer X01
    local integer XI1
    local integer X11
    local integer XO1
    local integer X21
    local integer X31 = -1
    local integer X41 = -1
    local integer X51 = -1
    local integer X61 = -1
    local integer X71 = -1
    local integer X81 = -1
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer WQ1
    local item J6I
    local item XX1 = Z9I(XA1, itemId[WT0])
    local integer i
    local item XY1
    if XX1 == null then
        set XX1 = Z9I(XA1, itemDisabledId[WT0])
    endif
    if XX1 != null then
        set i = 0
        loop
            exitwhen i > 5
            set XY1 = UnitItemInSlot(XA1, i)
            if JTI(XY1) == FL0 then
                call UnitRemoveItem(XA1, XY1)
            endif
            set i = i + 1
        endloop
        call RemoveItem(XX1)
        set XC1 = UnitItemInSlot(XA1, 0)
        set XD1 = UnitItemInSlot(XA1, 1)
        set XE1 = UnitItemInSlot(XA1, 2)
        set XF1 = UnitItemInSlot(XA1, 3)
        set XG1 = UnitItemInSlot(XA1, 4)
        set XH1 = UnitItemInSlot(XA1, 5)
        set WU1 = GetItemTypeId(XC1)
        set X01 = GetItemTypeId(XD1)
        set XI1 = GetItemTypeId(XE1)
        set X11 = GetItemTypeId(XF1)
        set XO1 = GetItemTypeId(XG1)
        set X21 = GetItemTypeId(XH1)
        set p0 = GetItemPlayer(XC1)
        set p1 = GetItemPlayer(XD1)
        set p2 = GetItemPlayer(XE1)
        set p3 = GetItemPlayer(XF1)
        set p4 = GetItemPlayer(XG1)
        set p5 = GetItemPlayer(XH1)
        set J6I = XC1
        if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
            set X31 = GetItemCharges(J6I)
        endif
        set J6I = XD1
        if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
            set X41 = GetItemCharges(J6I)
        endif
        set J6I = XE1
        if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
            set X51 = GetItemCharges(J6I)
        endif
        set J6I = XF1
        if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
            set X61 = GetItemCharges(J6I)
        endif
        set J6I = XG1
        if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
            set X71 = GetItemCharges(J6I)
        endif
        set J6I = XH1
        if GetItemType(J6I) == ITEM_TYPE_ARTIFACT or K1I(JTI(J6I)) then
            set X81 = GetItemCharges(J6I)
        endif
        call K6I(XC1)
        call K6I(XD1)
        call K6I(XE1)
        call K6I(XF1)
        call K6I(XG1)
        call K6I(XH1)
        if isPlayerSentinel(GetOwningPlayer(XA1)) then
            set WQ1 = 'S00I'
        else 
            set WQ1 = 'S00J'
        endif
        call SavePlayerHandle(hashTable, DMI, 118, p0)
        call SavePlayerHandle(hashTable, DMI, 119, p1)
        call SavePlayerHandle(hashTable, DMI, 120, p2)
        call SavePlayerHandle(hashTable, DMI, 121, p3)
        call SavePlayerHandle(hashTable, DMI, 122, p4)
        call SavePlayerHandle(hashTable, DMI, 123, p5)
        call SaveInteger(hashTable, DMI, 106, WU1)
        call SaveInteger(hashTable, DMI, 107, X01)
        call SaveInteger(hashTable, DMI, 108, XI1)
        call SaveInteger(hashTable, DMI, 109, X11)
        call SaveInteger(hashTable, DMI, 110, XO1)
        call SaveInteger(hashTable, DMI, 111, X21)
        call SaveInteger(hashTable, DMI, 112, X31)
        call SaveInteger(hashTable, DMI, 113, X41)
        call SaveInteger(hashTable, DMI, 114, X51)
        call SaveInteger(hashTable, DMI, 115, X61)
        call SaveInteger(hashTable, DMI, 116, X71)
        call SaveInteger(hashTable, DMI, 117, X81)
        call SaveUnitHandle(hashTable, DMI, 124, XA1)
        call SaveInteger(hashTable, DMI, 125, WQ1)
        call TriggerRegisterTimerEvent(t, 0.05, true)
        call TriggerAddCondition(t, Condition(function XV1))
    else 
        call displayErrorMessage(GetOwningPlayer(XA1), GetObjectName('n02Q'))
    endif
    set t = null
    set XA1 = null
    set XC1 = null
    set XD1 = null
    set XE1 = null
    set XF1 = null
    set XG1 = null
    set XH1 = null
    set p0 = null
    set p1 = null
    set p2 = null
    set p3 = null
    set p4 = null
    set p5 = null
endfunction

function XJ1 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0GD' then
        call XW1()
    endif
    return false
endfunction

function XK1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'Aeat' then
            call SaveInteger(hashTable, DMI, 34, 16)
        endif
    elseif isUnitUnavailable(GCI) or GetTriggerEventId() == EVENT_UNIT_DEATH or DHI == 0 then
        call UnitRemoveAbility(GCI, 'A0PV')
        call UnitRemoveAbility(GCI, 'B07L')
        call SaveInteger(hashTable, GetHandleId(GCI), 4255, 2)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitState(GCI, UNIT_STATE_LIFE, GetUnitState(GCI, UNIT_STATE_LIFE) + 115/16)
        call SaveInteger(hashTable, DMI, 34, (DHI - 1))
    endif
    return false
endfunction

function XL1 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveInteger(hashTable, GetHandleId(GCI), 4255, 1)
    call UnitAddAbility(GCI, 'A0PV')
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 34, 16)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XK1))
    call TriggerEvaluate(t)
    set GCI = null
    set t = null
endfunction

function XM1 takes nothing returns nothing
    if GetSpellAbilityId() == 'Aeat' and (LoadInteger(hashTable, GetHandleId(GetTriggerUnit()), 4255) == 1) == false then
        call XL1()
    endif
endfunction

function XN1 takes integer id, real x, real y returns nothing
    if IsPointInRegion(JX0, x, y) == false then
        set JZ0 = JZ0 + 1
        set JE0[JZ0] = Player(id)
        set JF0[JZ0] = x
        set JG0[JZ0] = y
        set JH0[JZ0] = TimerGetElapsed(M)
    endif
endfunction

function XS1 takes integer id, real x, real y returns integer 
    local real LLI = TimerGetElapsed(M)
    local integer i = 0
    local integer DHI = 0
    if IsPointInRegion(JX0, x, y) == true then
        return DHI
    endif
    loop
        exitwhen i > JZ0
        if (LLI < JH0[i] + JV0) and (getDistance(x, y, JF0[i], JG0[i]) < JW0*2 + 50) and IsPlayerAlly(Player(id), JE0[i]) == true then
            set DHI = DHI + 1
        endif
        set i = i + 1
    endloop
    return DHI
endfunction

function XT1 takes integer CDI returns integer 
    if CDI == GetPlayerId(sentinelPlayers[1]) then
        return 'h0BI'
    elseif CDI == GetPlayerId(sentinelPlayers[2]) then
        return 'h0BK'
    elseif CDI == GetPlayerId(sentinelPlayers[3]) then
        return 'h0BG'
    elseif CDI == GetPlayerId(sentinelPlayers[4]) then
        return 'h0BF'
    elseif CDI == GetPlayerId(sentinelPlayers[5]) then
        return 'h0BL'
    elseif CDI == GetPlayerId(scourgePlayers[1]) then
        return 'h0BH'
    elseif CDI == GetPlayerId(scourgePlayers[2]) then
        return 'h0BJ'
    elseif CDI == GetPlayerId(scourgePlayers[3]) then
        return 'h0BM'
    elseif CDI == GetPlayerId(scourgePlayers[4]) then
        return 'h0A5'
    elseif CDI == GetPlayerId(scourgePlayers[5]) then
        return 'h0BN'
    endif
    return 'h0BN'
endfunction

function XR1 takes integer CDI returns integer 
    return 'h0AX'
endfunction

function XP1 takes integer CDI returns string 
    if CDI == GetPlayerId(sentinelPlayers[1]) then
        return "war3mapImported\\TeleportTarget_Blue.mdx"
    elseif CDI == GetPlayerId(sentinelPlayers[2]) then
        return "war3mapImported\\TeleportTarget_Teal.mdx"
    elseif CDI == GetPlayerId(sentinelPlayers[3]) then
        return "war3mapImported\\TeleportTarget_Purple.mdx"
    elseif CDI == GetPlayerId(sentinelPlayers[4]) then
        return "war3mapImported\\TeleportTarget_Yellow.mdx"
    elseif CDI == GetPlayerId(sentinelPlayers[5]) then
        return "war3mapImported\\TeleportTarget_Orange.mdx"
    elseif CDI == GetPlayerId(scourgePlayers[1]) then
        return "war3mapImported\\TeleportTarget_Pink.mdx"
    elseif CDI == GetPlayerId(scourgePlayers[2]) then
        return "war3mapImported\\TeleportTarget_Gray.mdx"
    elseif CDI == GetPlayerId(scourgePlayers[3]) then
        return "war3mapImported\\TeleportTarget_LightBlue.mdx"
    elseif CDI == GetPlayerId(scourgePlayers[4]) then
        return "war3mapImported\\TeleportTarget_DarkGreen.mdx"
    elseif CDI == GetPlayerId(scourgePlayers[5]) then
        return "war3mapImported\\TeleportTarget_Brown.mdx"
    endif
    return "Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"
endfunction

function XQ1 takes integer CDI returns string 
    return "Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl"
endfunction

function XU1 takes nothing returns boolean 
    local real d
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 0 and GetUnitAbilityLevel(GetFilterUnit(), 'Asud') == 0 and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GK)) == true and GetUnitTypeId(GetFilterUnit()) != 'u00S' and GetUnitTypeId(GetFilterUnit()) != 'ncop' and IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false then
        set d = getDistance(AK, BK, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < OK then
            set OK = d
            set myUnit = GetFilterUnit()
        endif
    endif
    return false
endfunction

function Y01 takes unit E4I, real x, real y returns unit 
    local group g = allocGroup()
    set myUnit = null
    set GK = E4I
    set OK = 99999
    set AK = x
    set BK = y
    call GroupEnumUnitsInRange(g, x, y, 99999, Condition(function XU1))
    call releaseGroup(g)
    set g = null
    return myUnit
endfunction

function YI1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local unit Y11 = LoadUnitHandle(hashTable, DMI, 448)
    local unit YO1 = LoadUnitHandle(hashTable, DMI, 447)
    local ubersplat Y21 = LoadUbersplatHandle(hashTable, DMI, 131)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    local real YHI = LoadReal(hashTable, DMI, 57)
    local real LLI = LoadReal(hashTable, DMI, 442)
    local integer id = GetPlayerId(GetOwningPlayer(E1I))
    local boolean Y31 = false
    local integer i = 0
    local integer K3I
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        if GetSpellAbilityId() == 'A1R5' then
            set Y31 = true
        endif
    else 
        set DHI = DHI + 1
        call SaveInteger(hashTable, DMI, 34, DHI)
        if DHI == 1 then
            if YHI > 3 then
                call SetUnitAnimationByIndex(Y11, 1)
                call SetUnitAnimationByIndex(YO1, 1)
            endif
        elseif DHI == 2 then
            set Y31 = true
        else 
        endif
    endif
    if Y31 then
        call SaveInteger(hashTable, GetHandleId(E1I), 4256, 2)
        call KillUnit(Y11)
        call KillUnit(YO1)
        call DestroyUbersplat(Y21)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if DHI == 2 then
            call DestroyEffect( AddSpecialEffect(XQ1(id), GetUnitX(E1I), GetUnitY(E1I)) )
            call DestroyEffect( AddSpecialEffect(XP1(id), x, y) )
            call SetUnitX(E1I, x)
            call SetUnitY(E1I, y)
            call PauseUnit(E1I, true)
            call PauseUnit(E1I, false)
            call killDestructables(x, y, 240)
        endif
    endif
    set t = null
    set E1I = null
    set Y11 = null
    set YO1 = null
    set Y21 = null
    return false
endfunction

function Y41 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local location l
    local real x
    local real y
    local real a
    local trigger t
    local integer DMI
    local unit Y11
    local unit YO1
    local ubersplat Y21
    local integer id = GetPlayerId(GetOwningPlayer(E1I))
    local integer DHI
    local real Y51
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call SaveInteger(hashTable, GetHandleId(E1I), 4256, 1)
    if GDI == null then
        set l = GetSpellTargetLoc()
        set x = GetLocationX(l)
        set y = GetLocationY(l)
        if x == JO0[id] and y == J20[id] then
            if isPlayerSentinel(GetOwningPlayer(E1I)) then
                set x = GetUnitX(XQ)
                set y = GetUnitY(XQ)
            else 
                set x = GetUnitX(BB0)
                set y = GetUnitY(BB0)
            endif
        endif
        set GDI = Y01(E1I, x, y)
        call RemoveLocation(l)
    else 
        set x = GetUnitX(GDI)
        set y = GetUnitY(GDI)
    endif
    if getDistance(x, y, GetUnitX(GDI), GetUnitY(GDI)) > JW0 then
        set a = Atan2(y - GetUnitY(GDI), x - GetUnitX(GDI))
        set x = GetUnitX(GDI) + JW0*Cos(a)
        set y = GetUnitY(GDI) + JW0*Sin(a)
    elseif getDistance(x, y, GetUnitX(GDI), GetUnitY(GDI)) < 50 then
        set a = Atan2(y - GetUnitY(GDI), x - GetUnitX(GDI))
        set x = GetUnitX(GDI) + 120*Cos(a)
        set y = GetUnitY(GDI) + 120*Sin(a)
    endif
    if IsPointInRegion(KN, x, y) == true then
        set a = Atan2(y - GetUnitY(GDI), x - GetUnitX(GDI))
        set x = GetUnitX(GDI) + 200*Cos(a)
        set y = GetUnitY(GDI) + 200*Sin(a)
    endif
    set x = constrainX(x)
    set y = constrainY(y)
    if (IsUnitAlly(E1I, GetLocalPlayer()) and GetLocalPlayer() != GetOwningPlayer(E1I)) or (E2 and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0)) then
        call PingMinimapEx(x, y, 3, 255, 255, 255, false)
    endif
    set YO1 = CreateUnit(GetOwningPlayer(E1I), XT1(id), x, y, 0)
    set Y11 = CreateUnit(GetOwningPlayer(E1I), XR1(id), GetUnitX(E1I), GetUnitY(E1I), 0)
    set Y21 = CreateUbersplat(GetUnitX(E1I), GetUnitY(E1I), "SCTP", 255, 255, 255, 255, false, false)
    if IsUnitVisible(E1I, GetLocalPlayer()) == true then
        call SetUbersplatRenderAlways(Y21, true)
    else 
        call SetUbersplatRenderAlways(Y21, false)
    endif
    set DHI = XS1(GetPlayerId(GetOwningPlayer(E1I)), x, y)
    if DHI > 0 then
        set DHI = DHI + 1
    endif
    set Y51 = 3 + DHI
    call XN1(GetPlayerId(GetOwningPlayer(E1I)), x, y)
    if DHI > 0 then
        call SetUnitAnimationByIndex(Y11, 2)
        call SetUnitAnimationByIndex(YO1, 2)
    endif
    call TriggerRegisterTimerEvent(t, Y51 - 3, false)
    call TriggerRegisterTimerEvent(t, Y51, false)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function YI1))
    call V3I(GetOwningPlayer(E1I), Y51, x, y, 200)
    call SaveUnitHandle(hashTable, DMI, 447, YO1)
    call SaveUnitHandle(hashTable, DMI, 448, Y11)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SaveReal(hashTable, DMI, 442, (TimerGetElapsed(M)*1.0))
    call SaveReal(hashTable, DMI, 57, (Y51*1.0))
    call SaveUbersplatHandle(hashTable, DMI, 131, Y21)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 34, 0)
    set E1I = null
    set GDI = null
    set Y11 = null
    set YO1 = null
    set l = null
    set t = null
    set Y21 = null
endfunction

function Y61 takes nothing returns nothing
    if GetSpellAbilityId() == 'A1R5' and GII(GetTriggerUnit()) == false then
        call Y41()
    endif
endfunction

function Y71 takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction

function Y81 takes nothing returns boolean 
    local integer i = GetUnitTypeId(GetFilterUnit())
    return i == 'n00H' or i == 'n00G' or i == 'n00K' or i == 'n00J' or i == 'n00A' or i == 'n006'
endfunction

function Y91 takes nothing returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(GetTriggerUnit()), Condition(function Y81))
    call ForGroup(g, function Y71)
    call releaseGroup(g)
    set g = null
endfunction

function YA1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0HB' or GetSpellAbilityId() == 'A0D3' or GetSpellAbilityId() == 'A0DF' then
        call Y91()
    endif
endfunction

function YB1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A1FP' then
        call Z4I("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl", GetTriggerUnit(), "origin", 3.5)
        call unitAddTimedAbility(GetTriggerUnit(), 'A1CN', 1, 3.5)
    endif
endfunction

function YC1 takes nothing returns nothing
    if GetSpellAbilityId() == 'ACch' then
        call UnitApplyTimedLife(GetSpellTargetUnit(), 'BTLF', 1200)
        call UnitAddAbility(GetSpellTargetUnit(), 'Aeth')
        call UnitAddAbility(GetSpellTargetUnit(), 'ACrk')
        call HPI(GetSpellTargetUnit())
    endif
endfunction

function YD1 takes integer i returns integer 
    if i == JY0 then
        return JS0
    endif
    if i == JJ0 then
        return JT0
    endif
    if i == JK0 then
        return JR0
    endif
    if i == JL0 then
        return JP0
    endif
    if i == JM0 then
        return JQ0
    endif
    if i == JN0 then
        return JU0
    endif
    return 0
endfunction

function YE1 takes integer i returns integer 
    if i == JY0 then
        return 10
    endif
    if i == JJ0 then
        return 9
    endif
    if i == JK0 then
        return 8
    endif
    if i == JL0 then
        return 7
    endif
    if i == JM0 then
        return 6
    endif
    if i == JN0 then
        return 5
    endif
    return 0
endfunction

function YF1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if isUnitUnavailable(E1I) == false and E1I != null then
        call SetUnitScale(E1I, EAI(E1I)*P90, EAI(E1I)*P90, EAI(E1I)*P90)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function YG1 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    local trigger t = CreateTrigger()
    local real YHI = YE1(GetSpellAbilityId())
    call VQI(E1I, K00, YHI)
    call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), K00, false)
    call UnitAddAbility(YVI, YD1(GetSpellAbilityId()))
    call IssueTargetOrder(YVI, "antimagicshell", E1I)
    if GII(E1I) then
        call VSI(E1I, YHI, 6)
    else 
        call VSI(E1I, YHI, 1.4)
    endif
    call TriggerRegisterTimerEvent(t, YHI + 7, false)
    call TriggerAddCondition(t, Condition(function YF1))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, E1I)
    set t = null
    set E1I = null
    set YVI = null
endfunction

function YH1 takes nothing returns nothing
    if YD1(GetSpellAbilityId()) > 0 then
        call YG1()
    endif
endfunction

function YZ1 takes nothing returns nothing
    if (LoadInteger(hashTable, GetHandleId(GetEnumUnit()), 4258) == 1) == true then
        call displayErrorMessage(GetOwningPlayer(GetEnumUnit()), GetObjectName('n02M') + " " + GetUnitName(GetEnumUnit()) + " " + GetObjectName('n02S'))
    else 
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
            call DUI(GetEnumUnit(), 4258, 25)
        endif
        call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) + 250)
    endif
endfunction

function YV1 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 450, Condition(function YII))
    call ForGroup(g, function YZ1)
    call releaseGroup(g)
    set GCI = null
    set g = null
endfunction

function YW1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0CK' then
        call YV1()
    endif
endfunction

function YX1 takes nothing returns nothing
    if (LoadInteger(hashTable, GetHandleId(GetEnumUnit()), 4278) == 1) == true then
        call displayErrorMessage(GetOwningPlayer(GetEnumUnit()), GetObjectName('n02M'))
    else 
        if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
            call DUI(GetEnumUnit(), 4278, 50)
        endif
        if GetUnitAbilityLevel(GetEnumUnit(), 'B0BT') == 0 and GetUnitAbilityLevel(GetEnumUnit(), 'B0BU') == 0 then
            call IssueTargetOrder(KI0, "antimagicshell", GetEnumUnit())
        endif
    endif
endfunction

function YY1 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local group g = allocGroup()
    set KI0 = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GCI), GetUnitY(GCI), 0)
    call UnitAddAbility(KI0, 'A1EV')
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 525, Condition(function YOI))
    call ForGroup(g, function YX1)
    call releaseGroup(g)
    set GCI = null
    set g = null
endfunction

function YJ1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A1EW' then
        call YY1()
    endif
endfunction

function YK1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A02W' then
        call UnitResetCooldown(GetTriggerUnit())
    endif
endfunction

function YL1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local real GFI = LoadReal(hashTable, DMI, 20)
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED or GetUnitAbilityLevel(GetTriggerUnit(), 'B031') == 0 then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call doDamage(GCI, GDI, 1, GFI)
        if GFI > 0 then
            call ZKI("+" + I2S(R2I(GFI)), 1, GDI, 0.023, 255, 0, 0, 216)
        endif
    elseif GetEventDamage() > 1 then
        call SaveReal(hashTable, DMI, 20, ((GFI + GetEventDamage()*0.20)*1.0))
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function YM1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Other\\Silence\\SilenceTarget.mdl", GDI, "overhead"))
    call SaveReal(hashTable, DMI, 20, (0*1.0))
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerAddCondition(t, Condition(function YL1))
    set t = null
    return false
endfunction

function YN1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function YM1))
    call SaveUnitHandle(hashTable, DMI, 17, GetSpellTargetUnit())
    call SaveUnitHandle(hashTable, DMI, 2, GetTriggerUnit())
    set t = null
endfunction

function YS1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0FD' then
        call YN1()
    endif
endfunction

function YT1 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI
    local unit GCI
    if GetTriggerEventId() != EVENT_UNIT_ATTACKED then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set GCI = LoadUnitHandle(hashTable, DMI, 2)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
        call UnitAddAbility(YVI, 'A0K6')
        call IssueTargetOrder(YVI, "forkedlightning", GetAttacker())
        call DUI(GetTriggerUnit(), 4257, 1)
    endif
    set t = null
    set YVI = null
    set GCI = null
endfunction

function YR1 takes nothing returns boolean 
    if (GetTriggerEventId() == EVENT_UNIT_ATTACKED and GetRandomInt(1, 100) < 21 and (LoadInteger(hashTable, GetHandleId(GetTriggerUnit()), 4257) == 1) == false) or GetTriggerEventId() != EVENT_UNIT_ATTACKED then
        call YT1()
    endif
    return false
endfunction

function YP1 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call DUI(GDI, 4279, 20)
    call TriggerRegisterTimerEvent(t, 20, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function YR1))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl", GDI, "origin"))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set t = null
    set GCI = null
    set GDI = null
endfunction

function YQ1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0JL' and (LoadInteger(hashTable, GetHandleId(GetSpellTargetUnit()), 4279) == 1) == false then
        call YP1()
    endif
endfunction

function YU1 takes nothing returns nothing
    local unit J01 = GetTriggerUnit()
    local item XX1 = Z9I(J01, itemId[WT0])
    if XX1 == null then
        set XX1 = Z9I(J01, itemDisabledId[WT0])
    endif
    if XX1 != null then
        call K6I(XX1)
        call UnitRemoveAbility(J01, 'A0VR')
        call UnitAddAbility(J01, 'A0VU')
        call SetUnitState(J01, UNIT_STATE_MANA, 400)
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl", J01, "origin") )
    else 
        call displayErrorMessage(GetOwningPlayer(J01), GetObjectName('n02Q'))
    endif
    set J01 = null
endfunction

function JI1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0VR' then
        call YU1()
    endif
endfunction

function J11 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local group JO1 = K10
    local unit GCI = KO0
    if IsUnitInGroup(GDI, JO1) == false then
        call GroupAddUnit(JO1, GDI)
        call IssueTargetOrder(K20, "slow", GDI)
        call doDamage(GCI, GDI, 1, 200)
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl", GDI, "origin") )
    endif
    set GDI = null
    set JO1 = null
    set GCI = null
endfunction

function J21 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local group JO1 = LoadGroupHandle(hashTable, DMI, 133)
    local real d
    local real x
    local real x0 = GetUnitX(GCI)
    local real y
    local real y0 = GetUnitY(GCI)
    local group g = allocGroup()
    local integer DHI = GetTriggerEvalCount(t)
    local integer i
    call SetUnitX(YVI, GetUnitX(GCI))
    call SetUnitY(YVI, GetUnitY(GCI))
    set K10 = JO1
    set KO0 = GCI
    set K20 = LoadUnitHandle(hashTable, DMI, 132)
    if GetTriggerEvalCount(t) > 33 then
        call KillUnit(YVI)
        call releaseGroup(JO1)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set d = DHI*18
        set i = 0
        loop
            exitwhen i > 36
            set x = x0 + d*Cos(360*i/36*bj_DEGTORAD)
            set y = y0 + d*Sin(360*i/36*bj_DEGTORAD)
            set myUnit = GCI
            call GroupEnumUnitsInRange(g, x, y, 150, Condition(function XNI))
            call ForGroup(g, function J11)
            set i = i + 1
        endloop
    endif
    call releaseGroup(g)
    set t = null
    set YVI = null
    set JO1 = null
    set GCI = null
    set g = null
    return false
endfunction

function J31 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local group JO1 = allocGroup()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'h091', x, y, 0)
    local unit J41 = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    call UnitAddAbility(J41, 'A0T0')
    call SaveGroupHandle(hashTable, DMI, 133, JO1)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveUnitHandle(hashTable, DMI, 132, J41)
    call SaveUnitHandle(hashTable, DMI, 2, E1I)
    call TriggerRegisterTimerEvent(t, 0.06, true)
    call TriggerAddCondition(t, Condition(function J21))
    set t = null
    set JO1 = null
    set YVI = null
    set J41 = null
    set E1I = null
endfunction

function J51 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0T9' then
        call J31()
    endif
endfunction

function J61 takes nothing returns nothing
    local integer i = 0
    local integer K3I = 0
    local boolean J71 = false
    if GetSpellAbilityId() == 'A0JY' then
        loop
            exitwhen i > 5
            if KEI( UnitItemInSlot(GetTriggerUnit(), i) ) == GT0 or KEI( UnitItemInSlot(GetTriggerUnit(), i) ) == VJ0 then
                set K3I = GetItemCharges( UnitItemInSlot(GetTriggerUnit(), i) )
                if K3I > 0 then
                    call SetItemCharges(UnitItemInSlot(GetTriggerUnit(), i), 0)
                    if J71 == false then
                        set J71 = true
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_MANA, GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) + 15*K3I)
                        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 15*K3I)
                        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl", GetTriggerUnit(), "origin") )
                    endif
                endif
                return
            endif
            set i = i + 1
        endloop
    endif
endfunction

function J81 takes integer id returns boolean 
    local integer i = 1
    loop
        exitwhen i > E20
        if id == EO0[i] then
            return false
        endif
        set i = i + 1
    endloop
    return true
endfunction

function J91 takes unit JA1, unit GCI returns nothing
    if IsUnitVisible(JA1, GetOwningPlayer(GCI)) == false and GetRandomInt(1, 100) < 10 then
        call PlaySoundOnUnitBJ(XG, 100, GCI)
    endif
endfunction

function JB1 takes nothing returns nothing
    local unit E1I = GetEnumUnit()
    local integer i = 0
    loop
        exitwhen i > 5
        if KEI( UnitItemInSlot(E1I, i) ) == GT0 or KEI( UnitItemInSlot(E1I, i) ) == VJ0 then
            if KEI( UnitItemInSlot(E1I, i) ) == VJ0 then
                if GetItemCharges( UnitItemInSlot(E1I, i) ) == 15 then
                    call J91(GetTriggerUnit(), E1I)
                endif
                call SetItemCharges(UnitItemInSlot(E1I, i), HCI(GetItemCharges( UnitItemInSlot(E1I, i) ) + 1, 15))
            else 
                if GetItemCharges( UnitItemInSlot(E1I, i) ) == 10 then
                    call J91(GetTriggerUnit(), E1I)
                endif
                call SetItemCharges(UnitItemInSlot(E1I, i), HCI(GetItemCharges( UnitItemInSlot(E1I, i) ) + 1, 10))
            endif
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", E1I, "chest") )
            set i = 5
        endif
        set i = i + 1
    endloop
    set E1I = null
endfunction

function JC1 takes nothing returns nothing
    local group g = allocGroup()
    local unit GCI = GetTriggerUnit()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    call GroupEnumUnitsInRange(g, x, y, 1600, Condition(function Y4I))
    call ForGroup(g, function JB1)
    call releaseGroup(g)
    set g = null
    set GCI = null
endfunction

function JD1 takes nothing returns nothing
    if J81(GetSpellAbilityId()) == true and FCI(GetSpellAbilityId()) == true and GetUnitAbilityLevel(GetTriggerUnit(), 'A04R') == 0 then
        call JC1()
    endif
endfunction

function JE1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit JF1 = LoadUnitHandle(hashTable, DMI, 134)
    if GetTriggerEventId() != EVENT_UNIT_DEATH then
        call UnitRemoveAbility(JF1, 'A17R')
    endif
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set JF1 = null
    return false
endfunction

function JG1 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 0.5 and IsUnitAlly(GetFilterUnit(), K30) == true and GetOwningPlayer(GetFilterUnit()) != FO and GetUnitTypeId(GetFilterUnit()) != 'ncop' and GetUnitTypeId(GetFilterUnit()) != 'n0FJ' and GetUnitTypeId(GetFilterUnit()) != 'n0FI' and GetUnitTypeId(GetFilterUnit()) != 'n0F6' and GetUnitTypeId(GetFilterUnit()) != 'n0FH'
endfunction

function JH1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit JF1 = GetEnumUnit()
    local string s
    call UnitAddAbility(JF1, 'A17R')
    if isPlayerSentinel(K30) then
        set s = "effects\\GlyphSent.mdx"
    else 
        set s = "effects\\GlyphScourge.mdx"
    endif
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget(s, JF1, "origin"))
    call SaveUnitHandle(hashTable, DMI, 134, JF1)
    call TriggerRegisterUnitEvent(t, JF1, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 4, false)
    call TriggerAddCondition(t, Condition(function JE1))
    set t = null
    set JF1 = null
endfunction

function JZ1 takes unit JV1, player p returns nothing
    local integer i
    if isPlayerSentinel(p) then
        set i = 1
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
        set i = 2
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
        set i = 3
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
        set i = 4
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
        set i = 5
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
    else 
        set i = 7
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
        set i = 8
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
        set i = 9
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
        set i = 10
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
        set i = 11
        if JV1 != CT0[i] then
            call IssueImmediateOrder(CT0[i], "coldarrows")
        endif
    endif
endfunction

function JW1 takes nothing returns nothing
    local group g
    local unit JV1 = GetTriggerUnit()
    local player p = GetOwningPlayer(JV1)
    if (isPlayerSentinel(p) and K40 == false) or (isPlayerSentinel(p) == false and K50 == false) then
        set g = allocGroup()
        set K30 = p
        call GroupEnumUnitsInRange(g, 0, 0, 12000, Condition(function JG1))
        call ForGroup(g, function JH1)
        call releaseGroup(g)
        if isPlayerSentinel(p) then
            set K40 = true
            call JZ1(JV1, p)
            set K40 = false
        else 
            set K50 = true
            call JZ1(JV1, p)
            set K50 = false
        endif
    endif
    set g = null
    set JV1 = null
    set p = null
endfunction

function JX1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A141' then
        call JW1()
    endif
endfunction

function JY1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A12W' and GetUnitAbilityLevel(GetTriggerUnit(), 'Bpsh') > 0 then
        call UnitRemoveAbility(GetTriggerUnit(), 'Bpsh')
    endif
endfunction

function JJ1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if G5I(GetEventDamage()) and IsUnitAlly(GetEventDamageSource(), GetOwningPlayer(GetTriggerUnit())) == false and IsUnitType(GetEventDamageSource(), UNIT_TYPE_STRUCTURE) == false and K60 == false then
            if IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) or GetUnitAbilityLevel(GetEventDamageSource(), 'A04R') == 0 then
                call DisableTrigger(t)
                set K60 = true
                call doDamage(GetTriggerUnit(), GetEventDamageSource(), 3, GetEventDamage())
                set K60 = false
                call EnableTrigger(t)
            else 
                call DisableTrigger(t)
                set K60 = true
                call doDamage(GetTriggerUnit(), playerHero[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))], 3, GetEventDamage())
                set K60 = false
                call EnableTrigger(t)
            endif
        endif
    endif
    set t = null
    return false
endfunction

function JK1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 3.5, false)
    call TriggerAddCondition(t, Condition(function JJ1))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpikeBarrier\\SpikeBarrier.mdl", GCI, "chest"))
    set t = null
    set GCI = null
endfunction

function JL1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A15W' then
        call JK1()
    endif
endfunction

function JM1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real a = LoadReal(hashTable, DMI, 137)
    local real d = LoadReal(hashTable, DMI, 138)
    local real x = constrainX(GetUnitX(GDI) + d/10*Cos(a*bj_DEGTORAD))
    local real y = constrainY(GetUnitY(GDI) + d/10*Sin(a*bj_DEGTORAD))
    if GetTriggerEvalCount(t) == 11 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call killDestructables(x, y, 150)
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", x, y) )
        call SetUnitX(GDI, x)
        call SetUnitY(GDI, y)
    endif
    set GDI = null
    set t = null
    return false
endfunction

function JN1 takes nothing returns nothing
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real x
    local real y
    local real d
    local real a
    local integer i = -1
    local boolean JS1 = false
    if GetSpellTargetItem() != null then
        set GDI = GetTriggerUnit()
    endif
    set a = GetUnitFacing(GDI)
    loop
        exitwhen JS1 or i == 23
        set i = i + 1
        set x = constrainX(GetUnitX(GDI) + (600 - i*25)*Cos(a*bj_DEGTORAD))
        set y = constrainY(GetUnitY(GDI) + (600 - i*25)*Sin(a*bj_DEGTORAD))
        if IsPointInRegion(KN, (x*1.0), (y*1.0)) == false then
            set JS1 = true
        endif
    endloop
    set d = getDistance(x, y, GetUnitX(GDI), GetUnitY(GDI))
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JM1))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call SaveReal(hashTable, DMI, 138, (d*1.0))
    set GDI = null
    set t = null
endfunction

function JT1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A19M' and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' then
        if IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == true or LoadBoolean(hashTable, GetHandleId(GetOwningPlayer(GetSpellTargetUnit())), 139) == false then
            call JN1()
        endif
    endif
endfunction

function JR1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEvalCount(t) > 30 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(GCI, 'A1QC')
        call UnitRemoveAbility(GCI, 'B0CY')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set GCI = null
    set t = null
    return false
endfunction

function JP1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEvalCount(t) > 30 or GetTriggerEventId() == EVENT_UNIT_DEATH or (LoadInteger(hashTable, GetHandleId(GCI), 4256) == 1) then
        call UnitRemoveAbility(GCI, 'Aetl')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set GCI = null
    set t = null
    return false
endfunction

function JQ1 takes unit u returns nothing
    local unit GCI = u
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitAddAbility(GCI, 'Aetl')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'Aetl', false)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JP1))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GCI = null
    set t = null
endfunction

function EtherBlast_AddToEnemies takes nothing returns nothing
    call JQ1(GetEnumUnit())
endfunction

function EtherBlast_DamageEnemies takes nothing returns nothing
    call doDamage(GetTriggerUnit(), GetEnumUnit(), 1, K70)
endfunction

function JU1 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GCI = myUnit
    local unit GDI = GK
    local real GFI = LoadReal(hashTable, DMI, 20)
    local trigger t = CreateTrigger()
    set DMI = GetHandleId(t)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), 'A1QC', false)
    call UnitAddAbility(GDI, 'A1QC')
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JR1))
    call SaveUnitHandle(hashTable, DMI, 2, GDI)
    call JQ1(GCI)
    call JQ1(GDI)
    call doDamage(GCI, GDI, 1, GFI)
    set GCI = null
    set GDI = null
endfunction

function K01 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t2 = VZI(GCI, GDI, 'h0BS', "JU1", 1000)
    local integer KI1 = GetHandleId(t2)
    call SaveReal(hashTable, KI1, 20, ((GetHeroAgi(GCI, true)*2.5)*1.0))
    set GCI = null
    set GDI = null
    set t2 = null
endfunction

function K11 takes nothing returns nothing
    if GetSpellAbilityId() == 'A1QD' then
        call K01()
    endif
endfunction

function KO1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEvalCount(t) > 40 or GetTriggerEventId() == EVENT_UNIT_DEATH or GOI(GCI) or (LoadInteger(hashTable, GetHandleId(GCI), 4256) == 1) then
        call UnitRemoveAbility(GCI, 'Aetl')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set GCI = null
    set t = null
    return false
endfunction

function K21 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitAddAbility(GCI, 'Aetl')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'Aetl', false)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function KO1))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GCI = null
    set t = null
endfunction

function K31 takes nothing returns nothing
    if GetSpellAbilityId() == 'A1AC' and GOI(GetTriggerUnit()) == false then
        call K21()
    endif
endfunction

function K41 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real K51 = LoadReal(hashTable, DMI, 242)
    local real K61 = LoadReal(hashTable, DMI, 529)
    local real K71 = LoadReal(hashTable, DMI, 530)
    local real K81 = GetUnitState(GCI, UNIT_STATE_MANA)
    local real K91 = GetUnitState(GCI, UNIT_STATE_MAX_MANA)
    local real KA1 = K51 - K81
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEvalCount(t) == 20*10 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if K61 < 150 then
            call SetUnitState(GCI, UNIT_STATE_MANA, K81 - (150 - K61 - K71))
        endif
    else 
        if KA1 > 0 then
            set K61 = K61 + (K51 - K81)
            if K71 > 0 then
                if KA1 > K71 then
                    call SetUnitState(GCI, UNIT_STATE_MANA, K81 + K71)
                    set K71 = 0
                else 
                    if K71 > (K91 - K81) then
                        set K71 = K71 - (K91 - K81)
                        call SetUnitState(GCI, UNIT_STATE_MANA, K81 + K91 - K81)
                    else 
                        set K71 = K71 - KA1
                        call SetUnitState(GCI, UNIT_STATE_MANA, K81 + KA1)
                    endif
                endif
            endif
        endif
        set K51 = K81
        call SaveReal(hashTable, DMI, 242, (K51*1.0))
        call SaveReal(hashTable, DMI, 529, (K61*1.0))
        call SaveReal(hashTable, DMI, 530, (K71*1.0))
    endif
    set t = null
    set GCI = null
    return false
endfunction

function KB1 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local real KC1 = GetUnitState(GCI, UNIT_STATE_LIFE)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real K81 = GetUnitState(GCI, UNIT_STATE_MANA)
    if KC1 > 150 then
        call SetUnitState(GCI, UNIT_STATE_LIFE, KC1 - 150)
    else 
        call SetUnitState(GCI, UNIT_STATE_LIFE, 1)
    endif
    call Z4I("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl", GCI, "origin", 2)
    call SetUnitState(GCI, UNIT_STATE_MANA, K81 + 150)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function K41))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 242, (GetUnitState(GCI, UNIT_STATE_MANA)*1.0))
    call SaveReal(hashTable, DMI, 529, (0*1.0))
    if (K81 + 150) > GetUnitState(GCI, UNIT_STATE_MAX_MANA) then
        call SaveReal(hashTable, DMI, 530, (((K81 + 150) - GetUnitState(GCI, UNIT_STATE_MAX_MANA))*1.0))
    endif
    set GCI = null
endfunction

function KD1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A1Q8' then
        call KB1()
    endif
endfunction

function KE1 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local real x
    local real y
    if isPlayerSentinel(GetOwningPlayer(GCI)) then
        set x = GetRectCenterX(B4)
        set y = GetRectCenterY(B4)
    else 
        set x = GetRectCenterX(R3)
        set y = GetRectCenterY(R3)
    endif
    call IssuePointOrder(GCI, "move", x, y)
    set GCI = null
endfunction

function KF1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A1AS' then
        call KE1()
    endif
endfunction

function KG1 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    call SaveBoolean(hashTable, GetHandleId(E1I), 129, true)
    set E1I = null
endfunction

function KH1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A0B8' and (GetUnitAbilityLevel(GetTriggerUnit(), 'B0BI') > 0) == true then
        call KG1()
    endif
endfunction

function KZ1 takes integer id returns boolean 
    return id == 'ugho' or id == 'unec' or id == 'esen' or id == 'edry' or id == 'u001' or id == 'u002' or id == 'e00V' or id == 'e00W' or id == 'ebal' or id == 'e026' or id == 'umtw' or id == 'u00R'
endfunction

function KV1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > 8 then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call doDamage(GCI, GDI, 1, 25)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function KW1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or (GetTriggerEventId() == EVENT_UNIT_DAMAGED and KZ1(GetUnitTypeId(GetEventDamageSource())) == false) then
        call UnitRemoveAbility(GDI, 'B0CG')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function KX1 takes nothing returns nothing
    local trigger t
    local integer DMI
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    local integer i = 0
    local boolean KQI = false
    local boolean JS1 = false
    local integer K3I
    loop
        exitwhen i > 5 or JS1
        if KEI( UnitItemInSlot(GCI, i) ) == VT0 then
            set K3I = GetItemCharges( UnitItemInSlot(GCI, i) )
            if K3I > 0 then
                set KQI = true
                set K3I = K3I - 1
            else 
                set JS1 = true
                set KQI = false
            endif
        endif
        set i = i + 1
    endloop
    if KQI == true then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        if IsUnitAlly(GDI, GetOwningPlayer(GCI)) == true then
            call UnitAddAbility(YVI, 'A1MM')
            call IssueTargetOrderById(YVI, 852609, GDI)
            call SaveUnitHandle(hashTable, DMI, 17, GDI)
            call TriggerRegisterTimerEvent(t, K80, false)
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
            call TriggerAddCondition(t, Condition(function KW1))
        else 
            call SaveUnitHandle(hashTable, DMI, 17, GDI)
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\Urn_Enemy.mdx", GDI, "overhead"))
            call TriggerRegisterTimerEvent(t, 1, true)
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
            call TriggerAddCondition(t, Condition(function KV1))
        endif
    endif
    set GCI = null
    set YVI = null
    set GDI = null
    set t = null
endfunction

function KY1 takes nothing returns nothing
    if GetSpellAbilityId() == 'A1MO' then
        call KX1()
    endif
endfunction

function KJ1 takes nothing returns boolean 
    if GetUnitTypeId(GetTriggerUnit()) == 'e00E' then
        return false
    endif
    call WH1()
    call WR1()
    call XZ1()
    call XM1()
    call Y61()
    call YA1()
    call YC1()
    call YH1()
    call YW1()
    call YB1()
    call YK1()
    call YS1()
    call YQ1()
    call J51()
    call JI1()
    call JD1()
    call J61()
    call VO1()
    call VI1()
    call JX1()
    call JY1()
    call JL1()
    call JT1()
    call K31()
    call KF1()
    call XJ1()
    call YJ1()
    call KH1()
    call KY1()
    call KD1()
    call K11()
    return false
endfunction

function KL1 takes unit E1I returns nothing
    call SetUnitState(E1I, UNIT_STATE_LIFE, GetUnitState(E1I, UNIT_STATE_MAX_LIFE))
    call SetUnitState(E1I, UNIT_STATE_MANA, GetUnitState(E1I, UNIT_STATE_MAX_MANA))
endfunction

function KM1 takes unit E1I, real x, real y returns nothing
    local integer DMI = GetHandleId(GetOwningPlayer(E1I))
    local unit SGI = LoadUnitHandle(hashTable, DMI, 82)
    local unit SHI = LoadUnitHandle(hashTable, DMI, 83)
    local unit SZI = LoadUnitHandle(hashTable, DMI, 84)
    set K90 = true
    if SGI != null then
        call ReviveHero(SGI, x, y, true)
        call KL1(SGI)
        call S4I(SGI)
        call SetUnitX(SGI, x)
        call SetUnitY(SGI, y)
    endif
    if SHI != null then
        call ReviveHero(SHI, x, y, true)
        call KL1(SHI)
        call S4I(SHI)
        call SetUnitX(SHI, x)
        call SetUnitY(SHI, y)
    endif
    if SZI != null then
        call ReviveHero(SZI, x, y, true)
        call KL1(SZI)
        call S4I(SZI)
        call SetUnitX(SZI, x)
        call SetUnitY(SZI, y)
    endif
    set SGI = null
    set SHI = null
    set SZI = null
endfunction

function KN1 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    call KL1(E1I)
    call S4I(E1I)
    call ClearSelectionForPlayer(GetOwningPlayer(E1I))
    call SelectUnitAddForPlayer(E1I, GetOwningPlayer(E1I))
    if GetUnitTypeId(E1I) == 'H00I' then
        call KM1(E1I, GetUnitX(E1I), GetUnitY(E1I))
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function KS1 takes unit E1I, real x, real y returns nothing
    local integer DMI = GetHandleId(GetOwningPlayer(E1I))
    local unit SGI = LoadUnitHandle(hashTable, DMI, 82)
    local unit SHI = LoadUnitHandle(hashTable, DMI, 83)
    local unit SZI = LoadUnitHandle(hashTable, DMI, 84)
    call DisableTrigger(LG)
    if SGI != null then
        call SetUnitX(SGI, x)
        call SetUnitY(SGI, y)
        call KillUnit(SGI)
    endif
    if SHI != null then
        call SetUnitX(SHI, x)
        call SetUnitY(SHI, y)
        call KillUnit(SHI)
    endif
    if SZI != null then
        call SetUnitX(SZI, x)
        call SetUnitY(SZI, y)
        call KillUnit(SZI)
    endif
    call EnableTrigger(LG)
    set SGI = null
    set SHI = null
    set SZI = null
endfunction

function KT1 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local real x
    local real y
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call L1I("AegisOff", GetPlayerId(GetOwningPlayer(E1I)))
    if GetUnitTypeId(E1I) == 'H00I' then
        call KS1(E1I, GetUnitX(E1I), GetUnitY(E1I))
    endif
    set ES0 = null
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerAddCondition(t, Condition(function KN1))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
    set E1I = null
endfunction

function KR1 takes nothing returns nothing
    if KEI(GetManipulatedItem()) == itemIdAegisOfImmortal then
        call KT1()
    endif
endfunction

function KP1 takes nothing returns nothing
    local unit E4I = GetTriggerUnit()
    local item WSI = GetManipulatedItem()
    local integer JMI = KEI(WSI)
    local integer KNI
    call DisableTrigger(trigItemActions)
    if GetUnitTypeId(E4I) != 'H00J' then
        if JMI == HG0 then
            set KNI = WNI(E4I, WSI)
            set YK = GetItemPlayer(GetManipulatedItem())
            call RemoveItem(WSI)
            call DisableTrigger(trigItemActions)
            set ZK = KLI(E4I, itemId[HH0], KNI)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
        elseif JMI == HH0 then
            set KNI = WNI(E4I, WSI)
            set YK = GetItemPlayer(GetManipulatedItem())
            call RemoveItem(WSI)
            call DisableTrigger(trigItemActions)
            set ZK = KLI(E4I, itemId[HZ0], KNI)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
        elseif JMI == HZ0 then
            set KNI = WNI(E4I, WSI)
            set YK = GetItemPlayer(GetManipulatedItem())
            call RemoveItem(WSI)
            call DisableTrigger(trigItemActions)
            set ZK = KLI(E4I, itemId[HG0], KNI)
            call SetItemPlayer(ZK, YK, false)
            call SetItemUserData(ZK, 1)
        endif
    endif
    call EnableTrigger(trigItemActions)
    set E4I = null
    set WSI = null
endfunction

function KQ1 takes nothing returns nothing
    local unit E4I = GetTriggerUnit()
    local item WSI = GetManipulatedItem()
    local integer JMI = KEI(WSI)
    local integer KNI
    call DisableTrigger(trigItemActions)
    if JMI == HD0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[HE0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    elseif JMI == HE0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[HD0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    if JMI == ZR0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[ZP0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    elseif JMI == ZP0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[ZR0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    call EnableTrigger(trigItemActions)
    set E4I = null
    set WSI = null
endfunction

function KU1 takes nothing returns nothing
    local unit E4I = GetTriggerUnit()
    local item WSI = GetManipulatedItem()
    local integer JMI = KEI(WSI)
    local integer KNI
    call DisableTrigger(trigItemActions)
    if JMI == ZQ0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[ZU0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    elseif JMI == ZU0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[ZQ0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    call EnableTrigger(trigItemActions)
    set E4I = null
    set WSI = null
endfunction

function L01 takes nothing returns nothing
    local unit E4I = GetTriggerUnit()
    local item WSI = GetManipulatedItem()
    local integer JMI = KEI(WSI)
    local integer KNI
    call DisableTrigger(trigItemActions)
    if JMI == HR0 and GetItemCharges(WSI) == 0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[HQ0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    elseif JMI == HP0 and GetItemCharges(WSI) == 0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[HU0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
    endif
    call EnableTrigger(trigItemActions)
    set E4I = null
    set WSI = null
endfunction

function LI1 takes nothing returns nothing
    local unit E4I = GetTriggerUnit()
    local item WSI = GetManipulatedItem()
    local integer JMI = KEI(WSI)
    local integer KNI
    call DisableTrigger(trigItemActions)
    if JMI == Z80 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[Z90], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        call Z01(ZK)
    elseif JMI == Z90 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[ZA0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        call Z01(ZK)
    elseif JMI == ZA0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[ZB0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        call Z01(ZK)
    elseif JMI == ZB0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[ZC0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        call Z01(ZK)
    elseif JMI == ZC0 then
        set KNI = WNI(E4I, WSI)
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(WSI)
        set ZK = KLI(E4I, itemId[ZD0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        call Z01(ZK)
    endif
    call EnableTrigger(trigItemActions)
    set E4I = null
    set WSI = null
endfunction

function L11 takes nothing returns boolean 
    local integer KNI
    local real LO1
    call DisableTrigger(trigItemActions)
    if KEI(GetManipulatedItem()) == VG0 then
        set LO1 = GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) - GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE)
        set KNI = WNI(GetTriggerUnit(), GetManipulatedItem())
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(GetManipulatedItem())
        set ZK = KLI(GetTriggerUnit(), itemId[VF0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, HGI(GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) - LO1, 1))
    endif
    if KEI(GetManipulatedItem()) == VF0 then
        set LO1 = GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) - GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE)
        set KNI = WNI(GetTriggerUnit(), GetManipulatedItem())
        set YK = GetItemPlayer(GetManipulatedItem())
        call RemoveItem(GetManipulatedItem())
        set ZK = KLI(GetTriggerUnit(), itemId[VG0], KNI)
        call SetItemPlayer(ZK, YK, false)
        call SetItemUserData(ZK, 1)
        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, HGI(GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE) - LO1, 1))
    endif
    call EnableTrigger(trigItemActions)
    return false
endfunction

function PerseveranceDisassemble takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local player p = GetItemPlayer(GetManipulatedItem())
    local item K4I
    call DisableTrigger(trigItemActions)
    call RemoveItem(GetManipulatedItem())
    set K4I = UnitAddItemById(E1I, itemId[G50])
    call SetItemPlayer(K4I, p, false)
    call SetItemUserData(K4I, 1)
    set K4I = UnitAddItemById(E1I, itemId[GH0])
    call SetItemPlayer(K4I, p, false)
    call SetItemUserData(K4I, 1)
    call EnableTrigger(trigItemActions)
    set E1I = null
    set p = null
    set K4I = null
endfunction

function L21 takes nothing returns nothing
    if GetItemTypeId(GetManipulatedItem()) == itemId[HA0] then
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0G1'))
    endif
endfunction

function L31 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if W71(GCI) then
        call UnitAddItemById(GCI, 'I0HM')
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call SaveBoolean(hashTable, GetHandleId(GCI), 129, false)
    set t = null
    set GCI = null
    return false
endfunction

function L41 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local item WSI = GetManipulatedItem()
    local integer JMI = KEI(WSI)
    local trigger t
    if JMI == ZF0 and LoadBoolean(hashTable, GetHandleId(GCI), 129) == true then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 0.41, false)
        call TriggerAddCondition(t, Condition(function L31))
        call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
        set t = null
    endif
    set GCI = null
    set WSI = null
endfunction

function L51 takes nothing returns boolean 
    call KQ1()
    call KU1()
    call KP1()
    call WX1()
    call KR1()
    call L11()
    call L21()
    call LI1()
    call L01()
    call L41()
    return false
endfunction

function L71 takes nothing returns boolean 
    return GetOwningPlayer(GetTriggerUnit()) == playerNeutrals
endfunction

function L81 takes nothing returns nothing
    call SaveInteger(hashTable, (400 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))), 79, (LoadInteger(hashTable, (400 + GetPlayerId(GetOwningPlayer(GetKillingUnit()))), 79) + 1))
endfunction

function LA1 takes nothing returns nothing
    local location EA1 = GetRectCenter(U4)
    set N0 = CreateUnitAtLoc(Player(12), 'n00L', EA1, bj_UNIT_FACING)
    call E11(N0)
    call RemoveLocation(EA1)
    call UnitAddItem(N0, CreateItem(itemId[itemIdAegisOfImmortal], 0, 0))
    call UnitAddAbility(N0, 'A142')
    set EA1 = GetRectCenter(V4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(W4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(X4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(Y4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(J4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(K4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(L4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(M4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(N4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(S4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(X5)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
    set EA1 = GetRectCenter(J5)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', EA1, 0) )
    call RemoveLocation(EA1)
endfunction

function InitTrig_Spawn_Roshan takes nothing returns nothing
    call LA1()
endfunction

function LB1 takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == sentinelPlayers[0] then
        call IssuePointOrderLoc(GetTriggerUnit(), "attack", U0)
    elseif GetOwningPlayer(GetTriggerUnit()) == scourgePlayers[0] then
        call IssuePointOrderLoc(GetTriggerUnit(), "attack", BI)
    endif
    return false
endfunction

function LD1 takes nothing returns nothing
    set TI = TI + 1
endfunction

function LF1 takes nothing returns nothing
    set SI = SI + 1
endfunction

function LH1 takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == sentinelPlayers[0] then
        call IssuePointOrderLoc(GetTriggerUnit(), "attack", CI)
    endif
    return false
endfunction

function LW1 takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == scourgePlayers[0] then
        call IssuePointOrderLoc(GetTriggerUnit(), "attack", CI)
    endif
    return false
endfunction

function LY1 takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == sentinelPlayers[0] then
        call IssuePointOrderLoc(GetTriggerUnit(), "attack", DI)
    endif
    return false
endfunction

function LK1 takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == scourgePlayers[0] then
        call IssuePointOrderLoc(GetTriggerUnit(), "attack", DI)
    endif
    return false
endfunction

function LM1 takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == sentinelPlayers[0] then
        call IssuePointOrderLoc(GetTriggerUnit(), "attack", EI)
    endif
    return false
endfunction

function LS1 takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == scourgePlayers[0] then
        call IssuePointOrderLoc(GetTriggerUnit(), "attack", EI)
    endif
    return false
endfunction

function LR1 takes nothing returns nothing
    local integer i = 1
    local integer id
    loop
        exitwhen i > 5
        set id = GetPlayerId(sentinelPlayers[i])
        call L1I("CSK" + I2S(id), A[id])
        call L1I("CSD" + I2S(id), B[id])
        call L1I("NK" + I2S(id), LoadInteger(hashTable, (400 + id), 79))
        set id = GetPlayerId(scourgePlayers[i])
        call L1I("CSK" + I2S(id), A[id])
        call L1I("CSD" + I2S(id), B[id])
        call L1I("NK" + I2S(id), LoadInteger(hashTable, (400 + id), 79))
        set i = i + 1
    endloop
endfunction

function LP1 takes boolean LQ1 returns nothing
    local unit u
    local string LU1 = "stand work alternate"
    local string M01 = "stand work"
    local string MI1 = "stand alternate"
    local string M11 = "stand"
    set u = I80
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, LU1)
        else 
            call SetUnitAnimation(u, MI1)
        endif
    endif
    set u = I90
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, LU1)
        else 
            call SetUnitAnimation(u, MI1)
        endif
    endif
    set u = IA0
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, LU1)
        else 
            call SetUnitAnimation(u, MI1)
        endif
    endif
    set u = IB0
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, LU1)
        else 
            call SetUnitAnimation(u, MI1)
        endif
    endif
    set u = IC0
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, LU1)
        else 
            call SetUnitAnimation(u, MI1)
        endif
    endif
    set u = ID0
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, LU1)
        else 
            call SetUnitAnimation(u, MI1)
        endif
    endif
    set u = C00
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, M01)
        else 
            call SetUnitAnimation(u, M11)
        endif
    endif
    set u = CI0
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, M01)
        else 
            call SetUnitAnimation(u, M11)
        endif
    endif
    set u = C10
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, M01)
        else 
            call SetUnitAnimation(u, M11)
        endif
    endif
    set u = CO0
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, M01)
        else 
            call SetUnitAnimation(u, M11)
        endif
    endif
    set u = C20
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, M01)
        else 
            call SetUnitAnimation(u, M11)
        endif
    endif
    set u = C30
    if isUnitUnavailable(u) == false then
        if LQ1 then
            call SetUnitAnimation(u, M01)
        else 
            call SetUnitAnimation(u, M11)
        endif
    endif
endfunction

function MO1 takes nothing returns boolean 
    call LP1(true)
    return false
endfunction

function Trig_Spawn_Conditions takes nothing returns boolean 
    return true
    if RN0 then
        return RS0
    endif
    if RQ0 then
        return RU0
    endif
    if G2 then
        return F2
    endif
    if ST0 then
        return SR0
    endif
    if T2 then
        return A3
    endif
    if K0 then
        return NK0
    endif
    if RA0 then
        return RB0
    endif
    if BN then
        return NS0
    endif
    return O0
endfunction

function M21 takes group M31, integer M41 returns nothing
    local unit u
    loop
        set u = FirstOfGroup(M31)
        exitwhen (u == null)
        call GroupRemoveUnit(M31, u)
        call SetUnitAbilityLevel(u, A2, M41)
    endloop
endfunction

function M51 takes nothing returns nothing
    local boolean M61 = ModuloInteger(GetTriggerExecCount(TG), 7) == 0
    if MV0 then
        return
    endif
    call LP1(false)
    if M61 then
        call LR1()
    endif
    if GetTriggerExecCount(TG) == 1 and P20 == false then
        call UnitResetCooldown(CT0[1])
        call UnitResetCooldown(CT0[2])
        call UnitResetCooldown(CT0[3])
        call UnitResetCooldown(CT0[4])
        call UnitResetCooldown(CT0[5])
        call UnitResetCooldown(CT0[7])
        call UnitResetCooldown(CT0[8])
        call UnitResetCooldown(CT0[9])
        call UnitResetCooldown(CT0[10])
        call UnitResetCooldown(CT0[11])
        call setUnitInvulnerable(UQ, false)
        call setUnitInvulnerable(I00, false)
        call setUnitInvulnerable(II0, false)
        call setUnitInvulnerable(BJ0, false)
        call setUnitInvulnerable(BK0, false)
        call setUnitInvulnerable(BL0, false)
    elseif GetTriggerExecCount(TG) == 1 and P20 == true then
        call setUnitInvulnerable(I00, false)
        call setUnitInvulnerable(BK0, false)
    endif
    if GetTriggerExecCount(TG) == 1 then
        call EnableTrigger(trigAddSalary)
    endif
    if P20 == false and P60 == false then
        if ZI then
            call CreateNUnitsAtLoc(SI, 'ugho', scourgePlayers[0], PI, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(SI, 'u001', scourgePlayers[0], PI, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 2)
    endif
    if P50 == false then
        if VI then
            call CreateNUnitsAtLoc(SI, 'ugho', scourgePlayers[0], RI, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(SI, 'u001', scourgePlayers[0], RI, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 3)
    endif
    if P20 == false and P40 == false then
        if WI then
            call CreateNUnitsAtLoc(SI, 'ugho', scourgePlayers[0], QI, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(SI, 'u001', scourgePlayers[0], QI, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 4)
    endif
    if P20 == false and P60 == false then
        if FI then
            call CreateNUnitsAtLoc(TI, 'unec', scourgePlayers[0], O1, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(TI, 'u002', scourgePlayers[0], O1, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 2)
    endif
    if P50 == false then
        if GI then
            call CreateNUnitsAtLoc(TI, 'unec', scourgePlayers[0], UI, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(TI, 'u002', scourgePlayers[0], UI, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 3)
    endif
    if P20 == false and P40 == false then
        if HI then
            call CreateNUnitsAtLoc(TI, 'unec', scourgePlayers[0], I1, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(TI, 'u002', scourgePlayers[0], I1, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 4)
    endif
    if M61 == true then
        if P20 == false and P60 == false then
            if FI then
                call CreateNUnitsAtLoc(TI, 'umtw', scourgePlayers[0], O1, bj_UNIT_FACING)
            else 
                call CreateNUnitsAtLoc(TI, 'u00R', scourgePlayers[0], O1, bj_UNIT_FACING)
            endif
            call M21(bj_lastCreatedGroup, 2)
        endif
        if P50 == false then
            if GI then
                call CreateNUnitsAtLoc(TI, 'umtw', scourgePlayers[0], UI, bj_UNIT_FACING)
            else 
                call CreateNUnitsAtLoc(TI, 'u00R', scourgePlayers[0], UI, bj_UNIT_FACING)
            endif
            call M21(bj_lastCreatedGroup, 3)
        endif
        if P20 == false and P40 == false then
            if HI then
                call CreateNUnitsAtLoc(TI, 'umtw', scourgePlayers[0], I1, bj_UNIT_FACING)
            else 
                call CreateNUnitsAtLoc(TI, 'u00R', scourgePlayers[0], I1, bj_UNIT_FACING)
            endif
            call M21(bj_lastCreatedGroup, 4)
        endif
    endif
    if P20 == false and P60 == false then
        if KI then
            call CreateNUnitsAtLoc(SI, 'esen', sentinelPlayers[0], C1, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(SI, 'e00V', sentinelPlayers[0], C1, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 2)
    endif
    if P50 == false then
        if LI then
            call CreateNUnitsAtLoc(SI, 'esen', sentinelPlayers[0], A1, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(SI, 'e00V', sentinelPlayers[0], A1, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 3)
    endif
    if P20 == false and P40 == false then
        if NI then
            call CreateNUnitsAtLoc(SI, 'esen', sentinelPlayers[0], B1, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(SI, 'e00V', sentinelPlayers[0], B1, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 4)
    endif
    if P20 == false and P60 == false then
        if XI then
            call CreateNUnitsAtLoc(TI, 'edry', sentinelPlayers[0], F1, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(TI, 'e00W', sentinelPlayers[0], F1, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 2)
    endif
    if P50 == false then
        if YI then
            call CreateNUnitsAtLoc(TI, 'edry', sentinelPlayers[0], D1, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(TI, 'e00W', sentinelPlayers[0], D1, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 3)
    endif
    if P20 == false and P40 == false then
        if JI then
            call CreateNUnitsAtLoc(TI, 'edry', sentinelPlayers[0], E1, bj_UNIT_FACING)
        else 
            call CreateNUnitsAtLoc(TI, 'e00W', sentinelPlayers[0], E1, bj_UNIT_FACING)
        endif
        call M21(bj_lastCreatedGroup, 4)
    endif
    if M61 == true then
        if P20 == false and P60 == false then
            if JI then
                call CreateNUnitsAtLoc(TI, 'ebal', sentinelPlayers[0], F1, bj_UNIT_FACING)
            else 
                call CreateNUnitsAtLoc(TI, 'e026', sentinelPlayers[0], F1, bj_UNIT_FACING)
            endif
            call M21(bj_lastCreatedGroup, 2)
        endif
        if P50 == false then
            if YI then
                call CreateNUnitsAtLoc(TI, 'ebal', sentinelPlayers[0], D1, bj_UNIT_FACING)
            else 
                call CreateNUnitsAtLoc(TI, 'e026', sentinelPlayers[0], D1, bj_UNIT_FACING)
            endif
            call M21(bj_lastCreatedGroup, 3)
        endif
        if P20 == false and P40 == false then
            if JI then
                call CreateNUnitsAtLoc(TI, 'ebal', sentinelPlayers[0], E1, bj_UNIT_FACING)
            else 
                call CreateNUnitsAtLoc(TI, 'e026', sentinelPlayers[0], E1, bj_UNIT_FACING)
            endif
            call M21(bj_lastCreatedGroup, 4)
        endif
    endif
endfunction

function M81 takes nothing returns nothing
    set FI = false
    call DisableTrigger(RG)
    call L1I("Rax" + I2S(0) + I2S(0) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MA1 takes nothing returns nothing
    set GI = false
    call DisableTrigger(PG)
    call L1I("Rax" + I2S(0) + I2S(1) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MC1 takes nothing returns nothing
    set HI = false
    call DisableTrigger(QG)
    call L1I("Rax" + I2S(0) + I2S(2) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function ME1 takes nothing returns nothing
    set ZI = false
    call DisableTrigger(UG)
    call L1I("Rax" + I2S(0) + I2S(0) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MG1 takes nothing returns nothing
    set VI = false
    call DisableTrigger(IH)
    call L1I("Rax" + I2S(0) + I2S(1) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MZ1 takes nothing returns nothing
    set WI = false
    call DisableTrigger(OH)
    call L1I("Rax" + I2S(0) + I2S(2) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MW1 takes nothing returns nothing
    set XI = false
    call DisableTrigger(BH)
    call L1I("Rax" + I2S(1) + I2S(0) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MY1 takes nothing returns nothing
    set YI = false
    call DisableTrigger(CH)
    call L1I("Rax" + I2S(1) + I2S(1) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MK1 takes nothing returns nothing
    set JI = false
    call DisableTrigger(DH)
    call L1I("Rax" + I2S(1) + I2S(2) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MM1 takes nothing returns nothing
    set KI = false
    call DisableTrigger(EH)
    call L1I("Rax" + I2S(1) + I2S(0) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MS1 takes nothing returns nothing
    set LI = false
    call DisableTrigger(FH)
    call L1I("Rax" + I2S(1) + I2S(1) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MR1 takes nothing returns nothing
    set NI = false
    call DisableTrigger(GH)
    call L1I("Rax" + I2S(1) + I2S(2) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
endfunction

function MQ1 takes nothing returns boolean 
    local real MU1 = GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE)/GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE)
    if MU1 < 0.75 and KH0 == false then
        set KH0 = true
        call L1I("Tree", 75)
    endif
    if MU1 < 0.50 and KG0 == false then
        set KG0 = true
        call L1I("Tree", 50)
    endif
    if MU1 < 0.25 and KF0 == false then
        set KF0 = true
        call L1I("Tree", 25)
    endif
    if MU1 < 0.10 and KE0 == false then
        set KE0 = true
        call L1I("Tree", 10)
    endif
    return false
endfunction

function N01 takes nothing returns boolean 
    local real MU1 = GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE)/GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE)
    if MU1 < 0.75 and KD0 == false then
        set KD0 = true
        call L1I("Throne", 75)
    endif
    if MU1 < 0.50 and KC0 == false then
        set KC0 = true
        call L1I("Throne", 50)
    endif
    if MU1 < 0.25 and KB0 == false then
        set KB0 = true
        call L1I("Throne", 25)
    endif
    if MU1 < 0.10 and KA0 == false then
        set KA0 = true
        call L1I("Throne", 10)
    endif
    return false
endfunction

function N11 takes nothing returns boolean 
    if (KI or LI or NI or XI or YI or JI) then
        return false
    endif
    return true
endfunction

function NO1 takes nothing returns nothing
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, GetObjectName('n04O') + " " + GetObjectName('n0C7'))
    call SetPlayerTechResearchedSwap('R00D', (GetPlayerTechCountSimple('R00D', sentinelPlayers[0]) + 30), sentinelPlayers[0])
    call SetPlayerTechResearchedSwap('R00C', (GetPlayerTechCountSimple('R00C', sentinelPlayers[0]) + 30), sentinelPlayers[0])
    call DisableTrigger(HH)
endfunction

function N31 takes nothing returns boolean 
    if (ZI or VI or WI or FI or GI or HI) then
        return false
    endif
    return true
endfunction

function N41 takes nothing returns nothing
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, GetObjectName('n04X') + " " + GetObjectName('n0C9'))
    call SetPlayerTechResearchedSwap('R009', (GetPlayerTechCountSimple('R009', scourgePlayers[0]) + 30), scourgePlayers[0])
    call SetPlayerTechResearchedSwap('R00B', (GetPlayerTechCountSimple('R00B', scourgePlayers[0]) + 30), scourgePlayers[0])
    call DisableTrigger(ZH)
endfunction

function N61 takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R007', (GetPlayerTechCountSimple('R007', sentinelPlayers[0]) + 1), sentinelPlayers[0])
    call SetPlayerTechResearchedSwap('R00C', (GetPlayerTechCountSimple('R00C', sentinelPlayers[0]) + 1), sentinelPlayers[0])
    call SetPlayerTechResearchedSwap('R008', (GetPlayerTechCountSimple('R008', sentinelPlayers[0]) + 1), sentinelPlayers[0])
    call SetPlayerTechResearchedSwap('R00D', (GetPlayerTechCountSimple('R00D', sentinelPlayers[0]) + 1), sentinelPlayers[0])
    call SetPlayerTechResearchedSwap('R009', (GetPlayerTechCountSimple('R009', scourgePlayers[0]) + 1), scourgePlayers[0])
    call SetPlayerTechResearchedSwap('R003', (GetPlayerTechCountSimple('R003', scourgePlayers[0]) + 1), scourgePlayers[0])
    call SetPlayerTechResearchedSwap('R00A', (GetPlayerTechCountSimple('R00A', scourgePlayers[0]) + 1), scourgePlayers[0])
    call SetPlayerTechResearchedSwap('R00B', (GetPlayerTechCountSimple('R00B', scourgePlayers[0]) + 1), scourgePlayers[0])
endfunction

function N81 takes nothing returns nothing
    local location EA1 = GetRectCenter(K5)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nbdo', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nbds', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'ngst', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'n026', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nggr', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nbdk', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nbwm', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nogm', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nomg', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nfpc', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nfpu', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nsth', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nstl', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nsat', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nwlg', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nkol', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nkob', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nkot', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'ncnk', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'ncen', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'ngns', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nftb', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nfsh', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'ngh1', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'npfl', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nowe', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nowb', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nmrm', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nmrr', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'nmrl', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'ndtr', EA1, bj_UNIT_FACING) )
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'ndtw', EA1, bj_UNIT_FACING) )
    call RemoveLocation(EA1)
endfunction

function NA1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'n0HW', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'n0HX', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'n0HW', x, y, 0), x, y)
endfunction

function NB1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'njg1', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'njg1', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'njga', x, y, 0), x, y)
endfunction

function NC1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nbdo', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nbdo', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nbds', x, y, 0), x, y)
endfunction

function ND1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nbdk', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nbdk', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nbwm', x, y, 0), x, y)
endfunction

function NE1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ngst', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ngst', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nggr', x, y, 0), x, y)
endfunction

function NF1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nogm', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nogm', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nomg', x, y, 0), x, y)
endfunction

function NG1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nfpc', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nfpu', x, y, 0), x, y)
endfunction

function NH1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nsth', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nstl', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nsat', x, y, 0), x, y)
endfunction

function NZ1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nstl', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nstl', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nsat', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nsat', x, y, 0), x, y)
endfunction

function NV1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nwlg', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nwlg', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'n00S', x, y, 0), x, y)
endfunction

function NW1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'n026', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'n026', x, y, 0), x, y)
endfunction

function NX1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nkol', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nkob', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nkob', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nkob', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nkot', x, y, 0), x, y)
endfunction

function NY1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nftb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nftb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nfsh', x, y, 0), x, y)
endfunction

function NJ1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ncen', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ncnk', x, y, 0), x, y)
endfunction

function NK1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ngns', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ngns', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ngns', x, y, 0), x, y)
endfunction

function NL1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nftb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nftb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nkol', x, y, 0), x, y)
endfunction

function NM1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ngh1', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'npfl', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'npfl', x, y, 0), x, y)
endfunction

function NN1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nowe', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nowb', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'nowb', x, y, 0), x, y)
endfunction

function NS1 takes real x, real y returns nothing
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ndtr', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ndtr', x, y, 0), x, y)
    call SetUnitPosition(CreateUnit(playerNeutrals, 'ndtw', x, y, 0), x, y)
endfunction

function NT1 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 5)
    if CDI == 1 then
        call NG1(x, y)
    elseif CDI == 2 then
        call NH1(x, y)
    elseif CDI == 3 then
        call NN1(x, y)
    elseif CDI == 4 then
        call NS1(x, y)
    elseif CDI == 5 then
        call NJ1(x, y)
    endif
endfunction

function NR1 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 5)
    if CDI == 1 then
        call NG1(x, y)
    elseif CDI == 2 then
        call NH1(x, y)
    elseif CDI == 3 then
        call NN1(x, y)
    elseif CDI == 4 then
        call NS1(x, y)
    elseif CDI == 5 then
        call NJ1(x, y)
    endif
endfunction

function NP1 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 5)
    if CDI == 1 then
        call NG1(x, y)
    elseif CDI == 2 then
        call NH1(x, y)
    elseif CDI == 3 then
        call NN1(x, y)
    elseif CDI == 4 then
        call NS1(x, y)
    elseif CDI == 5 then
        call NJ1(x, y)
    endif
endfunction

function NQ1 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 5)
    if CDI == 1 then
        call NG1(x, y)
    elseif CDI == 2 then
        call NH1(x, y)
    elseif CDI == 3 then
        call NN1(x, y)
    elseif CDI == 4 then
        call NS1(x, y)
    elseif CDI == 5 then
        call NJ1(x, y)
    endif
endfunction

function NU1 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 5)
    if CDI == 1 then
        call NW1(x, y)
    elseif CDI == 2 then
        call NF1(x, y)
    elseif CDI == 3 then
        call NZ1(x, y)
    elseif CDI == 4 then
        call NV1(x, y)
    elseif CDI == 5 then
        call NJ1(x, y)
    endif
endfunction

function S01 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 5)
    if CDI == 1 then
        call NW1(x, y)
    elseif CDI == 2 then
        call NF1(x, y)
    elseif CDI == 3 then
        call NZ1(x, y)
    elseif CDI == 4 then
        call NV1(x, y)
    elseif CDI == 5 then
        call NJ1(x, y)
    endif
endfunction

function SI1 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 5)
    if CDI == 1 then
        call NW1(x, y)
    elseif CDI == 2 then
        call NF1(x, y)
    elseif CDI == 3 then
        call NZ1(x, y)
    elseif CDI == 4 then
        call NV1(x, y)
    elseif CDI == 5 then
        call NJ1(x, y)
    endif
endfunction

function S11 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 5)
    if CDI == 1 then
        call NW1(x, y)
    elseif CDI == 2 then
        call NF1(x, y)
    elseif CDI == 3 then
        call NZ1(x, y)
    elseif CDI == 4 then
        call NV1(x, y)
    elseif CDI == 5 then
        call NJ1(x, y)
    endif
endfunction

function SO1 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 6)
    if CDI == 1 then
        call NM1(x, y)
    elseif CDI == 2 then
        call NL1(x, y)
    elseif CDI == 3 then
        call NK1(x, y)
    elseif CDI == 4 then
        call NX1(x, y)
    elseif CDI == 5 then
        call NY1(x, y)
    elseif CDI == 6 then
        call NA1(x, y)
    endif
endfunction

function S21 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 6)
    if CDI == 1 then
        call NM1(x, y)
    elseif CDI == 2 then
        call NL1(x, y)
    elseif CDI == 3 then
        call NK1(x, y)
    elseif CDI == 4 then
        call NX1(x, y)
    elseif CDI == 5 then
        call NY1(x, y)
    elseif CDI == 6 then
        call NA1(x, y)
    endif
endfunction

function S31 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 4)
    if CDI == 1 then
        call NB1(x, y)
    elseif CDI == 2 then
        call NC1(x, y)
    elseif CDI == 3 then
        call ND1(x, y)
    elseif CDI == 4 then
        call NE1(x, y)
    endif
endfunction

function S41 takes real x, real y returns nothing
    local integer CDI = GetRandomInt(1, 4)
    if CDI == 1 then
        call NB1(x, y)
    elseif CDI == 2 then
        call NC1(x, y)
    elseif CDI == 3 then
        call ND1(x, y)
    elseif CDI == 4 then
        call NE1(x, y)
    endif
endfunction

function S51 takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'A0P4') != 0 then
        call GroupRemoveUnit(D2, GetEnumUnit())
    endif
    if GetUnitTypeId(GetEnumUnit()) == 'o003' then
        call GroupRemoveUnit(D2, GetEnumUnit())
    endif
endfunction

function S61 takes group g returns boolean 
    set D2 = g
    call ForGroup(g, function S51)
    return FirstOfGroup(g) == null
endfunction

function S71 takes nothing returns boolean 
    local group g
    local rect r1
    local rect r2
    if P30 == false then
        return false
    endif
    set r1 = I5
    set r2 = V4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call S31(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = O5
    set r2 = W4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call S41(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = A5
    set r2 = X4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call NT1(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = B5
    set r2 = Y4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call NP1(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = C5
    set r2 = J4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call S01(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = D5
    set r2 = K4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call NU1(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = E5
    set r2 = L4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call SI1(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = G5
    set r2 = M4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call S11(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = F5
    set r2 = N4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call NQ1(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = H5
    set r2 = S4
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call SO1(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = W5
    set r2 = X5
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call S21(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = Y5
    set r2 = J5
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, r1, Condition(function returnTrue1))
    if S61(g) then
        call NR1(GetRectCenterX(r2), GetRectCenterY(r2))
    endif
    call releaseGroup(g)
    set r1 = null
    set r2 = null
    set g = null
    return false
endfunction

function S91 takes nothing returns nothing
    local integer F5I = GetRandomInt(1, 9)
    local location l
    if P20 then
        set F5I = GetRandomInt(1, 3)
        if F5I == 1 then
            set F5I = 2
        endif
        if F5I == 2 then
            set F5I = 5
        endif
        if F5I == 3 then
            set F5I = 8
        endif
    endif
    if (F5I == 1) then
        set l = GetRectCenter(PA)
        call CreateNUnitsAtLoc(1, 'n003', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n051'))
        call M21(bj_lastCreatedGroup, 4)
    endif
    if (F5I == 2) then
        set l = GetRectCenter(RA)
        call CreateNUnitsAtLoc(1, 'n003', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n052'))
        call M21(bj_lastCreatedGroup, 2)
    endif
    if (F5I == 3) then
        set l = GetRectCenter(TA)
        call CreateNUnitsAtLoc(1, 'n003', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n053'))
        call M21(bj_lastCreatedGroup, 3)
    endif
    if (F5I == 4) then
        set l = GetRectCenter(PA)
        call CreateNUnitsAtLoc(1, 'n00E', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n058'))
        call M21(bj_lastCreatedGroup, 4)
    endif
    if (F5I == 5) then
        set l = GetRectCenter(RA)
        call CreateNUnitsAtLoc(1, 'n00E', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n04Z'))
        call M21(bj_lastCreatedGroup, 2)
    endif
    if (F5I == 6) then
        set l = GetRectCenter(TA)
        call CreateNUnitsAtLoc(1, 'n00E', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n057'))
        call M21(bj_lastCreatedGroup, 3)
    endif
    if (F5I == 7) and P20 == false then
        set l = GetRectCenter(PA)
        call CreateNUnitsAtLoc(1, 'n00D', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n056'))
        call M21(bj_lastCreatedGroup, 4)
    endif
    if (F5I == 8) and P20 == false then
        set l = GetRectCenter(RA)
        call CreateNUnitsAtLoc(1, 'n00D', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n04T'))
        call M21(bj_lastCreatedGroup, 2)
    endif
    if (F5I == 9) then
        set l = GetRectCenter(TA)
        call CreateNUnitsAtLoc(1, 'n00D', sentinelPlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n05C'))
        call M21(bj_lastCreatedGroup, 3)
    endif
    if (F5I == 1) then
        set l = GetRectCenter(NA)
        call CreateNUnitsAtLoc(1, 'n003', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CD'))
        call M21(bj_lastCreatedGroup, 4)
    endif
    if (F5I == 2) then
        set l = GetRectCenter(MA)
        call CreateNUnitsAtLoc(1, 'n003', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CE'))
        call M21(bj_lastCreatedGroup, 2)
    endif
    if (F5I == 3) then
        set l = GetRectCenter(SA)
        call CreateNUnitsAtLoc(1, 'n003', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CC'))
        call M21(bj_lastCreatedGroup, 3)
    endif
    if (F5I == 4) then
        set l = GetRectCenter(NA)
        call CreateNUnitsAtLoc(1, 'n00E', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CG'))
        call M21(bj_lastCreatedGroup, 4)
    endif
    if (F5I == 5) then
        set l = GetRectCenter(MA)
        call CreateNUnitsAtLoc(1, 'n00E', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CH'))
        call M21(bj_lastCreatedGroup, 2)
    endif
    if (F5I == 6) then
        set l = GetRectCenter(SA)
        call CreateNUnitsAtLoc(1, 'n00E', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CF'))
        call M21(bj_lastCreatedGroup, 3)
    endif
    if (F5I == 7) then
        set l = GetRectCenter(NA)
        call CreateNUnitsAtLoc(1, 'n00D', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CJ'))
        call M21(bj_lastCreatedGroup, 4)
    endif
    if (F5I == 8) then
        set l = GetRectCenter(MA)
        call CreateNUnitsAtLoc(1, 'n00D', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CK'))
        call M21(bj_lastCreatedGroup, 2)
    endif
    if (F5I == 9) then
        set l = GetRectCenter(SA)
        call CreateNUnitsAtLoc(1, 'n00D', scourgePlayers[0], l, bj_UNIT_FACING)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n0CI'))
        call M21(bj_lastCreatedGroup, 3)
    endif
endfunction

function SB1 takes nothing returns nothing
    local integer EUI
    local integer F0I
    local integer SC1
    local integer SD1
    local integer i
    local player p
    set KW0 = KW0 + 1
    set KJ0 = 0
    set KK0 = 0
    set i = 0
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        if EJI(p) then
            set KJ0 = KJ0 + 1
        endif
        set p = scourgePlayers[i]
        if EJI(p) then
            set KK0 = KK0 + 1
        endif
        set i = i + 1
    endloop
    if UM == false then
        set M1 = KJ0
        set N1 = KK0
    endif
    set EUI = 1
    set F0I = 5
    set SC1 = 1
    loop
        exitwhen EUI > F0I
        set p = sentinelPlayers[EUI]
        if EJI(p) then
            set S1[SC1] = p
            set SC1 = SC1 + 1
        endif
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = 5
    set SC1 = 1
    loop
        exitwhen EUI > F0I
        set p = scourgePlayers[EUI]
        if EJI(p) then
            set T1[SC1] = p
            set SC1 = SC1 + 1
        endif
        set EUI = EUI + 1
    endloop
    if KW0 == 1 then
        set M0 = CreateMultiboardBJ(7 + 6, 3 + KK0 + KJ0, " ")
        call MultiboardMinimize(M0, true)
    endif
    call CSI(M0, 2, 1, "CD")
    call CSI(M0, 3, 1, "|c00838B8BL|r")
    call CSI(M0, 4, 1, KL0 + "K|r")
    call CSI(M0, 5, 1, KN0 + "D|r")
    call CSI(M0, 6, 1, KS0 + "A|r")
    call CSI(M0, 1, 2, GetObjectName('n0DK'))
    call CSI(M0, 4, 2, KL0 + "0|r")
    call CSI(M0, 5, 2, KN0 + "0|r")
    call CSI(M0, 1, 3 + KJ0, GetObjectName('n0DO'))
    call CSI(M0, 4, 3 + KJ0, KL0 + "0|r")
    call CSI(M0, 5, 3 + KJ0, KN0 + "0|r")
    call DOI(M0, 1, 2, FAI( SubString(playerColor[GetPlayerId(sentinelPlayers[0])], 4, 6) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(sentinelPlayers[0])], 6, 8) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(sentinelPlayers[0])], 8, 10) )/255.0*100, 0)
    call DOI(M0, 1, 3 + KJ0, FAI( SubString(playerColor[GetPlayerId(scourgePlayers[0])], 4, 6) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(scourgePlayers[0])], 6, 8) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(scourgePlayers[0])], 8, 10) )/255.0*100, 0)
    set EUI = 1
    set F0I = 3 + KK0 + KJ0
    loop
        exitwhen EUI > F0I
        call D6I(M0, 1, EUI, 10.8)
        call D6I(M0, 2, EUI, 2)
        call D6I(M0, 3, EUI, 2)
        call D6I(M0, 4, EUI, 1.3)
        call D6I(M0, 5, EUI, 1.3)
        call D6I(M0, 6, EUI, 1.3)
        call D6I(M0, 7, EUI, 2.5)
        call D6I(M0, 8, EUI, 0.01)
        call D6I(M0, 9, EUI, 0.01)
        call D6I(M0, 10, EUI, 0.01)
        call D6I(M0, 11, EUI, 0.01)
        call D6I(M0, 12, EUI, 0.01)
        call D6I(M0, 13, EUI, 0.01)
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = 7 + 6
    loop
        exitwhen EUI > F0I
        set SC1 = 1
        set SD1 = 3 + KK0 + KJ0
        loop
            exitwhen SC1 > SD1
            call D0I(M0, EUI, SC1, true, false)
            set SC1 = SC1 + 1
        endloop
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = KJ0
    loop
        exitwhen EUI > F0I
        call D0I(M0, 1, EUI + 2, true, true)
        call DOI(M0, 7, EUI + 2, 255, 204, 0, 0)
        set KZ0[GetPlayerId(S1[EUI])] = 1 - 1
        set KV0[GetPlayerId(S1[EUI])] = EUI + 2 - 1
        call CSI(M0, 1, EUI + 2, playerName[GetPlayerId(S1[EUI])])
        if isPlayerAlive(S1[EUI]) then
            call DOI(M0, 1, EUI + 2, FAI( SubString(playerColor[GetPlayerId(S1[EUI])], 4, 6) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(S1[EUI])], 6, 8) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(S1[EUI])], 8, 10) )/255.0*100, 0)
            call DOI(M0, 2, EUI + 2, FAI( SubString(playerColor[GetPlayerId(S1[EUI])], 4, 6) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(S1[EUI])], 6, 8) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(S1[EUI])], 8, 10) )/255.0*100, 0)
        else 
            call CSI(M0, 1, EUI + 2, "|c00333333" + playerName[GetPlayerId(S1[EUI])] + "|r")
        endif
        call CSI(M0, 4, (EUI + 2), KL0 + "0|r")
        call CSI(M0, 5, (EUI + 2), KN0 + "0|r")
        call CSI(M0, 6, (EUI + 2), KS0 + "0|r")
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = KK0
    loop
        exitwhen EUI > F0I
        call D0I(M0, 1, EUI + 3 + KJ0, true, true)
        call DOI(M0, 7, EUI + 3 + KJ0, 255, 204, 0, 0)
        set KZ0[GetPlayerId(T1[EUI])] = 1 - 1
        set KV0[GetPlayerId(T1[EUI])] = EUI + 3 + KJ0 - 1
        call CSI(M0, 1, EUI + 3 + KJ0, playerName[GetPlayerId(T1[EUI])])
        if isPlayerAlive(T1[EUI]) then
            call DOI(M0, 1, EUI + 3 + KJ0, FAI( SubString(playerColor[GetPlayerId(T1[EUI])], 4, 6) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(T1[EUI])], 6, 8) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(T1[EUI])], 8, 10) )/255.0*100, 0)
            call DOI(M0, 2, EUI + 3 + KJ0, FAI( SubString(playerColor[GetPlayerId(T1[EUI])], 4, 6) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(T1[EUI])], 6, 8) )/255.0*100, FAI( SubString(playerColor[GetPlayerId(T1[EUI])], 8, 10) )/255.0*100, 0)
        else 
            call CSI(M0, 1, EUI + 3 + KJ0, "|c00333333" + playerName[GetPlayerId(T1[EUI])] + "|r")
        endif
        call CSI(M0, 4, (EUI + 3 + KJ0), KL0 + "0|r")
        call CSI(M0, 5, (EUI + 3 + KJ0), KN0 + "0|r")
        call CSI(M0, 6, (EUI + 3 + KJ0), KS0 + "0|r")
        set EUI = EUI + 1
    endloop
    set KX0 = 1
    set KY0 = 3 + KK0 + KJ0 - 2
    if E2 and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0) and KW0 == 1 then
        call MultiboardDisplay(M0, false)
    endif
    call D0I(M0, 7, 1, false, true)
    call CQI(M0, 7, 1, "UI\\Feedback\\Resources\\ResourceGold.blp")
    call CE1()
    if KW0 > 1 then
        call TriggerExecute(JH)
    endif
endfunction

function SE1 takes nothing returns nothing
    local integer EUI
    local integer F0I
    call CSI(M0, 4, 2, KL0 + I2S(nKill[GetPlayerId(sentinelPlayers[0])]) + "|r")
    call CSI(M0, 5, 2, KN0 + I2S(nDeath[GetPlayerId(sentinelPlayers[0])]) + "|r")
    call CSI(M0, 4, 3 + KJ0, KL0 + I2S(nKill[GetPlayerId(scourgePlayers[0])]) + "|r")
    call CSI(M0, 5, 3 + KJ0, KN0 + I2S(nDeath[GetPlayerId(scourgePlayers[0])]) + "|r")
    set EUI = 1
    set F0I = KJ0
    loop
        exitwhen EUI > F0I
        call CSI(M0, 4, (EUI + 2), KL0 + I2S(nKill[GetPlayerId(S1[EUI])]) + "|r")
        call CSI(M0, 5, (EUI + 2), KN0 + I2S(nDeath[GetPlayerId(S1[EUI])]) + "|r")
        call CSI(M0, 6, (EUI + 2), KS0 + I2S(D[GetPlayerId(S1[EUI])]) + "|r")
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = KK0
    loop
        exitwhen EUI > F0I
        call CSI(M0, 4, (EUI + 3 + KJ0), KL0 + I2S(nKill[GetPlayerId(T1[EUI])]) + "|r")
        call CSI(M0, 5, (EUI + 3 + KJ0), KN0 + I2S(nDeath[GetPlayerId(T1[EUI])]) + "|r")
        call CSI(M0, 6, (EUI + 3 + KJ0), KS0 + I2S(D[GetPlayerId(T1[EUI])]) + "|r")
        set EUI = EUI + 1
    endloop
endfunction

function SG1 takes nothing returns boolean 
    if (GetUnitTypeId(GetTriggerUnit()) == 'e00R') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'e011') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'e00S') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'e019') then
        return true
    endif
    return false
endfunction

function SH1 takes nothing returns nothing
    set G0[1] = (G0[1] + 1)
endfunction

function SV1 takes nothing returns boolean 
    if (GetUnitTypeId(GetTriggerUnit()) == 'u00M') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'u00D') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'u00N') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'u00T') then
        return true
    endif
    return false
endfunction

function SW1 takes nothing returns nothing
    set G0[2] = (G0[2] + 1)
endfunction

function SY1 takes integer a returns integer 
    local integer i = 0
    local integer x = 0
    local string s = I2S(a)
    loop
        exitwhen i > StringLength(s)
        if SubString(s, i, i + 1) == "1" then
            set x = x + 1
        endif
        set i = i + 1
    endloop
    return x
endfunction

function SJ1 takes player EYI, integer SK1 returns string 
    if IsPlayerAlly(GetLocalPlayer(), EYI) == true then
        return KHI( UnitItemInSlot(playerHero[GetPlayerId(EYI)], SK1 - 1) )
    else 
        return "UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"
    endif
endfunction

function SL1 takes nothing returns nothing
    local integer EUI
    local integer F0I
    local string LLI
    local real HWI
    local string s1 = " "
    local integer r
    local integer i
    local integer array time_1a
    local string array color_1a
    local integer index_1a = 0
    local integer array time_1b
    local string array color_1b
    local integer index_1b = 0
    local integer x = 0
    local integer id
    local string SM1
    local string SN1
    local string SS1
    local string ST1
    local string SR1
    local string s2 = " "
    local string s
    local real SP1
    local string spacer
    local integer SQ1 = 0
    local string SU1 = ""
    local string T01 = ""
    local integer TI1 = 0
    local integer T11 = 0
    local string TO1 = ""
    if M0 == null then
        return
    endif
    set i = 1
    loop
        exitwhen i > 5
        set r = R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(sentinelPlayers[i])]))
        if r > 0 then
            set SQ1 = SQ1 + SY1(r)
            if TI1 == 0 then
                if r < 10 then
                    set SU1 = playerColor[GetPlayerId(sentinelPlayers[i])] + "0" + I2S(r) + " |r"
                else 
                    set SU1 = playerColor[GetPlayerId(sentinelPlayers[i])] + I2S(r) + " |r"
                endif
            else 
                if r < 10 then
                    set SU1 = SU1 + KT0 + "| |r" + playerColor[GetPlayerId(sentinelPlayers[i])] + "0" + I2S(r) + " |r"
                else 
                    set SU1 = SU1 + KT0 + "| |r" + playerColor[GetPlayerId(sentinelPlayers[i])] + I2S(r) + " |r"
                endif
            endif
            set TI1 = TI1 + 1
        endif
        set i = i + 1
    endloop
    if TI1 > 0 then
        if IsPlayerAlly(GetLocalPlayer(), sentinelPlayers[0]) == true then
            set SU1 = KT0 + "[" + GetObjectName('n0JS') + " |r" + SU1 + KT0 + "]|r"
        else 
            set SU1 = KM0 + "[" + GetObjectName('n0JR') + " |r" + SU1 + KM0 + "]|r"
        endif
    endif
    set i = 1
    loop
        exitwhen i > 5
        set r = R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(scourgePlayers[i])]))
        if r > 0 then
            set SQ1 = SQ1 + SY1(r)
            if T11 == 0 then
                if r < 10 then
                    set T01 = playerColor[GetPlayerId(scourgePlayers[i])] + "0" + I2S(r) + " |r"
                else 
                    set T01 = playerColor[GetPlayerId(scourgePlayers[i])] + I2S(r) + " |r"
                endif
            else 
                if r < 10 then
                    set T01 = T01 + KT0 + "| |r" + playerColor[GetPlayerId(scourgePlayers[i])] + "0" + I2S(r) + " |r"
                else 
                    set T01 = T01 + KT0 + "| |r" + playerColor[GetPlayerId(scourgePlayers[i])] + I2S(r) + " |r"
                endif
            endif
            set T11 = T11 + 1
        endif
        set i = i + 1
    endloop
    if T11 > 0 then
        if IsPlayerAlly(GetLocalPlayer(), scourgePlayers[0]) == true then
            set T01 = KT0 + "[" + GetObjectName('n0JS') + " |r" + T01 + KT0 + "]|r"
        else 
            set T01 = KM0 + "[" + GetObjectName('n0JR') + " |r" + T01 + KM0 + "]|r"
        endif
    endif
    if M0 != null then
        set id = GetPlayerId(GetLocalPlayer())
        if id >= 0 and id < 16 then
            if HM[x] then
                set SM1 = I2S(nKill[id])
                set SN1 = I2S(nDeath[id])
                set SS1 = I2S(D[id])
                set ST1 = I2S(A[id])
                set SR1 = I2S(B[id])
                set s2 = " |c00838B8B(" + SM1 + "/" + SN1 + "/" + SS1 + " - " + ST1 + "/" + SR1 + ")|r"
            endif
        endif
    endif
    if T11 == 0 and TI1 == 0 then
        call MultiboardSetTitleText(M0, s2)
    else 
        if IsPlayerAlly(GetLocalPlayer(), sentinelPlayers[0]) == true then
            call MultiboardSetTitleText(M0, T01 + " " + SU1 + " " + s2)
        else 
            call MultiboardSetTitleText(M0, SU1 + " " + T01 + " " + s2)
        endif
    endif
    if (E2 and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0)) == false then
        call MultiboardDisplay(M0, true)
    endif
    if NB0[GetPlayerId(GetLocalPlayer())] == false then
        call SetWaterBaseColor(0, 0, 255, 255)
    endif
    set EUI = 1
    set F0I = KJ0
    loop
        exitwhen EUI > F0I
        call CQI(M0, 1, EUI + 2, DPI(playerHero[GetPlayerId(S1[EUI])]))
        call CSI(M0, 3, EUI + 2, "|c00838B8B" + I2S(GetHeroLevel(playerHero[GetPlayerId(S1[EUI])])) + "|r")
        if N50[GetPlayerId(GetLocalPlayer())] then
            call D6I(M0, 7, 1, 3)
            call D6I(M0, 8, 1, 2.8)
            call D6I(M0, 9, 1, 0.8)
            call D6I(M0, 10, 1, 0.8)
            call D6I(M0, 11, 1, 0.8)
            call D6I(M0, 12, 1, 0.8)
            call D6I(M0, 13, 1, 0.1)
            call D6I(M0, 7, EUI + 2, 3)
            call D6I(M0, 8, EUI + 2, 1.1)
            call D6I(M0, 9, EUI + 2, 1.1)
            call D6I(M0, 10, EUI + 2, 1.1)
            call D6I(M0, 11, EUI + 2, 1.1)
            call D6I(M0, 12, EUI + 2, 1.1)
            call D6I(M0, 13, EUI + 2, 0.1)
            call D0I(M0, 8, EUI + 2, false, true)
            call D0I(M0, 9, EUI + 2, false, true)
            call D0I(M0, 10, EUI + 2, false, true)
            call D0I(M0, 11, EUI + 2, false, true)
            call D0I(M0, 12, EUI + 2, false, true)
            call D0I(M0, 13, EUI + 2, false, true)
            call CSI(M0, 8, 1, "Items")
        else 
            call D6I(M0, 7, 1, 2)
            call D6I(M0, 8, 1, 0.1)
            call D6I(M0, 9, 1, 0.1)
            call D6I(M0, 10, 1, 0.1)
            call D6I(M0, 11, 1, 0.1)
            call D6I(M0, 12, 1, 0.1)
            call D6I(M0, 13, 1, 0.1)
            call D6I(M0, 7, EUI + 2, 2.5)
            call D6I(M0, 8, EUI + 2, 0.1)
            call D6I(M0, 9, EUI + 2, 0.1)
            call D6I(M0, 10, EUI + 2, 0.1)
            call D6I(M0, 11, EUI + 2, 0.1)
            call D6I(M0, 12, EUI + 2, 0.1)
            call D6I(M0, 13, EUI + 2, 0.1)
            call D0I(M0, 8, EUI + 2, false, false)
            call D0I(M0, 9, EUI + 2, false, false)
            call D0I(M0, 10, EUI + 2, false, false)
            call D0I(M0, 11, EUI + 2, false, false)
            call D0I(M0, 12, EUI + 2, false, false)
            call D0I(M0, 13, EUI + 2, false, false)
            call CSI(M0, 8, 1, " ")
        endif
        call CQI(M0, 8, EUI + 2, SJ1(S1[EUI], 1))
        call CQI(M0, 9, EUI + 2, SJ1(S1[EUI], 2))
        call CQI(M0, 10, EUI + 2, SJ1(S1[EUI], 3))
        call CQI(M0, 11, EUI + 2, SJ1(S1[EUI], 4))
        call CQI(M0, 12, EUI + 2, SJ1(S1[EUI], 5))
        call CQI(M0, 13, EUI + 2, SJ1(S1[EUI], 6))
        if (E3I(playerHero[GetPlayerId(S1[EUI])]) and playerHero[GetPlayerId(S1[EUI])] != null and TimerGetRemaining(timerDeathCountdown[GetPlayerId(S1[EUI])]) > 0) then
            if IsPlayerAlly(GetLocalPlayer(), S1[EUI]) then
                set TO1 = KT0 + " (" + I2S(R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(S1[EUI])]))) + ")|r"
            else 
                set TO1 = KM0 + " (" + I2S(R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(S1[EUI])]))) + ")|r"
            endif
        else 
            set TO1 = "  "
        endif
        if E30[GetPlayerId(S1[EUI])] then
            call CSI(M0, 1, EUI + 2, "|c00333333" + playerName[GetPlayerId(S1[EUI])] + "|r" + TO1)
        else 
            call CSI(M0, 1, EUI + 2, playerName[GetPlayerId(S1[EUI])] + TO1)
        endif
        set SP1 = TimerGetRemaining(EB0[GetPlayerId(S1[EUI])])
        if SP1 > 0 then
            set s = I2S(R2I(SP1))
        else 
            set s = " "
        endif
        if IsPlayerAlly(GetLocalPlayer(), S1[EUI]) == false then
            call CSI(M0, 7, EUI + 2, " ")
            set s = " "
        else 
            call CSI(M0, 7, EUI + 2, "|cffffcc00" + I2S(R2I( GetPlayerState(S1[EUI], PLAYER_STATE_RESOURCE_GOLD) )) + "|r")
        endif
        call CSI(M0, 2, EUI + 2, s)
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = KK0
    loop
        exitwhen EUI > F0I
        call CQI(M0, 1, EUI + 3 + KJ0, DPI(playerHero[GetPlayerId(T1[EUI])]))
        call CSI(M0, 3, EUI + 3 + KJ0, "|c00838B8B" + I2S(GetHeroLevel(playerHero[GetPlayerId(T1[EUI])])) + "|r")
        if N50[GetPlayerId(GetLocalPlayer())] then
            call D6I(M0, 7, 1, 3)
            call D6I(M0, 8, 1, 2.8)
            call D6I(M0, 9, 1, 0.8)
            call D6I(M0, 10, 1, 0.8)
            call D6I(M0, 11, 1, 0.8)
            call D6I(M0, 12, 1, 0.8)
            call D6I(M0, 13, 1, 0.1)
            call D6I(M0, 7, EUI + 3 + KJ0, 3)
            call D6I(M0, 8, EUI + 3 + KJ0, 1.1)
            call D6I(M0, 9, EUI + 3 + KJ0, 1.1)
            call D6I(M0, 10, EUI + 3 + KJ0, 1.1)
            call D6I(M0, 11, EUI + 3 + KJ0, 1.1)
            call D6I(M0, 12, EUI + 3 + KJ0, 1.1)
            call D6I(M0, 13, EUI + 3 + KJ0, 0.1)
            call D0I(M0, 8, EUI + 3 + KJ0, false, true)
            call D0I(M0, 9, EUI + 3 + KJ0, false, true)
            call D0I(M0, 10, EUI + 3 + KJ0, false, true)
            call D0I(M0, 11, EUI + 3 + KJ0, false, true)
            call D0I(M0, 12, EUI + 3 + KJ0, false, true)
            call D0I(M0, 13, EUI + 3 + KJ0, false, true)
            call CSI(M0, 8, 1, "Items")
        else 
            call D6I(M0, 7, 1, 2)
            call D6I(M0, 8, 1, 0.1)
            call D6I(M0, 9, 1, 0.1)
            call D6I(M0, 10, 1, 0.1)
            call D6I(M0, 11, 1, 0.1)
            call D6I(M0, 12, 1, 0.1)
            call D6I(M0, 13, 1, 0.1)
            call D6I(M0, 7, EUI + 3 + KJ0, 2.5)
            call D6I(M0, 8, EUI + 3 + KJ0, 0.1)
            call D6I(M0, 9, EUI + 3 + KJ0, 0.1)
            call D6I(M0, 10, EUI + 3 + KJ0, 0.1)
            call D6I(M0, 11, EUI + 3 + KJ0, 0.1)
            call D6I(M0, 12, EUI + 3 + KJ0, 0.1)
            call D6I(M0, 13, EUI + 3 + KJ0, 0.1)
            call D0I(M0, 8, EUI + 3 + KJ0, false, false)
            call D0I(M0, 9, EUI + 3 + KJ0, false, false)
            call D0I(M0, 10, EUI + 3 + KJ0, false, false)
            call D0I(M0, 11, EUI + 3 + KJ0, false, false)
            call D0I(M0, 12, EUI + 3 + KJ0, false, false)
            call D0I(M0, 13, EUI + 3 + KJ0, false, false)
            call CSI(M0, 8, 1, " ")
        endif
        call CQI(M0, 8, EUI + 3 + KJ0, SJ1(T1[EUI], 1))
        call CQI(M0, 9, EUI + 3 + KJ0, SJ1(T1[EUI], 2))
        call CQI(M0, 10, EUI + 3 + KJ0, SJ1(T1[EUI], 3))
        call CQI(M0, 11, EUI + 3 + KJ0, SJ1(T1[EUI], 4))
        call CQI(M0, 12, EUI + 3 + KJ0, SJ1(T1[EUI], 5))
        call CQI(M0, 13, EUI + 3 + KJ0, SJ1(T1[EUI], 6))
        if (E3I(playerHero[GetPlayerId(T1[EUI])]) and playerHero[GetPlayerId(T1[EUI])] != null and TimerGetRemaining(timerDeathCountdown[GetPlayerId(T1[EUI])]) > 0) then
            if IsPlayerAlly(GetLocalPlayer(), T1[EUI]) then
                set TO1 = KT0 + " (" + I2S(R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(T1[EUI])]))) + ")|r"
            else 
                set TO1 = KM0 + " (" + I2S(R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(T1[EUI])]))) + ")|r"
            endif
        else 
            set TO1 = "  "
        endif
        if E30[GetPlayerId(T1[EUI])] then
            call CSI(M0, 1, EUI + 3 + KJ0, "|c00333333" + playerName[GetPlayerId(T1[EUI])] + "|r" + TO1)
        else 
            call CSI(M0, 1, EUI + 3 + KJ0, playerName[GetPlayerId(T1[EUI])] + TO1)
        endif
        set SP1 = TimerGetRemaining(EB0[GetPlayerId(T1[EUI])])
        if SP1 > 0 then
            set s = I2S(R2I(SP1))
        else 
            set s = " "
        endif
        if IsPlayerAlly(GetLocalPlayer(), T1[EUI]) == false then
            call CSI(M0, 7, EUI + 3 + KJ0, " ")
            set s = " "
        else 
            call CSI(M0, 7, EUI + 3 + KJ0, "|cffffcc00" + I2S(R2I( GetPlayerState(T1[EUI], PLAYER_STATE_RESOURCE_GOLD) )) + "|r")
        endif
        call CSI(M0, 2, EUI + 3 + KJ0, s)
        set EUI = EUI + 1
    endloop
endfunction

function Trig_CS_Board_Actions takes nothing returns nothing
    set HO[GetPlayerId(sentinelPlayers[1])] = CreateLeaderboard()
    set HO[GetPlayerId(sentinelPlayers[2])] = CreateLeaderboard()
    set HO[GetPlayerId(sentinelPlayers[3])] = CreateLeaderboard()
    set HO[GetPlayerId(sentinelPlayers[4])] = CreateLeaderboard()
    set HO[GetPlayerId(sentinelPlayers[5])] = CreateLeaderboard()
    set HO[GetPlayerId(scourgePlayers[1])] = CreateLeaderboard()
    set HO[GetPlayerId(scourgePlayers[2])] = CreateLeaderboard()
    set HO[GetPlayerId(scourgePlayers[3])] = CreateLeaderboard()
    set HO[GetPlayerId(scourgePlayers[4])] = CreateLeaderboard()
    set HO[GetPlayerId(scourgePlayers[5])] = CreateLeaderboard()
    call PlayerSetLeaderboard(sentinelPlayers[1], HO[GetPlayerId(sentinelPlayers[1])])
    call PlayerSetLeaderboard(sentinelPlayers[2], HO[GetPlayerId(sentinelPlayers[2])])
    call PlayerSetLeaderboard(sentinelPlayers[3], HO[GetPlayerId(sentinelPlayers[3])])
    call PlayerSetLeaderboard(sentinelPlayers[4], HO[GetPlayerId(sentinelPlayers[4])])
    call PlayerSetLeaderboard(sentinelPlayers[5], HO[GetPlayerId(sentinelPlayers[5])])
    call PlayerSetLeaderboard(scourgePlayers[1], HO[GetPlayerId(scourgePlayers[1])])
    call PlayerSetLeaderboard(scourgePlayers[2], HO[GetPlayerId(scourgePlayers[2])])
    call PlayerSetLeaderboard(scourgePlayers[3], HO[GetPlayerId(scourgePlayers[3])])
    call PlayerSetLeaderboard(scourgePlayers[4], HO[GetPlayerId(scourgePlayers[4])])
    call PlayerSetLeaderboard(scourgePlayers[5], HO[GetPlayerId(scourgePlayers[5])])
    call LeaderboardDisplay(HO[GetPlayerId(sentinelPlayers[1])], false)
    call LeaderboardDisplay(HO[GetPlayerId(sentinelPlayers[2])], false)
    call LeaderboardDisplay(HO[GetPlayerId(sentinelPlayers[3])], false)
    call LeaderboardDisplay(HO[GetPlayerId(sentinelPlayers[4])], false)
    call LeaderboardDisplay(HO[GetPlayerId(sentinelPlayers[5])], false)
    call LeaderboardDisplay(HO[GetPlayerId(scourgePlayers[1])], false)
    call LeaderboardDisplay(HO[GetPlayerId(scourgePlayers[2])], false)
    call LeaderboardDisplay(HO[GetPlayerId(scourgePlayers[3])], false)
    call LeaderboardDisplay(HO[GetPlayerId(scourgePlayers[4])], false)
    call LeaderboardDisplay(HO[GetPlayerId(scourgePlayers[5])], false)
    call LeaderboardSetLabelBJ(HO[GetPlayerId(sentinelPlayers[1])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(sentinelPlayers[2])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(sentinelPlayers[3])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(sentinelPlayers[4])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(sentinelPlayers[5])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(scourgePlayers[1])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(scourgePlayers[2])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(scourgePlayers[3])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(scourgePlayers[4])], "Creep Kills: 0 Denies: 0")
    call LeaderboardSetLabelBJ(HO[GetPlayerId(scourgePlayers[5])], "Creep Kills: 0 Denies: 0")
endfunction

function EndScore_GameMode takes nothing returns string 
    return DL
endfunction

function EndScore_GetWinner takes nothing returns string 
    return L3
endfunction

function T41 takes player EYI returns string 
    return playerColor[GetPlayerId(EYI)] + playerName[GetPlayerId(EYI)] + "|r"
endfunction

function T51 takes player EYI returns string 
    local string T61 = I2S(F10[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function T81 takes player EYI returns string 
    local string T61 = I2S(FI0[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function SOI takes nothing returns nothing
    local integer i = 1
    local multiboarditem CPI
    loop
        exitwhen i > L00
        if M3[GetPlayerId(KU0[i])] != "Here" then
            set CPI = MultiboardGetItem(KR0, KP0[i], KQ0[i])
            call MultiboardSetItemStyle(CPI, true, false)
            call MultiboardSetItemValue(CPI, "|c00555555" + M3[GetPlayerId(KU0[i])] + "|r")
            call MultiboardSetItemWidth(CPI, 0.07)
            call MultiboardReleaseItem(CPI)
        endif
        set i = i + 1
    endloop
endfunction

function T91 takes player EYI returns string 
    local string T61 = I2S( GetPlayerState(EYI, PLAYER_STATE_RESOURCE_GOLD) )
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TA1 takes player EYI returns string 
    local string T61 = I2S(E[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TB1 takes player EYI returns string 
    local string T61 = I2S(GetUnitLevel(playerHero[GetPlayerId(EYI)]))
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TC1 takes player EYI returns string 
    local string T61 = I2S(F[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TD1 takes player EYI returns string 
    local string T61 = I2S(heroKillGold[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TE1 takes player EYI returns string 
    local string T61 = I2S(G[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TF1 takes player EYI returns string 
    local string T61 = I2S(D[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TG1 takes player EYI returns string 
    local string T61 = I2S(nKill[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TH1 takes player EYI returns string 
    local string T61 = I2S(nDeath[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TZ1 takes player EYI returns string 
    local string T61 = I2S(A[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TV1 takes player EYI returns string 
    local string T61 = I2S(B[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TW1 takes player EYI returns string 
    local string T61 = I2S( LoadInteger(hashTable, (400 + GetPlayerId(EYI)), 79) )
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TX1 takes player EYI returns string 
    local string T61 = I2S(Z[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TY1 takes player EYI returns string 
    local string T61 = I2S(V[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TJ1 takes player EYI returns string 
    local string T61 = I2S(maxKillsInRow[GetPlayerId(EYI)])
    local string T71 = T61
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + T61 + "|r"
    endif
    return T71
endfunction

function TK1 takes player EYI returns string 
    local string TL1
    local string TM1
    local string T71
    local integer k = J[GetPlayerId(EYI)]
    local integer d = X[GetPlayerId(EYI)]
    if k < 1 then
        set k = 0
    endif
    if d < 1 then
        set d = 0
    endif
    set TL1 = I2S(k)
    set TM1 = I2S(d)
    set T71 = TL1 + "/" + TM1
    if EYI == GetLocalPlayer() then
        set T71 = LI0 + TL1 + "|r/" + LI0 + TM1 + "|r"
    endif
    return T71
endfunction

function TN1 takes player EYI returns string 
    local integer TS1 = timeDeathTotal[GetPlayerId(EYI)]
    local string LLI
    local integer JAI
    local integer JBI
    set JAI = (TS1/60) - (1/2)
    set JBI = ModuloInteger(TS1, 60)
    if (JBI < 10) then
        set LLI = I2S(JAI) + ":0" + I2S(JBI)
    else 
        set LLI = I2S(JAI) + ":" + I2S(JBI)
    endif
    if EYI == GetLocalPlayer() then
        set LLI = LI0 + LLI + "|r"
    endif
    return LLI
endfunction

function TT1 takes player GCI, player GDI returns string 
    local string TL1
    local string TM1
    local string T71
    local integer k = LoadInteger(hashTable, (400 + GetPlayerId(GCI)), (450 + GetPlayerId(GDI)))
    local integer d = LoadInteger(hashTable, (400 + GetPlayerId(GCI)), (500 + GetPlayerId(GDI)))
    if k < 1 then
        set k = 0
    endif
    if d < 1 then
        set d = 0
    endif
    set TL1 = I2S(k)
    set TM1 = I2S(d)
    set T71 = TL1 + "/" + TM1
    if GCI == GetLocalPlayer() then
        set T71 = LI0 + TL1 + "|r/" + LI0 + TM1 + "|r"
    endif
    return T71
endfunction

function EndScore_AllKD takes nothing returns string 
    return "|c00ff0303" + I2S(nKill[GetPlayerId(sentinelPlayers[0])]) + "|r/|c0020c000" + I2S(nDeath[GetPlayerId(sentinelPlayers[0])]) + "|r"
endfunction

function doUpdateMultiboard takes nothing returns nothing
    local integer TP1 = KJ0
    local integer TQ1 = KK0
    local player array TU1
    local player array R01
    local integer RI1
    local integer R11
    local integer RO1 = 21 + HDI(TP1, TQ1) + 1
    local integer R21 = 1 + (TP1 + TQ1)*2
    local multiboarditem CPI
    local integer i
    local integer x
    local integer curRow1
    local integer curRow2
    local string e = "|r"
    local string c0 = "|cff99ccff"
    local integer R31
    local integer R41
    call DisableTrigger(MH)
    call DestroyMultiboard(M0)
    if TP1 > 0 and TQ1 > 0 then
        set RO1 = RO1 + 2
    endif
    set KR0 = CreateMultiboard()
    call MultiboardSetItemsWidth(KR0, 0)
    call MultiboardSetRowCount(KR0, RO1)
    call MultiboardSetColumnCount(KR0, R21)
    call MultiboardSetTitleText(KR0, GetObjectName('n0E3') + " " + " - " + DL)
    call MultiboardMinimize(KR0, true)
    call MultiboardSetItemsStyle(KR0, false, false)
    call MultiboardDisplay(KR0, true)
    call MultiboardMinimize(KR0, false)
    call MultiboardSetTitleText(KR0, GetObjectName('n0E3') + " " + " - " + DL + " - " + ("|c00ff0303" + I2S(nKill[GetPlayerId(sentinelPlayers[0])]) + "|r/|c0020c000" + I2S(nDeath[GetPlayerId(sentinelPlayers[0])]) + "|r"))
    set x = 1
    set i = 1
    loop
        exitwhen i > 5
        if isPlayerAlive(sentinelPlayers[i]) or GetPlayerSlotState(sentinelPlayers[i]) == PLAYER_SLOT_STATE_LEFT then
            set TU1[x] = sentinelPlayers[i]
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set x = 1
    set i = 1
    loop
        exitwhen i > 5
        if isPlayerAlive(scourgePlayers[i]) or GetPlayerSlotState(scourgePlayers[i]) == PLAYER_SLOT_STATE_LEFT then
            set R01[x] = scourgePlayers[i]
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set i = 0
    set R11 = 0
    loop
        exitwhen i > RO1
        set CPI = MultiboardGetItem(KR0, i, R11)
        call MultiboardSetItemWidth(CPI, 0.075)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = 0
    set R11 = 0
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, " ")
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, false, false)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T41(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T41(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = RI1 + 1
    set R11 = 0
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, false, false)
    call MultiboardReleaseItem(CPI)
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, true)
        call MultiboardSetItemValue(CPI, TB1(TU1[i]))
        call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, true)
        call MultiboardSetItemValue(CPI, TB1(R01[i]))
        call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = RI1 + 1
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0EB') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 1 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 2 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 1 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 2 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = RI1 + 1
    set R11 = 0
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + " " + e)
    call MultiboardReleaseItem(CPI)
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 3 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 4 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 3 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 4 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = RI1 + 1
    set R11 = 0
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + " " + e)
    call MultiboardReleaseItem(CPI)
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 5 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 6 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 5 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 6 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0E2') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T91(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T91(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0E1') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TG1(TU1[i]) + "/" + TH1(TU1[i]) + "/" + TF1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TG1(R01[i]) + "/" + TH1(R01[i]) + "/" + TF1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0JU') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T51(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T51(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0KF') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T81(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T81(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0E0') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TC1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TC1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DT') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TK1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TK1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DZ') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TZ1(TU1[i]) + "/" + TV1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TZ1(R01[i]) + "/" + TV1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DY') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TW1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TW1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DU') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TD1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TD1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DV') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TN1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TN1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DW') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TE1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TE1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DN') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TA1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TA1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0D8') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TX1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TX1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DI') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TY1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TY1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DM') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TJ1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, TJ1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    if TP1 > 0 and TQ1 > 0 then
        set R11 = 0
        set R31 = RI1
        set R41 = R11
        set RI1 = RI1 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DL') + e)
        call MultiboardReleaseItem(CPI)
        set RI1 = R31
        set x = 1
        loop
            exitwhen x > TP1
            set R11 = 0
            set RI1 = R31
            set i = 1
            loop
                exitwhen i > TQ1
                set R11 = x + (x - 1)
                set RI1 = RI1 + 1
                set CPI = MultiboardGetItem(KR0, RI1, R11)
                call MultiboardSetItemStyle(CPI, false, true)
                call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(TU1[x])]))
                call MultiboardSetItemWidth(CPI, 0.01)
                call MultiboardReleaseItem(CPI)
                set R11 = R11 + 1
                set CPI = MultiboardGetItem(KR0, RI1, R11)
                call MultiboardSetItemStyle(CPI, true, true)
                call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(R01[i])]))
                call MultiboardSetItemValue(CPI, " " + TT1(TU1[x], R01[i]))
                call MultiboardSetItemWidth(CPI, 0.059)
                call MultiboardReleaseItem(CPI)
                set i = i + 1
            endloop
            set x = x + 1
        endloop
        set x = TP1 + 1
        loop
            exitwhen x > (TQ1 + TP1)
            set R11 = 0
            set RI1 = R31
            set i = 1
            loop
                exitwhen i > TP1
                set R11 = x + (x - 1)
                set RI1 = RI1 + 1
                set CPI = MultiboardGetItem(KR0, RI1, R11)
                call MultiboardSetItemStyle(CPI, false, true)
                call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(R01[x - TP1])]))
                call MultiboardSetItemWidth(CPI, 0.01)
                call MultiboardReleaseItem(CPI)
                set R11 = R11 + 1
                set CPI = MultiboardGetItem(KR0, RI1, R11)
                call MultiboardSetItemStyle(CPI, true, true)
                call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(TU1[i])]))
                call MultiboardSetItemValue(CPI, " " + TT1(R01[x - TP1], TU1[i]))
                call MultiboardSetItemWidth(CPI, 0.059)
                call MultiboardReleaseItem(CPI)
                set i = i + 1
            endloop
            set x = x + 1
        endloop
    endif
    set RI1 = RI1 + 1
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0CZ') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, M3[GetPlayerId(TU1[i])])
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set L00 = L00 + 1
        set KP0[L00] = RI1
        set KQ0[L00] = R11
        set KU0[L00] = TU1[i]
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(KR0, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, M3[GetPlayerId(R01[i])])
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set L00 = L00 + 1
        set KP0[L00] = RI1
        set KQ0[L00] = R11
        set KU0[L00] = R01[i]
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(KR0, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0D9') + e)
    call MultiboardReleaseItem(CPI)
    set CPI = MultiboardGetItem(KR0, RI1, R11 + 1)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, L3)
    call MultiboardSetItemWidth(CPI, 0.07)
    call MultiboardReleaseItem(CPI)
    call MultiboardMinimize(KR0, true)
    call MultiboardMinimize(KR0, false)
endfunction

function ObsBoard_GameMode takes nothing returns string 
    return DL
endfunction

function R61 takes player EYI returns string 
    return playerColor[GetPlayerId(EYI)] + playerName[GetPlayerId(EYI)] + "|r"
endfunction

function R71 takes player EYI returns string 
    local integer k = J[GetPlayerId(EYI)]
    local integer d = X[GetPlayerId(EYI)]
    if k < 1 then
        set k = 0
    endif
    if d < 1 then
        set d = 0
    endif
    return I2S(k) + "/" + I2S(d)
endfunction

function R81 takes player EYI returns string 
    local integer TS1 = timeDeathTotal[GetPlayerId(EYI)]
    local string LLI
    local integer JAI
    local integer JBI
    set JAI = (TS1/60) - (1/2)
    set JBI = ModuloInteger(TS1, 60)
    if (JBI < 10) then
        set LLI = I2S(JAI) + ":0" + I2S(JBI)
    else 
        set LLI = I2S(JAI) + ":" + I2S(JBI)
    endif
    return LLI
endfunction

function R91 takes player GCI, player GDI returns string 
    local integer k = LoadInteger(hashTable, (400 + GetPlayerId(GCI)), (450 + GetPlayerId(GDI)))
    local integer d = LoadInteger(hashTable, (400 + GetPlayerId(GCI)), (500 + GetPlayerId(GDI)))
    if k < 1 then
        set k = 0
    endif
    if d < 1 then
        set d = 0
    endif
    return I2S(k) + "/" + I2S(d)
endfunction

function RA1 takes player GCI returns string 
    local string RB1
    if isUnitUnavailable(playerHero[GetPlayerId(GCI)]) then
        set RB1 = I2S(R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(GCI)])))
    else 
        set RB1 = " "
    endif
    return RB1
endfunction

function RC1 takes player GCI returns string 
    local real r = TimerGetRemaining(EB0[GetPlayerId(GCI)])
    local string RB1
    if r > 0 then
        set RB1 = I2S(R2I(r))
    else 
        set RB1 = " "
    endif
    return RB1
endfunction

function RD1 takes integer RE1, integer RF1 returns nothing
    set L10 = CreateMultiboard()
    call MultiboardSetItemsWidth(L10, 0)
    call MultiboardSetRowCount(L10, RE1)
    call MultiboardSetColumnCount(L10, RF1)
    call MultiboardSetTitleText(L10, GetObjectName('n0E3') + " " + " - " + DL)
    call MultiboardMinimize(L10, true)
    call MultiboardSetItemsStyle(L10, false, false)
    if GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0 then
        call MultiboardDisplay(L10, true)
    endif
endfunction

function ObsBoard_AllKD takes nothing returns string 
    return "|c00ff0303" + I2S(nKill[GetPlayerId(sentinelPlayers[0])]) + "|r/|c0020c000" + I2S(nDeath[GetPlayerId(sentinelPlayers[0])]) + "|r"
endfunction

function RG1 takes nothing returns nothing
    local integer TP1 = M1
    local integer TQ1 = N1
    local player array TU1
    local player array R01
    local integer RI1
    local integer R11
    local integer RO1 = 1 + 21 + HDI(TP1, TQ1)
    local integer R21 = 1 + (TP1 + TQ1)*2
    local multiboarditem CPI
    local integer i
    local integer x
    local integer curRow1
    local integer curRow2
    local string e = "|r"
    local string c0 = "|cff99ccff"
    local integer R31
    local integer R41
    local integer RH1 = 131
    local integer RZ1 = 139
    local integer RV1 = 139
    local integer RW1 = 255
    local integer SQ1 = 0
    local string SU1 = ""
    local string T01 = ""
    local integer TI1 = 0
    local integer T11 = 0
    local integer r
    if TP1 > 0 and TQ1 > 0 then
        set RO1 = RO1 + 2
    endif
    if GetTriggerExecCount(GetTriggeringTrigger()) == 1 then
        call RD1(RO1, R21)
    endif
    if E2 and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0) then
        call MultiboardDisplay(L10, true)
    endif
    set i = 1
    loop
        exitwhen i > 5
        set r = R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(sentinelPlayers[i])]))
        if r > 0 then
            set SQ1 = SQ1 + SY1(r)
            if TI1 == 0 then
                if r < 10 then
                    set SU1 = playerColor[GetPlayerId(sentinelPlayers[i])] + "0" + I2S(r) + " |r"
                else 
                    set SU1 = playerColor[GetPlayerId(sentinelPlayers[i])] + I2S(r) + " |r"
                endif
            else 
                if r < 10 then
                    set SU1 = SU1 + KT0 + "| |r" + playerColor[GetPlayerId(sentinelPlayers[i])] + "0" + I2S(r) + " |r"
                else 
                    set SU1 = SU1 + KT0 + "| |r" + playerColor[GetPlayerId(sentinelPlayers[i])] + I2S(r) + " |r"
                endif
            endif
            set TI1 = TI1 + 1
        endif
        set i = i + 1
    endloop
    if TI1 > 0 then
        set SU1 = KT0 + "[Sentinel: |r" + SU1 + KT0 + "]|r"
    endif
    set i = 1
    loop
        exitwhen i > 5
        set r = R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(scourgePlayers[i])]))
        if r > 0 then
            set SQ1 = SQ1 + SY1(r)
            if T11 == 0 then
                if r < 10 then
                    set T01 = playerColor[GetPlayerId(scourgePlayers[i])] + "0" + I2S(r) + " |r"
                else 
                    set T01 = playerColor[GetPlayerId(scourgePlayers[i])] + I2S(r) + " |r"
                endif
            else 
                if r < 10 then
                    set T01 = T01 + KT0 + "| |r" + playerColor[GetPlayerId(scourgePlayers[i])] + "0" + I2S(r) + " |r"
                else 
                    set T01 = T01 + KT0 + "| |r" + playerColor[GetPlayerId(scourgePlayers[i])] + I2S(r) + " |r"
                endif
            endif
            set T11 = T11 + 1
        endif
        set i = i + 1
    endloop
    if T11 > 0 then
        set T01 = KT0 + "[Scourge: |r" + T01 + KT0 + "]|r"
    endif
    call MultiboardSetTitleText(L10, SU1 + " " + T01 + " " + GetObjectName('n0E3') + " " + " - " + DL + " - " + ("|c00ff0303" + I2S(nKill[GetPlayerId(sentinelPlayers[0])]) + "|r/|c0020c000" + I2S(nDeath[GetPlayerId(sentinelPlayers[0])]) + "|r"))
    set x = 1
    set i = 1
    loop
        exitwhen i > 5
        if isPlayerAlive(sentinelPlayers[i]) or GetPlayerSlotState(sentinelPlayers[i]) == PLAYER_SLOT_STATE_LEFT then
            set TU1[x] = sentinelPlayers[i]
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set x = 1
    set i = 1
    loop
        exitwhen i > 5
        if isPlayerAlive(scourgePlayers[i]) or GetPlayerSlotState(scourgePlayers[i]) == PLAYER_SLOT_STATE_LEFT then
            set R01[x] = scourgePlayers[i]
            set x = x + 1
        endif
        set i = i + 1
    endloop
    set i = 0
    set R11 = 0
    loop
        exitwhen i > RO1
        set CPI = MultiboardGetItem(L10, i, R11)
        call MultiboardSetItemWidth(CPI, 0.075)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = 0
    set R11 = 0
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, " ")
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, false, false)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, R61(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, R61(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = RI1 + 1
    set R11 = 0
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, false, false)
    call MultiboardReleaseItem(CPI)
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, true)
        call MultiboardSetItemValue(CPI, "(" + I2S(GetUnitLevel(playerHero[GetPlayerId(TU1[i])])) + ")")
        call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, true)
        call MultiboardSetItemValue(CPI, "(" + I2S(GetUnitLevel(playerHero[GetPlayerId(R01[i])])) + ")")
        call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = RI1 + 1
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0EB') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 1 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 2 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 1 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 2 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = RI1 + 1
    set R11 = 0
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + " " + e)
    call MultiboardReleaseItem(CPI)
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 3 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 4 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 3 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 4 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set RI1 = RI1 + 1
    set R11 = 0
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + " " + e)
    call MultiboardReleaseItem(CPI)
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 5 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(TU1[i])], 6 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 5 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, KHI( UnitItemInSlot(playerHero[GetPlayerId(R01[i])], 6 - 1) ))
        call MultiboardSetItemWidth(CPI, 0.054)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0E2') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S( GetPlayerState(TU1[i], PLAYER_STATE_RESOURCE_GOLD) ))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S( GetPlayerState(R01[i], PLAYER_STATE_RESOURCE_GOLD) ))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0E1') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(nKill[GetPlayerId(TU1[i])]) + "/" + I2S(nDeath[GetPlayerId(TU1[i])]) + "/" + I2S(D[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(nKill[GetPlayerId(R01[i])]) + "/" + I2S(nDeath[GetPlayerId(R01[i])]) + "/" + I2S(D[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0JU') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T51(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T51(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0KF') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T81(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, T81(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0E0') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(F[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(F[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DT') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, R71(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, R71(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DZ') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(A[GetPlayerId(TU1[i])]) + "/" + I2S(B[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(A[GetPlayerId(R01[i])]) + "/" + I2S(B[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DY') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S( LoadInteger(hashTable, (400 + GetPlayerId(TU1[i])), 79) ))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S( LoadInteger(hashTable, (400 + GetPlayerId(R01[i])), 79) ))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DU') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(heroKillGold[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(heroKillGold[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DV') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, R81(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, R81(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DW') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(G[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(G[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DN') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(E[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(E[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0D8') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(Z[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(Z[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DI') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(V[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(V[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DM') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(maxKillsInRow[GetPlayerId(TU1[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, I2S(maxKillsInRow[GetPlayerId(R01[i])]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    if TP1 > 0 and TQ1 > 0 then
        set R11 = 0
        set R31 = RI1
        set R41 = R11
        set RI1 = RI1 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemStyle(CPI, true, false)
        call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0DL') + e)
        call MultiboardReleaseItem(CPI)
        set RI1 = R31
        set x = 1
        loop
            exitwhen x > TP1
            set R11 = 0
            set RI1 = R31
            set i = 1
            loop
                exitwhen i > TQ1
                set R11 = x + (x - 1)
                set RI1 = RI1 + 1
                set CPI = MultiboardGetItem(L10, RI1, R11)
                call MultiboardSetItemStyle(CPI, false, true)
                call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(TU1[x])]))
                call MultiboardSetItemWidth(CPI, 0.01)
                call MultiboardReleaseItem(CPI)
                set R11 = R11 + 1
                set CPI = MultiboardGetItem(L10, RI1, R11)
                call MultiboardSetItemStyle(CPI, true, true)
                call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(R01[i])]))
                call MultiboardSetItemValue(CPI, " " + R91(TU1[x], R01[i]))
                call MultiboardSetItemWidth(CPI, 0.059)
                call MultiboardReleaseItem(CPI)
                set i = i + 1
            endloop
            set x = x + 1
        endloop
        set x = TP1 + 1
        loop
            exitwhen x > (TQ1 + TP1)
            set R11 = 0
            set RI1 = R31
            set i = 1
            loop
                exitwhen i > TP1
                set R11 = x + (x - 1)
                set RI1 = RI1 + 1
                set CPI = MultiboardGetItem(L10, RI1, R11)
                call MultiboardSetItemStyle(CPI, false, true)
                call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(R01[x - TP1])]))
                call MultiboardSetItemWidth(CPI, 0.01)
                call MultiboardReleaseItem(CPI)
                set R11 = R11 + 1
                set CPI = MultiboardGetItem(L10, RI1, R11)
                call MultiboardSetItemStyle(CPI, true, true)
                call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(TU1[i])]))
                call MultiboardSetItemValue(CPI, " " + R91(R01[x - TP1], TU1[i]))
                call MultiboardSetItemWidth(CPI, 0.059)
                call MultiboardReleaseItem(CPI)
                set i = i + 1
            endloop
            set x = x + 1
        endloop
    endif
    set RI1 = RI1 + 1
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0HS') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        if RA1(TU1[i]) == " " then
            call MultiboardSetItemStyle(CPI, true, false)
        else 
            call MultiboardSetItemStyle(CPI, true, false)
            call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(TU1[i])]))
        endif
        call MultiboardSetItemValue(CPI, RC1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        call MultiboardSetItemValueColor(CPI, RH1, RZ1, RV1, RW1)
        if RA1(R01[i]) == " " then
            call MultiboardSetItemStyle(CPI, true, false)
        else 
            call MultiboardSetItemStyle(CPI, true, false)
            call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(R01[i])]))
        endif
        call MultiboardSetItemValue(CPI, RC1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set R11 = 0
    set RI1 = RI1 + 1
    set CPI = MultiboardGetItem(L10, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, c0 + GetObjectName('n0E4') + e)
    call MultiboardReleaseItem(CPI)
    set R11 = 0
    set i = 1
    loop
        exitwhen i > TP1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        if RA1(TU1[i]) == " " then
            call MultiboardSetItemStyle(CPI, true, false)
        else 
            call MultiboardSetItemStyle(CPI, true, true)
            call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(TU1[i])]))
        endif
        call MultiboardSetItemValue(CPI, RA1(TU1[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > TQ1
        set R11 = R11 + 1
        set CPI = MultiboardGetItem(L10, RI1, R11)
        if RA1(R01[i]) == " " then
            call MultiboardSetItemStyle(CPI, true, false)
        else 
            call MultiboardSetItemStyle(CPI, true, true)
            call MultiboardSetItemIcon(CPI, DPI(playerHero[GetPlayerId(R01[i])]))
        endif
        call MultiboardSetItemValue(CPI, RA1(R01[i]))
        call MultiboardSetItemWidth(CPI, 0.07)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
endfunction

function RX1 takes nothing returns nothing
    local trigger t
    if E2 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddAction(t, function RG1)
        set LO0 = t
    endif
endfunction

function RY1 takes unit u, integer d returns nothing
    local texttag t = CreateTextTag()
    call SetTextTagText(t, I2S(d), 0.03)
    call SetTextTagPosUnit(t, u, 0)
    call SetTextTagColorBJ(t, 0, 0, 255, 15)
    call SetTextTagVelocity(t, 0, 0.035)
    call SetTextTagFadepoint(t, 3)
    call SetTextTagLifespan(t, 2.5)
    call SetTextTagPermanent(t, false)
    call SetTextTagVisibility(t, false)
    call SetTextTagVisibility(t, true)
    set t = null
endfunction

function RJ1 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    if GetSpellAbilityId() == 'A053' and GetUnitState(GCI, UNIT_STATE_LIFE) > 1 then
        call SetUnitState(GCI, UNIT_STATE_MANA, GetUnitState(GCI, UNIT_STATE_MANA) + GetUnitState(GDI, UNIT_STATE_LIFE)*GetUnitAbilityLevel(GCI, 'A053')*0.15)
        call RY1(GDI, R2I(GetUnitState(GDI, UNIT_STATE_LIFE)*GetUnitAbilityLevel(GCI, 'A053')*0.15))
        call KillUnit(GDI)
    endif
    set GCI = null
    set GDI = null
endfunction

function RK1 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A053' and GII(GetSpellTargetUnit()) == false then
        call RJ1()
    endif
    return false
endfunction

function IsChinese takes nothing returns boolean 
    return GetObjectName('n0K5') != "Only Translate This String If Simplified Chinese"
endfunction

function RM1 takes nothing returns boolean 
    local integer i = 0
    local string s = ""
    loop
        exitwhen i > 12
        if GetRandomInt(0, 10) < 3 and (GetObjectName('n0K5') != "Only Translate This String If Simplified Chinese") then
            call DisplayTimedTextToPlayer(Player(i), 0, 0, 10, s)
        endif
        set i = i + 1
    endloop
    return false
endfunction

function RS1 takes nothing returns boolean 
    local real RT1
    local real RR1
    local unit u
    if M10 == false then
        set u = I10
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - L20) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
    endif
    if MO0 == false then
        set u = IO0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - L30) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
    endif
    if M20 == false then
        set u = I20
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - L40) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
    endif
    if MI0 == false then
        set u = I30
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - L50) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = I40
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - L60) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = I50
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - L70) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = I60
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - L80) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = I70
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - L90) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = I80
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LA0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = I90
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LB0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = IA0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LC0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = IB0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LD0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = IC0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LE0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = ID0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LF0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
    endif
    if LQ0 == false then
        set u = BM0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LG0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
    endif
    if LU0 == false then
        set u = BN0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LH0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
    endif
    if M00 == false then
        set u = BS0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LZ0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
    endif
    if LP0 == false then
        set u = BT0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LV0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = BR0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LW0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = BP0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LX0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = BQ0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LY0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = BU0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LJ0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = C00
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LK0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = CI0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LL0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = C10
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LM0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = CO0
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LN0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = C20
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LS0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
        set u = C30
        if u != null then
            set RT1 = GetUnitState(u, UNIT_STATE_LIFE)
            set RR1 = RT1 + LR0
            if RR1 < (GetUnitState(u, UNIT_STATE_MAX_LIFE) - LT0) then
                call SetUnitState(u, UNIT_STATE_LIFE, RR1)
            endif
        endif
    endif
    return false
endfunction

function RP1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LQ0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LG0 = LG0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function RQ1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LU0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LH0 = LH0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function RU1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if M00 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LZ0 = LZ0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P01 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LV0 = LV0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PI1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LW0 = LW0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P11 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LX0 = LX0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PO1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LY0 = LY0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P21 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LJ0 = LJ0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P31 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LK0 = LK0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P41 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LL0 = LL0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P51 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LM0 = LM0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P61 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LN0 = LN0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P71 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LS0 = LS0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P81 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if LP0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LT0 = LT0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function P91 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if M10 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set L20 = L20 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PA1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MO0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set L30 = L30 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PB1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if M20 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set L40 = L40 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PC1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set L50 = L50 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PD1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set L60 = L60 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PE1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set L70 = L70 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PF1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set L80 = L80 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PG1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set L90 = L90 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PH1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LA0 = LA0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PZ1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LB0 = LB0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PV1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LC0 = LC0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PW1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LD0 = LD0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PX1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LE0 = LE0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PY1 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if MI0 or IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true then
            set LF0 = LF0 + GetEventDamage()
        else 
            if IsUnitIllusion(GetEventDamageSource()) == true then
                call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 0.75*GetEventDamage())
            endif
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function PK1 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == scourgePlayers[0] then
        set MI0 = true
    endif
    return false
endfunction

function PL1 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == scourgePlayers[0] then
        set M10 = true
    endif
    return false
endfunction

function PM1 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == scourgePlayers[0] then
        set MO0 = true
    endif
    return false
endfunction

function PN1 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == scourgePlayers[0] then
        set M20 = true
    endif
    return false
endfunction

function PS1 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == sentinelPlayers[0] then
        set LP0 = true
    endif
    return false
endfunction

function PT1 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == sentinelPlayers[0] then
        set LQ0 = true
    endif
    return false
endfunction

function PR1 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == sentinelPlayers[0] then
        set LU0 = true
    endif
    return false
endfunction

function PP1 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == sentinelPlayers[0] then
        set M00 = true
    endif
    return false
endfunction

function PQ1 takes nothing returns boolean 
    local group g = allocGroup()
    set LP0 = false
    set LQ0 = false
    set LU0 = false
    set M00 = false
    set MI0 = false
    set M10 = false
    set MO0 = false
    set M20 = false
    call GroupEnumUnitsInRect(g, B6, Condition(function PK1))
    call GroupEnumUnitsInRect(g, C6, Condition(function PK1))
    call GroupEnumUnitsInRect(g, D6, Condition(function PK1))
    call GroupEnumUnitsInRect(g, EB, Condition(function PK1))
    call GroupEnumUnitsInRect(g, FB, Condition(function PK1))
    call GroupEnumUnitsInRect(g, GB, Condition(function PK1))
    call GroupEnumUnitsInRect(g, CB, Condition(function PL1))
    call GroupEnumUnitsInRect(g, WB, Condition(function PM1))
    call GroupEnumUnitsInRect(g, DB, Condition(function PN1))
    call GroupEnumUnitsInRect(g, E6, Condition(function PS1))
    call GroupEnumUnitsInRect(g, F6, Condition(function PS1))
    call GroupEnumUnitsInRect(g, G6, Condition(function PS1))
    call GroupEnumUnitsInRect(g, VB, Condition(function PS1))
    call GroupEnumUnitsInRect(g, HB, Condition(function PS1))
    call GroupEnumUnitsInRect(g, ZB, Condition(function PS1))
    call GroupEnumUnitsInRect(g, OB, Condition(function PT1))
    call GroupEnumUnitsInRect(g, AB, Condition(function PR1))
    call GroupEnumUnitsInRect(g, BB, Condition(function PP1))
    call releaseGroup(g)
    set g = null
    return false
endfunction

function Q01 takes nothing returns boolean 
    call abandonTrigger(GetTriggeringTrigger())
    call TriggerEvaluate(XH)
    return false
endfunction

function QI1 takes nothing returns boolean 
    local real r = TimerGetRemaining(IL)
    local real Q11 = r
    local integer HWI = R2I(Q11)
    local integer JAI = HWI/60 - 1/2
    local integer JBI = ModuloInteger(HWI, 60)
    local trigger t
    if r == 0 then
        set M30 = true
        call L1I("GameStart", 1)
        call J9I(JAI, JBI, true)
        set BL = true
        set N = TimerGetElapsed(M)
        call abandonTrigger(GetTriggeringTrigger())
        call SetFloatGameState(GAME_STATE_TIME_OF_DAY, 6.00)
        call SuspendTimeOfDay(false)
        call SetTimeOfDayScale(0.5)
        if P0 == false then
            if GL then
                call TriggerRegisterTimerEvent(X60, 180, true)
            else 
                call TriggerRegisterTimerEvent(X60, 120, true)
            endif
            call TriggerEvaluate(X60)
        endif
        call TriggerRegisterTimerEvent(XH, 60, true)
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 30, false)
        call TriggerAddCondition(t, Condition(function Q01))
        set t = null
        call TriggerRegisterTimerEventPeriodic(TG, 30.00)
        call TriggerExecute(TG)
        call TriggerRegisterTimerEventPeriodic(VH, 450.00)
        call TriggerRegisterTimerEvent(EP0, 300, true)
        call TriggerRegisterTimerEvent(MH0, 300, true)
        call TriggerRegisterTimerEvent(DS, 30, true)
        call TriggerEvaluate(DS)
        if Q0 then
            call TriggerRegisterTimerEvent(YH, 600, true)
        endif
        call ExecuteFunc("QO1")
    elseif r == 7 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 30, true)
        call TriggerAddCondition(t, Condition(function MO1))
    elseif Q11 < 12 and CL == false then
        set CL = true
        call PlaySoundBJ(FF)
        call J9I(JAI, JBI, true)
    else 
        call J9I(JAI, JBI, true)
    endif
    return false
endfunction

function Q21 takes nothing returns boolean 
    if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetAttacker())) and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1 and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false and GetOwningPlayer(GetFilterUnit()) != playerNeutrals then
        if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true then
            set M40 = GetFilterUnit()
        else 
            set M50 = GetFilterUnit()
        endif
    endif
    return false
endfunction

function Q31 takes nothing returns nothing
    local unit M61 = GetAttacker()
    local unit GDI = GetTriggerUnit()
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, GetUnitX(M61), GetUnitY(M61), 900, Condition(function Q21))
    call releaseGroup(g)
    call DisableTrigger(GetTriggeringTrigger())
    if M40 != null then
        call IssueTargetOrder(M61, "attack", M40)
        call GroupAddUnit(M60, M61)
    elseif IsUnitType(GDI, UNIT_TYPE_HERO) == true and M50 != null then
        call IssueTargetOrder(M61, "attack", M50)
        call GroupAddUnit(M60, M61)
    endif
    call EnableTrigger(GetTriggeringTrigger())
    set M40 = null
    set M50 = null
    set M61 = null
    set GDI = null
    set g = null
endfunction

function Q41 takes nothing returns nothing
    if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) < 1 then
        call GroupRemoveUnit(M60, GetEnumUnit())
    endif
    if GetUnitCurrentOrder(GetEnumUnit()) != OrderId("attack") then
        call GroupRemoveUnit(M60, GetEnumUnit())
        call IssuePointOrderLoc(GetEnumUnit(), "attack", B2[GetUnitAbilityLevel(GetEnumUnit(), A2)])
    endif
endfunction

function Q51 takes nothing returns boolean 
    call ForGroup(M60, function Q41)
    return false
endfunction

function unitDamageCallbackRegister takes string s returns nothing
    set unitDamageCallbackCount = unitDamageCallbackCount + 1
    set unitDamageCallbacks[unitDamageCallbackCount] = s
endfunction

function trackDamageCallback takes nothing returns boolean 
    local integer i = 1
    loop
        exitwhen i > unitDamageCallbackCount
        call ExecuteFunc(unitDamageCallbacks[i])
        set i = i + 1
    endloop
    call ExecuteFunc("recordUnitDamage")
    call ExecuteFunc("V51")
    return false
endfunction

function trackDamage takes unit E1I returns nothing
    local trigger t = CreateTrigger()
    call SaveBoolean(hashTable, GetHandleId(GetTriggerUnit()), 38, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function trackDamageCallback))
    set t = null
endfunction

function QA1 takes nothing returns boolean 
    if GetUnitTypeId(GetTriggerUnit()) != 'H0B8' and GetUnitTypeId(GetTriggerUnit()) != 'H00M' and GetUnitTypeId(GetTriggerUnit()) != 'H07G' and GetUnitTypeId(GetTriggerUnit()) != 'H00Y' and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and IsUnitIllusion(GetTriggerUnit()) == false and HaveSavedBoolean(hashTable, GetHandleId(GetTriggerUnit()), 38) == false then
        if M70 and (GetUnitTypeId(GetTriggerUnit()) != 'O00P' or (GetUnitTypeId(GetTriggerUnit()) == 'O00P' and M80)) then
            call trackDamage(GetTriggerUnit())
        endif
    endif
    return false
endfunction

function QC1 takes nothing returns boolean 
    local unit u
    local real QD1
    local boolean QE1 = GRI()
    set u = IE0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IF0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IG0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IH0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IZ0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IV0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IW0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IX0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IY0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IJ0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    set u = IK0
    if u != null and GetUnitState(u, UNIT_STATE_LIFE) > 1 then
        set QD1 = GetUnitState(u, UNIT_STATE_MANA)
        if QE1 then
            set QD1 = HGI(QD1 - 25, 0)
        else 
            set QD1 = rMin(QD1 + 5, 300)
        endif
        call SetUnitState(u, UNIT_STATE_MANA, QD1)
    endif
    return false
endfunction

function QH1 takes nothing returns boolean 
    local real d
    if GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GK)) == true then
        set d = getDistance(AK, BK, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < OK then
            set OK = d
            set myUnit = GetFilterUnit()
        endif
    endif
    return false
endfunction

function QZ1 takes unit E4I, real x, real y returns unit 
    local group g = allocGroup()
    set myUnit = null
    set GK = E4I
    set OK = 99999
    set AK = x
    set BK = y
    call GroupEnumUnitsInRange(g, x, y, 2000, Condition(function QH1))
    call releaseGroup(g)
    set g = null
    return myUnit
endfunction

function TeleportationEffect_Remove takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI
    if GetSpellAbilityId() == 'AImt' then
        set GDI = LoadUnitHandle(hashTable, DMI, 17)
        call UnitRemoveAbility(GDI, 'Binf')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function QV1 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l
    local real x
    local real y
    local unit GDI = GetSpellTargetUnit()
    call DUI(E1I, 4256, 1)
    if GDI == null then
        set l = GetSpellTargetLoc()
        set x = GetLocationX(l)
        set y = GetLocationY(l)
        call RemoveLocation(l)
        if GetSpellAbilityId() == 'A1R5' then
            set GDI = Y01(E1I, x, y)
        else 
            set GDI = QZ1(E1I, x, y)
        endif
        set x = GetUnitX(GDI)
        set y = GetUnitY(GDI)
    else 
        set x = GetUnitX(GetSpellTargetUnit())
        set y = GetUnitY(GetSpellTargetUnit())
    endif
    if (IsUnitAlly(E1I, GetLocalPlayer()) and GetLocalPlayer() != GetOwningPlayer(E1I)) or (E2 and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0)) then
        call PingMinimapEx(x, y, 3, 255, 255, 255, false)
    endif
    set E1I = null
    set l = null
endfunction

function QW1 takes nothing returns boolean 
    if GetSpellAbilityId() == 'AImt' then
        call QV1()
    endif
    return false
endfunction

function QY1 takes nothing returns nothing
    call disableHero('N0HP')
    call disableHero('H071')
    call disableHero('U00A')
    call disableHero('U000')
    call disableHero('UC11')
    call disableHero('Eevi')
    call disableHero('Hamg')
    call disableHero('Ubal')
    call disableHero('E004')
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 4, GetObjectName('n0K1'))
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 4, GetObjectName('n0HP') + ", " + GetObjectName('H071') + ", " + GetObjectName('U00A') + ", " + GetObjectName('U000') + ", " + GetObjectName('UC11') + ", " + GetObjectName('Eevi') + ", " + GetObjectName('Hamg') + ", " + GetObjectName('Ubal') + ", " + GetObjectName('E004'))
endfunction

function QJ1 takes nothing returns nothing
    if GII(GetEnumUnit()) and IsUnitAlly(GetEnumUnit(), sentinelPlayers[0]) == false and GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > 0.5 then
        call UnitRemoveAbility(GetEnumUnit(), 'B08H')
        call doDamage(XQ, GetEnumUnit(), 3, 200)
    endif
endfunction

function QK1 takes nothing returns nothing
    if GII(GetEnumUnit()) and IsUnitAlly(GetEnumUnit(), scourgePlayers[0]) == false and GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > 0.5 then
        call UnitRemoveAbility(GetEnumUnit(), 'B08H')
        call doDamage(BB0, GetEnumUnit(), 3, 200)
    endif
endfunction

function QL1 takes nothing returns boolean 
    local group g = allocGroup()
    call GroupEnumUnitsInRect(g, Z5, Condition(function returnTrue1))
    call ForGroup(g, function QJ1)
    call releaseGroup(g)
    set g = allocGroup()
    call GroupEnumUnitsInRect(g, V5, Condition(function returnTrue1))
    call ForGroup(g, function QK1)
    call releaseGroup(g)
    set g = null
    return false
endfunction

function QN1 takes string winner returns nothing
    local integer i
    local player p
    local string id
    local integer HWI = R2I(TimerGetElapsed(M) - N)
    local integer JAI = HWI/60 - 1/2
    local integer JBI = ModuloInteger(HWI, 60)
    call findFirstPlayerAlive()
    set i = 1
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        set id = I2S(GetPlayerId(p))
        call StoreInteger(UN, id, "1", nKill[GetPlayerId(p)])
        call StoreInteger(UN, id, "2", nDeath[GetPlayerId(p)])
        call StoreInteger(UN, id, "3", A[GetPlayerId(p)])
        call StoreInteger(UN, id, "4", B[GetPlayerId(p)])
        call StoreInteger(UN, id, "5", D[GetPlayerId(p)])
        call StoreInteger(UN, id, "6", GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD))
        call StoreInteger(UN, id, "7", LoadInteger(hashTable, (400 + GetPlayerId(p)), 79))
        call StoreInteger(UN, id, "8_0", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 0) ))
        call StoreInteger(UN, id, "8_1", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 1) ))
        call StoreInteger(UN, id, "8_2", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 2) ))
        call StoreInteger(UN, id, "8_3", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 3) ))
        call StoreInteger(UN, id, "8_4", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 4) ))
        call StoreInteger(UN, id, "8_5", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 5) ))
        call StoreInteger(UN, id, "9", GetUnitTypeId(playerHero[GetPlayerId(p)]))
        call StoreInteger(UN, id, "id", i)
        set p = scourgePlayers[i]
        set id = I2S(GetPlayerId(p))
        call StoreInteger(UN, id, "1", nKill[GetPlayerId(p)])
        call StoreInteger(UN, id, "2", nDeath[GetPlayerId(p)])
        call StoreInteger(UN, id, "3", A[GetPlayerId(p)])
        call StoreInteger(UN, id, "4", B[GetPlayerId(p)])
        call StoreInteger(UN, id, "5", D[GetPlayerId(p)])
        call StoreInteger(UN, id, "6", GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD))
        call StoreInteger(UN, id, "7", LoadInteger(hashTable, (400 + GetPlayerId(p)), 79))
        call StoreInteger(UN, id, "8_0", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 0) ))
        call StoreInteger(UN, id, "8_1", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 1) ))
        call StoreInteger(UN, id, "8_2", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 2) ))
        call StoreInteger(UN, id, "8_3", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 3) ))
        call StoreInteger(UN, id, "8_4", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 4) ))
        call StoreInteger(UN, id, "8_5", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 5) ))
        call StoreInteger(UN, id, "9", GetUnitTypeId(playerHero[GetPlayerId(p)]))
        call StoreInteger(UN, id, "id", i + 5)
        if GetLocalPlayer() == firstPlayerAlive then
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "1")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "2")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "3")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "4")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "5")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "6")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "7")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "8_0")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "8_1")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "8_2")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "8_3")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "8_4")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "8_5")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "9")
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "id")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "1")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "2")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "3")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "4")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "5")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "6")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "7")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "8_0")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "8_1")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "8_2")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "8_3")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "8_4")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "8_5")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "9")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "id")
        endif
        set i = i + 1
    endloop
    if MB0 == false then
        call StoreInteger(UN, "Global", "Winner", MC0)
        call StoreInteger(UN, "Global", "m", JAI)
        call StoreInteger(UN, "Global", "s", JBI)
        if GetLocalPlayer() == firstPlayerAlive then
            call SyncStoredInteger(UN, "Global", "Winner")
            call SyncStoredInteger(UN, "Global", "m")
            call SyncStoredInteger(UN, "Global", "s")
        endif
    endif
endfunction

function S1I takes nothing returns nothing
    call QN1("1")
endfunction

function SII takes nothing returns nothing
    local player p = MD0
    local string id = I2S(GetPlayerId(p))
    call StoreInteger(UN, id, "8_0", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 0) ))
    call StoreInteger(UN, id, "8_1", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 1) ))
    call StoreInteger(UN, id, "8_2", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 2) ))
    call StoreInteger(UN, id, "8_3", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 3) ))
    call StoreInteger(UN, id, "8_4", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 4) ))
    call StoreInteger(UN, id, "8_5", GetItemTypeId( UnitItemInSlot(playerHero[GetPlayerId(p)], 5) ))
    if GetLocalPlayer() == firstPlayerAlive then
        call SyncStoredInteger(UN, I2S(GetPlayerId(p)), "8_0")
        call SyncStoredInteger(UN, I2S(GetPlayerId(p)), "8_1")
        call SyncStoredInteger(UN, I2S(GetPlayerId(p)), "8_2")
        call SyncStoredInteger(UN, I2S(GetPlayerId(p)), "8_3")
        call SyncStoredInteger(UN, I2S(GetPlayerId(p)), "8_4")
        call SyncStoredInteger(UN, I2S(GetPlayerId(p)), "8_5")
    endif
endfunction

function updateMultiboard takes nothing returns boolean 
    call ExecuteFunc("doUpdateMultiboard")
    return false
endfunction

function QT1 takes nothing returns nothing
    call EFI(GetEnumUnit())
endfunction

function QR1 takes nothing returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, 0, 0, 12000, Condition(function XKI))
    call ForGroup(g, function QT1)
    call releaseGroup(g)
    set g = null
endfunction

function QP1 takes nothing returns nothing
    set bj_changeLevelShowScores = true
    call DisableTrigger(TK)
    call DisableTrigger(RK)
    call ExecuteFunc("ZC1")
    if E2 then
        call DisableTrigger(LO0)
    endif
    call DisableTrigger(E90)
    call ClearTextMessages()
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, L3 + " " + GetObjectName('n054') + " www.getdota.com.")
    set gameEnded = true
    call V8I()
    call DisableTrigger(TG)
    call DisableTrigger(MH)
    call DisableTrigger(trigAddSalary)
    call DGI()
endfunction

function QQ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call PanCameraToTimed(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
    call TriggerRegisterTimerEvent(t, 2.5, false)
    call TriggerAddCondition(t, Condition(function updateMultiboard))
    set MC0 = 2
    set L3 = "|c0020c000" + GetObjectName('n03O') + "|r"
    call QP1()
    call QR1()
    call QN1("2")
    set t = null
endfunction

function QU1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call PanCameraToTimed(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
    call TriggerRegisterTimerEvent(t, 0.5, false)
    call TriggerAddCondition(t, Condition(function updateMultiboard))
    set MC0 = 1
    set L3 = "|c00ff0303" + GetObjectName('n03N') + "|r"
    call QP1()
    call QR1()
    call QN1("1")
    set t = null
endfunction

function U11 takes real ZOI returns boolean 
    return (100*GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE)/GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_LIFE)) < ZOI
endfunction

function AntiTK_Building takes nothing returns boolean 
    return U11(10) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == true and GetUnitTypeId(GetTriggerUnit()) != 'etol' and GetUnitTypeId(GetTriggerUnit()) != 'unpl'
endfunction

function AntiTK_Hero takes nothing returns boolean 
    return U11(25) and (GetUnitAbilityLevel(GetTriggerUnit(), 'BNdo') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'BEsh') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B0AQ') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B0AP') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05D') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05M') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05N') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05O') > 0)
endfunction

function AntiTK_Creep takes nothing returns boolean 
    return U11(50) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == false and (IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false or GetUnitTypeId(GetTriggerUnit()) == 'ebal' or GetUnitTypeId(GetTriggerUnit()) == 'e026' or GetUnitTypeId(GetTriggerUnit()) == 'umtw' or GetUnitTypeId(GetTriggerUnit()) == 'u00R')
endfunction

function AntiTK_Exception takes nothing returns boolean 
    return GetUnitTypeId(GetTriggerUnit()) == 'u00S'
endfunction

function UO1 takes nothing returns nothing
    if not ((U11(10) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == true and GetUnitTypeId(GetTriggerUnit()) != 'etol' and GetUnitTypeId(GetTriggerUnit()) != 'unpl') or (U11(25) and (GetUnitAbilityLevel(GetTriggerUnit(), 'BNdo') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'BEsh') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B0AQ') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B0AP') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05D') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05M') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05N') > 0 or GetUnitAbilityLevel(GetTriggerUnit(), 'B05O') > 0)) or (U11(50) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == false and (IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false or GetUnitTypeId(GetTriggerUnit()) == 'ebal' or GetUnitTypeId(GetTriggerUnit()) == 'e026' or GetUnitTypeId(GetTriggerUnit()) == 'umtw' or GetUnitTypeId(GetTriggerUnit()) == 'u00R')) or (GetUnitTypeId(GetTriggerUnit()) == 'u00S')) then
        call IssueImmediateOrder(GetAttacker(), "stop")
    endif
endfunction

function U21 takes nothing returns boolean 
    if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) then
        call UO1()
    elseif IsUnitType(GetAttacker(), UNIT_TYPE_HERO) == true or J3I(GetAttacker()) then
        set ME0 = GetPlayerId(GetOwningPlayer(GetAttacker()))
        if YW0[ME0] > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitIllusion(GetAttacker()) == false and JSI(GetAttacker(), itemId[GZ0]) == true then
            call VV1()
        endif
        if YJ0[ME0] > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitIllusion(GetAttacker()) == false and JSI(GetAttacker(), itemId[HM0]) == true then
            call VJ1()
        endif
    elseif GetUnitAbilityLevel(GetAttacker(), 'A17S') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
        call Q31()
    endif
    return false
endfunction

function U41 takes nothing returns nothing
    call ES1()
    call ET1()
endfunction

function U61 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT or LoadBoolean(hashTable, GetHandleId(E1I), 140) == true then
        if LoadBoolean(hashTable, GetHandleId(E1I), 140) == true then
            call SaveBoolean(hashTable, GetHandleId(E1I), 140, false)
            call SaveInteger(hashTable, GetHandleId(E1I), 4259, 2)
            call UnitRemoveAbility(E1I, 'A04R')
            call setUnitInvulnerable(E1I, false)
            call PauseUnit(E1I, false)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        elseif GetSpellTargetUnit() == E1I and GetSpellAbilityId() == MG0 and (GetPlayerSlotState(GetOwningPlayer(E1I)) == PLAYER_SLOT_STATE_LEFT) and (LoadInteger(hashTable, GetHandleId(E1I), 4259) == 1) == true then
            call SaveInteger(hashTable, GetHandleId(E1I), 4259, 2)
            call UnitRemoveAbility(E1I, 'A04R')
            call setUnitInvulnerable(E1I, false)
            call PauseUnit(E1I, false)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    elseif isUnitUnavailable(E1I) == false then
        call SetUnitX(E1I, x)
        call SetUnitY(E1I, y)
        call SaveInteger(hashTable, GetHandleId(E1I), 4259, 1)
        call UnitAddAbility(E1I, 'A04R')
        call setUnitInvulnerable(E1I, true)
        call PauseUnit(E1I, true)
    endif
    set E1I = null
    set t = null
    return false
endfunction

function U71 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetSpellTargetUnit()
    call SaveBoolean(hashTable, GetHandleId(E1I), 140, false)
    call SaveInteger(hashTable, GetHandleId(E1I), 4259, 1)
    call UnitAddAbility(E1I, 'A04R')
    call setUnitInvulnerable(E1I, true)
    call PauseUnit(E1I, true)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 6, (GetUnitX(E1I)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(E1I)*1.0))
    call TriggerRegisterTimerEvent(t, 1, true)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U61))
    set t = null
    set E1I = null
endfunction

function U81 takes nothing returns boolean 
    if GetSpellAbilityId() == MF0 and (GetPlayerSlotState(GetOwningPlayer(GetSpellTargetUnit())) == PLAYER_SLOT_STATE_LEFT) and (LoadInteger(hashTable, GetHandleId(GetSpellTargetUnit()), 4259) == 1) == false then
        call U71()
    elseif (GetSpellAbilityId() == MG0 or GetSpellAbilityId() == MF0) and (GetPlayerSlotState(GetOwningPlayer(GetSpellTargetUnit())) == PLAYER_SLOT_STATE_LEFT) == false then
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n02N'))
    endif
    return false
endfunction

function UA1 takes destructable d returns boolean 
    local real x = GetDestructableX(d)
    local real y = GetDestructableY(d)
    local group g = allocGroup()
    local boolean UB1
    call GroupEnumUnitsInRange(g, x, y, 250, Condition(function YAI))
    set UB1 = FirstOfGroup(g) != null
    call releaseGroup(g)
    set g = null
    return UB1
endfunction

function UC1 takes nothing returns nothing
    if G1I(GetEnumDestructable()) and GetDestructableLife(GetEnumDestructable()) < 1 and GetDestructableTypeId(GetEnumDestructable()) != 'B002' and GetDestructableTypeId(GetEnumDestructable()) != 'B003' then
        if UA1(GetEnumDestructable()) == false then
            call DestructableRestoreLife(GetEnumDestructable(), GetDestructableMaxLife(GetEnumDestructable()), false)
            if AM[GetPlayerId(GetLocalPlayer())] == 1 and GetDestructableTypeId(GetEnumDestructable()) == 'ATtr' then
                call SetDestructableAnimation(GetEnumDestructable(), "stand alternate")
            endif
        endif
    endif
endfunction

function UD1 takes nothing returns nothing
    call EnumDestructablesInRectAll(bj_mapInitialPlayableArea, function UC1)
endfunction

function UF1 takes nothing returns boolean 
    if GetUnitTypeId(GetTriggerUnit()) == 'n00L' then
        if IsUnitIllusion(GetAttacker()) == true then
            call KillUnit(GetAttacker())
        elseif IsUnitInRegion(MZ0, GetAttacker()) == false then
            call displayErrorMessage(GetOwningPlayer(GetAttacker()), GetObjectName('n035'))
            call IssueImmediateOrder(GetAttacker(), "stop")
        endif
    endif
    return false
endfunction

function UH1 takes nothing returns boolean 
    return GetUnitTypeId(GetEnteringUnit()) == 'e00E' or GetUnitTypeId(GetEnteringUnit()) == 'e022'
endfunction

function UZ1 takes nothing returns nothing
    call ShowUnitHide(GetEnteringUnit())
    call SetUnitPathing(GetEnteringUnit(), false)
    call SetUnitInvulnerable(GetEnteringUnit(), true)
    call UnitApplyTimedLifeBJ(20.00, 'BTLF', GetEnteringUnit())
endfunction

function UW1 takes nothing returns boolean 
    if (GetUnitTypeId(GetDyingUnit()) == 'e00R') then
        return true
    endif
    if (GetUnitTypeId(GetDyingUnit()) == 'e011') then
        return true
    endif
    if (GetUnitTypeId(GetDyingUnit()) == 'e00S') then
        return true
    endif
    if (GetUnitTypeId(GetDyingUnit()) == 'e019') then
        return true
    endif
    return false
endfunction

function UX1 takes nothing returns boolean 
    if (not (GetDyingUnit() == I60)) then
        return false
    endif
    if (not (isUnitUnavailable(I70) == true)) then
        return false
    endif
    return true
endfunction

function UY1 takes nothing returns boolean 
    if (not (GetDyingUnit() == I70)) then
        return false
    endif
    if (not (isUnitUnavailable(I60) == true)) then
        return false
    endif
    return true
endfunction

function UJ1 takes nothing returns nothing
    if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
        set J[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = J[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
    endif
    if (GetDyingUnit() == UQ) then
        call L1I("Tower" + I2S(0) + I2S(1) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(I10, false)
        call FZI(GetKillingUnit(), 1)
    endif
    if (GetDyingUnit() == I00) then
        call L1I("Tower" + I2S(0) + I2S(1) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(IO0, false)
        call FZI(GetKillingUnit(), 1)
    endif
    if (GetDyingUnit() == II0) then
        call L1I("Tower" + I2S(0) + I2S(1) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(I20, false)
        call FZI(GetKillingUnit(), 1)
    endif
    if (GetDyingUnit() == I10) then
        call L1I("Tower" + I2S(0) + I2S(2) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(I30, false)
        call FZI(GetKillingUnit(), 2)
    endif
    if (GetDyingUnit() == IO0) then
        call L1I("Tower" + I2S(0) + I2S(2) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(I40, false)
        call FZI(GetKillingUnit(), 2)
    endif
    if (GetDyingUnit() == I20) then
        call L1I("Tower" + I2S(0) + I2S(2) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(I50, false)
        call FZI(GetKillingUnit(), 2)
    endif
    if (GetDyingUnit() == I30) then
        call L1I("Tower" + I2S(0) + I2S(3) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call FZI(GetKillingUnit(), 3)
        call setUnitInvulnerable(I80, false)
        call setUnitInvulnerable(IB0, false)
        call setUnitInvulnerable(I60, false)
        call setUnitInvulnerable(I70, false)
        call setUnitInvulnerable(IL0, false)
        call setUnitInvulnerable(IM0, false)
        call setUnitInvulnerable(IN0, false)
        call setUnitInvulnerable(IS0, false)
        call setUnitInvulnerable(IE0, false)
        call setUnitInvulnerable(IF0, false)
        call setUnitInvulnerable(IG0, false)
        call setUnitInvulnerable(IH0, false)
        call setUnitInvulnerable(IZ0, false)
        call setUnitInvulnerable(IV0, false)
        call setUnitInvulnerable(IW0, false)
        call setUnitInvulnerable(IX0, false)
        call setUnitInvulnerable(IY0, false)
        call setUnitInvulnerable(IJ0, false)
        call setUnitInvulnerable(IK0, false)
    endif
    if (GetDyingUnit() == I40) then
        call L1I("Tower" + I2S(0) + I2S(3) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call FZI(GetKillingUnit(), 3)
        call setUnitInvulnerable(I90, false)
        call setUnitInvulnerable(IC0, false)
        call setUnitInvulnerable(I60, false)
        call setUnitInvulnerable(I70, false)
        call setUnitInvulnerable(IL0, false)
        call setUnitInvulnerable(IM0, false)
        call setUnitInvulnerable(IN0, false)
        call setUnitInvulnerable(IS0, false)
        call setUnitInvulnerable(IE0, false)
        call setUnitInvulnerable(IF0, false)
        call setUnitInvulnerable(IG0, false)
        call setUnitInvulnerable(IH0, false)
        call setUnitInvulnerable(IZ0, false)
        call setUnitInvulnerable(IV0, false)
        call setUnitInvulnerable(IW0, false)
        call setUnitInvulnerable(IX0, false)
        call setUnitInvulnerable(IY0, false)
        call setUnitInvulnerable(IJ0, false)
        call setUnitInvulnerable(IK0, false)
    endif
    if (GetDyingUnit() == I50) then
        call L1I("Tower" + I2S(0) + I2S(3) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call FZI(GetKillingUnit(), 3)
        call setUnitInvulnerable(IA0, false)
        call setUnitInvulnerable(ID0, false)
        call setUnitInvulnerable(I60, false)
        call setUnitInvulnerable(I70, false)
        call setUnitInvulnerable(IL0, false)
        call setUnitInvulnerable(IM0, false)
        call setUnitInvulnerable(IN0, false)
        call setUnitInvulnerable(IS0, false)
        call setUnitInvulnerable(IE0, false)
        call setUnitInvulnerable(IF0, false)
        call setUnitInvulnerable(IG0, false)
        call setUnitInvulnerable(IH0, false)
        call setUnitInvulnerable(IZ0, false)
        call setUnitInvulnerable(IV0, false)
        call setUnitInvulnerable(IW0, false)
        call setUnitInvulnerable(IX0, false)
        call setUnitInvulnerable(IY0, false)
        call setUnitInvulnerable(IJ0, false)
        call setUnitInvulnerable(IK0, false)
    endif
    if GetDyingUnit() == I60 or GetDyingUnit() == I70 then
        call L1I("Tower" + I2S(0) + I2S(4) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call FZI(GetKillingUnit(), 4)
    endif
    if UX1() then
        call setUnitInvulnerable(QQ, false)
    endif
    if UY1() then
        call setUnitInvulnerable(QQ, false)
    endif
endfunction

function UL1 takes nothing returns boolean 
    if (GetUnitTypeId(GetDyingUnit()) == 'u00M') then
        return true
    endif
    if (GetUnitTypeId(GetDyingUnit()) == 'u00D') then
        return true
    endif
    if (GetUnitTypeId(GetDyingUnit()) == 'u00N') then
        return true
    endif
    if (GetUnitTypeId(GetDyingUnit()) == 'u00T') then
        return true
    endif
    return false
endfunction

function UM1 takes nothing returns boolean 
    if (not (GetDyingUnit() == BQ0)) then
        return false
    endif
    if (not (isUnitUnavailable(BU0) == true)) then
        return false
    endif
    return true
endfunction

function UN1 takes nothing returns boolean 
    if (not (GetDyingUnit() == BU0)) then
        return false
    endif
    if (not (isUnitUnavailable(BQ0) == true)) then
        return false
    endif
    return true
endfunction

function US1 takes nothing returns nothing
    if IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) then
        set J[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] = J[GetPlayerId(GetOwningPlayer(GetKillingUnit()))] + 1
    endif
    if (GetDyingUnit() == BJ0) then
        call L1I("Tower" + I2S(1) + I2S(1) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(BM0, false)
        call FZI(GetKillingUnit(), 1)
    endif
    if (GetDyingUnit() == BK0) then
        call L1I("Tower" + I2S(1) + I2S(1) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(BN0, false)
        call FZI(GetKillingUnit(), 1)
    endif
    if (GetDyingUnit() == BL0) then
        call L1I("Tower" + I2S(1) + I2S(1) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(BS0, false)
        call FZI(GetKillingUnit(), 1)
    endif
    if (GetDyingUnit() == BM0) then
        call L1I("Tower" + I2S(1) + I2S(2) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(BT0, false)
        call FZI(GetKillingUnit(), 2)
    endif
    if (GetDyingUnit() == BN0) then
        call L1I("Tower" + I2S(1) + I2S(2) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(BR0, false)
        call FZI(GetKillingUnit(), 2)
    endif
    if (GetDyingUnit() == BS0) then
        call L1I("Tower" + I2S(1) + I2S(2) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call setUnitInvulnerable(BP0, false)
        call FZI(GetKillingUnit(), 2)
    endif
    if (GetDyingUnit() == BT0) then
        call L1I("Tower" + I2S(1) + I2S(3) + I2S(0), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call FZI(GetKillingUnit(), 3)
        call setUnitInvulnerable(C00, false)
        call setUnitInvulnerable(CO0, false)
        call setUnitInvulnerable(BQ0, false)
        call setUnitInvulnerable(BU0, false)
        call setUnitInvulnerable(CF0, false)
        call setUnitInvulnerable(CG0, false)
        call setUnitInvulnerable(CH0, false)
        call setUnitInvulnerable(CZ0, false)
        call setUnitInvulnerable(C40, false)
        call setUnitInvulnerable(C50, false)
        call setUnitInvulnerable(C60, false)
        call setUnitInvulnerable(C70, false)
        call setUnitInvulnerable(C80, false)
        call setUnitInvulnerable(C90, false)
        call setUnitInvulnerable(CA0, false)
        call setUnitInvulnerable(CB0, false)
        call setUnitInvulnerable(CC0, false)
        call setUnitInvulnerable(CD0, false)
        call setUnitInvulnerable(CE0, false)
    endif
    if (GetDyingUnit() == BR0) then
        call L1I("Tower" + I2S(1) + I2S(3) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call FZI(GetKillingUnit(), 3)
        call setUnitInvulnerable(CI0, false)
        call setUnitInvulnerable(C20, false)
        call setUnitInvulnerable(BQ0, false)
        call setUnitInvulnerable(BU0, false)
        call setUnitInvulnerable(CF0, false)
        call setUnitInvulnerable(CG0, false)
        call setUnitInvulnerable(CH0, false)
        call setUnitInvulnerable(CZ0, false)
        call setUnitInvulnerable(C40, false)
        call setUnitInvulnerable(C50, false)
        call setUnitInvulnerable(C60, false)
        call setUnitInvulnerable(C70, false)
        call setUnitInvulnerable(C80, false)
        call setUnitInvulnerable(C90, false)
        call setUnitInvulnerable(CA0, false)
        call setUnitInvulnerable(CB0, false)
        call setUnitInvulnerable(CC0, false)
        call setUnitInvulnerable(CD0, false)
        call setUnitInvulnerable(CE0, false)
    endif
    if (GetDyingUnit() == BP0) then
        call L1I("Tower" + I2S(1) + I2S(3) + I2S(2), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call FZI(GetKillingUnit(), 3)
        call setUnitInvulnerable(C10, false)
        call setUnitInvulnerable(C30, false)
        call setUnitInvulnerable(BQ0, false)
        call setUnitInvulnerable(BU0, false)
        call setUnitInvulnerable(CF0, false)
        call setUnitInvulnerable(CG0, false)
        call setUnitInvulnerable(CH0, false)
        call setUnitInvulnerable(CZ0, false)
        call setUnitInvulnerable(C40, false)
        call setUnitInvulnerable(C50, false)
        call setUnitInvulnerable(C60, false)
        call setUnitInvulnerable(C70, false)
        call setUnitInvulnerable(C80, false)
        call setUnitInvulnerable(C90, false)
        call setUnitInvulnerable(CA0, false)
        call setUnitInvulnerable(CB0, false)
        call setUnitInvulnerable(CC0, false)
        call setUnitInvulnerable(CD0, false)
        call setUnitInvulnerable(CE0, false)
    endif
    if GetDyingUnit() == BQ0 or GetDyingUnit() == BU0 then
        call L1I("Tower" + I2S(1) + I2S(4) + I2S(1), GetPlayerId(GetOwningPlayer(GetKillingUnit())))
        call FZI(GetKillingUnit(), 4)
    endif
    if UM1() then
        call setUnitInvulnerable(BY0, false)
    endif
    if UN1() then
        call setUnitInvulnerable(BY0, false)
    endif
endfunction

function UR1 takes nothing returns boolean 
    local integer x = 0
    if GetPlayerSlotState(sentinelPlayers[1]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(sentinelPlayers[2]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(sentinelPlayers[3]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(sentinelPlayers[4]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(sentinelPlayers[5]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(scourgePlayers[1]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(scourgePlayers[2]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(scourgePlayers[3]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(scourgePlayers[4]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    if GetPlayerSlotState(scourgePlayers[5]) == PLAYER_SLOT_STATE_EMPTY then
        set x = x + 1
    endif
    return x == 9
endfunction

function SinglePlayer_Condition takes nothing returns boolean 
    return bj_isSinglePlayer and UR1()
endfunction

function UP1 takes nothing returns nothing
    set MV0 = false
endfunction

function UQ1 takes nothing returns nothing
    set MV0 = true
endfunction

function UU1 takes nothing returns nothing
    set SK = false
endfunction

function I0O takes nothing returns boolean 
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false then
        call KillUnit(GetFilterUnit())
    endif
    return false
endfunction

function IIO takes nothing returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, scourgePlayers[0], Condition(function I0O))
    call releaseGroup(g)
    set g = null
    set Y3 = true
endfunction

function I1O takes nothing returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, sentinelPlayers[0], Condition(function I0O))
    call releaseGroup(g)
    set g = null
    set Y3 = true
endfunction

function IOO takes nothing returns boolean 
    if GetUnitTypeId(GetFilterUnit()) == 'o004' or GetUnitTypeId(GetFilterUnit()) == 'oeye' then
        call KillUnit(GetFilterUnit())
    endif
    return false
endfunction

function I2O takes nothing returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function IOO))
    call releaseGroup(g)
    set g = null
    set Y3 = true
endfunction

function I3O takes nothing returns nothing
    call I1O()
    call IIO()
    set Y3 = true
endfunction

function I4O takes nothing returns boolean 
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true then
        call SetHeroLevel(GetFilterUnit(), GetHeroLevel(GetFilterUnit()) + HDI(QJ, 1), true)
    endif
    return false
endfunction

function I5O takes nothing returns nothing
    local string I6O = SubString(GetEventPlayerChatString(), 6, StringLength(GetEventPlayerChatString()))
    local integer FVI = S2I(I6O)
    local group g = allocGroup()
    if FVI < 1 then
        set FVI = 1
    endif
    set QJ = FVI
    call GroupEnumUnitsOfPlayer(g, GetTriggerPlayer(), Condition(function I4O))
    call releaseGroup(g)
    set g = null
    set Y3 = true
endfunction

function I7O takes nothing returns nothing
    call TriggerExecute(TG)
    set Y3 = true
endfunction

function I8O takes nothing returns boolean 
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true then
        call UnitResetCooldown(GetFilterUnit())
        call TimerStart(EB0[GetPlayerId(GetOwningPlayer(GetFilterUnit()))], 0, false, null)
        call SetUnitState(GetFilterUnit(), UNIT_STATE_LIFE, GetUnitState(GetFilterUnit(), UNIT_STATE_MAX_LIFE))
        call SetUnitState(GetFilterUnit(), UNIT_STATE_MANA, GetUnitState(GetFilterUnit(), UNIT_STATE_MAX_MANA))
    endif
    return false
endfunction

function I9O takes nothing returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, GetTriggerPlayer(), Condition(function I8O))
    call releaseGroup(g)
    set g = null
    set Y3 = true
endfunction

function IAO takes nothing returns nothing
    call KillUnit(playerHero[GetPlayerId(GetTriggerPlayer())])
    set Y3 = true
endfunction

function IBO takes nothing returns nothing
    local string ICO = SubString(GetEventPlayerChatString(), 5, StringLength(GetEventPlayerChatString()))
    local integer LLI = S2I(ICO)
    if LLI < 0 or LLI > 24 then
        set LLI = 0
    endif
    call SetFloatGameState(GAME_STATE_TIME_OF_DAY, LLI)
    set Y3 = true
endfunction

function IDO takes nothing returns nothing
    local string IEO = SubString(GetEventPlayerChatString(), 5, StringLength(GetEventPlayerChatString()))
    local integer FFI = S2I(IEO)
    call SetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) + FFI)
    set Y3 = true
endfunction

function IFO takes nothing returns nothing
    call TriggerEvaluate(X60)
endfunction

function IGO takes nothing returns nothing
    call TriggerEvaluate(XH)
endfunction

function IHO takes nothing returns nothing
    call EnumDestructablesInRectAll(bj_mapInitialPlayableArea, function UC1)
endfunction

function IZO takes nothing returns boolean 
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, "**** " + GetObjectName('n06F') + " ****")
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, GetObjectName('n076') + " -lvlup xx, -refresh, -sc, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon")
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, "**** " + GetObjectName('n06F') + " ****")
    return false
endfunction

function IVO takes nothing returns nothing
    local player OnlyPlayer = firstPlayerAlive
    local trigger t
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60, GetObjectName('n076') + " -lvlup xx, -refresh, -sc, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon")
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function IZO))
    call TriggerRegisterTimerEvent(t, GetRandomReal(60, 100), false)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-lvlup", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-lvlup", false)
    call TriggerAddAction(t, function I5O)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-sc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-sc", true)
    call TriggerAddAction(t, function I7O)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-refresh", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-refresh", true)
    call TriggerAddAction(t, function I9O)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-kill", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-kill", true)
    call TriggerAddAction(t, function IAO)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-gold", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-gold", false)
    call TriggerAddAction(t, function IDO)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-time", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-time", false)
    call TriggerAddAction(t, function IBO)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-powerup", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-powerup", true)
    call TriggerAddAction(t, function IFO)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-killall", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-killall", true)
    call TriggerAddAction(t, function I3O)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-killsent", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-killsent", true)
    call TriggerAddAction(t, function I1O)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-killscourge", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-killscourge", true)
    call TriggerAddAction(t, function IIO)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-neutrals", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-neutrals", true)
    call TriggerAddAction(t, function IGO)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-noherolimit", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-noherolimit", true)
    call TriggerAddAction(t, function UU1)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-trees", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-trees", true)
    call TriggerAddAction(t, function IHO)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-killwards", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-killwards", true)
    call TriggerAddAction(t, function I2O)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-spawnoff", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-spawnoff", true)
    call TriggerAddAction(t, function UQ1)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-spawnon", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-spawnon", true)
    call TriggerAddAction(t, function UP1)
endfunction

function IXO takes nothing returns boolean 
    return not B0
endfunction

function IYO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit J4I = LoadUnitHandle(hashTable, DMI, 26)
    if GetUnitTypeId(J4I) != 'ncop' then
        call UnitResetCooldown(J4I)
        call SetUnitManaPercentBJ(J4I, 100)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set J4I = null
    return false
endfunction

function IJO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function IYO))
    call SaveUnitHandle(hashTable, DMI, 26, GetTriggerUnit())
    set t = null
endfunction

function IKO takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer ILO = EMI(AO) + EMI(BO)
    local integer NumRequired = HCI(ILO, ILO/2 + 1)
    local integer DMI = GetHandleId(t)
    if NY0 == false then
        set MW0 = true
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 60.00, " ")
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 90.00, GetObjectName('n077'))
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 90.00, GetObjectName('n078'))
        set t = CreateTrigger()
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
        call TriggerAddAction(t, function IJO)
    endif
endfunction

function INO takes nothing returns boolean 
    if BC1(GetTriggerUnit()) and IsUnitIllusion(GetTriggerUnit()) == false then
        call LTI(GetOwningPlayer(GetTriggerUnit()))
        call L1I("Level" + I2S(GetHeroLevel(GetTriggerUnit())), GetPlayerId(GetOwningPlayer(GetTriggerUnit())))
    endif
    return false
endfunction

function ITO takes nothing returns nothing
    if NY0 == false then
        call IVO()
        call abandonTrigger(GetTriggeringTrigger())
    endif
endfunction

function IRO takes nothing returns boolean 
    if B0 == false and (bj_isSinglePlayer and UR1()) == false then
        call ITO()
    endif
    return false
endfunction

function IQO takes nothing returns boolean 
    local integer i = 0
    local real IUO
    local real O0O
    local real x
    local real y
    local boolean OIO
    loop
        exitwhen i > 11
        if GetLocalPlayer() == Player(i) then
            set IUO = GetCameraTargetPositionX()
            set O0O = GetCameraTargetPositionY()
        endif
        set i = i + 1
    endloop
    set i = 0
    call PauseGame(true)
    call TriggerSleepAction(0)
    loop
        exitwhen i > 11
        if GetLocalPlayer() == Player(i) then
            call SetCameraPosition(IUO + 1, O0O + 1)
        endif
        set i = i + 1
    endloop
    call TriggerSleepAction(0)
    call PauseGame(false)
    set i = 0
    loop
        exitwhen i > 11
        if GetLocalPlayer() == Player(i) then
            set x = GetCameraTargetPositionX()
            if x == IUO + 1 then
                set OIO = false
            else 
                set OIO = true
            endif
            call SetCameraPosition(IUO, O0O)
        endif
        set i = i + 1
    endloop
    return OIO
endfunction

function O1O takes nothing returns nothing
    call CinematicModeBJ(true, bj_FORCE_ALL_PLAYERS)
    call PauseGame(false)
    call TriggerSleepAction(.0)
    call EnableUserControl(false)
    call TriggerSleepAction(.0)
    if IQO() == false then
        set MX0 = true
    endif
    call EnableUserControl(true)
    call BSI(1)
    call CinematicModeBJ(false, bj_FORCE_ALL_PLAYERS)
endfunction

function OOO takes nothing returns boolean 
    local integer i = 1
    local unit E1I
    loop
        exitwhen i > 5
        set E1I = playerHero[GetPlayerId(sentinelPlayers[i])]
        if E1I != null and isUnitUnavailable(E1I) == false and IsUnitEnemy(E1I, GetLocalPlayer()) == true then
            if MX0 and (E2 == false or (E2 == true and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0))) then
                if IsUnitVisible(E1I, GetLocalPlayer()) == false then
                    if QK == 2 then
                        call KUI(E1I)
                    endif
                    call UnitSetUsesAltIcon(E1I, true)
                else 
                    if QK == 2 then
                        call KPI(E1I)
                    endif
                    call UnitSetUsesAltIcon(E1I, false)
                endif
            endif
        endif
        set E1I = playerHero[GetPlayerId(scourgePlayers[i])]
        if E1I != null and isUnitUnavailable(E1I) == false and IsUnitEnemy(E1I, GetLocalPlayer()) == true then
            if MX0 and (E2 == false or (E2 == true and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0))) then
                if IsUnitVisible(E1I, GetLocalPlayer()) == false then
                    if QK == 2 then
                        call KUI(E1I)
                    endif
                    call UnitSetUsesAltIcon(E1I, true)
                else 
                    if QK == 2 then
                        call KPI(E1I)
                    endif
                    call UnitSetUsesAltIcon(E1I, false)
                endif
            endif
        endif
        set i = i + 1
    endloop
    set E1I = null
    return false
endfunction

function O2O takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddCondition(t, Condition(function OOO))
    call SetAltMinimapIcon("this\\path2.blp")
    set t = null
endfunction

function O3O takes nothing returns nothing
    call O1O()
    call O2O()
endfunction

function O4O takes unit E4I returns boolean 
    return (GetOwningPlayer(E4I) == sentinelPlayers[0]) or (GetOwningPlayer(E4I) == scourgePlayers[0])
endfunction

function O5O takes nothing returns nothing
    call SetUnitUserData(GetEnumUnit(), 0)
    call IssuePointOrderLoc(GetEnumUnit(), "attack", B2[GetUnitAbilityLevel(GetEnumUnit(), A2)])
endfunction

function O6O takes nothing returns nothing
    call IssueTargetOrder(GetEnumUnit(), "attack", MK0)
    call GroupAddUnit(MJ0, GetEnumUnit())
    call SetUnitUserData(GetEnumUnit(), ML0)
endfunction

function O7O takes nothing returns boolean 
    local integer id = GetUnitTypeId(GetFilterUnit())
    if id == 'ebal' or id == 'e026' or id == 'umtw' or id == 'u00R' then
        return false
    endif
    if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(MK0)) and (GetOwningPlayer(GetFilterUnit()) == sentinelPlayers[0] or GetOwningPlayer(GetFilterUnit()) == scourgePlayers[0]) and GetUnitUserData(GetFilterUnit()) == 0 then
        return true
    endif
    return false
endfunction

function O8O takes nothing returns nothing
    if GetUnitCurrentOrder(GetEnumUnit()) == 0 and IsUnitInRange(GetEnumUnit(), MK0, GetUnitAcquireRange(GetEnumUnit())) == false then
        call GroupRemoveUnit(MJ0, GetEnumUnit())
        call SetUnitUserData(GetEnumUnit(), 0)
        call IssuePointOrderLoc(GetEnumUnit(), "attack", B2[GetUnitAbilityLevel(GetEnumUnit(), A2)])
    endif
endfunction

function O9O takes nothing returns nothing
    local integer DMI = GetHandleId( LoadUnitHandle(hashTable, GetHandleId(GetExpiredTimer()), 2) )
    local integer OAO = LoadInteger(hashTable, DMI, 143)
    local group OBO = LoadGroupHandle(hashTable, DMI, 144)
    set MY0[OAO] = null
    call ForGroup(OBO, function O5O)
    call GroupClear(OBO)
    set OBO = null
endfunction

function OCO takes unit E1I, unit VW1 returns nothing
    local integer DMI = GetHandleId(E1I)
    local group OBO = LoadGroupHandle(hashTable, DMI, 144)
    local integer OAO = LoadInteger(hashTable, DMI, 143)
    local unit ODO = MY0[OAO]
    local group g
    if ODO != null and ODO != VW1 then
        call ForGroup(OBO, function O5O)
        call GroupClear(OBO)
    endif
    set MY0[OAO] = VW1
    set MJ0 = OBO
    set MK0 = VW1
    set ML0 = OAO
    call ForGroup(OBO, function O8O)
    set g = allocGroup()
    call GroupEnumUnitsInRange(g, GetUnitX(VW1), GetUnitY(VW1), 500, Condition(function O7O))
    call ForGroup(g, function O6O)
    call releaseGroup(g)
    call TimerStart(LoadTimerHandle(hashTable, DMI, 141), 2, false, function O9O)
    set OBO = null
    set ODO = null
    set g = null
endfunction

function OEO takes nothing returns boolean 
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetOrderTargetUnit()
    local integer OFO = GetIssuedOrderId()
    local integer OAO
    if IsUnitType(GDI, UNIT_TYPE_HERO) == true and IsUnitIllusion(GDI) == false and (OFO == 851983 or OFO == 851971) and IsUnitEnemy(GDI, GetOwningPlayer(E1I)) and IsUnitVisible(E1I, GetOwningPlayer(GDI)) then
        set OAO = LoadInteger(hashTable, GetHandleId(GDI), 143)
        if MY0[OAO] == null or MY0[OAO] == GDI or isUnitUnavailable(MY0[OAO]) then
            call OCO(GDI, E1I)
        endif
    endif
    set E1I = null
    set GDI = null
    return false
endfunction

function OGO takes nothing returns boolean 
    local unit E1I = GetAttacker()
    local unit GDI = GetTriggerUnit()
    local integer OFO = GetIssuedOrderId()
    local integer OAO
    if O4O(E1I) == false then
        set OAO = LoadInteger(hashTable, GetHandleId(GDI), 143)
        if MY0[OAO] == null or MY0[OAO] == GDI or isUnitUnavailable(MY0[OAO]) then
            call OCO(GDI, E1I)
        endif
    endif
    set E1I = null
    set GDI = null
    return false
endfunction

function OHO takes unit E1I returns nothing
    local group g
    local trigger t
    local timer tm
    local integer DMI = GetHandleId(E1I)
    set MM0 = MM0 + 1
    call SaveBoolean(hashTable, DMI, 142, true)
    call SaveInteger(hashTable, DMI, 143, MM0)
    set g = allocGroup()
    call SaveGroupHandle(hashTable, DMI, 144, g)
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerAddCondition(t, Condition(function OEO))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function OGO))
    set tm = CreateTimer()
    call SaveTimerHandle(hashTable, GetHandleId(E1I), 141, tm)
    call SaveUnitHandle(hashTable, GetHandleId(tm), 2, E1I)
    set g = null
    set t = null
endfunction

function OZO takes nothing returns boolean 
    if G7I(GetTriggerUnit()) and LoadBoolean(hashTable, GetHandleId(GetTriggerUnit()), 142) == false then
        call OHO(GetTriggerUnit())
    endif
    return false
endfunction

function OWO takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == sentinelPlayers[0] then
        call SetUnitAbilityLevel(GetTriggerUnit(), A2, 5)
        if MY0[GetUnitUserData(GetTriggerUnit())] == null then
            call SetUnitUserData(GetTriggerUnit(), 0)
            call IssuePointOrderLoc(GetTriggerUnit(), "attack", B2[GetUnitAbilityLevel(GetTriggerUnit(), A2)])
        endif
    elseif GetOwningPlayer(GetTriggerUnit()) == scourgePlayers[0] then
        call SetUnitAbilityLevel(GetTriggerUnit(), A2, 1)
        if MY0[GetUnitUserData(GetTriggerUnit())] == null then
            call SetUnitUserData(GetTriggerUnit(), 0)
            call IssuePointOrderLoc(GetTriggerUnit(), "attack", B2[GetUnitAbilityLevel(GetTriggerUnit(), A2)])
        endif
    endif
    return false
endfunction

constant function InvisibilityUnitId takes nothing returns integer 
    return 'u00B'
endfunction

function OYO takes nothing returns nothing
    local unit JF1 = GetTriggerUnit()
    local unit OJO = LoadUnitHandle(hashTable, GetHandleId(JF1), 145)
    call RemoveUnit(OJO)
endfunction

function OKO takes nothing returns nothing
    local group g
    local unit JF1
    local unit OJO
    local trigger t
    local integer i
    set t = CreateTrigger()
    call TriggerAddAction(t, function OYO)
    set g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, sentinelPlayers[0], Condition(function returnTrue1))
    loop
        set JF1 = FirstOfGroup(g)
        exitwhen JF1 == null
        call GroupRemoveUnit(g, JF1)
        if GetUnitAbilityLevel(JF1, 'Adts') > 0 or GetUnitAbilityLevel(JF1, 'Atru') > 0 then
            call TriggerRegisterUnitEvent(t, JF1, EVENT_UNIT_DEATH)
            set OJO = CreateUnit(sentinelPlayers[1], 'u00B', -5000, -5100, 0)
            call SetUnitScale(OJO, 0, 0, 0)
            call SetUnitPathing(OJO, false)
            call SetUnitInvulnerable(OJO, true)
            call SetUnitX(OJO, GetUnitX(JF1))
            call SetUnitY(OJO, GetUnitY(JF1))
            call SaveUnitHandle(hashTable, GetHandleId(JF1), 145, OJO)
        endif
    endloop
    call releaseGroup(g)
    set g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, scourgePlayers[0], Condition(function returnTrue1))
    loop
        set JF1 = FirstOfGroup(g)
        exitwhen JF1 == null
        call GroupRemoveUnit(g, JF1)
        if GetUnitAbilityLevel(JF1, 'Adts') > 0 or GetUnitAbilityLevel(JF1, 'Atru') > 0 then
            call TriggerRegisterUnitEvent(t, JF1, EVENT_UNIT_DEATH)
            set OJO = CreateUnit(scourgePlayers[1], 'u00B', 3400, 4400, 0)
            call SetUnitScale(OJO, 0, 0, 0)
            call SetUnitPathing(OJO, false)
            call SetUnitInvulnerable(OJO, true)
            call SetUnitX(OJO, GetUnitX(JF1))
            call SetUnitY(OJO, GetUnitY(JF1))
            call SaveUnitHandle(hashTable, GetHandleId(JF1), 145, OJO)
        endif
    endloop
    call releaseGroup(g)
endfunction

function OMO takes nothing returns nothing
    local unit ONO = GetTriggerUnit()
    local unit GDI = MY0[GetUnitUserData(ONO)]
    call SetUnitPosition(ONO, GetUnitX(ONO), GetUnitY(ONO))
    if GDI != null and isUnitUnavailable(GDI) == false and IsUnitVisible(GDI, GetOwningPlayer(GDI)) then
        call IssueTargetOrder(ONO, "attack", GDI)
    else 
        call DisableTrigger(GetTriggeringTrigger())
        call IssuePointOrderLoc(ONO, "attack", B2[GetUnitAbilityLevel(ONO, A2)])
        call EnableTrigger(GetTriggeringTrigger())
    endif
    set ONO = null
    set GDI = null
endfunction

function OSO takes nothing returns boolean 
    if O4O(GetTriggerUnit()) then
        call OMO()
    endif
    return false
endfunction

function OTO takes nothing returns nothing
    local unit ONO = GetTriggerUnit()
    local unit GDI = MY0[GetUnitUserData(ONO)]
    call SetUnitPosition(ONO, GetUnitX(ONO), GetUnitY(ONO))
    if GDI != null and isUnitUnavailable(GDI) == false and IsUnitVisible(GDI, GetOwningPlayer(GDI)) then
        call IssueTargetOrder(ONO, "attack", GDI)
    else 
        call DisableTrigger(GetTriggeringTrigger())
        call IssuePointOrderLoc(ONO, "attack", B2[GetUnitAbilityLevel(ONO, A2)])
        call EnableTrigger(GetTriggeringTrigger())
    endif
    set ONO = null
    set GDI = null
endfunction

function ORO takes nothing returns boolean 
    if GetIssuedOrderId() == 851986 then
        call OTO()
    endif
    return false
endfunction

function OPO takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) == sentinelPlayers[0] then
        if IsUnitFogged(GetAttacker(), sentinelPlayers[1]) or IsUnitFogged(GetAttacker(), scourgePlayers[1]) then
            call WOI(CreateFogModifierRadius(sentinelPlayers[1], FOG_OF_WAR_VISIBLE, GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), 128, true, false), 1)
        endif
    elseif GetOwningPlayer(GetTriggerUnit()) == scourgePlayers[0] then
        if IsUnitFogged(GetAttacker(), sentinelPlayers[1]) or IsUnitFogged(GetAttacker(), scourgePlayers[1]) then
            call WOI(CreateFogModifierRadius(scourgePlayers[1], FOG_OF_WAR_VISIBLE, GetUnitX(GetAttacker()), GetUnitY(GetAttacker()), 128, true, false), 1)
        endif
    endif
    return false
endfunction

function OQO takes nothing returns boolean 
    local trigger t
    local group g
    local unit u
    if E2 then
        set t = CreateTrigger()
        call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[0], EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER, Condition(function returnTrue1))
        call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[0], EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER, Condition(function returnTrue1))
        call TriggerAddCondition(t, Condition(function ORO))
        set t = CreateTrigger()
        set g = allocGroup()
        call GroupEnumUnitsOfPlayer(g, sentinelPlayers[0], Condition(function returnTrue1))
        loop
            set u = FirstOfGroup(g)
            exitwhen u == null
            call GroupRemoveUnit(g, u)
            if GetUnitAcquireRange(u) != 0 then
                call TriggerRegisterUnitInRange(t, u, 600, Condition(function returnTrue1))
            endif
        endloop
        call releaseGroup(g)
        set g = allocGroup()
        call GroupEnumUnitsOfPlayer(g, scourgePlayers[0], Condition(function returnTrue1))
        loop
            set u = FirstOfGroup(g)
            exitwhen u == null
            call GroupRemoveUnit(g, u)
            if GetUnitAcquireRange(u) != 0 and IsUnitType(u, UNIT_TYPE_STRUCTURE) then
                call TriggerRegisterUnitInRange(t, u, 600, Condition(function returnTrue1))
            endif
        endloop
        call releaseGroup(g)
        call TriggerAddCondition(t, Condition(function OSO))
        set t = CreateTrigger()
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerAddCondition(t, Condition(function OPO))
    endif
    call abandonTrigger(GetTriggeringTrigger())
    return false
endfunction

function A0O takes unit E4I returns nothing
    local integer i = 0
    loop
        exitwhen (i == 16)
        if IsUnitAlly(E4I, Player(i)) then
            call UnitShareVision(E4I, Player(i), true)
        endif
        set i = i + 1
    endloop
endfunction

function AIO takes nothing returns nothing
    call A0O(GetEnumUnit())
endfunction

function A1O takes nothing returns nothing
    local integer x
    local group g
    set x = 1
    loop
        exitwhen x > 5
        call SetPlayerAlliance(sentinelPlayers[0], sentinelPlayers[x], ConvertAllianceType(5), false)
        call SetPlayerAlliance(scourgePlayers[0], scourgePlayers[x], ConvertAllianceType(5), false)
        set x = x + 1
    endloop
    set g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, sentinelPlayers[0], Condition(function returnTrue1))
    call ForGroup(g, function AIO)
    call releaseGroup(g)
    set g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, scourgePlayers[0], Condition(function returnTrue1))
    call ForGroup(g, function AIO)
    call releaseGroup(g)
    set g = null
endfunction

function AOO takes nothing returns nothing
    local integer x
    set x = 0
    loop
        exitwhen x > 5
        call SetPlayerAlliance(sentinelPlayers[x], playerNeutrals, ConvertAllianceType(0), false)
        call SetPlayerAlliance(sentinelPlayers[x], playerNeutrals, ConvertAllianceType(1), false)
        call SetPlayerAlliance(sentinelPlayers[x], playerNeutrals, ConvertAllianceType(2), false)
        call SetPlayerAlliance(sentinelPlayers[x], playerNeutrals, ConvertAllianceType(3), false)
        call SetPlayerAlliance(sentinelPlayers[x], playerNeutrals, ConvertAllianceType(4), false)
        call SetPlayerAlliance(sentinelPlayers[x], playerNeutrals, ConvertAllianceType(5), false)
        call SetPlayerAlliance(sentinelPlayers[x], playerNeutrals, ConvertAllianceType(6), false)
        call SetPlayerAlliance(sentinelPlayers[x], playerNeutrals, ConvertAllianceType(7), false)
        call SetPlayerAlliance(scourgePlayers[x], playerNeutrals, ConvertAllianceType(0), false)
        call SetPlayerAlliance(scourgePlayers[x], playerNeutrals, ConvertAllianceType(1), false)
        call SetPlayerAlliance(scourgePlayers[x], playerNeutrals, ConvertAllianceType(2), false)
        call SetPlayerAlliance(scourgePlayers[x], playerNeutrals, ConvertAllianceType(3), false)
        call SetPlayerAlliance(scourgePlayers[x], playerNeutrals, ConvertAllianceType(4), false)
        call SetPlayerAlliance(scourgePlayers[x], playerNeutrals, ConvertAllianceType(5), false)
        call SetPlayerAlliance(scourgePlayers[x], playerNeutrals, ConvertAllianceType(6), false)
        call SetPlayerAlliance(scourgePlayers[x], playerNeutrals, ConvertAllianceType(7), false)
        call SetPlayerAlliance(playerNeutrals, sentinelPlayers[x], ConvertAllianceType(0), false)
        call SetPlayerAlliance(playerNeutrals, sentinelPlayers[x], ConvertAllianceType(1), false)
        call SetPlayerAlliance(playerNeutrals, sentinelPlayers[x], ConvertAllianceType(2), false)
        call SetPlayerAlliance(playerNeutrals, sentinelPlayers[x], ConvertAllianceType(3), false)
        call SetPlayerAlliance(playerNeutrals, sentinelPlayers[x], ConvertAllianceType(4), false)
        call SetPlayerAlliance(playerNeutrals, sentinelPlayers[x], ConvertAllianceType(5), false)
        call SetPlayerAlliance(playerNeutrals, sentinelPlayers[x], ConvertAllianceType(6), false)
        call SetPlayerAlliance(playerNeutrals, sentinelPlayers[x], ConvertAllianceType(7), false)
        call SetPlayerAlliance(playerNeutrals, scourgePlayers[x], ConvertAllianceType(0), false)
        call SetPlayerAlliance(playerNeutrals, scourgePlayers[x], ConvertAllianceType(1), false)
        call SetPlayerAlliance(playerNeutrals, scourgePlayers[x], ConvertAllianceType(2), false)
        call SetPlayerAlliance(playerNeutrals, scourgePlayers[x], ConvertAllianceType(3), false)
        call SetPlayerAlliance(playerNeutrals, scourgePlayers[x], ConvertAllianceType(4), false)
        call SetPlayerAlliance(playerNeutrals, scourgePlayers[x], ConvertAllianceType(5), false)
        call SetPlayerAlliance(playerNeutrals, scourgePlayers[x], ConvertAllianceType(6), false)
        call SetPlayerAlliance(playerNeutrals, scourgePlayers[x], ConvertAllianceType(7), false)
        set x = x + 1
    endloop
endfunction

function A2O takes nothing returns boolean 
    return O4O(GetTriggerUnit())
endfunction

function A3O takes nothing returns nothing
    call A0O(GetTriggerUnit())
endfunction

function A4O takes nothing returns nothing
    local trigger t
    if not E2 then
        return
    endif
    call A1O()
    call AOO()
    set t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, GetWorldBounds())
    call TriggerAddCondition(t, Condition(function A2O))
    call TriggerAddAction(t, function A3O)
    set t = null
endfunction

function A6O takes nothing returns nothing
    local string A7O = StringCase(GetEventPlayerChatString(), false)
    local boolean A8O = A7O == "-random" or A7O == "-random int" or A7O == "-random agi" or A7O == "-random str"
    local boolean A9O = A7O == "-repick"
    local boolean AAO = A7O == "-gameinfo"
    local boolean ABO = SubString(A7O, 0, 5) == "-swap"
    local boolean ACO = A7O == "-recreate"
    local boolean ADO = A7O == "-unstuck"
    local boolean AEO = A7O == "-matchup" or A7O == "-ma"
    local boolean AFO = A7O == "-movespeed" or A7O == "-ms"
    local boolean AGO = A7O == "-disablehelp"
    local boolean AHO = A7O == "-enablehelp"
    local boolean AZO = A7O == "-creepstats" or A7O == "-cs"
    local boolean AVO = A7O == "-cson" or A7O == "-csoff"
    local boolean AWO = A7O == "-hidemsg"
    local boolean AXO = A7O == "-showmsg"
    local boolean AYO = A7O == "-weather snow" or A7O == "-weather rain" or A7O == "-weather off" or A7O == "-weather random" or A7O == "-weather wind" or A7O == "-weather moonlight"
    local boolean AJO = A7O == "-showdeny" or A7O == "-hidedeny"
    local boolean AKO = A7O == "-denyinfo" or A7O == "-di"
    local boolean ALO = A7O == "-don" or A7O == "-deathon" or A7O == "-doff" or A7O == "-deathoff"
    local boolean AMO = SubString(A7O, 0, 5) == "-roll" and A7O != "-rollhero"
    local boolean ANO = A7O == "-hhn" or A7O == "-hideheronames"
    local boolean ASO = A7O == "-mute"
    local boolean ATO = A7O == "-afk"
    local boolean ARO = SubString(A7O, 0, 8) == "-kickafk"
    local boolean APO = A7O == "-apm"
    local boolean AQO = A7O == "-clear"
    local boolean F91 = A7O == "-courier"
    local boolean AH = A7O == "-ah"
    local boolean AUO = A7O == "-invokelist"
    local boolean B0O = A7O == "-list"
    local boolean BIO = A7O == "-rolloff"
    local boolean B1O = A7O == "-rollon"
    local boolean BOO = SubString(A7O, 0, 6) == "-music"
    local boolean B2O = SubString(A7O, 0, 6) == "-water"
    local boolean B3O = SubString(A7O, 0, 6) == "-quote"
    local boolean B4O = SubString(A7O, 0, 3) == "-cm"
    local boolean B5O = SubString(A7O, 0, 9) == "-itemswap"
    local boolean B6O = A7O == "-bonus"
    local boolean B7O = A7O == "-rollhero" or A7O == "-rh"
    local boolean B8O = SubString(A7O, 0, 9) == "-rickroll"
    local boolean NoSwitch = A7O == "-noswitch"
    local boolean B9O = SubString(A7O, 0, 7) == "-switch" or A7O == "-ok" or A7O == "-no"
    local boolean Terrain = A7O == "-terrain" or A7O == "-terrain default" or A7O == "-terrain snow"
    local boolean BAO = A7O == "-tips"
    local boolean BBO = A7O == "-ii" or A7O == "-iteminfo"
    local boolean BCO = A7O == "-center" or A7O == "-centeroff" or A7O == "-c" or A7O == "-co"
    local boolean BDO = A7O == "-unlock"
    local boolean BEO = A7O == "-disableselection" or A7O == "-ds"
    local boolean BFO = A7O == "-enableselection" or A7O == "-es"
    call executeFuncIfTrue("BGO", A8O)
    call executeFuncIfTrue("BHO", A9O)
    call executeFuncIfTrue("BZO", AAO)
    call executeFuncIfTrue("BVO", ABO)
    call executeFuncIfTrue("BWO", ACO)
    call executeFuncIfTrue("BXO", ADO)
    call executeFuncIfTrue("BYO", AEO)
    call executeFuncIfTrue("BJO", AFO)
    call executeFuncIfTrue("BKO", AGO)
    call executeFuncIfTrue("BLO", AHO)
    call executeFuncIfTrue("BMO", AZO)
    call executeFuncIfTrue("BNO", AVO)
    call executeFuncIfTrue("BSO", AWO)
    call executeFuncIfTrue("BTO", AXO)
    call executeFuncIfTrue("BRO", AYO)
    call executeFuncIfTrue("BPO", AJO)
    call executeFuncIfTrue("BQO", AKO)
    call executeFuncIfTrue("BUO", ALO)
    call executeFuncIfTrue("C0O", AMO)
    call executeFuncIfTrue("CIO", ANO)
    call executeFuncIfTrue("C1O", ASO)
    call executeFuncIfTrue("COO", ATO)
    call executeFuncIfTrue("C2O", ARO)
    call executeFuncIfTrue("C3O", APO)
    call executeFuncIfTrue("C4O", AQO)
    call executeFuncIfTrue("C5O", F91)
    call executeFuncIfTrue("C6O", AH)
    call executeFuncIfTrue("C7O", AUO)
    call executeFuncIfTrue("C8O", B0O)
    call executeFuncIfTrue("C9O", BIO)
    call executeFuncIfTrue("CAO", B1O)
    call executeFuncIfTrue("CBO", BOO)
    call executeFuncIfTrue("CCO", B2O)
    call executeFuncIfTrue("CDO", B3O)
    call executeFuncIfTrue("CEO", B4O)
    call executeFuncIfTrue("CFO", B5O)
    call executeFuncIfTrue("CGO", B6O)
    call executeFuncIfTrue("CHO", B7O)
    call executeFuncIfTrue("CZO", B8O)
    call executeFuncIfTrue("CVO", B9O)
    call executeFuncIfTrue("CWO", BBO)
    call executeFuncIfTrue("CXO", BAO)
    call executeFuncIfTrue("CYO", BCO)
    call executeFuncIfTrue("CJO", BDO)
    call executeFuncIfTrue("CKO", BEO)
    call executeFuncIfTrue("CLO", BFO)
endfunction

function CZO takes nothing returns nothing
    local integer a = S2I( SubString(GetEventPlayerChatString(), 10, StringLength(GetEventPlayerChatString())) )
    local integer CDI = GetPlayerId(GetTriggerPlayer())
    set MN0[CDI] = MN0[CDI] + 1
    if MN0[CDI] > 10 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0DQ'))
        return
    endif
    if a < 1 or a > 8 then
        set a = GetRandomInt(1, 8)
    endif
    if a == 1 then
        call dispTimedTextToForce(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r's never gonna give you up")
    elseif a == 2 then
        call dispTimedTextToForce(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r's never gonna let you down")
    elseif a == 3 then
        call dispTimedTextToForce(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r's never gonna run around")
    elseif a == 4 then
        call dispTimedTextToForce(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r's never gonna desert you")
    elseif a == 5 then
        call dispTimedTextToForce(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r's never gonna make you cry")
    elseif a == 6 then
        call dispTimedTextToForce(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r's never gonna say goodbye")
    elseif a == 7 then
        call dispTimedTextToForce(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r's never gonna tell a lie")
    elseif a == 8 then
        call dispTimedTextToForce(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r's never gonna hurt you")
    endif
endfunction

function CNO takes nothing returns boolean 
    if B3 == false then
        return false
    endif
    if S0[GetPlayerId(N2)] == true then
        return false
    endif
    if B0 == false then
        return false
    endif
    if playerHero[GetPlayerId(N2)] != null and D3 == false then
        return false
    endif
    if D0[GetPlayerId(N2)] == true then
        return false
    endif
    if E3[GetPlayerId(N2)] and D3 == false then
        return false
    endif
    if D3 and G3[GetPlayerId(N2)] then
        return false
    endif
    return true
endfunction

function CSO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local string CTO = LoadStr(hashTable, DMI, 146)
    set N2 = p
    if CNO() then
        set S0[GetPlayerId(p)] = true
        if CTO == "-random int" then
            call FLI(p)
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 100)
        elseif CTO == "-random str" then
            call FTI(p)
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 100)
        elseif CTO == "-random agi" then
            call FRI(p)
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 100)
        else 
            call FPI(p)
        endif
    else 
        call DisplayTimedTextToPlayer(p, 0, O3, 10, GetObjectName('n079'))
    endif
    set t = null
    set p = null
    return false
endfunction

function BGO takes nothing returns nothing
    local player EYI = GetTriggerPlayer()
    local trigger t
    set N2 = EYI
    if CNO() and H3[GetPlayerId(EYI)] == false then
        set H3[GetPlayerId(EYI)] = true
        call EQI(EYI)
        call DisplayTimedTextToPlayer(EYI, 0, O3, 10, GetObjectName('n07A'))
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 6, false)
        call TriggerAddCondition(t, Condition(function CSO))
        call SavePlayerHandle(hashTable, GetHandleId(t), 54, EYI)
        call SaveStr(hashTable, GetHandleId(t), 146, StringCase(GetEventPlayerChatString(), false))
    endif
    set t = null
endfunction

function CRO takes nothing returns boolean 
    local unit E1I = playerHero[GetPlayerId(GetTriggerPlayer())]
    if P70 then
        call displayErrorMessage(GetTriggerPlayer(), GetObjectName('n030'))
        return false
    endif
    if C3 == false then
        if RA0 == false and T2 == false and ST0 == false and AN == false and RN0 == false and RQ0 == false and D3 == false and G2 == false then
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, "-repick " + GetObjectName('n05B'))
        endif
        return false
    endif
    if (D0[GetPlayerId(GetTriggerPlayer())] == true) then
        return false
    endif
    if (playerHero[GetPlayerId(GetTriggerPlayer())] == null) then
        return false
    endif
    if deathMatchMode or T2 or D3 then
        return false
    endif
    if (V3 == true) then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n050'))
        return false
    endif
    if (GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) < T0) then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n059'))
        return false
    endif
    if GetPlayerState(GetTriggerPlayer(), PLAYER_STATE_RESOURCE_GOLD) < 350 and K0 or defaultMode then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n05U'))
        return false
    endif
    if GetUnitState(E1I, UNIT_STATE_MANA) != GetUnitState(E1I, UNIT_STATE_MAX_MANA) or GetUnitState(E1I, UNIT_STATE_LIFE) != GetUnitState(E1I, UNIT_STATE_MAX_LIFE) then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n05J'))
        return false
    endif
    return true
endfunction

function CPO takes nothing returns nothing
    if (IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true) then
        if (GetUnitTypeId(GetEnumUnit()) == 'U006') then
            call ExecuteFunc("DA1")
        elseif GetUnitTypeId(GetEnumUnit()) == 'U008' or GetUnitTypeId(GetEnumUnit()) == 'E015' then
            set MK = GetEnumUnit()
            call ExecuteFunc("DT1")
        endif
        call dispTimedTextToForce(C1I(GetTriggerPlayer()), 10.00, GetObjectName('n05L') + " " + getHeroName(GetEnumUnit()) + ".")
    endif
    if (GetUnitTypeId(GetEnumUnit()) == 'n004') then
        call RemoveUnit(GetEnumUnit())
    endif
    if (GetUnitTypeId(GetEnumUnit()) == 'n018') then
        call RemoveUnit(GetEnumUnit())
    endif
    if (GetUnitTypeId(GetEnumUnit()) == 'n01C') then
        call RemoveUnit(GetEnumUnit())
    endif
    if (GetUnitTypeId(GetEnumUnit()) == 'n01G') then
        call RemoveUnit(GetEnumUnit())
    endif
endfunction

function CQO takes nothing returns nothing
    local player EYI = GetTriggerPlayer()
    local group MNI = allocGroup()
    local integer FMI
    local integer FNI
    local location FSI
    local unit RepickedUnit
    local integer F5I
    local integer EUI
    local integer F0I
    local unit CUO
    local location N0I = GetRectCenter(T4)
    local location NII = GetRectCenter(R4)
    set bj_groupEnumOwningPlayer = EYI
    call GroupEnumUnitsInRect(MNI, GetWorldBounds(), filterGetUnitsInRectOfPlayer)
    if (isPlayerSentinel(EYI) == true) then
        set FMI = D40
        set FNI = D50
        set FSI = GetRectCenter(H4)
    else 
        set FMI = D60
        set FNI = numHeroes
        set FSI = GetRectCenter(G4)
    endif
    if Y0 then
        if (GetRandomInt(1, 2) == 1) then
            set FMI = D40
            set FNI = D50
        else 
            set FMI = D60
            set FNI = numHeroes
        endif
    endif
    if K0 or defaultMode then
        set T0 = 100
    endif
    set CUO = LoadUnitHandle(hashTable, GetHandleId(GetTriggerPlayer()), 147)
    if CUO != null and GetUnitTypeId(CUO) == 'e00C' then
        call RemoveUnit(CUO)
    endif
    call AdjustPlayerStateBJ(-1*T0, EYI, PLAYER_STATE_RESOURCE_GOLD)
    set D0[GetPlayerId(EYI)] = true
    call ForGroup(MNI, function CPO)
    call H8I(playerHero[GetPlayerId(EYI)])
    set playerHero[GetPlayerId(GetTriggerPlayer())] = null
    if K0 or defaultMode then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 60, GetObjectName('N05Y'))
        if K0 then
            set EUI = D40
            set F0I = numHeroes
        endif
        if isPlayerSentinel(EYI) then
            if defaultMode then
                set EUI = D40
                set F0I = D50
                call CreateUnitAtLoc(EYI, 'n00C', N0I, bj_UNIT_FACING)
            else 
                call CreateUnitAtLoc(EYI, 'n00C', N0I, bj_UNIT_FACING)
                call CreateUnitAtLoc(EYI, 'n00C', NII, bj_UNIT_FACING)
            endif
            call PanCameraToTimedLocForPlayer(EYI, N0I, 0)
        else 
            if defaultMode then
                set EUI = D60
                set F0I = numHeroes
                call CreateUnitAtLoc(EYI, 'n00C', NII, bj_UNIT_FACING)
            else 
                call CreateUnitAtLoc(EYI, 'n00C', N0I, bj_UNIT_FACING)
                call CreateUnitAtLoc(EYI, 'n00C', NII, bj_UNIT_FACING)
            endif
            call PanCameraToTimedLocForPlayer(EYI, NII, 0)
        endif
        loop
            exitwhen EUI > F0I
            if R[EUI] == false then
                call SetPlayerTechMaxAllowed(EYI, heroId[EUI], 1)
            endif
            set EUI = EUI + 1
        endloop
        set EUI = DW0
        set F0I = numNeutralHeroes
        loop
            exitwhen EUI > F0I
            if R[getHeroIndex(neutralHeroes[EUI])] == false then
                call SetPlayerTechMaxAllowed(EYI, neutralHeroes[EUI], 1)
            endif
            set EUI = EUI + 1
        endloop
        call RemoveLocation(N0I)
        call RemoveLocation(NII)
        return
    endif
    loop
        set F5I = GetRandomInt(FMI, FNI)
        if (R[F5I] == false) then
            set R[F5I] = true
            set playerHero[GetPlayerId(EYI)] = CreateUnitAtLoc(EYI, heroId[F5I], FSI, bj_UNIT_FACING)
            call disableHero(heroId[F5I])
        endif
        exitwhen playerHero[GetPlayerId(GetTriggerPlayer())] != null
    endloop
    call releaseGroup(MNI)
    call RemoveLocation(FSI)
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
endfunction

function BHO takes nothing returns nothing
    if CRO() then
        call CQO()
    endif
endfunction

function BZO takes nothing returns nothing
    local player EYI = GetTriggerPlayer()
    local string DIO = "|c006699CC"
    if RN0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "League Mode" + "|r:      " + GetObjectName('n075'))
    endif
    if RQ0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Extended League" + "|r:      " + GetObjectName('n07B'))
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, "                                 " + GetObjectName('n070'))
    endif
    if deathMatchMode then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Death Match" + "|r:        " + GetObjectName('n06Z'))
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, "                              " + GetObjectName('n06Y') + " " + I2S( HCI(D50, numHeroes - D60 + 1) ) + " " + GetObjectName('n07C'))
    endif
    if G2 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Mirror Match" + "|r:       " + GetObjectName('n06W'))
    endif
    if K0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "All Pick" + "|r:                 " + GetObjectName('n06V'))
    endif
    if ST0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Random Draft" + "|r:                 " + GetObjectName('n072'))
    endif
    if RA0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Single Draft" + "|r:                 " + GetObjectName('n07G'))
    endif
    if Y0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "All Random" + "|r:          " + GetObjectName('n071'))
    endif
    if T2 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Vote Random" + "|r:         " + GetObjectName('n074'))
    endif
    if J0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Team Random" + "|r:     " + GetObjectName('n06M'))
    endif
    if D3 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Reverse" + "|r:                 " + GetObjectName('n073'))
    endif
    if GO then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Shuffle Players" + "|r:     " + GetObjectName('n07H'))
    endif
    if V2 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "All Agility" + "|r:             " + GetObjectName('n07L'))
    endif
    if X2 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "All Strength" + "|r:         " + GetObjectName('n07K'))
    endif
    if W2 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "All Intelligence" + "|r:    " + GetObjectName('n07J'))
    endif
    if PO0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Range Only" + "|r:    " + GetObjectName('n0G4'))
    endif
    if P10 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Melee Only" + "|r:    " + GetObjectName('n0G5'))
    endif
    if H2 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Duplicate Mode" + "|r:   " + GetObjectName('n07I'))
    endif
    if itemDropMode then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Item Drop" + "|r:             " + GetObjectName('n07F'))
    endif
    if P0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "No Powerups" + "|r:        " + GetObjectName('n07M'))
    endif
    if Q0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Super Creeps" + "|r:        " + GetObjectName('n07N'))
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, "                             " + GetObjectName('n07O'))
    endif
    if easyMode then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Easy Mode" + "|r:           " + GetObjectName('n07T'))
    endif
    if K2 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Same Hero" + "|r:           " + GetObjectName('n07U') + " " + playerName[GetPlayerId(firstPlayerAlive)] + "|r" + " " + GetObjectName('n07W'))
    endif
    if P20 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Only Mid" + "|r:           " + GetObjectName('n080'))
    endif
    if P40 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "No Bot" + "|r:           " + GetObjectName('n07V'))
    endif
    if P50 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "No Mid" + "|r:           " + GetObjectName('n07S'))
    endif
    if P60 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "No Top" + "|r:           " + GetObjectName('n07R'))
    endif
    if EL then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "No Swap" + "|r:           " + GetObjectName('n07X'))
    endif
    if EL then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "No Repick" + "|r:           " + GetObjectName('n07Q'))
    endif
    if HL then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Pool Mode" + "|r:           " + GetObjectName('n07Y'))
    endif
    if P80 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Observer Info" + "|r:           " + GetObjectName('n07Z'))
    endif
    if PA0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Mini Hereos" + "|r:           " + GetObjectName('n0EC'))
    endif
    if PB0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Fast Respawn" + "|r:           " + GetObjectName('n0DP'))
    endif
    if BN then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Captains Mode" + "|r:           " + GetObjectName('n0ED'))
    endif
    if GL then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Experimental Runes" + "|r:           " + GetObjectName('n0G6'))
    endif
    if AN then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Captains Draft" + "|r:           " + GetObjectName('n0GF'))
    endif
    if PE0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Capture Point" + "|r:           " + GetObjectName('n0KH'))
    endif
    if PC0 then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Capture Point" + "|r:           " + GetObjectName('n0KI'))
    endif
    if defaultMode then
        call DisplayTimedTextToPlayer(EYI, 0, O3, 20, DIO + "Normal Mode" + "|r:        " + GetObjectName('n07P'))
    endif
endfunction

function DOO takes nothing returns nothing
    if GetUnitTypeId(GetEnumUnit()) == 'n004' then
        call RemoveUnit(GetEnumUnit())
    endif
    if GetUnitTypeId(GetEnumUnit()) == 'o003' then
        call RemoveUnit(GetEnumUnit())
    endif
endfunction

function D2O takes unit u1, unit u2 returns nothing
    local player Me = GetOwningPlayer(u1)
    local player D3O = GetOwningPlayer(u2)
    local unit D4O = CreateUnit(Me, 'e01F', 0, 0, 0)
    local group g
    local item XY1
    call DisableTrigger(trigItemActions)
    if GetUnitAbilityLevel(u1, 'A03E') > 0 then
        set WM = u1
        set XM = u2
        call ExecuteFunc("D5O")
    elseif GetUnitAbilityLevel(u2, 'A03E') > 0 then
        set WM = u2
        set XM = u1
        call ExecuteFunc("D5O")
    endif
    if GetUnitAbilityLevel(u1, 'A0CY') > 0 then
        set WM = u1
        set XM = u2
        call ExecuteFunc("D6O")
    elseif GetUnitAbilityLevel(u2, 'A0CY') > 0 then
        set WM = u2
        set XM = u1
        call ExecuteFunc("D6O")
    endif
    if GetUnitAbilityLevel(u1, 'A13T') > 0 then
        set WM = u1
        set XM = u2
        call ExecuteFunc("D7O")
    elseif GetUnitAbilityLevel(u2, 'A13T') > 0 then
        set WM = u2
        set XM = u1
        call ExecuteFunc("D7O")
    endif
    call FlushChildHashtable(hashTable, (800 + GetPlayerId(GetOwningPlayer(u1))))
    call FlushChildHashtable(hashTable, (800 + GetPlayerId(GetOwningPlayer(u2))))
    set g = allocGroup()
    set bj_groupEnumOwningPlayer = Me
    call GroupEnumUnitsInRect(g, GetWorldBounds(), filterGetUnitsInRectOfPlayer)
    call ForGroup(g, function DOO)
    call releaseGroup(g)
    set g = allocGroup()
    set bj_groupEnumOwningPlayer = D3O
    call GroupEnumUnitsInRect(g, GetWorldBounds(), filterGetUnitsInRectOfPlayer)
    call ForGroup(g, function DOO)
    call releaseGroup(g)
    call SetUnitOwner(u2, Me, true)
    call SetUnitOwner(u1, D3O, true)
    set playerHero[GetPlayerId(Me)] = u2
    set playerHero[GetPlayerId(D3O)] = u1
    call SetPlayerName(Me, playerName[GetPlayerId(Me)] + " (" + getHeroName(playerHero[GetPlayerId(Me)]) + ")")
    call SetPlayerName(D3O, playerName[GetPlayerId(D3O)] + " (" + getHeroName(playerHero[GetPlayerId(D3O)]) + ")")
    call UnitAddItem(D4O, UnitItemInSlot(u2, 0))
    call UnitAddItem(D4O, UnitItemInSlot(u2, 1))
    call UnitAddItem(D4O, UnitItemInSlot(u2, 2))
    call UnitAddItem(D4O, UnitItemInSlot(u2, 3))
    call UnitAddItem(D4O, UnitItemInSlot(u2, 4))
    call UnitAddItem(D4O, UnitItemInSlot(u2, 5))
    set XY1 = UnitItemInSlot(u1, 0)
    if XY1 != null then
        call SetItemPlayer(XY1, Me, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u2, XY1)
    endif
    set XY1 = UnitItemInSlot(u1, 1)
    if XY1 != null then
        call SetItemPlayer(XY1, Me, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u2, XY1)
    endif
    set XY1 = UnitItemInSlot(u1, 2)
    if XY1 != null then
        call SetItemPlayer(XY1, Me, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u2, XY1)
    endif
    set XY1 = UnitItemInSlot(u1, 3)
    if XY1 != null then
        call SetItemPlayer(XY1, Me, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u2, XY1)
    endif
    set XY1 = UnitItemInSlot(u1, 4)
    if XY1 != null then
        call SetItemPlayer(XY1, Me, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u2, XY1)
    endif
    set XY1 = UnitItemInSlot(u1, 5)
    if XY1 != null then
        call SetItemPlayer(XY1, Me, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u2, XY1)
    endif
    set XY1 = UnitItemInSlot(D4O, 0)
    if XY1 != null then
        call SetItemPlayer(XY1, D3O, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u1, XY1)
    endif
    set XY1 = UnitItemInSlot(D4O, 1)
    if XY1 != null then
        call SetItemPlayer(XY1, D3O, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u1, XY1)
    endif
    set XY1 = UnitItemInSlot(D4O, 2)
    if XY1 != null then
        call SetItemPlayer(XY1, D3O, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u1, XY1)
    endif
    set XY1 = UnitItemInSlot(D4O, 3)
    if XY1 != null then
        call SetItemPlayer(XY1, D3O, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u1, XY1)
    endif
    set XY1 = UnitItemInSlot(D4O, 4)
    if XY1 != null then
        call SetItemPlayer(XY1, D3O, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u1, XY1)
    endif
    set XY1 = UnitItemInSlot(D4O, 5)
    if XY1 != null then
        call SetItemPlayer(XY1, D3O, false)
        call SetItemUserData(XY1, 1)
        call UnitAddItem(u1, XY1)
    endif
    call RemoveUnit(D4O)
    call EnableTrigger(trigItemActions)
    if (IsUnitType(u1, UNIT_TYPE_MELEE_ATTACKER) == true or GetUnitTypeId(u1) == 'H06S') and getSpecificItem(u1, itemId[GP0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u1, itemId[GP0]))
    elseif (IsUnitType(u1, UNIT_TYPE_RANGED_ATTACKER) == true or GetUnitTypeId(u1) == 'H06S') and getSpecificItem(u1, itemId[GR0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u1, itemId[GR0]))
    endif
    if (IsUnitType(u2, UNIT_TYPE_MELEE_ATTACKER) == true or GetUnitTypeId(u1) == 'H06S') and getSpecificItem(u2, itemId[GP0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u2, itemId[GP0]))
    elseif (IsUnitType(u2, UNIT_TYPE_RANGED_ATTACKER) == true or GetUnitTypeId(u1) == 'H06S') and getSpecificItem(u2, itemId[GR0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u2, itemId[GR0]))
    endif
    if GetUnitTypeId(u1) == 'H06S' and getSpecificItem(u1, itemId[GR0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u1, itemId[GR0]))
    elseif GetUnitTypeId(u1) == 'H06S' and getSpecificItem(u1, itemId[GP0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u1, itemId[GP0]))
    endif
    if GetUnitTypeId(u2) == 'H06S' and getSpecificItem(u2, itemId[GR0]) != null then
        call UnitRemoveItem(u2, getSpecificItem(u2, itemId[GR0]))
    elseif GetUnitTypeId(u2) == 'H06S' and getSpecificItem(u2, itemId[GP0]) != null then
        call UnitRemoveItem(u2, getSpecificItem(u2, itemId[GP0]))
    endif
    if (IsUnitType(u1, UNIT_TYPE_MELEE_ATTACKER) == true) and getSpecificItem(u1, itemId[VN0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u1, itemId[VN0]))
    elseif (IsUnitType(u1, UNIT_TYPE_RANGED_ATTACKER) == true) and getSpecificItem(u1, itemId[GR0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u1, itemId[GR0]))
    endif
    if (IsUnitType(u2, UNIT_TYPE_MELEE_ATTACKER) == true) and getSpecificItem(u2, itemId[VN0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u2, itemId[VN0]))
    elseif (IsUnitType(u2, UNIT_TYPE_RANGED_ATTACKER) == true) and getSpecificItem(u2, itemId[VM0]) != null then
        call UnitRemoveItem(u1, getSpecificItem(u2, itemId[VM0]))
    endif
    call ClearSelectionForPlayer(Me)
    call SelectUnitAddForPlayer(u2, Me)
    call ClearSelectionForPlayer(D3O)
    call SelectUnitAddForPlayer(u1, D3O)
    call FlushChildHashtable(hashTable, (800 + GetPlayerId(Me)))
    call FlushChildHashtable(hashTable, (800 + GetPlayerId(D3O)))
    set myUnit = u1
    call ExecuteFunc("BL1")
    set myUnit = u2
    call ExecuteFunc("BL1")
    call L0I(GetOwningPlayer(u1), "9", GetUnitTypeId(u1))
    call L0I(GetOwningPlayer(u2), "9", GetUnitTypeId(u2))
    call L1I("SWAP_" + I2S(GetPlayerId(GetOwningPlayer(u1))) + "_" + I2S(GetPlayerId(GetOwningPlayer(u2))), GetUnitTypeId(u1))
    call L1I("SWAP_" + I2S(GetPlayerId(GetOwningPlayer(u2))) + "_" + I2S(GetPlayerId(GetOwningPlayer(u1))), GetUnitTypeId(u2))
    call LTI(Me)
    call LTI(D3O)
    set Me = null
    set D3O = null
    set g = null
    set D4O = null
    set XY1 = null
endfunction

function D8O takes unit u1, unit u2 returns boolean 
    return LoadBoolean(hashTable, (800 + GetPlayerId(GetOwningPlayer(u2))), (GetUnitTypeId(u1) + GetUnitTypeId(u2)))
endfunction

function SwapHero_Off takes nothing returns nothing
    call FlushChildHashtable(hashTable, (800 + GetPlayerId(GetTriggerPlayer())))
endfunction

function D9O takes player p returns integer 
    local integer i = 1
    loop
        exitwhen i > 5
        if sentinelPlayers[i] == p or scourgePlayers[i] == p then
            return i
        endif
        set i = i + 1
    endloop
    return -1
endfunction

function DAO takes unit u1, unit u2, boolean DBO returns boolean 
    call SaveBoolean(hashTable, (800 + GetPlayerId(GetOwningPlayer(u1))), (GetUnitTypeId(u1) + GetUnitTypeId(u2)), true)
    if D8O(u1, u2) then
        call D2O(u1, u2)
        return true
    else 
        call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, O3, 30, "  ")
        call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, O3, 30, "                         " + playerColor[GetPlayerId(GetOwningPlayer(u1))] + GetUnitName(u1) + "|r |cff99ccff" + GetObjectName('n082') + " " + GetObjectName('n083') + "|r |c00ff0303-swap " + I2S(D9O(GetOwningPlayer(u1))) + "|r |cff99ccff" + GetObjectName('n081') + "|r")
        call DisplayTimedTextToPlayer(GetOwningPlayer(u2), 0, O3, 30, "  ")
        if DBO then
            call DisplayTimedTextToPlayer(GetOwningPlayer(u1), 0, O3, 30, "  ")
            call DisplayTimedTextToPlayer(GetOwningPlayer(u1), 0, O3, 30, "|cff99ccff" + GetObjectName('n08C') + " |r" + playerColor[GetPlayerId(GetOwningPlayer(u2))] + GetUnitName(u2) + "|r")
            call DisplayTimedTextToPlayer(GetOwningPlayer(u1), 0, O3, 30, "  ")
        endif
    endif
    return false
endfunction

function DCO takes nothing returns nothing
    local integer i = S2I( SubString(GetEventPlayerChatString(), 6, StringLength(GetEventPlayerChatString())) )
    if GetEventPlayerChatString() == "-swapall" then
        set i = 1
        set GK = playerHero[GetPlayerId(GetTriggerPlayer())]
        loop
            exitwhen i > 5
            if isPlayerSentinel(GetTriggerPlayer()) then
                set YK = sentinelPlayers[i]
            else 
                set YK = scourgePlayers[i]
            endif
            set myUnit = playerHero[GetPlayerId(YK)]
            if not (GK == null or GetOwningPlayer(GK) != GetTriggerPlayer() or myUnit == null or GetOwningPlayer(myUnit) != YK or YK == GetTriggerPlayer()) then
                if DAO(GK, myUnit, false) then
                    return
                endif
            endif
            set i = i + 1
        endloop
        return
    elseif i < 1 or i > 5 then
        call displayErrorMessage(GetTriggerPlayer(), GetObjectName('n02Z'))
        return
    endif
    set GK = playerHero[GetPlayerId(GetTriggerPlayer())]
    if isPlayerSentinel(GetTriggerPlayer()) then
        set YK = sentinelPlayers[i]
    else 
        set YK = scourgePlayers[i]
    endif
    set myUnit = playerHero[GetPlayerId(YK)]
    if GK == null or GetOwningPlayer(GK) != GetTriggerPlayer() or myUnit == null or GetOwningPlayer(myUnit) != YK or YK == GetTriggerPlayer() then
        call displayErrorMessage(GetTriggerPlayer(), GetObjectName('n02Z'))
        return
    endif
    call DAO(GK, myUnit, true)
endfunction

function DDO takes nothing returns nothing
    local integer i
    local player p
    local unit u
    local string s
    if GetLocalPlayer() == GetTriggerPlayer() then
        call ClearTextMessages()
    endif
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 45, "|cff99ccff" + GetObjectName('n08B') + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 45, " ")
    set i = 1
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        set u = playerHero[GetPlayerId(p)]
        if IsPlayerAlly(GetTriggerPlayer(), p) and GetTriggerPlayer() != p and u != null and GetOwningPlayer(u) == p then
            set s = " "
            if D8O(playerHero[GetPlayerId(GetTriggerPlayer())], u) then
                set s = " |c00ff0303(" + GetObjectName('n085') + ")|r"
            endif
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 45, playerColor[GetPlayerId(p)] + I2S(i) + "|r" + " - " + "|cff99ccff" + GetUnitName(u) + "|r" + s)
        endif
        set p = scourgePlayers[i]
        set u = playerHero[GetPlayerId(p)]
        if IsPlayerAlly(GetTriggerPlayer(), p) and GetTriggerPlayer() != p and u != null and GetOwningPlayer(u) == p then
            set s = " "
            if D8O(playerHero[GetPlayerId(GetTriggerPlayer())], u) then
                set s = " |c00ff0303(" + GetObjectName('n085') + ")|r"
            endif
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 45, playerColor[GetPlayerId(p)] + I2S(i) + "|r" + " - " + "|cff99ccff" + GetUnitName(u) + "|r" + s)
        endif
        set i = i + 1
    endloop
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 45, " ")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 45, "|cff99ccff" + GetObjectName('n083') + "|r |c00ff0303-swap #|r |cff99ccff" + GetObjectName('n086') + " -swapcancel " + GetObjectName('n087') + "|r")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 45, " ")
endfunction

function DEO takes player COI returns boolean 
    local integer EUI = 1
    local integer DFO = 0
    loop
        exitwhen EUI > 5
        if isPlayerSentinel(COI) then
            if playerHero[GetPlayerId(sentinelPlayers[EUI])] != null and sentinelPlayers[EUI] != COI then
                set DFO = DFO + 1
            endif
        else 
            if playerHero[GetPlayerId(scourgePlayers[EUI])] != null and scourgePlayers[EUI] != COI then
                set DFO = DFO + 1
            endif
        endif
        set EUI = EUI + 1
    endloop
    if DFO > 0 then
        return true
    else 
        return false
    endif
endfunction

function DGO takes nothing returns boolean 
    if EL or FL == false then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, "-swaphero " + GetObjectName('n088'))
        return false
    endif
    if GetUnitState(playerHero[GetPlayerId(GetTriggerPlayer())], UNIT_STATE_LIFE) < 1 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08F'))
        return false
    endif
    if BL == true then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08G') + " -swaphero.")
        return false
    endif
    if DEO(GetTriggerPlayer()) == false then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08H'))
        return false
    endif
    return true
endfunction

function BVO takes nothing returns nothing
    if DGO() then
        if GetEventPlayerChatString() == "-swap" or GetEventPlayerChatString() == "-swaphero" then
            call DDO()
        elseif GetEventPlayerChatString() == "-swapcancel" then
            call FlushChildHashtable(hashTable, (800 + GetPlayerId(GetTriggerPlayer())))
        else 
            call DCO()
        endif
    endif
endfunction

function DHO takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0FI'
endfunction

function DZO takes integer JXI, unit DVO, unit DWO returns nothing
    local integer EUI = 1
    local integer F0I = GetUnitAbilityLevel(DVO, JXI)
    loop
        exitwhen EUI > F0I
        call SelectHeroSkill(DWO, JXI)
        set EUI = EUI + 1
    endloop
endfunction

function DXO takes nothing returns nothing
    local integer EUI
    local integer F0I
    local unit DYO
    local location EA1 = GetUnitLoc(GetTriggerUnit())
    set DYO = CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()), GetUnitTypeId(GetTriggerUnit()), EA1, bj_UNIT_FACING)
    call SetHeroXP(DYO, GetHeroXP(GetTriggerUnit()), false)
    set EUI = 1
    set F0I = GetUnitAbilityLevel(GetTriggerUnit(), 'Aamk')
    loop
        exitwhen EUI > F0I
        call SelectHeroSkill(bj_lastCreatedUnit, 'Aamk')
        set EUI = EUI + 1
    endloop
    set EUI = 0
    set F0I = 5
    loop
        exitwhen EUI > F0I
        call UnitAddItem(DYO, UnitItemInSlot(GetTriggerUnit(), EUI))
        set EUI = EUI + 1
    endloop
    if (GetUnitTypeId(GetTriggerUnit()) == 'Eevi') then
        call DZO('A04L', GetTriggerUnit(), DYO)
        call DZO('A0H4', GetTriggerUnit(), DYO)
        call DZO('AEvi', GetTriggerUnit(), DYO)
        call DZO('A07Q', GetTriggerUnit(), DYO)
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'U008') then
        call DZO('A03D', GetTriggerUnit(), DYO)
        call DZO('A02G', GetTriggerUnit(), DYO)
        call DZO('A03E', GetTriggerUnit(), DYO)
        call DZO('A093', GetTriggerUnit(), DYO)
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'U007') then
        call DZO('A0F9', GetTriggerUnit(), DYO)
        call DZO('A06Y', GetTriggerUnit(), DYO)
        call DZO('A01E', GetTriggerUnit(), DYO)
        call DZO('A028', GetTriggerUnit(), DYO)
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'Hlgr') then
        call DZO('A03G', GetTriggerUnit(), DYO)
        call DZO('A03F', GetTriggerUnit(), DYO)
        call DZO('A0O3', GetTriggerUnit(), DYO)
        call DZO('AEim', GetTriggerUnit(), DYO)
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'Ekee') then
        call DZO('A035', GetTriggerUnit(), DYO)
        call DZO('A06W', GetTriggerUnit(), DYO)
        call DZO('A06V', GetTriggerUnit(), DYO)
        call DZO('A06X', GetTriggerUnit(), DYO)
    endif
    call H8I(GetTriggerUnit())
    call RemoveLocation(EA1)
    set playerHero[GetPlayerId(GetOwningPlayer(DYO))] = DYO
endfunction

function DJO takes nothing returns boolean 
    local integer E2I = GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())])
    return (E2I == 'U008' or E2I == 'U007' or E2I == 'Hlgr' or E2I == 'Eevi' or E2I == 'Ekee') and (RectContainsUnit(Z5, playerHero[GetPlayerId(GetTriggerPlayer())]) or RectContainsUnit(V5, playerHero[GetPlayerId(GetTriggerPlayer())]))
endfunction

function DKO takes nothing returns nothing
    local unit E1I = playerHero[GetPlayerId(GetTriggerPlayer())]
    call UnitAddAbility(E1I, 'A0FI')
    call IssueImmediateOrder(E1I, "chemicalrage")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 120.00, "|c00ff0303" + GetObjectName('n08I') + " " + getHeroName(GetEnumUnit()) + ". " + GetObjectName('n08J') + "|r")
endfunction

function BWO takes nothing returns nothing
    if DJO() then
        call DKO()
    endif
endfunction

function DMO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer DHI = GetTriggerEvalCount(t)
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_DEATH or DHI > 60 then
        if (LoadInteger(hashTable, GetHandleId(E1I), 4259) == 1) == false then
            if isPlayerSentinel(GetOwningPlayer(E1I)) then
                set x = GetRectCenterX(B4)
                set y = GetRectCenterY(B4)
            else 
                set x = GetRectCenterX(R3)
                set y = GetRectCenterY(R3)
            endif
            call SetUnitPosition(E1I, x, y)
            call PauseUnit(E1I, false)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call PauseUnit(E1I, true)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function DNO takes player p returns nothing
    local unit E1I = playerHero[GetPlayerId(p)]
    local trigger t
    if isUnitUnavailable(E1I) == false then
        set t = CreateTrigger()
        call DisplayTimedTextToPlayer(p, 0, O3, 30.0, GetObjectName('n08K'))
        call UnitRemoveBuffs(E1I, true, false)
        call UnitRemoveAbility(E1I, 'Bcyc')
        call UnitRemoveAbility(E1I, 'Bcy2')
        call UnitRemoveAbility(E1I, 'B02J')
        call UnitRemoveAbility(E1I, 'BUsp')
        call UnitRemoveAbility(E1I, 'Bust')
        call UnitRemoveAbility(E1I, 'B02F')
        call PauseUnit(E1I, true)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function DMO))
        call SaveUnitHandle(hashTable, GetHandleId(t), 14, E1I)
    endif
    set p = null
    set E1I = null
    set t = null
endfunction

function DSO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call DNO(p)
    endif
    set t = null
    return false
endfunction

function BXO takes nothing returns nothing
    local player p = GetTriggerPlayer()
    local unit E1I = playerHero[GetPlayerId(p)]
    local trigger t
    if isUnitUnavailable(E1I) == false then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 3.5, false)
        call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function DSO))
        call SavePlayerHandle(hashTable, GetHandleId(t), 54, p)
    endif
    set p = null
    set E1I = null
    set t = null
endfunction

function DTO takes player p returns string 
    local string s = M3[GetPlayerId(p)]
    if M3[GetPlayerId(p)] != "Here" then
        return " |c00ff0303(" + GetObjectName('n089') + " at " + SubString(s, 10, StringLength(s)) + "|c00ff0303)|r"
    endif
    return " "
endfunction

function BYO takes nothing returns nothing
    local integer EUI = 1
    local integer F0I = 5
    local integer CDI
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 20, " ")
    if (isPlayerScourge(GetTriggerPlayer()) == true) then
        loop
            exitwhen EUI > F0I
            set CDI = GetPlayerId(sentinelPlayers[EUI])
            if (playerHero[CDI] != null) then
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 20, playerColor[CDI] + playerName[GetPlayerId(sentinelPlayers[EUI])] + "|r " + GetObjectName('n08M') + " " + GetUnitName(playerHero[CDI]) + " (" + GetObjectName('n08L') + " " + I2S(GetUnitLevel(playerHero[CDI])) + ")" + DTO(sentinelPlayers[EUI]))
            endif
            set EUI = EUI + 1
        endloop
    else 
        loop
            exitwhen EUI > F0I
            set CDI = GetPlayerId(scourgePlayers[EUI])
            if (playerHero[CDI] != null) then
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 20, playerColor[CDI] + playerName[GetPlayerId(scourgePlayers[EUI])] + "|r " + GetObjectName('n08M') + " " + GetUnitName(playerHero[CDI]) + " (" + GetObjectName('n08L') + " " + I2S(GetUnitLevel(playerHero[CDI])) + ")" + DTO(scourgePlayers[EUI]))
            endif
            set EUI = EUI + 1
        endloop
    endif
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 20, " ")
endfunction

function BJO takes nothing returns nothing
    if (playerHero[GetPlayerId(GetTriggerPlayer())] == null) then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, GetObjectName('n08A'))
    else 
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, GetUnitName(playerHero[GetPlayerId(GetTriggerPlayer())]) + " " + GetObjectName('n08N') + " " + I2S(R2I(0.5 + GetUnitMoveSpeed(playerHero[GetPlayerId(GetTriggerPlayer())]))))
    endif
endfunction

function BKO takes nothing returns nothing
    call SaveBoolean(hashTable, GetHandleId(GetTriggerPlayer()), 139, true)
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08R'))
endfunction

function BLO takes nothing returns nothing
    call SaveBoolean(hashTable, GetHandleId(GetTriggerPlayer()), 139, false)
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08O'))
endfunction

function BMO takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, "   " + GetObjectName('n08P') + " " + I2S(A[GetPlayerId(GetTriggerPlayer())]) + " " + GetObjectName('n08Q') + " " + I2S(B[GetPlayerId(GetTriggerPlayer())]) + " " + GetObjectName('n08S') + " " + I2S(C[GetPlayerId(GetTriggerPlayer())]))
endfunction

function BNO takes nothing returns nothing
    local integer x = GetPlayerId(GetTriggerPlayer())
    if (GetEventPlayerChatString() == "-cson") then
        set HM[x] = true
        set N10[x] = true
    else 
        set HM[x] = false
        set N10[x] = false
    endif
    call CE1()
endfunction

function EIO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer i = LoadInteger(hashTable, DMI, 34)
    local real x
    local real y
    if MS0[i] == false then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif playerHero[i] != null and isUnitUnavailable(playerHero[i]) == false then
        set x = GetUnitX(playerHero[i])
        set y = GetUnitY(playerHero[i])
        call PanCameraToTimedForPlayer(Player(i), x, y, 0)
    endif
    set t = null
    return false
endfunction

function CYO takes nothing returns nothing
    local integer x = GetPlayerId(GetTriggerPlayer())
    local trigger t
    local integer DMI
    local integer i
    if MS0[x] == false and (GetEventPlayerChatString() == "-center" or GetEventPlayerChatString() == "-c") then
        set MS0[x] = true
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0.01, true)
        call TriggerAddCondition(t, Condition(function EIO))
        call SaveInteger(hashTable, DMI, 34, x)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0JW'))
    elseif GetEventPlayerChatString() == "-centeroff" or GetEventPlayerChatString() == "-co" then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0JX'))
        set MS0[x] = false
    endif
endfunction

function CKO takes nothing returns nothing
    set MT0[GetPlayerId(GetTriggerPlayer())] = false
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 5, GetObjectName('n0JZ'))
endfunction

function CLO takes nothing returns nothing
    set MT0[GetPlayerId(GetTriggerPlayer())] = true
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 5, GetObjectName('n0K0'))
endfunction

function CJO takes nothing returns nothing
    local integer i = 0
    local integer id = GetPlayerId(GetTriggerPlayer())
    local integer DHI = 0
    local integer E2O = 0
    local player p
    if MP0 == false or YL == false then
        return
    endif
    if MU0 + 90 < TimerGetElapsed(M) then
        loop
            exitwhen i > 15
            set MQ0[i] = false
            set i = i + 1
        endloop
    endif
    set MU0 = TimerGetElapsed(M) + 90
    set MQ0[id] = true
    set i = 0
    loop
        exitwhen i > 15
        if isPlayerSentinel(GetTriggerPlayer()) then
            if isPlayerSentinel(Player(i)) and isPlayerAlive(Player(i)) then
                set E2O = E2O + 1
                if MQ0[i] then
                    set DHI = DHI + 1
                endif
            endif
        else 
            if isPlayerScourge(Player(i)) and isPlayerAlive(Player(i)) then
                set E2O = E2O + 1
                if MQ0[i] then
                    set DHI = DHI + 1
                endif
            endif
        endif
        set i = i + 1
    endloop
    if DHI*2 > E2O then
        if isPlayerSentinel(GetTriggerPlayer()) then
            set i = 0
            loop
                exitwhen i > 5
                set p = sentinelPlayers[i]
                if E30[GetPlayerId(p)] == true and MR0[GetPlayerId(p)] == false then
                    call dispTimedTextToForce(AO, 10, GetObjectName('n0KD') + " " + playerName[GetPlayerId(p)])
                    call J7I(p)
                    set MR0[GetPlayerId(p)] = true
                endif
                set i = i + 1
            endloop
        else 
            set i = 0
            loop
                exitwhen i > 5
                set p = scourgePlayers[i]
                if E30[GetPlayerId(p)] == true and MR0[GetPlayerId(p)] == false then
                    call dispTimedTextToForce(BO, 10, GetObjectName('n0KD') + " " + playerName[GetPlayerId(p)])
                    call J7I(p)
                    set MR0[GetPlayerId(p)] = true
                endif
                set i = i + 1
            endloop
        endif
    else 
        if isPlayerSentinel(GetTriggerPlayer()) then
            call dispTimedTextToForce(AO, 10, GetObjectName('n0KB') + " " + I2S(DHI) + "/" + I2S(E2O) + " (" + playerName[GetPlayerId(GetTriggerPlayer())] + ")")
        else 
            call dispTimedTextToForce(BO, 10, GetObjectName('n0KB') + " " + I2S(DHI) + "/" + I2S(E2O) + " (" + playerName[GetPlayerId(GetTriggerPlayer())] + ")")
        endif
    endif
endfunction

function E4O takes nothing returns nothing
    local integer i = 1
    local integer H7I
    local player p
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        set H7I = R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(p)]))
        if H7I > 0 and N00[GetPlayerId(p)] and noReviveTimeMode == false and gameEnded == false then
            call LeaderboardDisplay(NI0[GetPlayerId(p)], true)
            call LeaderboardSetLabel(NI0[GetPlayerId(p)], "   " + GetObjectName('n08V') + " " + I2S(H7I) + " " + GetObjectName('n095'))
        else 
            call LeaderboardDisplay(NI0[GetPlayerId(p)], false)
        endif
        set p = scourgePlayers[i]
        set H7I = R2I(TimerGetRemaining(timerDeathCountdown[GetPlayerId(p)]))
        if H7I > 0 and N00[GetPlayerId(p)] and noReviveTimeMode == false and gameEnded == false then
            call LeaderboardDisplay(NI0[GetPlayerId(p)], true)
            call LeaderboardSetLabel(NI0[GetPlayerId(p)], "   " + GetObjectName('n08V') + " " + I2S(H7I) + " " + GetObjectName('n095'))
        else 
            call LeaderboardDisplay(NI0[GetPlayerId(p)], false)
        endif
        set i = i + 1
    endloop
endfunction

function E5O takes nothing returns nothing
    local integer x = 0
    set x = x + 1
    set NI0[GetPlayerId(sentinelPlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(sentinelPlayers[x], NI0[GetPlayerId(sentinelPlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(sentinelPlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(sentinelPlayers[x])], GetObjectName('n0E4') + ": ")
    set NI0[GetPlayerId(scourgePlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(scourgePlayers[x], NI0[GetPlayerId(scourgePlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(scourgePlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(scourgePlayers[x])], GetObjectName('n0E4') + ": ")
    set x = x + 1
    set NI0[GetPlayerId(sentinelPlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(sentinelPlayers[x], NI0[GetPlayerId(sentinelPlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(sentinelPlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(sentinelPlayers[x])], GetObjectName('n0E4') + ": ")
    set NI0[GetPlayerId(scourgePlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(scourgePlayers[x], NI0[GetPlayerId(scourgePlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(scourgePlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(scourgePlayers[x])], GetObjectName('n0E4') + ": ")
    set x = x + 1
    set NI0[GetPlayerId(sentinelPlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(sentinelPlayers[x], NI0[GetPlayerId(sentinelPlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(sentinelPlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(sentinelPlayers[x])], GetObjectName('n0E4') + ": ")
    set NI0[GetPlayerId(scourgePlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(scourgePlayers[x], NI0[GetPlayerId(scourgePlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(scourgePlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(scourgePlayers[x])], GetObjectName('n0E4') + ": ")
    set x = x + 1
    set NI0[GetPlayerId(sentinelPlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(sentinelPlayers[x], NI0[GetPlayerId(sentinelPlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(sentinelPlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(sentinelPlayers[x])], GetObjectName('n0E4') + ": ")
    set NI0[GetPlayerId(scourgePlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(scourgePlayers[x], NI0[GetPlayerId(scourgePlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(scourgePlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(scourgePlayers[x])], GetObjectName('n0E4') + ": ")
    set x = x + 1
    set NI0[GetPlayerId(sentinelPlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(sentinelPlayers[x], NI0[GetPlayerId(sentinelPlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(sentinelPlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(sentinelPlayers[x])], GetObjectName('n0E4') + ": ")
    set NI0[GetPlayerId(scourgePlayers[x])] = CreateLeaderboard()
    call PlayerSetLeaderboard(scourgePlayers[x], NI0[GetPlayerId(scourgePlayers[x])])
    call LeaderboardDisplay(NI0[GetPlayerId(scourgePlayers[x])], false)
    call LeaderboardSetLabel(NI0[GetPlayerId(scourgePlayers[x])], GetObjectName('n0E4') + ": ")
endfunction

function BUO takes nothing returns nothing
    local integer x = GetPlayerId(GetTriggerPlayer())
    if GetEventPlayerChatString() == "-don" or GetEventPlayerChatString() == "-deathon" then
        set N00[x] = true
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08W'))
    else 
        set N00[x] = false
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08X'))
    endif
endfunction

function E6O takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerAddAction(t, function E5O)
    call TriggerRegisterTimerEvent(t, .5, false)
    set t = CreateTrigger()
    call TriggerAddAction(t, function E4O)
    call TriggerRegisterTimerEvent(t, 1, true)
endfunction

function BPO takes nothing returns nothing
    if (GetEventPlayerChatString() == "-showdeny") then
        set N10[GetPlayerId(GetTriggerPlayer())] = true
    else 
        set N10[GetPlayerId(GetTriggerPlayer())] = false
    endif
endfunction

function BQO takes nothing returns nothing
    call displayErrorMessage(GetTriggerPlayer(), GetObjectName('n0HG'))
endfunction

function E9O takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i > 16
        set N10[i] = true
        set HM[i] = true
        set i = i + 1
    endloop
endfunction

function BSO takes nothing returns nothing
    call ForceRemovePlayer(forceAllPlayers, GetTriggerPlayer())
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08U'))
endfunction

function BTO takes nothing returns nothing
    call ForceAddPlayer(forceAllPlayers, GetTriggerPlayer())
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n08Z'))
endfunction

function ECO takes nothing returns boolean 
    local integer x = GetRandomInt(1, 4)
    if x == 1 then
        set N20 = W3
    elseif x == 2 then
        set N20 = X3
    elseif x == 3 then
        set N20 = ZS
    elseif x == 4 then
        set N20 = VS
    endif
    if N30[GetPlayerId(GetLocalPlayer())] then
        call EnableWeatherEffect(W3, false)
        call EnableWeatherEffect(X3, false)
        call EnableWeatherEffect(ZS, false)
        call EnableWeatherEffect(VS, false)
        call EnableWeatherEffect(N20, true)
    endif
    return false
endfunction

function EDO takes nothing returns nothing
    local integer x = GetRandomInt(1, 4)
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 300, true)
    call TriggerAddCondition(t, Condition(function ECO))
    set N30[GetPlayerId(sentinelPlayers[1])] = false
    set N30[GetPlayerId(sentinelPlayers[2])] = false
    set N30[GetPlayerId(sentinelPlayers[3])] = false
    set N30[GetPlayerId(sentinelPlayers[4])] = false
    set N30[GetPlayerId(sentinelPlayers[5])] = false
    set N30[GetPlayerId(scourgePlayers[1])] = false
    set N30[GetPlayerId(scourgePlayers[2])] = false
    set N30[GetPlayerId(scourgePlayers[3])] = false
    set N30[GetPlayerId(scourgePlayers[4])] = false
    set N30[GetPlayerId(scourgePlayers[5])] = false
    if E2 then
        set N30[GetPlayerId(CQ0)] = false
        set N30[GetPlayerId(CU0)] = false
    endif
    if x == 1 then
        set N20 = W3
    elseif x == 2 then
        set N20 = X3
    elseif x == 3 then
        set N20 = ZS
    elseif x == 4 then
        set N20 = VS
    endif
    set t = null
endfunction

function BRO takes nothing returns nothing
    local string A7O = StringCase(GetEventPlayerChatString(), false)
    if NO0 == true then
        set NO0 = false
        call EDO()
    endif
    if A7O == "-weather snow" and GetLocalPlayer() == GetTriggerPlayer() then
        set N30[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(W3, true)
        call EnableWeatherEffect(X3, false)
        call EnableWeatherEffect(ZS, false)
        call EnableWeatherEffect(VS, false)
    endif
    if A7O == "-weather rain" and GetLocalPlayer() == GetTriggerPlayer() then
        set N30[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(W3, false)
        call EnableWeatherEffect(X3, true)
        call EnableWeatherEffect(ZS, false)
        call EnableWeatherEffect(VS, false)
    endif
    if A7O == "-weather moonlight" and GetLocalPlayer() == GetTriggerPlayer() then
        set N30[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(W3, false)
        call EnableWeatherEffect(X3, false)
        call EnableWeatherEffect(ZS, true)
        call EnableWeatherEffect(VS, false)
    endif
    if A7O == "-weather wind" and GetLocalPlayer() == GetTriggerPlayer() then
        set N30[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(W3, false)
        call EnableWeatherEffect(X3, false)
        call EnableWeatherEffect(ZS, false)
        call EnableWeatherEffect(VS, true)
    endif
    if A7O == "-weather off" and GetLocalPlayer() == GetTriggerPlayer() then
        set N30[GetPlayerId(GetTriggerPlayer())] = false
        call EnableWeatherEffect(W3, false)
        call EnableWeatherEffect(X3, false)
        call EnableWeatherEffect(ZS, false)
        call EnableWeatherEffect(VS, false)
    endif
    if A7O == "-weather random" then
        set N30[GetPlayerId(GetTriggerPlayer())] = true
        if GetLocalPlayer() == GetTriggerPlayer() then
            call EnableWeatherEffect(W3, false)
            call EnableWeatherEffect(X3, false)
            call EnableWeatherEffect(ZS, false)
            call EnableWeatherEffect(VS, false)
            call EnableWeatherEffect(N20, true)
        endif
    endif
endfunction

function C0O takes nothing returns nothing
    local integer a = S2I( SubString(GetEventPlayerChatString(), 6, StringLength(GetEventPlayerChatString())) )
    local integer CDI = GetPlayerId(GetTriggerPlayer())
    set BM[CDI] = BM[CDI] + 1
    if BM[CDI] > 20 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0DQ'))
        return
    endif
    if GetEventPlayerChatString() == "-rollon" or GetEventPlayerChatString() == "-rolloff" then
        return
    endif
    if a == 0 then
        set a = 100
    endif
    if a > 0 and a < 2001 then
        call ZII(forceAllPlayers, 5, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r " + GetObjectName('n05I') + " " + I2S( GetRandomInt(1, a) ) + " " + GetObjectName('n05M') + " " + I2S(a))
    else 
        call displayErrorMessage(GetTriggerPlayer(), GetObjectName('n02Y'))
    endif
endfunction

function CHO takes nothing returns nothing
    local integer a
    if GetRandomInt(1, 2) == 1 then
        set a = GetRandomInt(D60, numHeroes)
    else 
        set a = GetRandomInt(D40, D50)
    endif
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0GS') + " " + DRI(a))
endfunction

function CEO takes nothing returns nothing
    local integer a = S2I( SubString(GetEventPlayerChatString(), 4, StringLength(GetEventPlayerChatString())) )
    if GetTriggerPlayer() != sentinelPlayers[1] or a > 2 or a < 1 or BN == false or TimerGetElapsed(M) > 14 or NN0 == true then
        return
    endif
    set NP0 = a
    set NQ0 = a
    set NM0 = true
    if a == 1 then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(sentinelPlayers[1])] + playerName[GetPlayerId(sentinelPlayers[1])] + "|r " + GetObjectName('n0DS'))
    else 
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(scourgePlayers[1])] + playerName[GetPlayerId(scourgePlayers[1])] + "|r " + GetObjectName('n0DS'))
    endif
endfunction

function C9O takes nothing returns nothing
    set FM[GetPlayerId(GetTriggerPlayer())] = false
endfunction

function CAO takes nothing returns nothing
    set FM[GetPlayerId(GetTriggerPlayer())] = true
endfunction

function CIO takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n090'))
    set N40[GetPlayerId(GetTriggerPlayer())] = true
    if GetLocalPlayer() == GetTriggerPlayer() then
        call SetPlayerName(sentinelPlayers[1], playerName[GetPlayerId(sentinelPlayers[1])])
        call SetPlayerName(sentinelPlayers[2], playerName[GetPlayerId(sentinelPlayers[2])])
        call SetPlayerName(sentinelPlayers[3], playerName[GetPlayerId(sentinelPlayers[3])])
        call SetPlayerName(sentinelPlayers[4], playerName[GetPlayerId(sentinelPlayers[4])])
        call SetPlayerName(sentinelPlayers[5], playerName[GetPlayerId(sentinelPlayers[5])])
        call SetPlayerName(scourgePlayers[1], playerName[GetPlayerId(scourgePlayers[1])])
        call SetPlayerName(scourgePlayers[2], playerName[GetPlayerId(scourgePlayers[2])])
        call SetPlayerName(scourgePlayers[3], playerName[GetPlayerId(scourgePlayers[3])])
        call SetPlayerName(scourgePlayers[4], playerName[GetPlayerId(scourgePlayers[4])])
        call SetPlayerName(scourgePlayers[5], playerName[GetPlayerId(scourgePlayers[5])])
    endif
endfunction

function C1O takes nothing returns nothing
    local integer id = GetPlayerId(GetTriggerPlayer())
    if disableSoundEffect[id] == true then
        set disableSoundEffect[id] = false
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n08T'))
    else 
        set disableSoundEffect[id] = true
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n091'))
    endif
endfunction

function CWO takes nothing returns nothing
    local integer id = GetPlayerId(GetTriggerPlayer())
    set N50[id] = true
endfunction

function C8O takes nothing returns nothing
endfunction

function C3O takes nothing returns nothing
    local integer i = 1
    local player p
    local real EVO
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        if isPlayerAlive(p) then
            set EVO = K[GetPlayerId(p)]/TimerGetElapsed(M)*60
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r" + " " + GetObjectName('n084') + " " + R2S(EVO))
        endif
        set p = scourgePlayers[i]
        if isPlayerAlive(p) then
            set EVO = K[GetPlayerId(p)]/TimerGetElapsed(M)*60
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r" + " " + GetObjectName('n084') + " " + R2S(EVO))
        endif
        set i = i + 1
    endloop
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, " ")
    set p = null
endfunction

function C4O takes nothing returns nothing
    call WRI(GetTriggerPlayer())
endfunction

function EWO takes nothing returns boolean 
    call abandonTrigger(GetTriggeringTrigger())
    set N60 = true
    return false
endfunction

function EXO takes real d returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, d, false)
    call TriggerAddCondition(t, Condition(function EWO))
    set t = null
endfunction

function EYO takes player COI returns nothing
    local integer EJO
    local player EKO
    set EJO = 0
    loop
        set EKO = Player(EJO)
        if (PlayersAreCoAllied(COI, EKO) and COI != EKO) then
            call SetPlayerAlliance(COI, EKO, ALLIANCE_SHARED_VISION, true)
            call SetPlayerAlliance(COI, EKO, ALLIANCE_SHARED_CONTROL, true)
            call SetPlayerAlliance(EKO, COI, ALLIANCE_SHARED_CONTROL, true)
        endif
        set EJO = EJO + 1
        exitwhen EJO == 12
    endloop
endfunction

function C2O takes nothing returns nothing
    local integer CDI = S2I( SubString(GetEventPlayerChatString(), 9, StringLength(GetEventPlayerChatString())) )
    local integer i = 1
    local player p
    local string LLI
    if N60 then
        if (Z0 < 10) then
            set LLI = I2S(H0) + ":0" + I2S(Z0)
        else 
            set LLI = I2S(H0) + ":" + I2S(Z0)
        endif
        if CDI < 1 or N70[CDI] == false then
            loop
                exitwhen i > 5
                set p = sentinelPlayers[i]
                if isPlayerAlive(p) and (TimerGetElapsed(M) - L[GetPlayerId(p)]) > 300.0 and N70[GetPlayerId(p)] == false then
                    set N70[GetPlayerId(p)] = true
                    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r" + " " + GetObjectName('n05G') + " " + R2S((TimerGetElapsed(M) - L[GetPlayerId(p)])/60) + " " + GetObjectName('N05F'))
                    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, GetObjectName('n05O') + " |cff99ccff-kickafk " + I2S(GetPlayerId(p)) + " |r " + GetObjectName('n05P'))
                    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, " ")
                endif
                set p = scourgePlayers[i]
                if isPlayerAlive(p) and (TimerGetElapsed(M) - L[GetPlayerId(p)]) > 300.0 and N70[GetPlayerId(p)] == false then
                    set N70[GetPlayerId(p)] = true
                    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r" + " " + GetObjectName('n05G') + " " + R2S((TimerGetElapsed(M) - L[GetPlayerId(p)])/60) + " " + GetObjectName('N05F'))
                    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, GetObjectName('n05O') + " |cff99ccff-kickafk " + I2S(GetPlayerId(p)) + " |r " + GetObjectName('n05P'))
                    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, " ")
                endif
                set i = i + 1
            endloop
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, " ")
        elseif isPlayerAlive(Player(CDI)) == true and IsPlayerAlly(GetTriggerPlayer(), Player(CDI)) == true then
            call DisplayTimedTextToPlayer(Player(CDI), 0, O3, 3600, "|c00ff0303" + GetObjectName('n05E') + "|r")
            call NUI(Player(CDI))
            set M3[GetPlayerId(Player(CDI))] = "|c00555555" + LLI + "|r"
            call RemovePlayer(Player(CDI), PLAYER_GAME_RESULT_DEFEAT)
            call EYO(Player(CDI))
            if YL then
                call J5I(Player(CDI))
            endif
            set E30[GetPlayerId(Player(CDI))] = true
            call NQI(Player(CDI))
            call dispTimedTextToForce(forceAllPlayers, 30.00, "|c00ff0303" + playerName[GetPlayerId(Player(CDI))] + " " + GetObjectName('n05E') + "|r")
        endif
    endif
endfunction

function COO takes nothing returns nothing
    local integer i = 1
    local player p
    local integer x = 0
    if N60 then
        loop
            exitwhen i > 5
            set p = sentinelPlayers[i]
            if isPlayerAlive(p) and (TimerGetElapsed(M) - L[GetPlayerId(p)])/60 > 0.2 then
                set x = x + 1
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r" + " " + GetObjectName('n05D') + " " + R2S((TimerGetElapsed(M) - L[GetPlayerId(p)])/60) + " " + GetObjectName('N05F'))
            endif
            set p = scourgePlayers[i]
            if isPlayerAlive(p) and (TimerGetElapsed(M) - L[GetPlayerId(p)])/60 > 0.2 then
                set x = x + 1
                call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r" + " " + GetObjectName('n05D') + " " + R2S((TimerGetElapsed(M) - L[GetPlayerId(p)])/60) + " " + GetObjectName('N05F'))
            endif
            set i = i + 1
        endloop
        if x < 1 then
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, GetObjectName('N05Q'))
        else 
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, " ")
        endif
    endif
endfunction

function ELO takes nothing returns boolean 
    local integer i = 1
    local player p
    local real LLI = TimerGetElapsed(M)
    if N60 then
        loop
            exitwhen i > 5
            set p = sentinelPlayers[i]
            if isPlayerAlive(p) and (LLI - L[GetPlayerId(p)]) > 300.0 and N70[GetPlayerId(p)] == false then
                set N70[GetPlayerId(p)] = true
                call dispTimedTextToForce(AO, 15, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r" + " " + GetObjectName('n05G') + " " + R2S((LLI - L[GetPlayerId(p)])/60) + " " + GetObjectName('N05F'))
                call dispTimedTextToForce(AO, 15, GetObjectName('n05O') + " |cff99ccff-kickafk " + I2S(GetPlayerId(p)) + " |r " + GetObjectName('n05P'))
                call dispTimedTextToForce(AO, 15, " ")
            endif
            set p = scourgePlayers[i]
            if isPlayerAlive(p) and (LLI - L[GetPlayerId(p)]) > 300.0 and N70[GetPlayerId(p)] == false then
                set N70[GetPlayerId(p)] = true
                call dispTimedTextToForce(BO, 15, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r" + " " + GetObjectName('n05G') + " " + R2S((LLI - L[GetPlayerId(p)])/60) + " " + GetObjectName('N05F'))
                call dispTimedTextToForce(BO, 15, GetObjectName('n05O') + " |cff99ccff-kickafk " + I2S(GetPlayerId(p)) + " |r " + GetObjectName('n05P'))
                call dispTimedTextToForce(BO, 15, " ")
            endif
            set i = i + 1
        endloop
    endif
    return false
endfunction

function EMO takes nothing returns boolean 
    if GetOwningPlayer(GetTriggerUnit()) != sentinelPlayers[0] and GetOwningPlayer(GetTriggerUnit()) != scourgePlayers[0] then
        set K[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] = K[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 1
        if GetIssuedOrderId() != 851983 then
            set L[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] = TimerGetElapsed(M)
            set N70[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] = false
        endif
        if (GetIssuedOrderId() == 851983 or GetIssuedOrderId() == 851971) and GetOrderTargetItem() != null then
            if GetIssuedOrderId() == 851983 or (GetIssuedOrderId() == 851971 and LoadBoolean(hashTable, GetHandleId(GetItemPlayer(GetOrderTargetItem())), 139) == true) then
                if GetItemPlayer(GetOrderTargetItem()) != GetOwningPlayer(GetTriggerUnit()) and IsPointInRegion(PK, GetItemX(GetOrderTargetItem()), GetItemY(GetOrderTargetItem())) == true then
                    call DisableTrigger(GetTriggeringTrigger())
                    call GSI(GetTriggerUnit())
                    call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0G7'))
                    call EnableTrigger(GetTriggeringTrigger())
                endif
            endif
        endif
    endif
    return false
endfunction

function ESO takes nothing returns boolean 
    return GII(GetFilterUnit()) and GetOwningPlayer(GetFilterUnit()) == GetTriggerPlayer()
endfunction

function Courier_Add takes nothing returns nothing
    call UnitAddType(GetEnumUnit(), UNIT_TYPE_PEON)
endfunction

function Courier_Remove takes nothing returns nothing
    call UnitRemoveType(GetEnumUnit(), UNIT_TYPE_PEON)
endfunction

function C5O takes nothing returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, 0, 0, 12000, Condition(function ESO))
    call releaseGroup(g)
    set g = null
endfunction

function ERO takes nothing returns nothing
    local string A7O = StringCase(GetEventPlayerChatString(), false)
    local boolean EPO = A7O == "-mode1"
    local boolean EQO = A7O == "-mode2"
    if EPO == false and EQO == false then
        return
    endif
    if TimerGetElapsed(M) > 60 then
        call GMI(GetTriggerPlayer(), GetObjectName('n02X'))
        return
    elseif TimerGetElapsed(M) < 15 then
        call GMI(GetTriggerPlayer(), GetObjectName('n02X'))
        return
    endif
    if EPO then
        set QK = 1
    elseif EQO then
        set QK = 2
    endif
    call O3O()
    call dispTimedTextToForce(forceAllPlayers, 15, GetObjectName('n05N') + " " + GetObjectName('n055'))
    call dispTimedTextToForce(forceAllPlayers, 15, GetObjectName('n05R'))
    call abandonTrigger(GetTriggeringTrigger())
endfunction

function EUO takes nothing returns boolean 
    call ExecuteFunc("ERO")
    return false
endfunction

function AH_RegisterCommands takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, firstPlayerAlive, "-", false)
    call TriggerAddCondition(t, Condition(function EUO))
    call dispTimedTextToForce(forceAllPlayers, 30, "|cff99ccff" + GetObjectName('n05S') + "|r")
    call dispTimedTextToForce(forceAllPlayers, 30, GetObjectName('n05T') + " " + GetObjectName('n05H') + " " + GetObjectName('n05V') + " ")
    call dispTimedTextToForce(forceAllPlayers, 30, " ")
    call dispTimedTextToForce(forceAllPlayers, 30, "|cff99ccff-mode1|r " + GetObjectName('n05W') + ". (" + GetObjectName('n05X') + ")")
    call dispTimedTextToForce(forceAllPlayers, 30, "|cff99ccff-mode2|r " + GetObjectName('n062'))
endfunction

function AH_RegisterCommands_Delayed takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.5, false)
    set t = null
endfunction

function C6O takes nothing returns nothing
    if TimerGetElapsed(M) > 60 then
        call GMI(GetTriggerPlayer(), GetObjectName('n02X'))
        return
    elseif TimerGetElapsed(M) < 15 then
        call GMI(GetTriggerPlayer(), GetObjectName('n02X'))
        return
    endif
    if GetTriggerPlayer() != firstPlayerAlive then
        call GMI(GetTriggerPlayer(), GetObjectName('n02W'))
        return
    endif
    if UK == false then
        set UK = true
        set QK = 2
        call O3O()
        call dispTimedTextToForce(forceAllPlayers, 15, GetObjectName('n05N') + " " + GetObjectName('n055'))
        call dispTimedTextToForce(forceAllPlayers, 15, GetObjectName('n05R'))
    else 
        call displayErrorMessage(GetTriggerPlayer(), GetObjectName('n02V'))
    endif
endfunction

function C7O takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CV') + " [|cffff0000E|r|cffff0000E|r|cffff0000E|r] - [|cffffcc00T|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CU') + " [|cffff0000E|r|cffff0000E|r|cff00ffffW|r] - [|cffffcc00D|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CT') + " [|cffff0000E|r|cffff0000E|r|cff0000ffQ|r] - [|cffffcc00F|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0C6') + " [|cff0000ffQ|r|cff0000ffQ|r|cff0000ffQ|r] - [|cffffcc00Y|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CL') + " [|cff0000ffQ|r|cff0000ffQ|r|cff00ffffW|r] - [|cffffcc00V|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CN') + " [|cff0000ffQ|r|cff0000ffQ|r|cffff0000E|r] - [|cffffcc00G|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CS') + " [|cff00ffffW|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00Z|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CO') + " [|cff00ffffW|r|cff00ffffW|r|cff0000ffQ|r] - [|cffffcc00X|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CP') + " [|cff00ffffW|r|cff00ffffW|r|cff00ffffW|r] - [|cffffcc00C|r]")
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CQ') + " [|cff0000ffQ|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00B|r]")
endfunction

function F0O takes string s returns nothing
    call StopMusic(true)
    call PlayMusic(s)
endfunction

function CBO takes nothing returns nothing
    local string s = GetEventPlayerChatString()
    local integer F5I = GetRandomInt(1, N90)
    if GetLocalPlayer() == GetTriggerPlayer() then
        if s == "-music off" then
            call StopMusic(false)
        elseif s == "-music random" then
            call F0O(N80[F5I])
        elseif s == "-music nightelf1" then
            call F0O(XD)
        elseif s == "-music nightelf2" then
            call F0O(YD)
        elseif s == "-music nightelf3" then
            call F0O(JD)
        elseif s == "-music human1" then
            call F0O(AD)
        elseif s == "-music human2" then
            call F0O(BD)
        elseif s == "-music human3" then
            call F0O(DD)
        elseif s == "-music orc1" then
            call F0O(LD)
        elseif s == "-music orc2" then
            call F0O(MD)
        elseif s == "-music orc3" then
            call F0O(ND)
        elseif s == "-music undead1" then
            call F0O(HF)
        elseif s == "-music undead2" then
            call F0O(ZF)
        elseif s == "-music undead3" then
            call F0O(VF)
        elseif s == "-music other1" then
            call F0O(TD)
        elseif s == "-music other2" then
            call F0O(PD)
        elseif s == "-music other3" then
            call F0O(QD)
        elseif s == "-music other4" then
            call F0O(UD)
        elseif s == "-music other5" then
            call F0O(IE)
        elseif s == "-music special" then
            call F0O(NA0)
        else 
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0CW') + " ")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, "off, random, nightelf1, nightelf2, nightelf3, human1, human2, human3, orc1, orc2, orc3, undead1, undead2, undead3, other1, other2, other3, other4, other5, special")
        endif
    endif
endfunction

function F1O takes player p, integer r, integer g, integer b, integer a returns nothing
    if GetLocalPlayer() == p then
        call SetWaterBaseColor(r, g, b, a)
    endif
endfunction

function FOO takes string s returns nothing
    local string F2O = ""
    local string F3O = ""
    local string F4O = ""
    local integer i = 0
    local integer KDI = StringLength(s)
    local integer F5O = 1
    loop
        exitwhen i > KDI
        if SubString(s, i, i + 1) == " " then
            set F5O = F5O + 1
        else 
            if F5O == 1 then
                set F2O = F2O + SubString(s, i, i + 1)
            elseif F5O == 2 then
                set F3O = F3O + SubString(s, i, i + 1)
            else 
                set F4O = F4O + SubString(s, i, i + 1)
            endif
        endif
        set i = i + 1
    endloop
    set NC0 = S2I(F2O)
    set ND0 = S2I(F3O)
    set NE0 = S2I(F4O)
endfunction

function CCO takes nothing returns nothing
    local string F6O = SubString(GetEventPlayerChatString(), 7, StringLength(GetEventPlayerChatString()))
    local player p = GetTriggerPlayer()
    local integer r
    local integer g
    local integer b
    set NB0[GetPlayerId(p)] = true
    if F6O == "red" then
        call F1O(p, 255, 0, 0, 255)
    elseif F6O == "blue" then
        call F1O(p, 0, 0, 255, 255)
    elseif F6O == "green" then
        call F1O(p, 0, 255, 0, 255)
    elseif F6O == "default" then
        call F1O(p, 0, 0, 255, 255)
    elseif F6O == "random" then
        set r = GetRandomInt(0, 255)
        set g = GetRandomInt(0, 255)
        set b = GetRandomInt(0, 255)
        call F1O(p, r, g, b, 255)
        call DisplayTimedTextToPlayer(p, 0, 0, 5, GetObjectName('n0HD') + " r=" + I2S(r) + " g=" + I2S(g) + " b=" + I2S(b))
    else 
        call FOO(F6O)
        set r = NC0
        set g = ND0
        set b = NE0
        if r == 0 and g == 0 and b == 0 and F6O != "0 0 0" then
            return
        endif
        if r >= 0 and r <= 255 and g >= 0 and g <= 255 and b >= 0 and b <= 255 then
            call F1O(p, r, g, b, 255)
        endif
    endif
endfunction

function CFO takes nothing returns nothing
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 15.00, "This command has been temporarily disabled")
endfunction

function CGO takes nothing returns boolean 
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, "Total Bonus XP/Gold: " + I2S(FI0[GetPlayerId(GetTriggerPlayer())]) + "/" + I2S(F10[GetPlayerId(GetTriggerPlayer())]))
    return false
endfunction

function Quote_ReplaySound takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer x = LoadInteger(hashTable, DMI, 148)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    call GVI(p, NF0[x])
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set p = null
    return false
endfunction

function CDO takes nothing returns nothing
    local string s = GetEventPlayerChatString()
    local trigger t
    local integer x = S2I( SubString(GetEventPlayerChatString(), 7, StringLength(GetEventPlayerChatString())) )
    local integer i = 1
    if x < 1 or x > NH0 then
        set x = GetRandomInt(1, NH0)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10, GetObjectName('n0E5') + " " + I2S(x))
    endif
    if NZ0 then
        loop
            exitwhen i > NH0
            call XHI(NF0[i])
            set i = i + 1
        endloop
        set NZ0 = false
    endif
    if NG0[x] == false then
    endif
    call GVI(GetTriggerPlayer(), NF0[x])
endfunction

function F9O takes player p1 returns string 
    local string s = GetObjectName('n0GB')
    set s = strReplace(s, "$c1", "|c00ff0303")
    set s = strReplace(s, "$p1", playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r")
    return s
endfunction

function FAO takes nothing returns string 
    local string s = GetObjectName('n0GA')
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$c2", "|c00ff0303")
    return s
endfunction

function FBO takes nothing returns nothing
    local integer i = 1
    local unit E1I
    if UK then
        loop
            exitwhen i > 5
            set E1I = playerHero[GetPlayerId(sentinelPlayers[i])]
            if E1I != null then
                if QK == 2 then
                    call KPI(E1I)
                endif
                call UnitSetUsesAltIcon(E1I, false)
            endif
            set E1I = playerHero[GetPlayerId(scourgePlayers[i])]
            if E1I != null then
                if QK == 2 then
                    call KPI(E1I)
                endif
                call UnitSetUsesAltIcon(E1I, false)
            endif
            set i = i + 1
        endloop
        set E1I = null
    endif
endfunction

function FCO takes player p1, player p2 returns string 
    local string s = GetObjectName('n0G2')
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$c2", "|c00ff0303")
    set s = strReplace(s, "$c2", "|c00ff0303")
    set s = strReplace(s, "$p1", playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r")
    set s = strReplace(s, "$p2", playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r")
    return s
endfunction

function FDO takes string FEO, string FFO returns string 
    local string s = GetObjectName('n0FV')
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$c1", "|c006699CC")
    set s = strReplace(s, "$p1", FEO)
    set s = strReplace(s, "$p2", FFO)
    return s
endfunction

function FGO takes player p2 returns string 
    local string s = GetObjectName('n0FS')
    set s = strReplace(s, "$p2", playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r")
    set s = strReplace(s, "$c1", "|c006699CC")
    return s
endfunction

function FHO takes player p returns nothing
    local integer EUI
    local integer F0I
    if (isPlayerSentinel(p) == true) then
        set EUI = 1
        set F0I = 5
        loop
            exitwhen EUI > F0I
            if (sentinelPlayers[EUI] != p) then
                if (isPlayerAlive(sentinelPlayers[EUI]) == true) then
                    call SetPlayerAllianceStateBJ(p, sentinelPlayers[EUI], 4)
                endif
            endif
            set EUI = EUI + 1
        endloop
    else 
        set EUI = 1
        set F0I = 5
        loop
            exitwhen EUI > F0I
            if (scourgePlayers[EUI] != p) then
                if (isPlayerAlive(scourgePlayers[EUI]) == true) then
                    call SetPlayerAllianceStateBJ(p, scourgePlayers[EUI], 4)
                endif
            endif
            set EUI = EUI + 1
        endloop
    endif
endfunction

function FZO takes nothing returns nothing
    if GetOwningPlayer(GetEnumUnit()) == JM then
        call SetUnitOwner(GetEnumUnit(), KM, true)
    elseif GetOwningPlayer(GetEnumUnit()) == KM then
        call SetUnitOwner(GetEnumUnit(), JM, true)
    endif
endfunction

function FVO takes unit u, player p returns nothing
    local real x1
    local real y1
    local real x2
    local real y2
    local integer i
    local item J6I
    if isPlayerSentinel(p) then
        set x1 = GetRectCenterX(R3)
        set y1 = GetRectCenterY(R3)
        set x2 = GetRectCenterX(B4)
        set y2 = GetRectCenterY(B4)
    else 
        set x1 = GetRectCenterX(B4)
        set y1 = GetRectCenterY(B4)
        set x2 = GetRectCenterX(R3)
        set y2 = GetRectCenterY(R3)
    endif
    call SetUnitX(u, x1)
    call SetUnitY(u, y1)
    if GII(u) then
        call IssueImmediateOrder(u, "creepanimatedead")
    endif
    if IsUnitType(u, UNIT_TYPE_HERO) == true then
        call SaveBoolean(hashTable, GetHandleId(u), 140, true)
        call SaveInteger(hashTable, GetHandleId(u), 4259, 2)
        call UnitRemoveAbility(u, 'A04R')
        call SetUnitInvulnerable(u, false)
        call PauseUnit(u, false)
        set i = 0
        loop
            exitwhen i > 5
            set J6I = UnitItemInSlot(u, i)
            if GetUnitTypeId(u) != 'H00J' and J6I != null and (GetItemPlayer(J6I) != GetOwningPlayer(u) and JTI(J6I) != ZN0 and JTI(J6I) != ZS0) and GetItemTypeId(J6I) != itemId[itemIdAegisOfImmortal] then
                call UnitRemoveItem(u, J6I)
            endif
            set i = i + 1
        endloop
    endif
    call SetUnitX(u, x2)
    call SetUnitY(u, y2)
    call SetUnitColor(u, GetPlayerColor(p))
    set J6I = null
endfunction

function FWO takes nothing returns boolean 
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true or GII(GetFilterUnit()) then
        call FVO(GetFilterUnit(), RM)
    elseif GetUnitTypeId(GetFilterUnit()) == 'ncop' then
        call IssueImmediateOrder(GetFilterUnit(), "creepanimatedead")
    elseif GetUnitTypeId(GetFilterUnit()) == 'u00B' then
        return true
    endif
    return false
endfunction

function FXO takes item i, player p returns nothing
    local real x
    local real y
    if isPlayerSentinel(p) then
        set x = GetRectCenterX(B4)
        set y = GetRectCenterY(B4)
    else 
        set x = GetRectCenterX(R3)
        set y = GetRectCenterY(R3)
    endif
    call SetItemPosition(i, x, y)
endfunction

function FYO takes nothing returns nothing
    if GetItemPlayer(GetEnumItem()) == RM then
        call FXO(GetEnumItem(), RM)
    endif
endfunction

function FJO takes player p1, player p2 returns nothing
    local group g1 = allocGroup()
    local group g2 = allocGroup()
    set RM = p1
    call GroupEnumUnitsOfPlayer(g1, p1, Condition(function FWO))
    set RM = p2
    call GroupEnumUnitsOfPlayer(g2, p2, Condition(function FWO))
    call ForGroup(g1, function FZO)
    call ForGroup(g2, function FZO)
    set RM = p1
    call EnumItemsInRect(GetWorldBounds(), Condition(function returnTrue), function FYO)
    set RM = p2
    call EnumItemsInRect(GetWorldBounds(), Condition(function returnTrue), function FYO)
    call releaseGroup(g1)
    call releaseGroup(g2)
    set g1 = null
    set g2 = null
endfunction

function FKO takes player p1, player p2 returns nothing
    local integer x
    local integer y
    local integer i
    local integer i1
    local integer i2
    local real x1
    local real y1
    local real x2
    local real y2
    local player p
    local string FEO = playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r"
    local string FFO = playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r"
    if isPlayerSentinel(p1) then
        set x1 = GetRectCenterX(R3)
        set y1 = GetRectCenterY(R3)
    else 
        set x1 = GetRectCenterX(B4)
        set y1 = GetRectCenterY(B4)
    endif
    if isPlayerSentinel(p2) then
        set x2 = GetRectCenterX(R3)
        set y2 = GetRectCenterY(R3)
    else 
        set x2 = GetRectCenterX(B4)
        set y2 = GetRectCenterY(B4)
    endif
    set i = 1
    loop
        exitwhen i > 5
        if sentinelPlayers[i] == p1 or scourgePlayers[i] == p1 then
            set i1 = i
        endif
        if sentinelPlayers[i] == p2 or scourgePlayers[i] == p2 then
            set i2 = i
        endif
        set i = i + 1
    endloop
    if isPlayerSentinel(p1) then
        set scourgePlayers[i2] = p1
        set sentinelPlayers[i1] = p2
    else 
        set sentinelPlayers[i2] = p1
        set scourgePlayers[i1] = p2
    endif
    call SetPlayerTeam(sentinelPlayers[0], 0)
    call SetPlayerTeam(sentinelPlayers[1], 0)
    call SetPlayerTeam(sentinelPlayers[2], 0)
    call SetPlayerTeam(sentinelPlayers[3], 0)
    call SetPlayerTeam(sentinelPlayers[4], 0)
    call SetPlayerTeam(sentinelPlayers[5], 0)
    call SetPlayerTeam(scourgePlayers[0], 1)
    call SetPlayerTeam(scourgePlayers[1], 1)
    call SetPlayerTeam(scourgePlayers[2], 1)
    call SetPlayerTeam(scourgePlayers[3], 1)
    call SetPlayerTeam(scourgePlayers[4], 1)
    call SetPlayerTeam(scourgePlayers[5], 1)
    call MYI()
    set x = 0
    set y = 0
    loop
        exitwhen x > 5
        loop
            exitwhen y > 5
            call SetPlayerAllianceStateBJ(sentinelPlayers[x], sentinelPlayers[y], 3)
            call SetPlayerAllianceStateBJ(scourgePlayers[x], scourgePlayers[y], 3)
            call SetPlayerAllianceStateBJ(sentinelPlayers[x], scourgePlayers[y], 0)
            call SetPlayerAllianceStateBJ(scourgePlayers[x], sentinelPlayers[y], 0)
            set y = y + 1
        endloop
        set y = 0
        set x = x + 1
    endloop
    call ForceClear(AO)
    call ForceClear(BO)
    call ForceAddPlayer(AO, sentinelPlayers[0])
    call ForceAddPlayer(AO, sentinelPlayers[1])
    call ForceAddPlayer(AO, sentinelPlayers[2])
    call ForceAddPlayer(AO, sentinelPlayers[3])
    call ForceAddPlayer(AO, sentinelPlayers[4])
    call ForceAddPlayer(AO, sentinelPlayers[5])
    call ForceAddPlayer(BO, scourgePlayers[0])
    call ForceAddPlayer(BO, scourgePlayers[1])
    call ForceAddPlayer(BO, scourgePlayers[2])
    call ForceAddPlayer(BO, scourgePlayers[3])
    call ForceAddPlayer(BO, scourgePlayers[4])
    call ForceAddPlayer(BO, scourgePlayers[5])
    call ExecuteFunc("MJI")
    call FJO(p1, p2)
    set UM = true
    call PanCameraToTimedForPlayer(p1, x1, y1, 0)
    call PanCameraToTimedForPlayer(p2, x2, y2, 0)
    call MXI()
    set YM = false
    if QM != null then
        call TriggerEvaluate(QM)
    endif
    if GetPlayerSlotState(p2) == PLAYER_SLOT_STATE_EMPTY then
        set playerName[GetPlayerId(p2)] = GetPlayerName(p2)
    endif
    set i = 1
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        if EKI(p) then
            call FHO(p)
        endif
        set p = scourgePlayers[i]
        if EKI(p) then
            call FHO(p)
        endif
        set i = i + 1
    endloop
    call FBO()
    call SB1()
    call ClearTextMessages()
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, " ")
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, FDO(FEO, FFO))
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, " ")
    call LNI(p1)
    call LNI(p2)
endfunction

function FLO takes nothing returns nothing
    local integer i = 1
    local player p
    set IN = 0
    set ON = 0
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        if isPlayerAlive(p) then
            set ON = ON + 1
            if SM[GetPlayerId(p)] == true then
                set IN = IN + 1
            endif
        endif
        set p = scourgePlayers[i]
        if isPlayerAlive(p) then
            set ON = ON + 1
            if SM[GetPlayerId(p)] == true then
                set IN = IN + 1
            endif
        endif
        set i = i + 1
    endloop
endfunction

function FMO takes nothing returns nothing
    set YM = false
    if QM != null then
        call TriggerEvaluate(QM)
    endif
    call ClearTextMessages()
    call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, F9O(GetTriggerPlayer()))
endfunction

function FNO takes nothing returns nothing
    local integer i = 1
    local player p
    local integer FSO = 0
    local integer FTO = 0
    local integer FRO = 0
    if SM[GetPlayerId(GetTriggerPlayer())] == false then
        set SM[GetPlayerId(GetTriggerPlayer())] = true
        call FLO()
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, playerColor[GetPlayerId(GetTriggerPlayer())] + playerName[GetPlayerId(GetTriggerPlayer())] + "|r|c006699CC " + GetObjectName('n0FT') + "|r (" + I2S(IN) + "/" + I2S(ON) + ")")
    endif
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        if isPlayerAlive(p) and SM[GetPlayerId(p)] == false then
            set FSO = FSO + 1
            set FRO = FRO + 1
        endif
        if isPlayerAlive(p) and SM[GetPlayerId(p)] == true then
            set FTO = FTO + 1
            set FRO = FRO + 1
        endif
        set p = scourgePlayers[i]
        if isPlayerAlive(p) and SM[GetPlayerId(p)] == false then
            set FSO = FSO + 1
            set FRO = FRO + 1
        endif
        if isPlayerAlive(p) and SM[GetPlayerId(p)] == true then
            set FTO = FTO + 1
            set FRO = FRO + 1
        endif
        set i = i + 1
    endloop
    if FSO < 2 and FTO >= R2I(FRO/2) then
        if (FRO == 2 and FTO > 1) or FRO != 2 then
            call FKO(JM, KM)
        endif
    endif
endfunction

function FPO takes nothing returns nothing
    local integer i = 1
    local player p = GetTriggerPlayer()
    local player FQO
    local string s
    local string s2
    loop
        exitwhen i > 5
        set s = ""
        set s2 = ""
        if isPlayerSentinel(p) then
            set FQO = scourgePlayers[i]
        else 
            set FQO = sentinelPlayers[i]
        endif
        if GetPlayerSlotState(FQO) == PLAYER_SLOT_STATE_LEFT and GetPlayerController(FQO) == MAP_CONTROL_USER then
            set s = "|c00ff0303[" + GetObjectName('n0FY') + "]|r"
        endif
        if playerHero[GetPlayerId(FQO)] != null then
            set s2 = " (" + GetUnitName(playerHero[GetPlayerId(FQO)]) + ")"
        endif
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 15, GetObjectName('n083') + "|c006699CC " + "-switch " + I2S(i) + "|r " + GetObjectName('n0FQ') + " " + playerColor[GetPlayerId(FQO)] + playerName[GetPlayerId(FQO)] + s2 + "|r " + s)
        set i = i + 1
    endloop
endfunction

function FUO takes nothing returns boolean 
    local integer i = 0
    if YM then
        call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, "|c00ff0303" + GetObjectName('n0FU') + "|r")
    endif
    set MP0 = true
    set YM = false
    set JM = null
    set KM = null
    loop
        exitwhen i > 16
        set SM[i] = false
        set i = i + 1
    endloop
    call abandonTrigger(GetTriggeringTrigger())
    set QM = null
    return false
endfunction

function G0O takes player p1, player p2 returns nothing
    local trigger t = CreateTrigger()
    local integer i = 0
    local string s
    local string TO1
    local string msg2
    local string msg3
    local player p
    local string s2
    set MP0 = false
    set YM = true
    set JM = p1
    set KM = p2
    loop
        exitwhen i > 16
        set SM[i] = false
        set i = i + 1
    endloop
    set SM[GetPlayerId(JM)] = true
    call TriggerRegisterTimerEvent(t, 60, false)
    call TriggerAddCondition(t, Condition(function FUO))
    set QM = t
    set s = FCO(p1, p2)
    set s2 = FAO()
    set i = 1
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        if p != p1 then
            call DisplayTimedTextToPlayer(p, 0, 0, 20, s)
            call DisplayTimedTextToPlayer(p, 0, 0, 20, s2)
        endif
        set p = scourgePlayers[i]
        if p != p1 then
            call DisplayTimedTextToPlayer(p, 0, 0, 20, s)
            call DisplayTimedTextToPlayer(p, 0, 0, 20, s2)
        endif
        set i = i + 1
    endloop
    set s = FGO(p2)
    call DisplayTimedTextToPlayer(p1, 0, 0, 20, s)
    set t = null
endfunction

function CVO takes nothing returns nothing
    if YL == false then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0GX'))
        return
    endif
    if E2 and GetEventPlayerChatString() != "-ok" and GetEventPlayerChatString() != "-switch accept" and GetEventPlayerChatString() != "-no" then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0G0'))
        return
    endif
    if GetEventPlayerChatString() == "-switch accept" or GetEventPlayerChatString() == "-ok" then
        if YM then
            call FNO()
        endif
    elseif GetEventPlayerChatString() == "-no" then
        if YM then
            call FMO()
        endif
    elseif GetEventPlayerChatString() == "-switch" then
        if YM == false then
            call FPO()
        endif
    elseif YM == false then
        set TM = S2I( SubString(GetEventPlayerChatString(), 8, StringLength(GetEventPlayerChatString())) )
        if TM > 0 and TM < 6 then
            if isPlayerSentinel(GetTriggerPlayer()) then
                if MR0[GetPlayerId(scourgePlayers[TM])] == false then
                    call G0O(GetTriggerPlayer(), scourgePlayers[TM])
                else 
                    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0HY'))
                endif
            else 
                if MR0[GetPlayerId(sentinelPlayers[TM])] == false then
                    call G0O(GetTriggerPlayer(), sentinelPlayers[TM])
                else 
                    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0HY'))
                endif
            endif
        endif
    endif
endfunction

function Command_NoSwitch takes nothing returns nothing
    if B0 == false and YL and GetTriggerPlayer() == firstPlayerAlive then
        set YL = false
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, GetObjectName('n0GX'))
    endif
endfunction

function CXO takes nothing returns nothing
    if NV0[GetPlayerId(GetTriggerPlayer())] == false then
        set NV0[GetPlayerId(GetTriggerPlayer())] = true
        if GetObjectName('n0HH') == "Language: English" then
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, "You have activated the -tips system.")
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, "Please remember that these are just introductory recommendations and are not the only way to play heroes.")
        endif
        if playerHero[GetPlayerId(GetTriggerPlayer())] != null then
            call LYI(GetTriggerPlayer(), GetUnitPointValue(playerHero[GetPlayerId(GetTriggerPlayer())]))
        endif
    endif
endfunction

function G1O takes integer GOO, integer G2O returns integer 
    if G2O == 0 then
        return GOO
    elseif G2O == 1 then
        if GOO == 'Cdrt' then
            return 'Cdrt'
        endif
        if GOO == 'Cdrd' then
            return 'Idki'
        endif
        if GOO == 'Cvin' then
            return 'Isnw'
        endif
        if GOO == 'Cgrs' then
            return 'Isnw'
        endif
        if GOO == 'Clvg' then
            return 'Isnw'
        endif
        if GOO == 'Zvin' then
            return 'Idki'
        endif
        if GOO == 'Zbks' then
            return 'Ibsq'
        endif
        if GOO == 'Ndrd' then
            return 'Ibsq'
        endif
    elseif G2O == 2 then
        if GOO == 'Cdrt' then
            return 'Cdrt'
        endif
        if GOO == 'Cdrd' then
            return 'Yblm'
        endif
        if GOO == 'Cvin' then
            return 'Ybtl'
        endif
        if GOO == 'Cgrs' then
            return 'Cgrs'
        endif
        if GOO == 'Clvg' then
            return 'Clvg'
        endif
        if GOO == 'Zvin' then
            return 'Yrtl'
        endif
        if GOO == 'Zbks' then
            return 'Ywmb'
        endif
        if GOO == 'Ndrd' then
            return 'Jbtl'
        endif
    elseif G2O == 3 then
        if GOO == 'Cdrt' then
            return 'Cdrt'
        endif
        if GOO == 'Cdrd' then
            return 'Yblm'
        endif
        if GOO == 'Cvin' then
            return 'Ybtl'
        endif
        if GOO == 'Cgrs' then
            return 'Yrtl'
        endif
        if GOO == 'Clvg' then
            return 'Clvg'
        endif
        if GOO == 'Zvin' then
            return 'Yrtl'
        endif
        if GOO == 'Zbks' then
            return 'Ybtl'
        endif
        if GOO == 'Ndrd' then
            return 'Jbtl'
        endif
    elseif G2O == 4 then
        if GOO == 'Cdrt' then
            return 'Cdrt'
        endif
        if GOO == 'Cdrd' then
            return 'Crck'
        endif
        if GOO == 'Cvin' then
            return 'Avin'
        endif
        if GOO == 'Cgrs' then
            return 'Agrd'
        endif
        if GOO == 'Clvg' then
            return 'Alvd'
        endif
        if GOO == 'Zvin' then
            return 'Agrd'
        endif
        if GOO == 'Zbks' then
            return 'Crck'
        endif
        if GOO == 'Ndrd' then
            return 'Cvin'
        endif
    elseif G2O == 5 then
        if GOO == 'Cdrt' then
            return 'Cdrt'
        endif
        if GOO == 'Cdrd' then
            return 'Qdrr'
        endif
        if GOO == 'Cvin' then
            return 'Qcbp'
        endif
        if GOO == 'Cgrs' then
            return 'Qgrt'
        endif
        if GOO == 'Clvg' then
            return 'Qgrs'
        endif
        if GOO == 'Zvin' then
            return 'Qgrt'
        endif
        if GOO == 'Zbks' then
            return 'Qcbp'
        endif
        if GOO == 'Ndrd' then
            return 'Qstp'
        endif
    elseif G2O == 6 then
        if GOO == 'Cdrt' then
            return 'Cdrt'
        endif
        if GOO == 'Cdrd' then
            return 'Dbrk'
        endif
        if GOO == 'Cvin' then
            return 'Dgrs'
        endif
        if GOO == 'Cgrs' then
            return 'Odrt'
        endif
        if GOO == 'Clvg' then
            return 'Ofst'
        endif
        if GOO == 'Zvin' then
            return 'Drds'
        endif
        if GOO == 'Zbks' then
            return 'Dsqd'
        endif
        if GOO == 'Ndrd' then
            return 'Osmb'
        endif
    elseif G2O == 7 then
        if GOO == 'Cdrt' then
            return 'Cdrt'
        endif
        if GOO == 'Cdrd' then
            return 'Gbrk'
        endif
        if GOO == 'Cvin' then
            return 'Glvc'
        endif
        if GOO == 'Cgrs' then
            return 'Gdrt'
        endif
        if GOO == 'Clvg' then
            return 'Gdkr'
        endif
        if GOO == 'Zvin' then
            return 'Grds'
        endif
        if GOO == 'Zbks' then
            return 'Gsqd'
        endif
        if GOO == 'Ndrd' then
            return 'Ggrs'
        endif
    endif
    return 0
endfunction

function G3O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real G4O = LoadReal(hashTable, DMI, 149)
    local real G5O = LoadReal(hashTable, DMI, 150)
    local real G6O = LoadReal(hashTable, DMI, 151)
    local real G7O = 128
    local real x
    local real y
    local integer G8O = LoadInteger(hashTable, DMI, 152)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local integer G9O = LoadInteger(hashTable, DMI, 153)
    loop
        exitwhen G4O > G6O
        loop
            exitwhen G5O > 8192
            if GetLocalPlayer() == p then
                set G9O = G9O + 1
                set x = G4O
                set y = G5O
                call SetTerrainType(x, y, G1O(ML[G9O], G8O), PL[G9O], 1, 0)
                set x = -G4O
                set y = G5O
                call SetTerrainType(x, y, G1O(SL[G9O], G8O), QL[G9O], 1, 0)
                set x = -G4O
                set y = -G5O
                call SetTerrainType(x, y, G1O(TL[G9O], G8O), UL[G9O], 1, 0)
                set x = G4O
                set y = -G5O
                call SetTerrainType(x, y, G1O(RL[G9O], G8O), IM[G9O], 1, 0)
            endif
            set G5O = G5O + G7O
        endloop
        set G5O = 0
        set G4O = G4O + G7O
    endloop
    set G6O = G6O + 256
    call SaveReal(hashTable, DMI, 149, (G4O*1.0))
    call SaveReal(hashTable, DMI, 150, (G5O*1.0))
    call SaveInteger(hashTable, DMI, 153, G9O)
    call SaveReal(hashTable, DMI, 151, (G6O*1.0))
    if G6O > 8192 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    return false
endfunction

function GAO takes nothing returns nothing
    if GetTriggerPlayer() == GetLocalPlayer() and (GetDestructableTypeId(GetEnumDestructable()) == 'ATtr' or GetDestructableTypeId(GetEnumDestructable()) == 'B002') then
        call SetDestructableAnimation(GetEnumDestructable(), "stand alternate")
    endif
endfunction

function GBO takes nothing returns nothing
    if GetTriggerPlayer() == GetLocalPlayer() and (GetDestructableTypeId(GetEnumDestructable()) == 'ATtr' or GetDestructableTypeId(GetEnumDestructable()) == 'B002') then
        call SetDestructableAnimation(GetEnumDestructable(), "stand")
    endif
endfunction

function GCO takes integer G8O returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    if G8O == 1 then
        call EnumDestructablesInRectAll(GetWorldBounds(), function GAO)
    else 
        call EnumDestructablesInRectAll(GetWorldBounds(), function GBO)
    endif
    set AM[GetPlayerId(GetTriggerPlayer())] = G8O
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function G3O))
    call SaveInteger(hashTable, DMI, 152, G8O)
    call SaveReal(hashTable, DMI, 149, (0*1.0))
    call SaveReal(hashTable, DMI, 150, (0*1.0))
    call SaveReal(hashTable, DMI, 151, (160*1.0))
    call SavePlayerHandle(hashTable, DMI, 54, GetTriggerPlayer())
    set t = null
endfunction

function Command_Terrain takes nothing returns nothing
    if KL[GetPlayerId(GetTriggerPlayer())] == false then
        set JL[GetPlayerId(GetTriggerPlayer())] = JL[GetPlayerId(GetTriggerPlayer())] + 1
        if JL[GetPlayerId(GetTriggerPlayer())] < 9 then
            if GetEventPlayerChatString() == "-terrain" or GetEventPlayerChatString() == "-terrain default" then
                call GCO(0)
            elseif GetEventPlayerChatString() == "-terrain snow" then
                call GCO(1)
            elseif GetEventPlayerChatString() == "-terrain city1" then
                call GCO(2)
            elseif GetEventPlayerChatString() == "-terrain city2" then
                call GCO(3)
            elseif GetEventPlayerChatString() == "-terrain jungle" then
                call GCO(4)
            elseif GetEventPlayerChatString() == "-terrain highlands" then
                call GCO(5)
            elseif GetEventPlayerChatString() == "-terrain reddungeon" then
                call GCO(6)
            elseif GetEventPlayerChatString() == "-terrain bluedungeon" then
                call GCO(7)
            endif
        else 
            call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, 0, 10, GetObjectName('n0GL'))
        endif
    endif
endfunction

function GDO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real G4O = LoadReal(hashTable, DMI, 149)
    local real G5O = LoadReal(hashTable, DMI, 150)
    local real G6O = LoadReal(hashTable, DMI, 151)
    local real G7O = 128
    local real x
    local real y
    loop
        exitwhen G4O > G6O
        loop
            exitwhen G5O > 8192
            set LL = LL + 1
            set x = G4O
            set y = G5O
            if IsPointBlighted(x, y) == false then
                set ML[LL] = GetTerrainType(x, y)
                set PL[LL] = GetTerrainVariance(x, y)
            endif
            set x = -G4O
            set y = G5O
            if IsPointBlighted(x, y) == false then
                set SL[LL] = GetTerrainType(x, y)
                set QL[LL] = GetTerrainVariance(x, y)
            endif
            set x = -G4O
            set y = -G5O
            if IsPointBlighted(x, y) == false then
                set TL[LL] = GetTerrainType(x, y)
                set UL[LL] = GetTerrainVariance(x, y)
            endif
            set x = G4O
            set y = -G5O
            if IsPointBlighted(x, y) == false then
                set RL[LL] = GetTerrainType(x, y)
                set IM[LL] = GetTerrainVariance(x, y)
            endif
            set G5O = G5O + G7O
        endloop
        set G5O = 0
        set G4O = G4O + G7O
    endloop
    set G6O = G6O + 256
    call SaveReal(hashTable, DMI, 149, (G4O*1.0))
    call SaveReal(hashTable, DMI, 150, (G5O*1.0))
    call SaveReal(hashTable, DMI, 151, (G6O*1.0))
    if G6O > 8192 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    return false
endfunction

function GFO takes nothing returns nothing
    local trigger t
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerAddCondition(t, Condition(function QI1))
    set IL = CreateTimer()
    call TimerStart(IL, AL + 1, false, null)
    set t = null
endfunction

function GGO takes string CTO returns boolean 
    if CTO == "-ma" or CTO == "-ms" or CTO == "-cs" or CTO == "-cson" or CTO == "-disablehelp" or CTO == "-enablehelp" or CTO == "-unstuck" or CTO == "-recreate" then
        return true
    elseif CTO == "-swaphero" or CTO == "-showmsg" or CTO == "-hidemsg" or CTO == "-showdeny" or CTO == "-hidedeny" or CTO == "-weather rain" or CTO == "-weather snow" or CTO == "-weather moonlight" or CTO == "-weather wind" or CTO == "-weather random" or CTO == "-weather off" or CTO == "-denyinfo" or CTO == "-di" or CTO == "-deathon" or CTO == "-don" or CTO == "-deathoff" or CTO == "-doff" or CTO == "-roll" or CTO == "-hideheronames" or CTO == "-hhn" or CTO == "-test" or CTO == "-mute" or CTO == "-wtf" or CTO == "-fleshstr" or CTO == "-fs" or CTO == "-switchon" then
        return true
    endif
    return false
endfunction

function GHO takes nothing returns boolean 
    return not B0
endfunction

function modeStringAppend takes string GVO returns nothing
    if modeString == "" then
        set modeString = "|c006699CC" + GVO + "|r"
    else 
        set modeString = modeString + "/|c006699CC" + GVO + "|r"
    endif
endfunction

function GWO takes string GXO, integer GYO, integer GJO returns string 
    return SubString(GXO, 0, GYO) + SubString(GXO, GJO, StringLength(GXO))
endfunction

function GKO takes string GXO returns string 
    local integer L7I = StringLength(GXO)
    local string GLO
    local string UB1 = ""
    local integer i = 0
    loop
        exitwhen (i == L7I)
        set GLO = StringCase(SubString(GXO, i, i + 1), false)
        if not (GLO == StringCase(GLO, true)) then
            set UB1 = UB1 + GLO
        endif
        set i = i + 1
    endloop
    return UB1
endfunction

function GMO takes string GNO, integer G8O returns nothing
    local string A7O = GKO(GNO)
    local string array modes
    local string array modesAbbr
    local string array GameModeString
    local boolean array GRO
    local integer GPO
    local integer L7I = StringLength(A7O)
    local integer x = 0
    local integer y = 0
    local integer z = 0
    local boolean AP
    local boolean AR
    local boolean LM
    local boolean MM
    local boolean TR
    local boolean DM
    local boolean MR
    local boolean SP
    local boolean AA
    local boolean AI
    local boolean AS
    local boolean ID
    local boolean NP
    local boolean SC
    local boolean EM
    local boolean DU
    local boolean SH
    local boolean VR
    local boolean RV
    local boolean RD
    local boolean OM
    local boolean NT
    local boolean NB
    local boolean NM
    local boolean NS
    local boolean SO
    local boolean NR
    local boolean XL
    local boolean SD
    local boolean PM
    local boolean OI
    local boolean MI
    local boolean CM
    local boolean FR
    local boolean MO
    local boolean RO
    local boolean ER
    local boolean CD
    local boolean RS
    local boolean CP
    local boolean ZM
    set modes[1] = "allpick"
    set modesAbbr[1] = "ap"
    set modes[2] = "allrandom"
    set modesAbbr[2] = "ar"
    set modes[3] = "leaguemode"
    set modesAbbr[3] = "lm"
    set modes[4] = "mirrormatch"
    set modesAbbr[4] = "mm"
    set modes[5] = "teamrandom"
    set modesAbbr[5] = "tr"
    set modes[6] = "deathmatch"
    set modesAbbr[6] = "dm"
    set modes[7] = "moderandom"
    set modesAbbr[7] = "mr"
    set modes[8] = "shuffleplayers"
    set modesAbbr[8] = "sp"
    set modes[9] = "allagility"
    set modesAbbr[9] = "aa"
    set modes[10] = "allintelligence"
    set modesAbbr[10] = "ai"
    set modes[11] = "allstrength"
    set modesAbbr[11] = "as"
    set modes[12] = "itemdrop"
    set modesAbbr[12] = "id"
    set modes[13] = "nopowerups"
    set modesAbbr[13] = "np"
    set modes[14] = "supercreeps"
    set modesAbbr[14] = "sc"
    set modes[15] = "easymode"
    set modesAbbr[15] = "em"
    set modes[16] = "duplicatemode"
    set modesAbbr[16] = "du"
    set modes[17] = "samehero"
    set modesAbbr[17] = "sh"
    set modes[18] = "voterandom"
    set modesAbbr[18] = "vr"
    set modes[19] = "reverse"
    set modesAbbr[19] = "rv"
    set modes[20] = "randomdraft"
    set modesAbbr[20] = "rd"
    set modes[21] = "onlymid"
    set modesAbbr[21] = "om"
    set modes[22] = "extendedleague"
    set modesAbbr[22] = "xl"
    set modes[23] = "nomid"
    set modesAbbr[23] = "nm"
    set modes[24] = "notop"
    set modesAbbr[24] = "nt"
    set modes[25] = "nobot"
    set modesAbbr[25] = "nb"
    set modes[26] = "noswap"
    set modesAbbr[26] = "ns"
    set modes[27] = "norepick"
    set modesAbbr[27] = "nr"
    set modes[28] = "captainsdraft"
    set modesAbbr[28] = "cd"
    set modes[29] = "singledraft"
    set modesAbbr[29] = "sd"
    set modes[30] = "poolingmode"
    set modesAbbr[30] = "pm"
    set modes[31] = "observerinfo"
    set modesAbbr[31] = "oi"
    set modes[32] = "miniheroes"
    set modesAbbr[32] = "mi"
    set modes[33] = "captainsmode"
    set modesAbbr[33] = "cm"
    set modes[34] = "fastrespawn"
    set modesAbbr[34] = "fr"
    set modes[35] = "meleeonly"
    set modesAbbr[35] = "mo"
    set modes[36] = "rangeonly"
    set modesAbbr[36] = "ro"
    set modes[37] = "experimentalrunes"
    set modesAbbr[37] = "er"
    set modes[38] = "randomside"
    set modesAbbr[38] = "rs"
    set modes[39] = "switchon"
    set modesAbbr[39] = "so"
    set modes[40] = "zoommode"
    set modesAbbr[40] = "zm"
    set modes[41] = "capturepoint"
    set modesAbbr[41] = "cp"
    set GPO = 41
    set x = -1
    loop
        exitwhen x == L7I - 1
        set x = x + 1
        set y = x
        loop
            exitwhen y == L7I
            set y = y + 1
            set z = 1
            loop
                exitwhen z > GPO
                if modes[z] == SubString(A7O, x, y) then
                    set GRO[z] = true
                    set z = GPO + 1
                    set A7O = GWO(A7O, x, y)
                    set x = -1
                    set L7I = StringLength(A7O)
                    set y = L7I
                else 
                    set z = z + 1
                endif
            endloop
        endloop
    endloop
    set x = -1
    loop
        exitwhen x == L7I - 1
        set x = x + 1
        set y = x
        loop
            exitwhen y == L7I
            set y = y + 1
            set z = 1
            loop
                exitwhen z > GPO
                if modesAbbr[z] == SubString(A7O, x, y) then
                    set GRO[z] = true
                    set z = GPO + 1
                    set A7O = GWO(A7O, x, y)
                    set x = -1
                    set L7I = StringLength(A7O)
                    set y = L7I
                else 
                    set z = z + 1
                endif
            endloop
        endloop
    endloop
    set AP = GRO[1]
    set AR = GRO[2]
    set LM = GRO[3]
    set MM = GRO[4]
    set TR = GRO[5]
    set DM = GRO[6]
    set MR = GRO[7]
    set SP = GRO[8]
    set AA = GRO[9]
    set AI = GRO[10]
    set AS = GRO[11]
    set ID = GRO[12]
    set NP = GRO[13]
    set SC = GRO[14]
    set EM = GRO[15]
    set DU = GRO[16]
    set SH = GRO[17]
    set VR = GRO[18]
    set RV = GRO[19]
    set RD = GRO[20]
    set OM = GRO[21]
    set XL = GRO[22]
    set NM = GRO[23]
    set NT = GRO[24]
    set NB = GRO[25]
    set NS = GRO[26]
    set NR = GRO[27]
    set CD = GRO[28]
    set SD = GRO[29]
    set PM = GRO[30]
    set OI = GRO[31]
    set MI = GRO[32]
    set CM = GRO[33]
    set FR = GRO[34]
    set MO = GRO[35]
    set RO = GRO[36]
    set ER = GRO[37]
    set RS = GRO[38]
    set SO = GRO[39]
    set ZM = GRO[40]
    set CP = GRO[41]
    if A7O != "" or GGO(GNO) then
        return
    endif
    if (AR and (CM or AP or TR or LM or MR or RV or RD or CD or SD)) or (AP and (TR or MR)) or (TR and (LM or MR)) or (LM and MR) or (MM and SH) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if (AA and (AI or AS or DM)) or (AS and (AI or DM)) or (AI and DM) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if (RO and (MO or DM)) or (MO and DM) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if RV and (CM or AR or TR or MR or LM or DM or SH) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if (DM and (CM or TR or LM or MR or SH or RV or RD or CD or SD)) or (MM and DM) or (SH and DM) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02T'))
        return
    endif
    if LM and (CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or XL or MO or RO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n031'))
        return
    endif
    if XL and (CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or RO or MO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n032'))
        return
    endif
    if CM and (SP or XL or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or MO or RO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n032'))
        return
    endif
    if RD and (CD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if CD and (RD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if MR and (CM or AP or LM or AR or SD or MM or TR or DM or AA or AI or AS or SH or RV or RO or MO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if SD and (CM or AP or LM or AR or RD or CD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if VR and (CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02U'))
        return
    endif
    if MM and EMI(AO) != EMI(BO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n034'))
        return
    endif
    if VR and EMI(AO) != EMI(BO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n034'))
        return
    endif
    if RV and EMI(AO) != EMI(BO) then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n034'))
        return
    endif
    if LM and not (isPlayerAlive(sentinelPlayers[1]) and isPlayerAlive(sentinelPlayers[2]) and isPlayerAlive(sentinelPlayers[3]) and isPlayerAlive(sentinelPlayers[4]) and isPlayerAlive(sentinelPlayers[5]) and isPlayerAlive(scourgePlayers[1]) and isPlayerAlive(scourgePlayers[2]) and isPlayerAlive(scourgePlayers[3]) and isPlayerAlive(scourgePlayers[4]) and isPlayerAlive(scourgePlayers[5])) then
    endif
    if XL and not (isPlayerAlive(sentinelPlayers[1]) and isPlayerAlive(sentinelPlayers[2]) and isPlayerAlive(sentinelPlayers[3]) and isPlayerAlive(sentinelPlayers[4]) and isPlayerAlive(sentinelPlayers[5]) and isPlayerAlive(scourgePlayers[1]) and isPlayerAlive(scourgePlayers[2]) and isPlayerAlive(scourgePlayers[3]) and isPlayerAlive(scourgePlayers[4]) and isPlayerAlive(scourgePlayers[5])) then
    endif
    if ZM or CP or FR or CM or AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or ID or NP or SC or DU or EM or SH or VR or RV or RD or CD or OM or NB or NM or NT or NS or NR or XL or SD or PM or OI or MI or MO or RO or ER or RS or SO then
        call DisableTrigger(NJ0)
    else 
        return
    endif
    if CM == false then
        call SB1()
        call RX1()
    endif
    if LM == false and XL == false then
        call E6O()
    endif
    set DL = GKO(GNO)
    if NY0 then
        call L1I("Mode" + DL, 0)
    else 
        call L1I("Mode" + DL, GetPlayerId(firstPlayerAlive))
    endif
    set defaultMode = false
    if LM then
        set F3 = GetObjectName('n0HZ')
    elseif XL then
        set F3 = GetObjectName('n0I8')
    elseif RD then
        set F3 = GetObjectName('n0IN')
    elseif CD then
        set F3 = GetObjectName('n0I9')
    elseif MM then
        set F3 = GetObjectName('n0IH')
    elseif DM then
        set F3 = GetObjectName('n0II')
    elseif RV then
        set F3 = GetObjectName('n0IC')
    elseif AP then
        set F3 = GetObjectName('n0ID')
    elseif AR then
        set F3 = GetObjectName('n0I7')
    elseif TR then
        set F3 = GetObjectName('n0I6')
    elseif MR then
        set F3 = GetObjectName('n0IJ')
    elseif VR then
        set F3 = GetObjectName('n0I5')
    elseif SD then
        set F3 = GetObjectName('n0I4')
    elseif CM then
        set F3 = GetObjectName('n0IG')
    endif
    if CM then
        call modeStringAppend(GetObjectName('n0IK'))
    endif
    if LM then
        call modeStringAppend(GetObjectName('n0I3'))
    endif
    if XL then
        call modeStringAppend(GetObjectName('n0I2'))
    endif
    if RD then
        call modeStringAppend(GetObjectName('n0IF'))
    endif
    if CD then
        call modeStringAppend(GetObjectName('n0I1'))
    endif
    if DM then
        call modeStringAppend(GetObjectName('n0IA'))
    endif
    if MM then
        call modeStringAppend(GetObjectName('n0I0'))
    endif
    if AP then
        call modeStringAppend(GetObjectName('n0IL'))
    endif
    if AR then
        call modeStringAppend(GetObjectName('n0IQ'))
    endif
    if VR then
        call modeStringAppend(GetObjectName('n0IM'))
    endif
    if MR then
        call modeStringAppend(GetObjectName('n0IE'))
    endif
    if TR then
        call modeStringAppend(GetObjectName('n0IB'))
    endif
    if SP then
        call modeStringAppend(GetObjectName('n0IO'))
    endif
    if AA then
        call modeStringAppend(GetObjectName('n0IU'))
    endif
    if AS then
        call modeStringAppend(GetObjectName('n0IP'))
    endif
    if AI then
        call modeStringAppend(GetObjectName('n0IS'))
    endif
    if RO then
        call modeStringAppend(GetObjectName('n0IT'))
    endif
    if MO then
        call modeStringAppend(GetObjectName('n032'))
    endif
    if DU then
        call modeStringAppend(GetObjectName('n0IX'))
    endif
    if ID then
        call modeStringAppend(GetObjectName('n0IZ'))
    endif
    if NP then
        call modeStringAppend(GetObjectName('n0J6'))
    endif
    if SC then
        call modeStringAppend(GetObjectName('n0J7'))
    endif
    if EM then
        call modeStringAppend(GetObjectName('n0J9'))
    endif
    if SH then
        call modeStringAppend(GetObjectName('n0JA'))
    endif
    if RV then
        call modeStringAppend(GetObjectName('n0IW'))
    endif
    if OM then
        call modeStringAppend(GetObjectName('n0IV'))
    endif
    if NM then
        call modeStringAppend(GetObjectName('n0IR'))
    endif
    if NB then
        call modeStringAppend(GetObjectName('n0JB'))
    endif
    if NT then
        call modeStringAppend(GetObjectName('n0J8'))
    endif
    if NS then
        call modeStringAppend(GetObjectName('n0JC'))
    endif
    if NR then
        call modeStringAppend(GetObjectName('n0JF'))
    endif
    if SD then
        call modeStringAppend(GetObjectName('n0J0'))
    endif
    if PM then
        call modeStringAppend(GetObjectName('n0IY'))
    endif
    if OI then
        call modeStringAppend(GetObjectName('n0J5'))
    endif
    if MI then
        call modeStringAppend(GetObjectName('n0J4'))
    endif
    if FR then
        call modeStringAppend(GetObjectName('n0JD'))
    endif
    if ER then
        call modeStringAppend(GetObjectName('n0JE'))
    endif
    if RS then
        call modeStringAppend(GetObjectName('n0J1'))
    endif
    if SO then
        call modeStringAppend(GetObjectName('n0J2'))
    endif
    if ZM then
        call modeStringAppend(GetObjectName('n0KA'))
    endif
    if CP then
        call modeStringAppend(GetObjectName('n0KC'))
    endif
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
    if G8O == 1 then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, playerColor[GetPlayerId(firstPlayerAlive)] + playerName[GetPlayerId(firstPlayerAlive)] + "|r" + " " + GetObjectName('n061') + " " + modeString)
    else 
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, GetObjectName('n0HN') + " " + modeString)
    endif
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, GetObjectName('n063') + " -gameinfo.")
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
    call executeFuncIfTrue("GQO", SP)
    call executeFuncIfTrue("GUO", RS)
    call executeFuncIfTrue("modeInitDeathMatch", DM)
    call executeFuncIfTrue("HIO", MM)
    call executeFuncIfTrue("H1O", SH)
    call executeFuncIfTrue("HOO", AA)
    call executeFuncIfTrue("H2O", AI)
    call executeFuncIfTrue("H3O", AS)
    call executeFuncIfTrue("H4O", RO)
    call executeFuncIfTrue("H5O", MO)
    call executeFuncIfTrue("H6O", DU)
    call executeFuncIfTrue("H7O", AR)
    call executeFuncIfTrue("H8O", VR)
    call executeFuncIfTrue("modeInitAllPick", AP)
    call executeFuncIfTrue("HAO", TR)
    call executeFuncIfTrue("HBO", RV)
    call executeFuncIfTrue("HCO", LM)
    call executeFuncIfTrue("HDO", XL)
    call executeFuncIfTrue("HEO", CM)
    call executeFuncIfTrue("modeInitRandomDraft", RD)
    call executeFuncIfTrue("HGO", SD)
    call executeFuncIfTrue("HHO", MR)
    call executeFuncIfTrue("modeInitItemDrop", ID)
    call executeFuncIfTrue("HVO", NP)
    call executeFuncIfTrue("HWO", SC)
    call executeFuncIfTrue("HXO", EM)
    call executeFuncIfTrue("HYO", OM)
    call executeFuncIfTrue("HJO", NB)
    call executeFuncIfTrue("HKO", NT)
    call executeFuncIfTrue("HLO", NM)
    call executeFuncIfTrue("HMO", SO)
    call executeFuncIfTrue("HNO", NS)
    call executeFuncIfTrue("HSO", NR)
    call executeFuncIfTrue("HTO", PM)
    call executeFuncIfTrue("HRO", OI)
    call executeFuncIfTrue("HPO", MI)
    call executeFuncIfTrue("HQO", FR)
    call executeFuncIfTrue("HUO", ER)
    call executeFuncIfTrue("Z0O", CD)
    call executeFuncIfTrue("ZIO", ZM)
    call executeFuncIfTrue("Z1O", CP)
    set OL = true
    call J9I(0, 0, false)
    if BN == false and AN == false then
        call GFO()
    endif
    call CE1()
    if SO == false then
        set MR0[0] = true
        set MR0[1] = true
        set MR0[2] = true
        set MR0[3] = true
        set MR0[4] = true
        set MR0[5] = true
        set MR0[6] = true
        set MR0[7] = true
        set MR0[8] = true
        set MR0[9] = true
        set MR0[10] = true
        set MR0[11] = true
        set MR0[12] = true
        set MR0[13] = true
        set MR0[14] = true
        set MR0[15] = true
        set MR0[16] = true
    endif
endfunction

function ZOO takes nothing returns nothing
    call GMO(GetEventPlayerChatString(), 1)
endfunction

function Z2O takes nothing returns boolean 
    if RY != "" and OL == false then
        set NY0 = true
        call GMO("-" + RY, 2)
    endif
    return false
endfunction

function modeInitAllPick takes nothing returns nothing
    local location N0I = GetRectCenter(T4)
    local location NII = GetRectCenter(R4)
    local integer x = 1
    set K0 = true
    set AL = 120
    loop
        exitwhen x > 5
        if isPlayerAlive(sentinelPlayers[x]) then
            call CreateUnitAtLoc(sentinelPlayers[x], 'n00C', NII, bj_UNIT_FACING)
        endif
        if isPlayerAlive(scourgePlayers[x]) then
            call CreateUnitAtLoc(scourgePlayers[x], 'n00C', N0I, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    set N0I = null
    set NII = null
endfunction

function Z5O takes integer i, integer Z6O returns string 
    if i < 0 then
        set i = 0
    endif
    if TimerGetElapsed(M) < 15 then
        return "|c00555555" + I2S(i)
    endif
    if NQ0 == 3 then
        return "|c00555555" + I2S(i)
    endif
    if NQ0 == 1 and Z6O != 1 then
        return "|c00555555" + I2S(i)
    elseif NQ0 == 2 and Z6O != 2 then
        return "|c00555555" + I2S(i)
    elseif i == 0 then
        return "|c00555555" + I2S(i)
    elseif i < 6 then
        return "|c00ff0303" + I2S(i)
    else 
        return I2S(i)
    endif
endfunction

function Z7O takes nothing returns boolean 
    local multiboarditem CPI
    local integer i
    local integer RI1
    local integer R11
    local integer YTI = 7
    local integer Z8O = 0
    set RI1 = 1
    set R11 = Z8O
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemWidth(CPI, 0.5)
    call MultiboardSetItemValue(CPI, playerColor[GetPlayerId(sentinelPlayers[1])] + playerName[GetPlayerId(sentinelPlayers[1])] + "|r")
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 2
    set R11 = Z8O
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + GetObjectName('n0EV'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set i = 0
    set RI1 = RI1
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if NU0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[NU0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 1
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if NU0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[NU0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 2
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if NU0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[NU0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 3
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if NU0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[NU0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 2
    set R11 = Z8O
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + GetObjectName('n0EX'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set i = 0
    set RI1 = RI1
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if SO0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[SO0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 1
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if SO0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[SO0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 2
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if SO0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[SO0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 3
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if SO0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[SO0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 4
    set R11 = Z8O + i + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if SO0[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[SO0[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 2
    set R11 = Z8O
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + GetObjectName('n0EU'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set R11 = Z8O + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, Z5O(NR0[1], 1))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 1
    set R11 = Z8O
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + GetObjectName('n0ET'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set R11 = Z8O + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, Z5O(NT0[1], 1))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 2
    set R11 = Z8O
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + GetObjectName('n0EY'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set R11 = Z8O + 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    if TimerGetElapsed(M) < 15 then
        call MultiboardSetItemValue(CPI, "|c00555555" + GetObjectName('n0F1'))
    elseif NQ0 == 1 then
        call MultiboardSetItemValue(CPI, GetObjectName('n0F4'))
    elseif NQ0 == 2 then
        call MultiboardSetItemValue(CPI, "|c00555555" + GetObjectName('n0F1'))
    else 
        call MultiboardSetItemValue(CPI, "|c00555555" + GetObjectName('n0F2'))
    endif
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set RI1 = 1
    set R11 = YTI
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemWidth(CPI, 1.5)
    call MultiboardSetItemValue(CPI, "   " + playerColor[GetPlayerId(scourgePlayers[1])] + playerName[GetPlayerId(scourgePlayers[1])] + "|r")
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 2
    set R11 = YTI - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + " " + GetObjectName('n0EV'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set i = 0
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S00[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S00[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 1
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S00[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S00[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 2
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S00[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S00[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 3
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S00[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S00[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 2
    set R11 = YTI - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + " " + GetObjectName('n0EX'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set i = 0
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S20[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S20[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 1
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S20[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S20[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 2
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S20[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S20[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 3
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S20[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S20[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set i = 4
    set R11 = YTI + i + 1 - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemWidth(CPI, 0.015)
    if S20[i] > 0 then
        call MultiboardSetItemStyle(CPI, false, true)
        call MultiboardSetItemIcon(CPI, heroPic[S20[i]])
    endif
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 2
    set R11 = YTI - 2
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + GetObjectName('n0EU'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set R11 = YTI - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, Z5O(NR0[2], 2))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 1
    set R11 = YTI - 2
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + GetObjectName('n0ET'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set R11 = YTI - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, Z5O(NT0[2], 2))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set RI1 = RI1 + 2
    set R11 = YTI - 2
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    call MultiboardSetItemValue(CPI, "|c006699CC" + GetObjectName('n0EY'))
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    set R11 = YTI - 1
    set CPI = MultiboardGetItem(S60, RI1, R11)
    call MultiboardSetItemStyle(CPI, true, false)
    if TimerGetElapsed(M) < 15 then
        call MultiboardSetItemValue(CPI, "|c00555555" + GetObjectName('n0F1'))
    elseif NQ0 == 2 then
        call MultiboardSetItemValue(CPI, GetObjectName('n0F4'))
    elseif NQ0 == 1 then
        call MultiboardSetItemValue(CPI, "|c00555555" + GetObjectName('n0F1'))
    else 
        call MultiboardSetItemValue(CPI, "|c00555555" + GetObjectName('n0F2'))
    endif
    call MultiboardSetItemWidth(CPI, 0.035)
    call MultiboardReleaseItem(CPI)
    return false
endfunction

function Z9O takes nothing returns nothing
    local integer RO1 = 12
    local integer R21 = 14
    local trigger t = CreateTrigger()
    local integer i
    local multiboarditem CPI
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function Z7O))
    set S60 = CreateMultiboard()
    call MultiboardSetItemsWidth(S60, 0.015)
    call MultiboardSetRowCount(S60, RO1)
    call MultiboardSetColumnCount(S60, R21)
    call MultiboardSetTitleText(S60, GetObjectName('n0K6'))
    call MultiboardSetItemsStyle(S60, false, false)
    call MultiboardMinimize(S60, false)
    call MultiboardDisplay(S60, true)
    set i = 0
    loop
        exitwhen i > R21
        set CPI = MultiboardGetItem(S60, 0, i)
        call MultiboardSetItemWidth(CPI, 0.015)
        call MultiboardReleaseItem(CPI)
        set i = i + 1
    endloop
    set t = null
    set CPI = null
endfunction

function rdModeSelectingHero takes nothing returns boolean 
    local unit ZBO = GetSoldUnit()
    local player p = GetOwningPlayer(ZBO)
    local integer i
    local real x
    local real y
    local real a
    if GetUnitTypeId(ZBO) == 'h06N' and IsPlayerAlly(GetOwningPlayer(ZBO), GetOwningPlayer(GetSellingUnit())) then
        if playerHero[GetPlayerId(p)] != null then
            call displayErrorMessage(p, GetObjectName('n0F3'))
            call KillUnit(ZBO)
            set ZBO = null
            set p = null
            return false
        endif
        set x = GetUnitX(GetSellingUnit())
        set y = GetUnitY(GetSellingUnit())
        set i = getHeroIdBySelectorId(GetUnitTypeId(GetSellingUnit()))
        set a = GetUnitFacing(GetSellingUnit())
        call RemoveUnit(GetSellingUnit())
        call CreateUnit(p, i, x, y, a)
    endif
    if GetUnitTypeId(ZBO) == 'h06N' then
        call KillUnit(ZBO)
    endif
    if playerHero[GetPlayerId(sentinelPlayers[1])] != null and playerHero[GetPlayerId(sentinelPlayers[2])] != null and playerHero[GetPlayerId(sentinelPlayers[3])] != null and playerHero[GetPlayerId(sentinelPlayers[4])] != null and playerHero[GetPlayerId(sentinelPlayers[5])] != null and playerHero[GetPlayerId(scourgePlayers[1])] != null and playerHero[GetPlayerId(scourgePlayers[2])] != null and playerHero[GetPlayerId(scourgePlayers[3])] != null and playerHero[GetPlayerId(scourgePlayers[4])] != null and playerHero[GetPlayerId(scourgePlayers[5])] != null then
        call abandonTrigger(GetTriggeringTrigger())
    endif
    set ZBO = null
    set p = null
    return false
endfunction

function ZCO takes nothing returns boolean 
    set NS0 = true
    call abandonTrigger(GetTriggeringTrigger())
    call DestroyMultiboard(S60)
    call SB1()
    call RX1()
    call CE1()
    return false
endfunction

function ModeCM_SpawnSound takes nothing returns boolean 
    call abandonTrigger(GetTriggeringTrigger())
    call PlaySoundBJ(FF)
    return false
endfunction

function ZDO takes nothing returns boolean 
    local trigger t = CreateTrigger()
    local integer JBI
    local integer JAI
    local string LLI
    local unit u
    local real x
    local real y
    local integer i
    local real d
    local real ZEO = GetRectCenterX(B4)
    local real ZFO = GetRectCenterY(B4)
    local real ZGO = GetRectCenterX(R3)
    local real ZHO = GetRectCenterY(R3)
    set NQ0 = 3
    set M70 = true
    call abandonTrigger(GetTriggeringTrigger())
    set i = 0
    loop
        exitwhen i == 5
        set x = ZEO - 300 + i*150
        set y = ZFO
        set u = CreateUnit(sentinelPlayers[0], heroSelectorId[SO0[i]], x, y, 270)
        call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_SELL)
        call PanCameraToTimedForPlayer(sentinelPlayers[i + 1], ZEO, ZFO, 0)
        call CreateUnit(sentinelPlayers[i + 1], 'n00C', ZEO, ZFO, bj_UNIT_FACING)
        call SetPlayerState(sentinelPlayers[i + 1], PLAYER_STATE_RESOURCE_GOLD, NL0[GetPlayerId(sentinelPlayers[i + 1])] - 250)
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen i == 5
        set x = ZGO - 300 + i*150
        set y = ZHO
        set u = CreateUnit(scourgePlayers[0], heroSelectorId[S20[i]], x, y, 270)
        call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_SELL)
        call PanCameraToTimedForPlayer(scourgePlayers[i + 1], ZGO, ZHO, 0)
        call CreateUnit(scourgePlayers[i + 1], 'n00C', ZGO, ZHO, bj_UNIT_FACING)
        call SetPlayerState(scourgePlayers[i + 1], PLAYER_STATE_RESOURCE_GOLD, NL0[GetPlayerId(scourgePlayers[i + 1])] - 250)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function rdModeSelectingHero))
    call SuspendTimeOfDay(false)
    call EnableTrigger(E70)
    call EnableTrigger(CN)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function ZCO))
    set AL = 90
    call GFO()
    call F1I()
    set t = null
    set u = null
    return false
endfunction

function ZZO takes integer i returns nothing
    call disableHero(heroId[i])
    if NQ0 == 1 then
        set SO0[S30] = i
        set S30 = S30 + 1
    else 
        set S20[S40] = i
        set S40 = S40 + 1
    endif
endfunction

function ZVO takes nothing returns nothing
    local integer i = F4I()
    loop
        if R[i] == false then
            set R[i] = true
            call ZZO(i)
            return
        endif
    endloop
endfunction

function ZWO takes integer i returns nothing
    call L1I("Ban" + I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))), heroId[i])
    call disableHero(heroId[i])
    if NQ0 == 1 then
        set NU0[SI0] = i
        set SI0 = SI0 + 1
    else 
        set S00[S10] = i
        set S10 = S10 + 1
    endif
endfunction

function ModeCM_BanRandomHero takes nothing returns nothing
    call ZWO(-1)
endfunction

function ZXO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local player p
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and GetUnitPointValue(GetSoldUnit()) > 100 then
        set t = null
        return false
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
        call ZZO(GetUnitPointValue(GetSoldUnit()))
        call RemoveUnit(GetSoldUnit())
        if S50 == 0 then
            set S50 = S50 + 1
            call abandonTrigger(t)
            set t = CreateTrigger()
            call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
            call TriggerRegisterTimerEvent(t, 1, true)
            call TriggerAddCondition(t, Condition(function ZXO))
            if NQ0 == 1 then
                set NQ0 = 2
                set NR0[NQ0] = 60
                set p = scourgePlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            else 
                set NQ0 = 1
                set NR0[NQ0] = 60
                set p = sentinelPlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            endif
        elseif S50 == 1 then
            if NQ0 == 1 and S30 == 2 then
                set S50 = S50 + 1
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZXO))
                set NQ0 = 2
                set NR0[NQ0] = 60
                set p = scourgePlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            elseif NQ0 == 2 and S40 == 2 then
                set S50 = S50 + 1
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZXO))
                set NQ0 = 1
                set NR0[NQ0] = 60
                set p = sentinelPlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            endif
        elseif S50 == 2 then
            if NQ0 == 1 and S30 == 3 then
                set S50 = S50 + 1
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZXO))
                set NQ0 = 2
                set NR0[NQ0] = 60
                set p = scourgePlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            elseif NQ0 == 2 and S40 == 3 then
                set S50 = S50 + 1
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZXO))
                set NQ0 = 1
                set NR0[NQ0] = 60
                set p = sentinelPlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            endif
        elseif S50 == 3 then
            if NQ0 == 1 and S30 == 4 then
                set S50 = S50 + 1
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZXO))
                set NQ0 = 2
                set NR0[NQ0] = 60
                set p = scourgePlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            elseif NQ0 == 2 and S40 == 4 then
                set S50 = S50 + 1
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZXO))
                set NQ0 = 1
                set NR0[NQ0] = 60
                set p = sentinelPlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            endif
        elseif S50 == 4 then
            if NQ0 == 1 and S30 == 5 then
                set S50 = S50 + 1
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZXO))
                set NQ0 = 2
                set NR0[NQ0] = 60
                set p = scourgePlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            elseif NQ0 == 2 and S40 == 5 then
                set S50 = S50 + 1
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZXO))
                set NQ0 = 1
                set NR0[NQ0] = 60
                set p = sentinelPlayers[1]
                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
                call GVI(p, "Sound\\Interface\\Rescue.wav")
            endif
        elseif S50 == 5 then
            set S50 = S50 + 1
            call abandonTrigger(t)
            set t = CreateTrigger()
            call TriggerRegisterTimerEvent(t, 1, false)
            call TriggerAddCondition(t, Condition(function ZDO))
        endif
    else 
        if GetTriggerEvalCount(t) > 60 then
            if NT0[NQ0] > 0 then
                set NT0[NQ0] = NT0[NQ0] - 1
            else 
                if NQ0 == 1 then
                    call ZVO()
                else 
                    call ZVO()
                endif
                if S50 == 0 then
                    set S50 = S50 + 1
                    call abandonTrigger(t)
                    set t = CreateTrigger()
                    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                    call TriggerRegisterTimerEvent(t, 1, true)
                    call TriggerAddCondition(t, Condition(function ZXO))
                    if NQ0 == 1 then
                        set NQ0 = 2
                        set NR0[NQ0] = 60
                        set p = scourgePlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                        call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    else 
                        set NQ0 = 1
                        set NR0[NQ0] = 60
                        set p = sentinelPlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                        call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    endif
                elseif S50 == 1 then
                    if NQ0 == 1 and S30 == 2 then
                        set S50 = S50 + 1
                        call abandonTrigger(t)
                        set t = CreateTrigger()
                        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                        call TriggerRegisterTimerEvent(t, 1, true)
                        call TriggerAddCondition(t, Condition(function ZXO))
                        set NQ0 = 2
                        set NR0[NQ0] = 60
                        set p = scourgePlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                        call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    elseif NQ0 == 2 and S40 == 2 then
                        set S50 = S50 + 1
                        call abandonTrigger(t)
                        set t = CreateTrigger()
                        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                        call TriggerRegisterTimerEvent(t, 1, true)
                        call TriggerAddCondition(t, Condition(function ZXO))
                        set NQ0 = 1
                        set NR0[NQ0] = 60
                        set p = sentinelPlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                        call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    endif
                elseif S50 == 2 then
                    if NQ0 == 1 and S30 == 3 then
                        set S50 = S50 + 1
                        call abandonTrigger(t)
                        set t = CreateTrigger()
                        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                        call TriggerRegisterTimerEvent(t, 1, true)
                        call TriggerAddCondition(t, Condition(function ZXO))
                        set NQ0 = 2
                        set NR0[NQ0] = 60
                        set p = scourgePlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                        call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    elseif NQ0 == 2 and S40 == 3 then
                        set S50 = S50 + 1
                        call abandonTrigger(t)
                        set t = CreateTrigger()
                        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                        call TriggerRegisterTimerEvent(t, 1, true)
                        call TriggerAddCondition(t, Condition(function ZXO))
                        set NQ0 = 1
                        set NR0[NQ0] = 60
                        set p = sentinelPlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                        call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    endif
                elseif S50 == 3 then
                    if NQ0 == 1 and S30 == 4 then
                        set S50 = S50 + 1
                        call abandonTrigger(t)
                        set t = CreateTrigger()
                        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                        call TriggerRegisterTimerEvent(t, 1, true)
                        call TriggerAddCondition(t, Condition(function ZXO))
                        set NQ0 = 2
                        set NR0[NQ0] = 60
                        set p = scourgePlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                        call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    elseif NQ0 == 2 and S40 == 4 then
                        set S50 = S50 + 1
                        call abandonTrigger(t)
                        set t = CreateTrigger()
                        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                        call TriggerRegisterTimerEvent(t, 1, true)
                        call TriggerAddCondition(t, Condition(function ZXO))
                        set NQ0 = 1
                        set NR0[NQ0] = 60
                        set p = sentinelPlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 500)
                        call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    endif
                elseif S50 == 4 then
                    if NQ0 == 1 and S30 == 5 then
                        set S50 = S50 + 1
                        call abandonTrigger(t)
                        set t = CreateTrigger()
                        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                        call TriggerRegisterTimerEvent(t, 1, true)
                        call TriggerAddCondition(t, Condition(function ZXO))
                        set NQ0 = 2
                        set NR0[NQ0] = 60
                        set p = scourgePlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
                        call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    elseif NQ0 == 2 and S40 == 5 then
                        set S50 = S50 + 1
                        call abandonTrigger(t)
                        set t = CreateTrigger()
                        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                        call TriggerRegisterTimerEvent(t, 1, true)
                        call TriggerAddCondition(t, Condition(function ZXO))
                        set NQ0 = 1
                        set NR0[NQ0] = 60
                        set p = sentinelPlayers[1]
                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
                        call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                        call GVI(p, "Sound\\Interface\\Rescue.wav")
                    endif
                elseif S50 == 5 then
                    set S50 = S50 + 1
                    call abandonTrigger(t)
                    call ZDO()
                    call EXO(90)
                endif
            endif
        else 
            if NQ0 == 1 then
                set NR0[1] = NR0[1] - 1
            else 
                set NR0[2] = NR0[2] - 1
            endif
        endif
    endif
    set t = null
    set p = null
    return false
endfunction

function ZYO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local player p
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL and GetUnitPointValue(GetSoldUnit()) > 100 then
        set t = null
        return false
    endif
    if SI0 == 4 and S10 == 4 then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
            call RemoveUnit(GetSoldUnit())
        endif
        call abandonTrigger(t)
        set t = CreateTrigger()
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function ZXO))
        if NQ0 == 1 then
            set NR0[NQ0] = 40
            set p = sentinelPlayers[1]
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
            call GVI(p, "Sound\\Interface\\Rescue.wav")
        else 
            set NR0[NQ0] = 40
            set p = scourgePlayers[1]
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
            call GVI(p, "Sound\\Interface\\Rescue.wav")
        endif
        set t = null
        set p = null
        return false
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SELL then
        call ZWO(GetUnitPointValue(GetSoldUnit()))
        call RemoveUnit(GetSoldUnit())
        call abandonTrigger(t)
        set t = CreateTrigger()
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function ZYO))
        if NQ0 == 1 then
            set NQ0 = 2
            set NR0[NQ0] = 40
            set p = scourgePlayers[1]
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
            call GVI(p, "Sound\\Interface\\Rescue.wav")
        else 
            set NQ0 = 1
            set NR0[NQ0] = 40
            set p = sentinelPlayers[1]
            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
            call GVI(p, "Sound\\Interface\\Rescue.wav")
        endif
    else 
        if GetTriggerEvalCount(t) > 40 then
            if NT0[NQ0] > 0 then
                set NT0[NQ0] = NT0[NQ0] - 1
            else 
                call ZWO(-1)
                call abandonTrigger(t)
                set t = CreateTrigger()
                call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
                call TriggerRegisterTimerEvent(t, 1, true)
                call TriggerAddCondition(t, Condition(function ZYO))
                if NQ0 == 1 then
                    set NQ0 = 2
                    set NR0[NQ0] = 40
                    set p = scourgePlayers[1]
                    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
                    call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                    call GVI(p, "Sound\\Interface\\Rescue.wav")
                else 
                    set NQ0 = 1
                    set NR0[NQ0] = 40
                    set p = sentinelPlayers[1]
                    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
                    call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
                    call GVI(p, "Sound\\Interface\\Rescue.wav")
                endif
            endif
        else 
            if NQ0 == 1 then
                set NR0[1] = NR0[1] - 1
            else 
                set NR0[2] = NR0[2] - 1
            endif
        endif
    endif
    set t = null
    set p = null
    return false
endfunction

function ZJO takes nothing returns boolean 
    local trigger t = CreateTrigger()
    local player p
    set NN0 = true
    call abandonTrigger(GetTriggeringTrigger())
    if NM0 == false then
        if NP0 == 1 then
            call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(sentinelPlayers[1])] + playerName[GetPlayerId(sentinelPlayers[1])] + "|r " + GetObjectName('n0EA'))
        else 
            call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(scourgePlayers[1])] + playerName[GetPlayerId(scourgePlayers[1])] + "|r " + GetObjectName('n0EA'))
        endif
    endif
    if NP0 == 1 then
        set NQ0 = 1
        set NR0[NQ0] = 40
        set p = sentinelPlayers[1]
        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
        call GVI(p, "Sound\\Interface\\Rescue.wav")
    else 
        set NQ0 = 2
        set p = scourgePlayers[1]
        set NR0[NQ0] = 40
        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, 250)
        call GVI(p, "Sound\\Interface\\Rescue.wav")
    endif
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function ZYO))
    set t = null
    set p = null
    return false
endfunction

function HEO takes nothing returns nothing
    local trigger t
    local location N0I = GetRectCenter(T4)
    local location NII = GetRectCenter(R4)
    local integer x = 1
    local player p
    loop
        exitwhen x > 5
        if isPlayerAlive(sentinelPlayers[x]) then
            call CreateUnitAtLoc(sentinelPlayers[x], 'n00C', NII, bj_UNIT_FACING)
        endif
        if isPlayerAlive(scourgePlayers[x]) then
            call CreateUnitAtLoc(scourgePlayers[x], 'n00C', N0I, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    set BN = true
    set C3 = false
    set B3 = false
    set M70 = false
    set N60 = false
    call SuspendTimeOfDay(true)
    call DisableTrigger(E70)
    call DisableTrigger(CN)
    call QY1()
    set NL0[GetPlayerId(sentinelPlayers[1])] = GetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(sentinelPlayers[2])] = GetPlayerState(sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(sentinelPlayers[3])] = GetPlayerState(sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(sentinelPlayers[4])] = GetPlayerState(sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(sentinelPlayers[5])] = GetPlayerState(sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(scourgePlayers[1])] = GetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(scourgePlayers[2])] = GetPlayerState(scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(scourgePlayers[3])] = GetPlayerState(scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(scourgePlayers[4])] = GetPlayerState(scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD)
    set NL0[GetPlayerId(scourgePlayers[5])] = GetPlayerState(scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD, 0)
    set NT0[1] = 60
    set NT0[2] = 60
    set NP0 = GetRandomInt(1, 2)
    set NM0 = false
    set NQ0 = NP0
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15 - TimerGetElapsed(M), false)
    call TriggerAddCondition(t, Condition(function ZJO))
    call Z9O()
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 4.00, GetObjectName('n0ES'))
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 4.00, GetObjectName('n0ER'))
    set t = null
    set N0I = null
    set NII = null
    set p = null
endfunction

function ZKO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    set DN = true
    call abandonTrigger(t)
    call DestroyFogModifier( CreateFogModifierRadius(sentinelPlayers[0], FOG_OF_WAR_MASKED, SQ0, SU0, 700, false, false) )
    call DestroyFogModifier( CreateFogModifierRadius(scourgePlayers[0], FOG_OF_WAR_MASKED, SQ0, SU0, 700, false, false) )
    set t = null
    return false
endfunction

function ZLO takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i > TO0
        call RemoveUnit(T10[i])
        set i = i + 1
    endloop
endfunction

function ZMO takes real x, real y returns nothing
    set T10[TO0] = CreateUnit(Player(0), 'h06I', x, y, 0)
    set TO0 = TO0 + 1
endfunction

function ZNO takes string S, real ZSO, real ZTO, real ZRO, real ZPO, real ZQO, boolean ZUO returns nothing
    set LK = CreateImage(S, ZSO, ZTO, 0, ZRO - (ZSO/2), ZPO - (ZTO/2), ZQO, 0, 0, 0, 2)
    call SetImageRenderAlways(LK, true)
    call ShowImage(LK, ZUO)
endfunction

function V0O takes integer VIO, integer r, integer g, integer b, integer a, real x, real y, integer DMI returns nothing
    if StringLength(I2S(VIO)) > 1 then
        call ZNO("Fonts\\" + SubString(I2S(VIO), 0, 1) + ".blp", 90, 90, x - 20, y, 0, true)
        call SetImageColor(LK, r, g, b, a)
        call SaveImageHandle(hashTable, DMI, 158, LK)
        call ZNO("Fonts\\" + SubString(I2S(VIO), 1, 2) + ".blp", 90, 90, x + 20, y, 0, true)
        call SetImageColor(LK, r, g, b, a)
        call SaveImageHandle(hashTable, DMI, 159, LK)
    else 
        call ZNO("Fonts\\0.blp", 90, 90, x - 20, y, 0, true)
        call SetImageColor(LK, r, g, b, a)
        call SaveImageHandle(hashTable, DMI, 158, LK)
        call ZNO("Fonts\\" + SubString(I2S(VIO), 0, 1) + ".blp", 90, 90, x + 20, y, 0, true)
        call SetImageColor(LK, r, g, b, a)
        call SaveImageHandle(hashTable, DMI, 159, LK)
    endif
endfunction

function V1O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer YHI = LoadInteger(hashTable, DMI, 57)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local integer DHI = GetTriggerEvalCount(t)
    local integer VOO = YHI - DHI
    local image V2O = LoadImageHandle(hashTable, DMI, 158)
    local image V3O = LoadImageHandle(hashTable, DMI, 159)
    local integer r
    local integer g
    local integer b
    local integer a
    if DHI > 0 then
        call ShowImage(V2O, false)
        call DestroyImage(V2O)
        call ShowImage(V3O, false)
        call DestroyImage(V3O)
    endif
    if DHI == YHI then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if VOO < 6 then
            set r = 255
            set g = 0
            set b = 0
        elseif GetLocalPlayer() == SM0 or GetLocalPlayer() == SN0 then
            set r = DI0[GetPlayerId(GetLocalPlayer())]
            set g = D10[GetPlayerId(GetLocalPlayer())]
            set b = DO0[GetPlayerId(GetLocalPlayer())]
        else 
            set r = 255
            set g = 255
            set b = 255
        endif
        if IsPlayerAlly(SM0, GetLocalPlayer()) then
            set a = 255
        else 
            set a = 125
        endif
        call V0O(VOO, r, g, b, a, x, y, DMI)
    endif
    set t = null
    set V2O = null
    set V3O = null
    return false
endfunction

function V4O takes integer YHI, real x, real y returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function V1O))
    call SaveInteger(hashTable, DMI, 57, YHI)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call TriggerEvaluate(t)
    set t = null
endfunction

function V5O takes integer a, real x, real y, integer DMI returns nothing
    call ZNO("Fonts\\Y.blp", 90, 90, x - 150, y, 0, true)
    call SetImageColor(LK, 255, 0, 0, a)
    call SaveImageHandle(hashTable, DMI, 158, LK)
    call ZNO("Fonts\\O.blp", 90, 90, x - 110, y, 0, true)
    call SetImageColor(LK, 255, 0, 0, a)
    call SaveImageHandle(hashTable, DMI, 159, LK)
    call ZNO("Fonts\\U.blp", 90, 90, x - 70, y, 0, true)
    call SetImageColor(LK, 255, 0, 0, a)
    call SaveImageHandle(hashTable, DMI, 160, LK)
    call ZNO("Fonts\\R.blp", 90, 90, x - 30, y, 0, true)
    call SetImageColor(LK, 255, 0, 0, a)
    call SaveImageHandle(hashTable, DMI, 161, LK)
    call ZNO("Fonts\\T.blp", 90, 90, x + 30, y, 0, true)
    call SetImageColor(LK, 255, 0, 0, a)
    call SaveImageHandle(hashTable, DMI, 162, LK)
    call ZNO("Fonts\\U.blp", 90, 90, x + 70, y, 0, true)
    call SetImageColor(LK, 255, 0, 0, a)
    call SaveImageHandle(hashTable, DMI, 163, LK)
    call ZNO("Fonts\\R.blp", 90, 90, x + 110, y, 0, true)
    call SetImageColor(LK, 255, 0, 0, a)
    call SaveImageHandle(hashTable, DMI, 164, LK)
    call ZNO("Fonts\\N.blp", 90, 90, x + 150, y, 0, true)
    call SetImageColor(LK, 255, 0, 0, a)
    call SaveImageHandle(hashTable, DMI, 165, LK)
endfunction

function V6O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real x
    local real y
    local integer DHI = GetTriggerEvalCount(t)
    local image V2O = LoadImageHandle(hashTable, DMI, 158)
    local image V3O = LoadImageHandle(hashTable, DMI, 159)
    local image V7O = LoadImageHandle(hashTable, DMI, 160)
    local image V8O = LoadImageHandle(hashTable, DMI, 161)
    local image V9O = LoadImageHandle(hashTable, DMI, 162)
    local image VAO = LoadImageHandle(hashTable, DMI, 163)
    local image VBO = LoadImageHandle(hashTable, DMI, 164)
    local image VCO = LoadImageHandle(hashTable, DMI, 165)
    local integer r
    local integer g
    local integer b
    local integer a
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    if isPlayerSentinel(p) then
        set x = SQ0
        set y = SU0 + 250
    else 
        set x = T00
        set y = TI0 + 250
    endif
    if DHI > 0 then
        call ShowImage(V2O, false)
        call DestroyImage(V2O)
        call ShowImage(V3O, false)
        call DestroyImage(V3O)
        call ShowImage(V7O, false)
        call DestroyImage(V7O)
        call ShowImage(V8O, false)
        call DestroyImage(V8O)
        call ShowImage(V9O, false)
        call DestroyImage(V9O)
        call ShowImage(VAO, false)
        call DestroyImage(VAO)
        call ShowImage(VBO, false)
        call DestroyImage(VBO)
        call ShowImage(VCO, false)
        call DestroyImage(VCO)
    endif
    if DHI == 20 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if GetLocalPlayer() == SM0 or GetLocalPlayer() == SN0 then
            set a = 255
        else 
            set a = 0
        endif
        call V5O(a, x, y, DMI)
    endif
    set t = null
    set V2O = null
    set V3O = null
    set V7O = null
    set V8O = null
    set V9O = null
    set VAO = null
    set VBO = null
    set VCO = null
    set p = null
    return false
endfunction

function VDO takes player p returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function V6O))
    call SavePlayerHandle(hashTable, DMI, 54, p)
    call TriggerEvaluate(t)
    set t = null
endfunction

function VEO takes player p, integer CDI, boolean randomed returns nothing
    local integer i = getPlayerSlotLoc(p)
    local real d
    if isPlayerAlive(p) == false then
        return
    endif
    if isPlayerSentinel(p) then
        call SetUnitPosition(SA0[CDI], SB0[i], SC0[i])
        set d = HGI(EAI(SA0[CDI]) - 0.3, 0.5)
        call SetUnitScale(SA0[CDI], d, d, d)
        call SetUnitFacing(SA0[CDI], 270)
    else 
        call SetUnitPosition(SA0[CDI], SD0[i], SE0[i])
        set d = HGI(EAI(SA0[CDI]) - 0.3, 0.5)
        call SetUnitScale(SA0[CDI], d, d, d)
        call SetUnitFacing(SA0[CDI], 90)
    endif
    call SetUnitColor(SA0[CDI], GetPlayerColor(p))
    call PauseUnit(SA0[CDI], true)
    call SetUnitOwner(SA0[CDI], p, true)
    set SP0[GetPlayerId(p)] = true
    set S90[CDI] = true
    if isPlayerSentinel(p) then
        set playerHero[GetPlayerId(p)] = CreateUnit(p, heroId[S80[CDI]], GetRectCenterX(B4), GetRectCenterY(B4), 0)
    else 
        set playerHero[GetPlayerId(p)] = CreateUnit(p, heroId[S80[CDI]], GetRectCenterX(R3), GetRectCenterY(R3), 0)
    endif
endfunction

function VFO takes nothing returns integer 
    local integer i = 1
    loop
        exitwhen i > 20
        if S90[i] == false then
            return i
        endif
        set i = i + 1
    endloop
    return 0
endfunction

function VGO takes player p returns nothing
    local integer i = 1
    local boolean VHO = isPlayerSentinel(p)
    loop
        exitwhen i == 20
        if GetOwningPlayer(SA0[i]) == sentinelPlayers[0] or GetOwningPlayer(SA0[i]) == scourgePlayers[0] then
            if VHO then
                call SetUnitOwner(SA0[i], sentinelPlayers[0], false)
            else 
                call SetUnitOwner(SA0[i], scourgePlayers[0], false)
            endif
        endif
        set i = i + 1
    endloop
endfunction

function VZO takes player p, unit u returns nothing
    local integer a = 80
    if GetLocalPlayer() == p then
        set a = 255
    endif
    call SetUnitVertexColor(u, 255, 255, 255, a)
endfunction

function VVO takes player p1, player p2 returns nothing
    local unit YVI
    local real x
    local real y
    call VDO(p1)
    call GVI(p1, "Sound\\Interface\\Rescue.wav")
    if isPlayerSentinel(p1) then
        if GetLocalPlayer() == p1 then
            call PingMinimapEx(SV0, SW0, 5, 255, 255, 255, false)
        endif
        set YVI = CreateUnit(p1, 'n02A', SV0 - 250, SW0, 0)
        call UnitApplyTimedLife(YVI, 'BTLF', 20)
        call UnitAddAbility(YVI, 'Aloc')
        set T30[GetPlayerId(p1)] = YVI
        call VZO(p1, YVI)
        if GetLocalPlayer() == p1 then
            call ClearTextMessages()
        endif
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
        call DisplayTimedTextToPlayer(p1, 0, 0, 20, GetObjectName('n068'))
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
    else 
        call VDO(p1)
        if GetLocalPlayer() == p1 then
            call PingMinimapEx(SX0, SY0, 5, 255, 255, 255, false)
        endif
        set YVI = CreateUnit(p1, 'n02A', SV0 - 250, SW0, 0)
        call SetUnitVertexColor(YVI, 255, 255, 255, 175)
        call UnitApplyTimedLife(YVI, 'BTLF', 20)
        call UnitAddAbility(YVI, 'Aloc')
        set T40[GetPlayerId(p1)] = YVI
        call VZO(p1, YVI)
        if GetLocalPlayer() == p1 then
            call ClearTextMessages()
        endif
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
        call DisplayTimedTextToPlayer(p1, 0, 0, 20, GetObjectName('n068'))
        call DisplayTimedTextToPlayer(p1, 0, 0, 10, " ")
    endif
    if p2 != null then
        call VDO(p2)
        call GVI(p2, "Sound\\Interface\\Rescue.wav")
        if isPlayerSentinel(p2) then
            if GetLocalPlayer() == p2 then
                call PingMinimapEx(SV0, SW0, 5, 255, 255, 255, false)
            endif
            set YVI = CreateUnit(p2, 'n02A', SV0 + 250, SW0, 0)
            call UnitApplyTimedLife(YVI, 'BTLF', 20)
            call UnitAddAbility(YVI, 'Aloc')
            set T30[GetPlayerId(p2)] = YVI
            call VZO(p2, YVI)
            if GetLocalPlayer() == p2 then
                call ClearTextMessages()
            endif
            call DisplayTimedTextToPlayer(p2, 0, 0, 10, " ")
            call DisplayTimedTextToPlayer(p2, 0, 0, 10, " ")
            call DisplayTimedTextToPlayer(p2, 0, 0, 20, GetObjectName('n068'))
            call DisplayTimedTextToPlayer(p2, 0, 0, 10, " ")
        else 
            if GetLocalPlayer() == p2 then
                call PingMinimapEx(SX0, SY0, 5, 255, 255, 255, false)
            endif
            set YVI = CreateUnit(p2, 'n02A', SV0 + 250, SW0, 0)
            call UnitApplyTimedLife(YVI, 'BTLF', 20)
            call UnitAddAbility(YVI, 'Aloc')
            set T40[GetPlayerId(p2)] = YVI
            call VZO(p2, YVI)
            if GetLocalPlayer() == p2 then
                call ClearTextMessages()
            endif
            call DisplayTimedTextToPlayer(p2, 0, 0, 10, " ")
            call DisplayTimedTextToPlayer(p2, 0, 0, 10, " ")
            call DisplayTimedTextToPlayer(p2, 0, 0, 20, GetObjectName('n068'))
            call DisplayTimedTextToPlayer(p2, 0, 0, 10, " ")
        endif
    endif
    set YVI = null
endfunction

function VWO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer VXO = LoadInteger(hashTable, DMI, 25)
    local player VYO = SM0
    local player VJO = SN0
    local integer i
    set SM0 = null
    set SN0 = null
    if VXO == 0 then
        if SS0 == 1 then
            set SM0 = sentinelPlayers[1]
        else 
            set SM0 = scourgePlayers[1]
        endif
        call VGO(SM0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SM0)] + playerName[GetPlayerId(SM0)] + "|r" + " " + GetObjectName('n064'))
        call VVO(SM0, SN0)
        call V4O(20, SQ0, SU0)
    elseif VXO == 1 then
        if SS0 == 1 then
            if T50 == false then
                set SM0 = scourgePlayers[1]
                set SN0 = scourgePlayers[2]
            else 
                set SM0 = scourgePlayers[1]
                set SN0 = scourgePlayers[1]
            endif
        else 
            if T50 == false then
                set SM0 = sentinelPlayers[1]
                set SN0 = sentinelPlayers[2]
            else 
                set SM0 = sentinelPlayers[1]
                set SN0 = sentinelPlayers[1]
            endif
        endif
        if SP0[GetPlayerId(VYO)] == false then
            call VEO(VYO, VFO(), true)
        endif
        call VGO(SM0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SM0)] + playerName[GetPlayerId(SM0)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SN0)] + playerName[GetPlayerId(SN0)] + "|r" + " " + GetObjectName('n064'))
        call VVO(SM0, SN0)
        call V4O(20, SQ0, SU0)
    elseif VXO == 2 then
        if SS0 == 1 then
            if T50 == false then
                set SM0 = sentinelPlayers[2]
                set SN0 = sentinelPlayers[3]
            else 
                set SM0 = sentinelPlayers[1]
                set SN0 = sentinelPlayers[1]
            endif
        else 
            if T50 == false then
                set SM0 = scourgePlayers[2]
                set SN0 = scourgePlayers[3]
            else 
                set SM0 = scourgePlayers[1]
                set SN0 = scourgePlayers[1]
            endif
        endif
        if SP0[GetPlayerId(VYO)] == false then
            call VEO(VYO, VFO(), true)
        endif
        if SP0[GetPlayerId(VJO)] == false then
            call VEO(VJO, VFO(), true)
        endif
        call VGO(SM0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SM0)] + playerName[GetPlayerId(SM0)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SN0)] + playerName[GetPlayerId(SN0)] + "|r" + " " + GetObjectName('n064'))
        call VVO(SM0, SN0)
        call V4O(20, SQ0, SU0)
    elseif VXO == 3 then
        if SS0 == 1 then
            if T50 == false then
                set SM0 = scourgePlayers[3]
                set SN0 = scourgePlayers[4]
            else 
                set SM0 = scourgePlayers[1]
                set SN0 = scourgePlayers[1]
            endif
        else 
            if T50 == false then
                set SM0 = sentinelPlayers[3]
                set SN0 = sentinelPlayers[4]
            else 
                set SM0 = sentinelPlayers[1]
                set SN0 = sentinelPlayers[1]
            endif
        endif
        if SP0[GetPlayerId(VYO)] == false then
            call VEO(VYO, VFO(), true)
        endif
        if SP0[GetPlayerId(VJO)] == false then
            call VEO(VJO, VFO(), true)
        endif
        call VGO(SM0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SM0)] + playerName[GetPlayerId(SM0)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SN0)] + playerName[GetPlayerId(SN0)] + "|r" + " " + GetObjectName('n064'))
        call VVO(SM0, SN0)
        call V4O(20, SQ0, SU0)
    elseif VXO == 4 then
        if SS0 == 1 then
            if T50 == false then
                set SM0 = sentinelPlayers[4]
                set SN0 = sentinelPlayers[5]
            else 
                set SM0 = sentinelPlayers[1]
                set SN0 = sentinelPlayers[1]
            endif
        else 
            if T50 == false then
                set SM0 = scourgePlayers[4]
                set SN0 = scourgePlayers[5]
            else 
                set SM0 = scourgePlayers[1]
                set SN0 = scourgePlayers[1]
            endif
        endif
        if SP0[GetPlayerId(VYO)] == false then
            call VEO(VYO, VFO(), true)
        endif
        if SP0[GetPlayerId(VJO)] == false then
            call VEO(VJO, VFO(), true)
        endif
        call VGO(SM0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SM0)] + playerName[GetPlayerId(SM0)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SN0)] + playerName[GetPlayerId(SN0)] + "|r" + " " + GetObjectName('n064'))
        call VVO(SM0, SN0)
        call V4O(20, SQ0, SU0)
    elseif VXO == 5 then
        if SS0 == 1 then
            if T50 == false then
                set SM0 = scourgePlayers[5]
            else 
                set SM0 = scourgePlayers[1]
            endif
        else 
            if T50 == false then
                set SM0 = sentinelPlayers[5]
            else 
                set SN0 = sentinelPlayers[1]
            endif
        endif
        if SP0[GetPlayerId(VYO)] == false then
            call VEO(VYO, VFO(), true)
        endif
        if SP0[GetPlayerId(VJO)] == false then
            call VEO(VJO, VFO(), true)
        endif
        call VGO(SM0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(SM0)] + playerName[GetPlayerId(SM0)] + "|r" + " " + GetObjectName('n064'))
        call VVO(SM0, SN0)
        call V4O(20, SQ0, SU0)
    elseif VXO == 6 then
        if SP0[GetPlayerId(VYO)] == false then
            call VEO(VYO, VFO(), true)
        endif
        call SuspendTimeOfDay(false)
    endif
    if VXO == 7 then
        set SR0 = true
    endif
    if VXO == 8 then
        call ZLO()
        set i = 1
        loop
            exitwhen i > 20
            call RemoveUnit(SA0[i])
            set i = i + 1
        endloop
        call BZ1()
        call EXO(60)
        call UnitApplyTimedLife(S70[1], 'BTLF', 2)
        call UnitApplyTimedLife(S70[2], 'BTLF', 2)
        call UnitApplyTimedLife(S70[3], 'BTLF', 2)
        call UnitApplyTimedLife(S70[4], 'BTLF', 2)
        call UnitApplyTimedLife(S70[5], 'BTLF', 2)
        call UnitApplyTimedLife(S70[6], 'BTLF', 2)
        call UnitApplyTimedLife(S70[7], 'BTLF', 2)
        call UnitApplyTimedLife(S70[8], 'BTLF', 2)
        call UnitApplyTimedLife(S70[9], 'BTLF', 2)
        call UnitApplyTimedLife(S70[10], 'BTLF', 2)
        call UnitApplyTimedLife(S70[11], 'BTLF', 2)
        call UnitApplyTimedLife(S70[12], 'BTLF', 2)
        call abandonTrigger(T20)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 7, false)
        call TriggerAddCondition(t, Condition(function ZKO))
    else 
        call SaveInteger(hashTable, DMI, 25, (VXO + 1))
    endif
    set t = null
    set VYO = null
    set VJO = null
    return false
endfunction

function VKO takes unit E1I returns integer 
    local integer i = 1
    loop
        exitwhen i > 20
        if SA0[i] == E1I then
            return i
        endif
        set i = i + 1
    endloop
    return 0
endfunction

function VLO takes nothing returns boolean 
    local unit ZBO = GetSoldUnit()
    local player p = GetOwningPlayer(ZBO)
    call KillUnit(ZBO)
    if SP0[GetPlayerId(p)] == true then
        call displayErrorMessage(p, GetObjectName('n0D7'))
        set ZBO = null
        set p = null
        return false
    endif
    if p != SM0 and p != SN0 then
        call displayErrorMessage(p, GetObjectName('n0CR'))
        set ZBO = null
        set p = null
        return false
    endif
    if GetUnitTypeId(ZBO) == 'h06N' then
        call VEO(p, VKO(GetSellingUnit()), false)
        call KillUnit(T30[GetPlayerId(p)])
        call KillUnit(T40[GetPlayerId(p)])
    endif
    set ZBO = null
    set p = null
    return false
endfunction

function ModeRD_Selected takes nothing returns boolean 
    local unit VMO = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local player p = GetOwningPlayer(VMO)
    if GetSpellAbilityId() == 'A0ZB' and VKO(GDI) != 0 then
        if (p == SM0 or p == SN0) and SP0[GetPlayerId(p)] == false and S90[VKO(GDI)] == false then
            call VEO(p, VKO(GDI), false)
            call RemoveUnit(VMO)
        endif
    endif
    set GDI = null
    set p = null
    return false
endfunction

function VNO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI
    local integer i = 1
    call abandonTrigger(t)
    call SuspendTimeOfDay(true)
    set SS0 = GetRandomInt(1, 2)
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, " ")
    if SS0 == 1 then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n05K') + " " + playerColor[GetPlayerId(sentinelPlayers[0])] + GetObjectName('n065') + "|r" + " " + GetObjectName('n066'))
    else 
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n05K') + " " + playerColor[GetPlayerId(scourgePlayers[0])] + GetObjectName('n06C') + "|r" + " " + GetObjectName('n066'))
    endif
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, " ")
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 20, true)
    call TriggerAddCondition(t, Condition(function VWO))
    call SaveInteger(hashTable, DMI, 25, 0)
    call TriggerEvaluate(t)
    set t = null
    return false
endfunction

function ModeRD_SetCap takes nothing returns boolean 
    if T50 == false then
        set T50 = true
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n0GD'))
    endif
    return false
endfunction

function modeInitRandomDraft takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i = 1
    local real x
    local real y
    local real a
    local integer r
    local integer F5I
    local boolean VSO = false
    local boolean VTO = false
    local boolean VRO = false
    local boolean VPO = false
    local boolean VQO = false
    local boolean VUO = false
    local boolean W0O = false
    local boolean WIO = false
    local boolean W1O = false
    local boolean array WOO
    local player p
    local real YTI
    local boolean W2O = false
    local real z
    set N60 = false
    set T20 = CreateTrigger()
    call TriggerAddCondition(T20, Condition(function VLO))
    call GVI(GetLocalPlayer(), "Sound\\Interface\\Rescue.wav")
    set p = sentinelPlayers[1]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = sentinelPlayers[2]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = sentinelPlayers[3]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = sentinelPlayers[4]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = sentinelPlayers[5]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[1]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[2]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[3]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[4]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[5]
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    call TriggerRegisterTimerEvent(t, 15 - TimerGetElapsed(M), false)
    call TriggerAddCondition(t, Condition(function VNO))
    set ST0 = true
    set AL = 180
    set C3 = false
    set B3 = false
    call UnitAddAbility(houseIntSen, 'Agho')
    call UnitAddAbility(houseIntNeu, 'Agho')
    call UnitAddAbility(houseIntSco, 'Agho')
    call UnitAddAbility(houseStrSen, 'Agho')
    call UnitAddAbility(houseStrNeu, 'Agho')
    call UnitAddAbility(houseStrSco, 'Agho')
    call UnitAddAbility(houseAgiSen, 'Agho')
    call UnitAddAbility(houseAgiNeu, 'Agho')
    call UnitAddAbility(houseAgiSco, 'Agho')
    call UnitAddAbility(houseOtaku, 'Agho')
    call ShowUnit(houseIntSen, false)
    call ShowUnit(houseIntNeu, false)
    call ShowUnit(houseIntSco, false)
    call ShowUnit(houseStrSen, false)
    call ShowUnit(houseStrNeu, false)
    call ShowUnit(houseStrSco, false)
    call ShowUnit(houseAgiSen, false)
    call ShowUnit(houseAgiNeu, false)
    call ShowUnit(houseAgiSco, false)
    call ShowUnit(houseOtaku, false)
    set i = 1
    loop
        exitwhen i > 20
        set F5I = FQI(true, true)
        if VSO then
            set VSO = false
            if GetRandomInt(1, 3) != 1 then
                set F5I = 49
            endif
        elseif VTO then
            set VTO = false
            if GetRandomInt(1, 3) != 1 then
                set F5I = 96
            else 
                set F5I = 65
            endif
        elseif VRO then
            set VRO = false
            set z = GetRandomInt(1, 2)
            if z == 2 then
                set F5I = 55
            elseif z == 1 then
                set F5I = 66
            endif
        elseif VPO then
            set VPO = false
            set F5I = 65
        elseif VQO then
            set VQO = false
            set F5I = 49
        elseif VUO then
            set VUO = false
            if GetRandomInt(1, 2) == 1 then
                set F5I = 16
            else 
                set F5I = 86
            endif
        elseif W0O then
            set W0O = false
            if GetRandomInt(1, 2) == 1 then
                set F5I = 73
            else 
                set F5I = 83
            endif
        elseif WIO then
            set WIO = false
        elseif W1O then
            set W1O = false
        endif
        if WOO[F5I] == false and (F5I != 23) then
            set WOO[F5I] = true
            set S80[i] = F5I
            set i = i + 1
        endif
    endloop
    set S70[1] = CreateUnit(sentinelPlayers[0], 'n0DC', SV0, SW0, 0)
    set S70[2] = CreateUnit(sentinelPlayers[1], 'n0DC', SV0, SW0, 0)
    set S70[3] = CreateUnit(sentinelPlayers[2], 'n0DC', SV0, SW0, 0)
    set S70[4] = CreateUnit(sentinelPlayers[3], 'n0DC', SV0, SW0, 0)
    set S70[5] = CreateUnit(sentinelPlayers[4], 'n0DC', SV0, SW0, 0)
    set S70[6] = CreateUnit(sentinelPlayers[5], 'n0DC', SV0, SW0, 0)
    set S70[7] = CreateUnit(scourgePlayers[0], 'n0DC', SX0, SY0, 0)
    set S70[8] = CreateUnit(scourgePlayers[1], 'n0DC', SX0, SY0, 0)
    set S70[9] = CreateUnit(scourgePlayers[2], 'n0DC', SX0, SY0, 0)
    set S70[10] = CreateUnit(scourgePlayers[3], 'n0DC', SX0, SY0, 0)
    set S70[11] = CreateUnit(scourgePlayers[4], 'n0DC', SX0, SY0, 0)
    set S70[12] = CreateUnit(scourgePlayers[5], 'n0DC', SX0, SY0, 0)
    call PanCameraToTimedForPlayer(sentinelPlayers[1], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(sentinelPlayers[2], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(sentinelPlayers[3], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(sentinelPlayers[4], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(sentinelPlayers[5], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(scourgePlayers[1], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(scourgePlayers[2], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(scourgePlayers[3], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(scourgePlayers[4], SV0, SW0, 0)
    call PanCameraToTimedForPlayer(scourgePlayers[5], SV0, SW0, 0)
    set SQ0 = SV0
    set SU0 = SW0
    set T00 = SX0
    set TI0 = SY0
    set SB0[1] = SV0 + SK0*(-2)
    set SC0[1] = SW0 + SL0
    set SB0[2] = SV0 + SK0*(-1)
    set SC0[2] = SW0 + SL0
    set SB0[3] = SV0 + SK0*0
    set SC0[3] = SW0 + SL0
    set SB0[4] = SV0 + SK0*1
    set SC0[4] = SW0 + SL0
    set SB0[5] = SV0 + SK0*2
    set SC0[5] = SW0 + SL0
    set SD0[1] = SV0 + SK0*(-2)
    set SE0[1] = SW0 - SL0
    set SD0[2] = SV0 + SK0*(-1)
    set SE0[2] = SW0 - SL0
    set SD0[3] = SV0 + SK0*0
    set SE0[3] = SW0 - SL0
    set SD0[4] = SV0 + SK0*1
    set SE0[4] = SW0 - SL0
    set SD0[5] = SV0 + SK0*2
    set SE0[5] = SW0 - SL0
    set SF0[1] = SX0 + SK0*(-2)
    set SG0[1] = SY0 + SL0
    set SF0[2] = SX0 + SK0*(-1)
    set SG0[2] = SY0 + SL0
    set SF0[3] = SX0 + SK0*0
    set SG0[3] = SY0 + SL0
    set SF0[4] = SX0 + SK0*1
    set SG0[4] = SY0 + SL0
    set SF0[5] = SX0 + SK0*2
    set SG0[5] = SY0 + SL0
    set SH0[1] = SX0 + SK0*(-2)
    set SZ0[1] = SY0 - SL0
    set SH0[2] = SX0 + SK0*(-1)
    set SZ0[2] = SY0 - SL0
    set SH0[3] = SX0 + SK0*0
    set SZ0[3] = SY0 - SL0
    set SH0[4] = SX0 + SK0*1
    set SZ0[4] = SY0 - SL0
    set SH0[5] = SX0 + SK0*2
    set SZ0[5] = SY0 - SL0
    set YTI = SJ0
    set i = 1
    loop
        exitwhen i > 20
        if W2O == false then
            set W2O = true
        else 
            set W2O = false
        endif
        set a = i/I2R(20)*360.0
        set x = SV0 + YTI*Cos(a*bj_DEGTORAD)
        set y = SW0 + YTI*Sin(a*bj_DEGTORAD)
        set SA0[i] = CreateUnit(sentinelPlayers[0], heroSelectorId[S80[i]], x, y, getAngle(x, y, SV0, SW0))
        call ZMO(x, y)
        if W2O then
            call SetUnitColor(SA0[i], GetPlayerColor(scourgePlayers[5]))
        else 
            call SetUnitColor(SA0[i], GetPlayerColor(scourgePlayers[4]))
        endif
        call TriggerRegisterUnitEvent(T20, SA0[i], EVENT_UNIT_SELL)
        set i = i + 1
    endloop
    call F1I()
    set t = null
    set p = null
endfunction

function W3O takes nothing returns boolean 
    local unit ZBO = GetSoldUnit()
    local player p = GetOwningPlayer(ZBO)
    local integer i
    local real x
    local real y
    local real a
    if GetUnitTypeId(ZBO) == 'h06N' and IsPlayerAlly(GetOwningPlayer(ZBO), GetOwningPlayer(GetSellingUnit())) then
        if playerHero[GetPlayerId(p)] != null then
            call displayErrorMessage(p, GetObjectName('n0F3'))
            call KillUnit(ZBO)
            set ZBO = null
            set p = null
            return false
        endif
        set x = GetUnitX(GetSellingUnit())
        set y = GetUnitY(GetSellingUnit())
        set i = getHeroIdBySelectorId(GetUnitTypeId(GetSellingUnit()))
        set a = GetUnitFacing(GetSellingUnit())
        call RemoveUnit(GetSellingUnit())
        call CreateUnit(p, i, x, y, a)
    endif
    if GetUnitTypeId(ZBO) == 'h06N' then
        call KillUnit(ZBO)
    endif
    if playerHero[GetPlayerId(sentinelPlayers[1])] != null and playerHero[GetPlayerId(sentinelPlayers[2])] != null and playerHero[GetPlayerId(sentinelPlayers[3])] != null and playerHero[GetPlayerId(sentinelPlayers[4])] != null and playerHero[GetPlayerId(sentinelPlayers[5])] != null and playerHero[GetPlayerId(scourgePlayers[1])] != null and playerHero[GetPlayerId(scourgePlayers[2])] != null and playerHero[GetPlayerId(scourgePlayers[3])] != null and playerHero[GetPlayerId(scourgePlayers[4])] != null and playerHero[GetPlayerId(scourgePlayers[5])] != null then
        call abandonTrigger(GetTriggeringTrigger())
    endif
    set ZBO = null
    set p = null
    return false
endfunction

function W4O takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer JBI
    local integer JAI
    local string LLI
    local unit u
    local real x
    local real y
    local integer i
    local real d
    local real ZEO = GetRectCenterX(B4) + 125
    local real ZFO = GetRectCenterY(B4) + 75
    local real ZGO = GetRectCenterX(R3) + 100
    local real ZHO = GetRectCenterY(R3)
    set M70 = true
    set i = 1
    loop
        exitwhen i > 5
        set x = ZEO - 290 + (i - 1)*100
        set y = ZFO
        call CreateUnit(sentinelPlayers[i + 1], 'n00C', ZEO, ZFO, bj_UNIT_FACING)
        set u = CreateUnit(sentinelPlayers[0], heroSelectorId[TH0[i + 2]], x, y, 270)
        call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_SELL)
        call PanCameraToTimedForPlayer(sentinelPlayers[i], ZEO, ZFO, 0)
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > 5
        set x = ZGO - 290 + (i - 1)*100
        set y = ZHO
        call CreateUnit(scourgePlayers[i + 1], 'n00C', ZGO, ZHO, bj_UNIT_FACING)
        set u = CreateUnit(scourgePlayers[0], heroSelectorId[TZ0[i + 2]], x, y, 270)
        call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_SELL)
        call PanCameraToTimedForPlayer(scourgePlayers[i], ZGO, ZHO, 0)
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function W3O))
    call SuspendTimeOfDay(false)
    call EnableTrigger(E70)
    call EnableTrigger(CN)
    set AL = 90
    call GFO()
    set t = null
    set u = null
endfunction

function W5O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    set DN = true
    call abandonTrigger(t)
    call DestroyFogModifier( CreateFogModifierRadius(sentinelPlayers[0], FOG_OF_WAR_MASKED, NW0, NX0, 700, false, false) )
    call DestroyFogModifier( CreateFogModifierRadius(scourgePlayers[0], FOG_OF_WAR_MASKED, NW0, NX0, 700, false, false) )
    set t = null
    return false
endfunction

function W6O takes string S, real ZSO, real ZTO, real ZRO, real ZPO, real ZQO, boolean ZUO returns nothing
    set LK = CreateImage(S, ZSO, ZTO, 0, ZRO - (ZSO/2), ZPO - (ZTO/2), ZQO, 0, 0, 0, 2)
    call SetImageRenderAlways(LK, true)
    call ShowImage(LK, ZUO)
endfunction

function W7O takes string W8O, integer r, integer g, integer b, integer a, real x, real y returns image 
    call W6O("Fonts\\" + W8O + ".blp", 60, 60, x - 20, y, 0, true)
    call SetImageColor(LK, r, g, b, a)
    return LK
endfunction

function W9O takes boolean WAO, boolean WBO returns nothing
    local integer WCO
    local integer WDO
    local integer WEO
    local integer WFO
    local integer WGO
    local integer WHO
    local integer WZO
    local integer WVO
    local integer c1
    local integer c2
    local integer a = 0
    set WCO = TE0[1]
    set WDO = WCO/60
    set WEO = (WCO - WDO*60)/10
    set WFO = WCO - WDO*60 - WEO*10
    set WGO = TE0[2]
    set WHO = WGO/60
    set WZO = (WGO - WHO*60)/10
    set WVO = WGO - WHO*60 - WZO*10
    if WAO == false then
        call ShowImage(TN0, false)
        call DestroyImage(TN0)
        call ShowImage(TS0, false)
        call DestroyImage(TS0)
        call ShowImage(TT0, false)
        call DestroyImage(TT0)
        call ShowImage(TR0, false)
        call DestroyImage(TR0)
        call ShowImage(TP0, false)
        call DestroyImage(TP0)
        call ShowImage(TQ0, false)
        call DestroyImage(TQ0)
        call ShowImage(TU0, false)
        call DestroyImage(TU0)
        call ShowImage(R00, false)
        call DestroyImage(R00)
        call ShowImage(RI0, false)
        call DestroyImage(RI0)
        call ShowImage(R10, false)
        call DestroyImage(R10)
        call ShowImage(RO0, false)
        call DestroyImage(RO0)
        call ShowImage(R20, false)
        call DestroyImage(R20)
        call ShowImage(R30, false)
        call DestroyImage(R30)
        call ShowImage(R40, false)
        call DestroyImage(R40)
        call ShowImage(R50, false)
        call DestroyImage(R50)
        call ShowImage(R60, false)
        call DestroyImage(R60)
    endif
    if WBO == false then
        set c1 = 255
        set c2 = 255
        if TD0 == 1 then
            if IsPlayerAlly(sentinelPlayers[1], GetLocalPlayer()) then
                set a = 255
                set c1 = 0
            endif
        else 
            if IsPlayerAlly(scourgePlayers[1], GetLocalPlayer()) then
                set a = 255
                set c2 = 0
            endif
        endif
        set TN0 = W7O(I2S(WDO), 255, c1, c1, 255, NW0 - 40, NX0 + 300)
        set TS0 = W7O("58", 255, c1, c1, 255, NW0 - 0, NX0 + 300)
        set TT0 = W7O(I2S(WEO), 255, c1, c1, 255, NW0 + 20, NX0 + 300)
        set TR0 = W7O(I2S(WFO), 255, c1, c1, 255, NW0 + 60, NX0 + 300)
        set TP0 = W7O(I2S(WHO), 255, c2, c2, 255, NW0 - 40, NX0 - 300)
        set TQ0 = W7O("58", 255, c2, c2, 255, NW0 - 0, NX0 - 300)
        set TU0 = W7O(I2S(WZO), 255, c2, c2, 255, NW0 + 20, NX0 - 300)
        set R00 = W7O(I2S(WVO), 255, c2, c2, 255, NW0 + 60, NX0 - 300)
        if TF0 == 1 or TF0 == 2 or TF0 == 3 or TF0 == 4 then
            set RI0 = W7O("Y", 255, 0, 0, a, NW0 - 130, NX0)
            set R10 = W7O("O", 255, 0, 0, a, NW0 - 90, NX0)
            set RO0 = W7O("U", 255, 0, 0, a, NW0 - 50, NX0)
            set R20 = W7O("R", 255, 0, 0, a, NW0 - 10, NX0)
            set R30 = W7O("B", 255, 0, 0, a, NW0 + 70, NX0)
            set R40 = W7O("A", 255, 0, 0, a, NW0 + 110, NX0)
            set R50 = W7O("N", 255, 0, 0, a, NW0 + 150, NX0)
            set R60 = W7O("K", 255, 0, 0, 0, NW0 + 170, NX0)
        else 
            set RI0 = W7O("Y", 255, 0, 0, a, NW0 - 150, NX0)
            set R10 = W7O("O", 255, 0, 0, a, NW0 - 110, NX0)
            set RO0 = W7O("U", 255, 0, 0, a, NW0 - 70, NX0)
            set R20 = W7O("R", 255, 0, 0, a, NW0 - 30, NX0)
            set R30 = W7O("P", 255, 0, 0, a, NW0 + 50, NX0)
            set R40 = W7O("I", 255, 0, 0, a, NW0 + 90, NX0)
            set R50 = W7O("C", 255, 0, 0, a, NW0 + 130, NX0)
            set R60 = W7O("K", 255, 0, 0, a, NW0 + 170, NX0)
        endif
    endif
endfunction

function WWO takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i > TA0
        call RemoveUnit(TB0[i])
        set i = i + 1
    endloop
endfunction

function WXO takes real x, real y returns nothing
    set TB0[TA0] = CreateUnit(Player(0), 'h06I', x, y, 0)
    set TA0 = TA0 + 1
endfunction

function WYO takes integer WJO, boolean WKO returns nothing
    local player p
    local real d
    set TG0[WJO] = true
    set TL0[TD0] = TL0[TD0] - 1
    if TD0 == 1 then
        set p = sentinelPlayers[1]
        set TV0 = TV0 + 1
        set TH0[TV0] = T70[WJO]
        if TV0 < 3 then
            call UnitAddAbility(T90[WJO], 'Aetl')
            call UnitAddAbility(T90[WJO], 'Aloc')
        endif
        call SetUnitPosition(T90[WJO], TX0[TV0], TY0[TV0])
        set d = RMaxBJ(EAI(T90[WJO]) - 0.3, 0.5)
        call WXO(TX0[TV0], TY0[TV0])
        call SetUnitScale(T90[WJO], d, d, d)
        call SetUnitFacing(T90[WJO], 270)
        if WKO == false then
            if TF0 == 1 or TF0 == 2 or TF0 == 3 or TF0 == 4 then
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r " + GetObjectName('n0H5') + " " + GetUnitName(T90[WJO]))
                call L1I("Ban" + I2S(GetPlayerId(p)), heroId[T70[WJO]])
            else 
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r " + GetObjectName('n0H6') + " " + GetUnitName(T90[WJO]))
                call L1I("Pick" + I2S(GetPlayerId(p)), heroId[T70[WJO]])
            endif
        else 
            if TF0 == 1 or TF0 == 2 or TF0 == 3 or TF0 == 4 then
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r " + GetObjectName('n0H7') + " " + GetUnitName(T90[WJO]))
                call L1I("Ban" + I2S(GetPlayerId(p)), heroId[T70[WJO]])
            else 
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r " + GetObjectName('n0H8') + " " + GetUnitName(T90[WJO]))
                call L1I("Pick" + I2S(GetPlayerId(p)), heroId[T70[WJO]])
            endif
        endif
    else 
        set p = scourgePlayers[1]
        set TW0 = TW0 + 1
        set TZ0[TW0] = T70[WJO]
        if TW0 < 3 then
            call UnitAddAbility(T90[WJO], 'Aetl')
            call UnitAddAbility(T90[WJO], 'Aloc')
        endif
        call SetUnitPosition(T90[WJO], TJ0[TW0], TK0[TW0])
        set d = RMaxBJ(EAI(T90[WJO]) - 0.3, 0.5)
        call WXO(TJ0[TW0], TK0[TW0])
        call SetUnitScale(T90[WJO], d, d, d)
        call SetUnitFacing(T90[WJO], 90)
        if WKO == false then
            if TF0 == 1 or TF0 == 2 or TF0 == 3 or TF0 == 4 then
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r " + GetObjectName('n0H5') + " " + GetUnitName(T90[WJO]))
                call L1I("Ban" + I2S(GetPlayerId(p)), heroId[T70[WJO]])
            else 
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r " + GetObjectName('n0H6') + " " + GetUnitName(T90[WJO]))
                call L1I("Pick" + I2S(GetPlayerId(p)), heroId[T70[WJO]])
            endif
        else 
            if TF0 == 1 or TF0 == 2 or TF0 == 3 or TF0 == 4 then
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r " + GetObjectName('n0H7') + " " + GetUnitName(T90[WJO]))
                call L1I("Ban" + I2S(GetPlayerId(p)), heroId[T70[WJO]])
            else 
                call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, playerColor[GetPlayerId(p)] + playerName[GetPlayerId(p)] + "|r " + GetObjectName('n0H8') + " " + GetUnitName(T90[WJO]))
                call L1I("Pick" + I2S(GetPlayerId(p)), heroId[T70[WJO]])
            endif
        endif
    endif
    call PauseUnit(T90[WJO], true)
    call SetUnitOwner(T90[WJO], p, true)
endfunction

function WLO takes unit E1I returns integer 
    local integer i = 1
    loop
        exitwhen i > 24
        if T90[i] == E1I then
            return i
        endif
        set i = i + 1
    endloop
    return 0
endfunction

function WMO takes nothing returns nothing
    local integer i
    loop
        set i = GetRandomInt(1, 24)
        exitwhen TG0[i] == false
    endloop
    call WYO(i, true)
endfunction

function WNO takes nothing returns boolean 
    local unit ZBO = GetSoldUnit()
    local player p = GetOwningPlayer(ZBO)
    local integer id = GetPlayerId(p)
    local player WSO
    if TD0 == 1 then
        set WSO = sentinelPlayers[1]
    else 
        set WSO = scourgePlayers[1]
    endif
    call KillUnit(ZBO)
    if TM0 or TL0[TD0] < 1 or p != WSO then
        call displayErrorMessage(p, GetObjectName('n0CR'))
    elseif GetUnitTypeId(ZBO) == 'h06N' then
        call WYO(WLO(GetSellingUnit()), false)
    endif
    set ZBO = null
    return false
endfunction

function WTO takes nothing returns boolean 
    local integer i = 1
    local trigger t
    call abandonTrigger(GetTriggeringTrigger())
    loop
        exitwhen i > 24
        call RemoveUnit(T90[i])
        set i = i + 1
    endloop
    call SuspendTimeOfDay(false)
    call WWO()
    call BZ1()
    call EXO(90)
    call UnitApplyTimedLife(T80[1], 'BTLF', 2)
    call UnitApplyTimedLife(T80[2], 'BTLF', 2)
    call UnitApplyTimedLife(T80[3], 'BTLF', 2)
    call UnitApplyTimedLife(T80[4], 'BTLF', 2)
    call UnitApplyTimedLife(T80[5], 'BTLF', 2)
    call UnitApplyTimedLife(T80[6], 'BTLF', 2)
    call UnitApplyTimedLife(T80[7], 'BTLF', 2)
    call UnitApplyTimedLife(T80[8], 'BTLF', 2)
    call UnitApplyTimedLife(T80[9], 'BTLF', 2)
    call UnitApplyTimedLife(T80[10], 'BTLF', 2)
    call UnitApplyTimedLife(T80[11], 'BTLF', 2)
    call UnitApplyTimedLife(T80[12], 'BTLF', 2)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 7, false)
    call TriggerAddCondition(t, Condition(function W5O))
    set t = null
    call W4O()
    return false
endfunction

function WRO takes nothing returns boolean 
    local integer i
    local trigger t
    local force f
    local string c = "|c006699CC"
    set TE0[TD0] = IMaxBJ(TE0[TD0] - 1, 0)
    call W9O(false, false)
    if TL0[TD0] < 1 then
        if TD0 == 1 then
            call GVI(sentinelPlayers[1], "Sound\\Interface\\Rescue.wav")
            call GVI(sentinelPlayers[2], "Sound\\Interface\\Rescue.wav")
            call GVI(sentinelPlayers[3], "Sound\\Interface\\Rescue.wav")
            call GVI(sentinelPlayers[4], "Sound\\Interface\\Rescue.wav")
            call GVI(sentinelPlayers[5], "Sound\\Interface\\Rescue.wav")
        else 
            call GVI(scourgePlayers[1], "Sound\\Interface\\Rescue.wav")
            call GVI(scourgePlayers[2], "Sound\\Interface\\Rescue.wav")
            call GVI(scourgePlayers[3], "Sound\\Interface\\Rescue.wav")
            call GVI(scourgePlayers[4], "Sound\\Interface\\Rescue.wav")
            call GVI(scourgePlayers[5], "Sound\\Interface\\Rescue.wav")
        endif
        set TF0 = TF0 + 1
        if TD0 == 1 then
            set TD0 = 2
            set f = BO
        else 
            set TD0 = 1
            set f = AO
        endif
        set TE0[TD0] = IMaxBJ(TE0[TD0], 6)
        if TF0 == 1 or TF0 == 2 or TF0 == 3 or TF0 == 4 then
            set TL0[TD0] = 1
            call dispTimedTextToForce(f, 15, c + GetObjectName('n0H2') + "|r")
        elseif TF0 == 5 then
            set TL0[TD0] = 1
            call dispTimedTextToForce(f, 15, c + GetObjectName('n0H3') + "|r")
        elseif TF0 == 6 or TF0 == 7 or TF0 == 8 or TF0 == 9 then
            set TL0[TD0] = 2
            call dispTimedTextToForce(f, 15, c + GetObjectName('n0H4') + "|r")
        elseif TF0 == 10 then
            set TL0[TD0] = 1
            call dispTimedTextToForce(f, 15, c + GetObjectName('n0H3') + "|r")
        else 
            call W9O(false, true)
            call abandonTrigger(GetTriggeringTrigger())
            call abandonTrigger(T60)
            set t = CreateTrigger()
            call TriggerRegisterTimerEvent(t, 6, false)
            call TriggerAddCondition(t, Condition(function WTO))
            set t = null
            call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n0H9'))
        endif
    elseif TE0[TD0] == 0 then
        call WMO()
    endif
    return false
endfunction

function WPO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local force f
    local string c = "|c006699CC"
    call abandonTrigger(t)
    set TC0 = GetRandomInt(1, 2)
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, " ")
    if TC0 == 1 then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n05K') + " " + playerColor[GetPlayerId(sentinelPlayers[0])] + GetObjectName('n065') + "|r" + " " + GetObjectName('n066'))
    else 
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n05K') + " " + playerColor[GetPlayerId(scourgePlayers[0])] + GetObjectName('n06C') + "|r" + " " + GetObjectName('n066'))
    endif
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, " ")
    set TD0 = TC0
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function WRO))
    set TE0[1] = 150
    set TE0[2] = 150
    set TF0 = 1
    set TL0[TD0] = 1
    call W9O(true, false)
    if TD0 == 1 then
        set f = AO
    else 
        set f = BO
    endif
    call dispTimedTextToForce(f, 15, c + GetObjectName('n0H2') + "|r")
    set TM0 = false
    set t = null
    return false
endfunction

function Z0O takes nothing returns nothing
    local integer i
    local player p
    local boolean W2O = false
    local real a
    local real x
    local real y
    local trigger t
    local integer F5I
    local boolean VSO = false
    local boolean VTO = false
    local boolean VRO = false
    local boolean VPO = false
    local boolean VQO = false
    local boolean VUO = false
    local boolean W0O = false
    local boolean WIO = false
    local boolean W1O = false
    local integer z
    local string c = "|c006699CC"
    local boolean array WOO
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15, false)
    call TriggerAddCondition(t, Condition(function WPO))
    set t = null
    set TD0 = -1
    set N60 = false
    set AN = true
    set C3 = false
    set B3 = false
    set M70 = false
    call GVI(GetLocalPlayer(), "Sound\\Interface\\Rescue.wav")
    call SuspendTimeOfDay(true)
    set T60 = CreateTrigger()
    call UnitAddAbility(houseIntSen, 'Agho')
    call UnitAddAbility(houseIntNeu, 'Agho')
    call UnitAddAbility(houseIntSco, 'Agho')
    call UnitAddAbility(houseStrSen, 'Agho')
    call UnitAddAbility(houseStrNeu, 'Agho')
    call UnitAddAbility(houseStrSco, 'Agho')
    call UnitAddAbility(houseAgiSen, 'Agho')
    call UnitAddAbility(houseAgiNeu, 'Agho')
    call UnitAddAbility(houseAgiSco, 'Agho')
    call UnitAddAbility(houseOtaku, 'Agho')
    set p = sentinelPlayers[1]
    set T80[1] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = sentinelPlayers[2]
    set T80[2] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = sentinelPlayers[3]
    set T80[3] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = sentinelPlayers[4]
    set T80[4] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = sentinelPlayers[5]
    set T80[5] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[1]
    set T80[6] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[2]
    set T80[7] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[3]
    set T80[8] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[4]
    set T80[9] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set p = scourgePlayers[5]
    set T80[10] = CreateUnit(p, 'n0DC', NW0, NX0, 0)
    call PanCameraToTimedForPlayer(p, NW0, NX0, 0)
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
    set TX0[1] = NW0 + R80*(-3.5)
    set TY0[1] = NX0 + R90
    set TX0[2] = NW0 + R80*3.5
    set TY0[2] = NX0 + R90
    set TX0[3] = NW0 + R80*(-2)
    set TY0[3] = NX0 + R90
    set TX0[4] = NW0 + R80*(-1)
    set TY0[4] = NX0 + R90
    set TX0[5] = NW0 + R80*0
    set TY0[5] = NX0 + R90
    set TX0[6] = NW0 + R80*1
    set TY0[6] = NX0 + R90
    set TX0[7] = NW0 + R80*2
    set TY0[7] = NX0 + R90
    set TJ0[1] = NW0 + R80*(-3.5)
    set TK0[1] = NX0 - R90
    set TJ0[2] = NW0 + R80*3.5
    set TK0[2] = NX0 - R90
    set TJ0[3] = NW0 + R80*(-2)
    set TK0[3] = NX0 - R90
    set TJ0[4] = NW0 + R80*(-1)
    set TK0[4] = NX0 - R90
    set TJ0[5] = NW0 + R80*0
    set TK0[5] = NX0 - R90
    set TJ0[6] = NW0 + R80*1
    set TK0[6] = NX0 - R90
    set TJ0[7] = NW0 + R80*2
    set TK0[7] = NX0 - R90
    call killDestructables(NW0, NX0, 600)
    set i = 1
    loop
        exitwhen i > 24
        set F5I = FQI(true, true)
        if VSO then
            set VSO = false
            if GetRandomInt(1, 3) != 1 then
                set F5I = 49
            endif
        elseif VTO then
            set VTO = false
            if GetRandomInt(1, 3) != 1 then
                set F5I = 96
            else 
                set F5I = 65
            endif
        elseif VRO then
            set VRO = false
            set z = GetRandomInt(1, 2)
            if z == 2 then
                set F5I = 55
            elseif z == 1 then
                set F5I = 66
            endif
        elseif VPO then
            set VPO = false
            set F5I = 65
        elseif VQO then
            set VQO = false
            set F5I = 49
        elseif VUO then
            set VUO = false
            if GetRandomInt(1, 2) == 1 then
                set F5I = 16
            else 
                set F5I = 86
            endif
        elseif W0O then
            set W0O = false
            if GetRandomInt(1, 2) == 1 then
                set F5I = 73
            else 
                set F5I = 83
            endif
        elseif WIO then
            set WIO = false
        elseif W1O then
            set W1O = false
        endif
        if WOO[F5I] == false then
            set WOO[F5I] = true
            set T70[i] = F5I
            call L1I("Pool" + I2S(i), heroId[T70[i]])
            if W2O == false then
                set W2O = true
            else 
                set W2O = false
            endif
            set a = (i/I2R(24))*360.0
            set x = NW0 + R70*Cos(a*bj_DEGTORAD)
            set y = NX0 + R70*Sin(a*bj_DEGTORAD)
            set T90[i] = CreateUnit(sentinelPlayers[0], heroSelectorId[T70[i]], x, y, getAngle(x, y, NW0, NX0))
            call SetUnitPathing(T90[i], false)
            call SetUnitX(T90[i], x)
            call SetUnitY(T90[i], y)
            call WXO(x, y)
            if W2O then
                call SetUnitColor(T90[i], GetPlayerColor(scourgePlayers[5]))
            else 
                call SetUnitColor(T90[i], GetPlayerColor(scourgePlayers[4]))
            endif
            set TG0[i] = false
            call TriggerRegisterUnitEvent(T60, T90[i], EVENT_UNIT_SELL)
            set i = i + 1
        endif
    endloop
    call TriggerAddCondition(T60, Condition(function WNO))
    call F1I()
endfunction

function WQO takes player p, integer E7I returns nothing
    local integer i = 1
    loop
        exitwhen i > 5
        if p != sentinelPlayers[i] then
            call SetPlayerTechMaxAllowed(sentinelPlayers[i], E7I, 0)
        endif
        if p != scourgePlayers[i] then
            call SetPlayerTechMaxAllowed(scourgePlayers[i], E7I, 0)
        endif
        set i = i + 1
    endloop
endfunction

function ModeSD_Chosen takes nothing returns boolean 
    local string A7O = GetEventPlayerChatString()
    local integer a = S2I( SubString(A7O, 6, StringLength(A7O)) )
    local integer E7I
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local location N0I = GetRectCenter(H4)
    local location NII = GetRectCenter(G4)
    local player p = GetTriggerPlayer()
    if a == 1 then
        set E7I = LoadInteger(hashTable, DMI, 166)
    elseif a == 2 then
        set E7I = LoadInteger(hashTable, DMI, 167)
    elseif a == 3 then
        set E7I = LoadInteger(hashTable, DMI, 168)
    else 
        call RemoveLocation(N0I)
        call RemoveLocation(NII)
        set N0I = null
        set NII = null
        return false
    endif
    if GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) >= 250 then
        if isPlayerSentinel(p) then
            set playerHero[GetPlayerId(p)] = CreateUnitAtLoc(p, heroId[E7I], N0I, 0)
        else 
            set playerHero[GetPlayerId(p)] = CreateUnitAtLoc(p, heroId[E7I], NII, 0)
        endif
        call WRI(p)
        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 250)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call displayErrorMessage(p, GetObjectName('n033'))
    endif
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    set N0I = null
    set NII = null
    set t = null
    set p = null
    return false
endfunction

function WUO takes integer X0O returns integer 
    local integer A8O
    if X0O == 1 then
        set A8O = GetUnitPointValueByType(agilityHeroes[GetRandomInt(1, numAgilityHeroes)])
    elseif X0O == 2 then
        set A8O = GetUnitPointValueByType(strengthHeroes[GetRandomInt(1, numStrengthHeroes)])
    elseif X0O == 3 then
        set A8O = GetUnitPointValueByType(intelligenceHeroes[GetRandomInt(1, numIntelligenceHeroes)])
    endif
    return A8O
endfunction

function XIO takes integer X1O, integer XOO, integer X0O returns integer 
    local integer FMI
    local integer FNI
    local integer A8O
    set A8O = WUO(X0O)
    if H2 and X1O != A8O and XOO != A8O then
        return A8O
    endif
    loop
        exitwhen R[A8O] == false and X1O != A8O and XOO != A8O
        set A8O = WUO(X0O)
    endloop
    set R[A8O] = true
    return A8O
endfunction

function HGO takes nothing returns nothing
    local player p
    local integer i = 1
    local integer X2O
    local integer X3O
    local integer X4O
    local trigger t
    local integer DMI
    set RA0 = true
    set AL = 120
    set B3 = false
    set C3 = false
    call PauseUnit(houseIntSen, true)
    call PauseUnit(houseIntNeu, true)
    call PauseUnit(houseIntSco, true)
    call PauseUnit(houseAgiSen, true)
    call PauseUnit(houseAgiNeu, true)
    call PauseUnit(houseAgiSco, true)
    call PauseUnit(houseStrSen, true)
    call PauseUnit(houseStrNeu, true)
    call PauseUnit(houseStrSco, true)
    call PauseUnit(houseOtaku, true)
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        set X2O = 0
        set X3O = 0
        set X4O = 0
        if isPlayerAlive(p) then
            call UnitAddAbility(CT0[GetPlayerId(p)], 'A14F')
            call UnitAddAbility(CT0[GetPlayerId(p)], 'A14E')
            call UnitAddAbility(CT0[GetPlayerId(p)], 'A14H')
            set X2O = XIO(X2O, X3O, 1)
            set X3O = XIO(X2O, X3O, 2)
            set X4O = XIO(X2O, X3O, 3)
            call AddUnitToStock(CT0[GetPlayerId(p)], heroId[X2O], 1, 1)
            call WQO(p, heroId[X2O])
            call AddUnitToStock(CT0[GetPlayerId(p)], heroId[X3O], 1, 1)
            call WQO(p, heroId[X3O])
            call AddUnitToStock(CT0[GetPlayerId(p)], heroId[X4O], 1, 1)
            call WQO(p, heroId[X4O])
            call ClearSelectionForPlayer(p)
            call SelectUnitAddForPlayer(CT0[GetPlayerId(p)], p)
            call PanCameraToTimedForPlayer(p, GetRectCenterX(B4), GetRectCenterY(B4), 0)
            call DisplayTimedTextToPlayer(p, 0, O3, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, O3, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, O3, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, O3, 15, "|cff99ccff" + GetObjectName('n0E6') + "|r")
            call DisplayTimedTextToPlayer(p, 0, O3, 15, " ")
        endif
        set p = scourgePlayers[i]
        set X2O = 0
        set X3O = 0
        set X4O = 0
        if isPlayerAlive(p) then
            call UnitAddAbility(CT0[GetPlayerId(p)], 'A14F')
            call UnitAddAbility(CT0[GetPlayerId(p)], 'A14E')
            call UnitAddAbility(CT0[GetPlayerId(p)], 'A14H')
            set X2O = XIO(X2O, X3O, 1)
            set X3O = XIO(X2O, X3O, 2)
            set X4O = XIO(X2O, X3O, 3)
            call AddUnitToStock(CT0[GetPlayerId(p)], heroId[X2O], 1, 1)
            call WQO(p, heroId[X2O])
            call AddUnitToStock(CT0[GetPlayerId(p)], heroId[X3O], 1, 1)
            call WQO(p, heroId[X3O])
            call AddUnitToStock(CT0[GetPlayerId(p)], heroId[X4O], 1, 1)
            call WQO(p, heroId[X4O])
            call ClearSelectionForPlayer(p)
            call SelectUnitAddForPlayer(CT0[GetPlayerId(p)], p)
            call PanCameraToTimedForPlayer(p, GetRectCenterX(R3), GetRectCenterY(R3), 0)
            call DisplayTimedTextToPlayer(p, 0, O3, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, O3, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, O3, 15, " ")
            call DisplayTimedTextToPlayer(p, 0, O3, 15, "|cff99ccff" + GetObjectName('n0E6') + "|r")
            call DisplayTimedTextToPlayer(p, 0, O3, 15, " ")
        endif
        set i = i + 1
    endloop
    set p = null
    set t = null
endfunction

function X5O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer W3I = LoadInteger(hashTable, DMI, 55)
    local player p
    local integer F5I
    local location N0I = GetRectCenter(B4)
    local location NII = GetRectCenter(R3)
    if W3I < 6 then
        set p = sentinelPlayers[W3I]
    elseif W3I < 11 then
        set p = scourgePlayers[W3I - 5]
    endif
    if W3I > 10 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if deathMatchMode == false then
            set C3 = true
        endif
    elseif W3I < 6 then
        call SaveInteger(hashTable, DMI, 55, (W3I + 1))
        set playerHero[GetPlayerId(p)] = null
        if isPlayerAlive(p) then
            loop
                exitwhen playerHero[GetPlayerId(p)] != null
                set F5I = F4I()
                if R[F5I] == false then
                    if not H2 then
                        set R[F5I] = true
                    endif
                    set playerHero[GetPlayerId(p)] = CreateUnitAtLoc(p, heroId[F5I], N0I, bj_UNIT_FACING)
                endif
            endloop
        endif
    elseif W3I < 11 then
        call SaveInteger(hashTable, DMI, 55, (W3I + 1))
        set playerHero[GetPlayerId(p)] = null
        if isPlayerAlive(p) then
            loop
                exitwhen playerHero[GetPlayerId(p)] != null
                set F5I = F4I()
                if R[F5I] == false then
                    if not H2 then
                        set R[F5I] = true
                    endif
                    set playerHero[GetPlayerId(p)] = CreateUnitAtLoc(p, heroId[F5I], NII, bj_UNIT_FACING)
                endif
            endloop
        endif
    endif
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    set N0I = null
    set NII = null
    set p = null
    set t = null
    return false
endfunction

function H7O takes nothing returns nothing
    local location N0I = GetRectCenter(B4)
    local location NII = GetRectCenter(R3)
    local location X6O = GetRectCenter(B4)
    local location X7O = GetRectCenter(R3)
    local integer EUI = 1
    local integer F0I = 5
    local integer F5I
    local trigger t
    set Y0 = true
    set B3 = false
    if not H2 then
        call F1I()
    endif
    set T0 = 400
    call PanCameraToTimedLocForPlayer(sentinelPlayers[1], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[2], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[3], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[4], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[5], X6O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[1], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[2], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[3], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[4], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[5], X7O, 0)
    if K2 then
        loop
            set F5I = F4I()
            exitwhen R[F5I] == false
        endloop
        if isPlayerSentinel(firstPlayerAlive) then
            set playerHero[GetPlayerId(firstPlayerAlive)] = CreateUnit(firstPlayerAlive, heroId[F5I], GetLocationX(N0I), GetLocationY(N0I), 270)
        else 
            set playerHero[GetPlayerId(firstPlayerAlive)] = CreateUnit(firstPlayerAlive, heroId[F5I], GetLocationX(NII), GetLocationY(NII), 270)
        endif
        call RemoveLocation(N0I)
        call RemoveLocation(NII)
        call RemoveLocation(X6O)
        call RemoveLocation(X7O)
        set N0I = null
        set NII = null
        set X6O = null
        set X7O = null
        set t = null
        return
    endif
    set C3 = false
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddCondition(t, Condition(function X5O))
    call SaveInteger(hashTable, GetHandleId(t), 55, 1)
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    call RemoveLocation(X6O)
    call RemoveLocation(X7O)
    set N0I = null
    set NII = null
    set X6O = null
    set X7O = null
    set t = null
endfunction

function X8O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    call abandonTrigger(t)
    set A3 = true
    set t = null
    return false
endfunction

function X9O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local trigger XAO = LoadTriggerHandle(hashTable, DMI, 35)
    local integer i
    local integer x
    local integer F5I
    local integer XBO = EMI(AO)
    local integer XCO = EMI(BO)
    local location N0I = GetRectCenter(H4)
    local location NII = GetRectCenter(G4)
    local location X6O = GetRectCenter(B4)
    local location X7O = GetRectCenter(R3)
    call abandonTrigger(XAO)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set RV0 = LoadInteger(hashTable, 2001, 126)
    set RW0 = LoadInteger(hashTable, 2001, 127)
    set RX0 = LoadInteger(hashTable, 2001, 128)
    set i = 1
    loop
        exitwhen i > XBO
        set RZ0[i] = RC0[i]
        set i = i + 1
    endloop
    set x = GetRandomInt(1, 3)
    if x == 1 then
        if XBO == 1 then
            set RZ0[1] = RC0[1]
        elseif XBO == 2 then
            set RZ0[1] = RC0[2]
            set RZ0[2] = RC0[1]
        elseif XBO == 3 then
            set RZ0[1] = RC0[3]
            set RZ0[2] = RC0[1]
            set RZ0[3] = RC0[2]
        elseif XBO == 4 then
            set RZ0[1] = RC0[4]
            set RZ0[2] = RC0[3]
            set RZ0[3] = RC0[2]
            set RZ0[4] = RC0[1]
        elseif XBO == 5 then
            set RZ0[1] = RC0[5]
            set RZ0[2] = RC0[4]
            set RZ0[3] = RC0[1]
            set RZ0[4] = RC0[2]
            set RZ0[5] = RC0[3]
        endif
    elseif x == 2 then
        if XBO == 1 then
            set RZ0[1] = RC0[1]
        elseif XBO == 2 then
            set RZ0[1] = RC0[2]
            set RZ0[2] = RC0[1]
        elseif XBO == 3 then
            set RZ0[1] = RC0[2]
            set RZ0[2] = RC0[3]
            set RZ0[3] = RC0[1]
        elseif XBO == 4 then
            set RZ0[1] = RC0[3]
            set RZ0[2] = RC0[1]
            set RZ0[3] = RC0[4]
            set RZ0[4] = RC0[2]
        elseif XBO == 5 then
            set RZ0[1] = RC0[4]
            set RZ0[2] = RC0[3]
            set RZ0[3] = RC0[2]
            set RZ0[4] = RC0[5]
            set RZ0[5] = RC0[1]
        endif
    else 
        if XBO == 1 then
            set RZ0[1] = RC0[1]
        elseif XBO == 2 then
            set RZ0[1] = RC0[1]
            set RZ0[2] = RC0[2]
        elseif XBO == 3 then
            set RZ0[1] = RC0[3]
            set RZ0[2] = RC0[2]
            set RZ0[3] = RC0[1]
        elseif XBO == 4 then
            set RZ0[1] = RC0[2]
            set RZ0[2] = RC0[4]
            set RZ0[3] = RC0[3]
            set RZ0[4] = RC0[1]
        elseif XBO == 5 then
            set RZ0[1] = RC0[5]
            set RZ0[2] = RC0[1]
            set RZ0[3] = RC0[3]
            set RZ0[4] = RC0[4]
            set RZ0[5] = RC0[2]
        endif
    endif
    set i = 1
    loop
        exitwhen i > XBO
        set RC0[i] = RZ0[i]
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XBO
        set RZ0[i] = RD0[i]
        set i = i + 1
    endloop
    set x = GetRandomInt(1, 3)
    if x == 1 then
        if XBO == 1 then
            set RZ0[1] = RD0[1]
        elseif XBO == 2 then
            set RZ0[1] = RD0[2]
            set RZ0[2] = RD0[1]
        elseif XBO == 3 then
            set RZ0[1] = RD0[3]
            set RZ0[2] = RD0[1]
            set RZ0[3] = RD0[2]
        elseif XBO == 4 then
            set RZ0[1] = RD0[4]
            set RZ0[2] = RD0[3]
            set RZ0[3] = RD0[2]
            set RZ0[4] = RD0[1]
        elseif XBO == 5 then
            set RZ0[1] = RD0[5]
            set RZ0[2] = RD0[4]
            set RZ0[3] = RD0[1]
            set RZ0[4] = RD0[2]
            set RZ0[5] = RD0[3]
        endif
    elseif x == 2 then
        if XBO == 1 then
            set RZ0[1] = RD0[1]
        elseif XBO == 2 then
            set RZ0[1] = RD0[2]
            set RZ0[2] = RD0[1]
        elseif XBO == 3 then
            set RZ0[1] = RD0[2]
            set RZ0[2] = RD0[3]
            set RZ0[3] = RD0[1]
        elseif XBO == 4 then
            set RZ0[1] = RD0[3]
            set RZ0[2] = RD0[1]
            set RZ0[3] = RD0[4]
            set RZ0[4] = RD0[2]
        elseif XBO == 5 then
            set RZ0[1] = RD0[4]
            set RZ0[2] = RD0[3]
            set RZ0[3] = RD0[2]
            set RZ0[4] = RD0[5]
            set RZ0[5] = RD0[1]
        endif
    else 
        if XBO == 1 then
            set RZ0[1] = RD0[1]
        elseif XBO == 2 then
            set RZ0[1] = RD0[1]
            set RZ0[2] = RD0[2]
        elseif XBO == 3 then
            set RZ0[1] = RD0[3]
            set RZ0[2] = RD0[2]
            set RZ0[3] = RD0[1]
        elseif XBO == 4 then
            set RZ0[1] = RD0[2]
            set RZ0[2] = RD0[4]
            set RZ0[3] = RD0[3]
            set RZ0[4] = RD0[1]
        elseif XBO == 5 then
            set RZ0[1] = RD0[5]
            set RZ0[2] = RD0[1]
            set RZ0[3] = RD0[3]
            set RZ0[4] = RD0[4]
            set RZ0[5] = RD0[2]
        endif
    endif
    set i = 1
    loop
        exitwhen i > XBO
        set RD0[i] = RZ0[i]
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XBO
        set RZ0[i] = RE0[i]
        set i = i + 1
    endloop
    set x = GetRandomInt(1, 3)
    if x == 1 then
        if XBO == 1 then
            set RZ0[1] = RE0[1]
        elseif XBO == 2 then
            set RZ0[1] = RE0[2]
            set RZ0[2] = RE0[1]
        elseif XBO == 3 then
            set RZ0[1] = RE0[3]
            set RZ0[2] = RE0[1]
            set RZ0[3] = RE0[2]
        elseif XBO == 4 then
            set RZ0[1] = RE0[4]
            set RZ0[2] = RE0[3]
            set RZ0[3] = RE0[2]
            set RZ0[4] = RE0[1]
        elseif XBO == 5 then
            set RZ0[1] = RE0[5]
            set RZ0[2] = RE0[4]
            set RZ0[3] = RE0[1]
            set RZ0[4] = RE0[2]
            set RZ0[5] = RE0[3]
        endif
    elseif x == 2 then
        if XBO == 1 then
            set RZ0[1] = RE0[1]
        elseif XBO == 2 then
            set RZ0[1] = RE0[2]
            set RZ0[2] = RE0[1]
        elseif XBO == 3 then
            set RZ0[1] = RE0[2]
            set RZ0[2] = RE0[3]
            set RZ0[3] = RE0[1]
        elseif XBO == 4 then
            set RZ0[1] = RE0[3]
            set RZ0[2] = RE0[1]
            set RZ0[3] = RE0[4]
            set RZ0[4] = RE0[2]
        elseif XBO == 5 then
            set RZ0[1] = RE0[4]
            set RZ0[2] = RE0[3]
            set RZ0[3] = RE0[2]
            set RZ0[4] = RE0[5]
            set RZ0[5] = RE0[1]
        endif
    else 
        if XBO == 1 then
            set RZ0[1] = RE0[1]
        elseif XBO == 2 then
            set RZ0[1] = RE0[1]
            set RZ0[2] = RE0[2]
        elseif XBO == 3 then
            set RZ0[1] = RE0[3]
            set RZ0[2] = RE0[2]
            set RZ0[3] = RE0[1]
        elseif XBO == 4 then
            set RZ0[1] = RE0[2]
            set RZ0[2] = RE0[4]
            set RZ0[3] = RE0[3]
            set RZ0[4] = RE0[1]
        elseif XBO == 5 then
            set RZ0[1] = RE0[5]
            set RZ0[2] = RE0[1]
            set RZ0[3] = RE0[3]
            set RZ0[4] = RE0[4]
            set RZ0[5] = RE0[2]
        endif
    endif
    set i = 1
    loop
        exitwhen i > XBO
        set RE0[i] = RZ0[i]
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XBO
        set RZ0[i] = RF0[i]
        set i = i + 1
    endloop
    set x = GetRandomInt(1, 3)
    if x == 1 then
        if XBO == 1 then
            set RZ0[1] = RF0[1]
        elseif XBO == 2 then
            set RZ0[1] = RF0[2]
            set RZ0[2] = RF0[1]
        elseif XBO == 3 then
            set RZ0[1] = RF0[3]
            set RZ0[2] = RF0[1]
            set RZ0[3] = RF0[2]
        elseif XBO == 4 then
            set RZ0[1] = RF0[4]
            set RZ0[2] = RF0[3]
            set RZ0[3] = RF0[2]
            set RZ0[4] = RF0[1]
        elseif XBO == 5 then
            set RZ0[1] = RF0[5]
            set RZ0[2] = RF0[4]
            set RZ0[3] = RF0[1]
            set RZ0[4] = RF0[2]
            set RZ0[5] = RF0[3]
        endif
    elseif x == 2 then
        if XBO == 1 then
            set RZ0[1] = RF0[1]
        elseif XBO == 2 then
            set RZ0[1] = RF0[2]
            set RZ0[2] = RF0[1]
        elseif XBO == 3 then
            set RZ0[1] = RF0[2]
            set RZ0[2] = RF0[3]
            set RZ0[3] = RF0[1]
        elseif XBO == 4 then
            set RZ0[1] = RF0[3]
            set RZ0[2] = RF0[1]
            set RZ0[3] = RF0[4]
            set RZ0[4] = RF0[2]
        elseif XBO == 5 then
            set RZ0[1] = RF0[4]
            set RZ0[2] = RF0[3]
            set RZ0[3] = RF0[2]
            set RZ0[4] = RF0[5]
            set RZ0[5] = RF0[1]
        endif
    else 
        if XBO == 1 then
            set RZ0[1] = RF0[1]
        elseif XBO == 2 then
            set RZ0[1] = RF0[1]
            set RZ0[2] = RF0[2]
        elseif XBO == 3 then
            set RZ0[1] = RF0[3]
            set RZ0[2] = RF0[2]
            set RZ0[3] = RF0[1]
        elseif XBO == 4 then
            set RZ0[1] = RF0[2]
            set RZ0[2] = RF0[4]
            set RZ0[3] = RF0[3]
            set RZ0[4] = RF0[1]
        elseif XBO == 5 then
            set RZ0[1] = RF0[5]
            set RZ0[2] = RF0[1]
            set RZ0[3] = RF0[3]
            set RZ0[4] = RF0[4]
            set RZ0[5] = RF0[2]
        endif
    endif
    set i = 1
    loop
        exitwhen i > XBO
        set RF0[i] = RZ0[i]
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XBO
        set RZ0[i] = RG0[i]
        set i = i + 1
    endloop
    set x = GetRandomInt(1, 3)
    if x == 1 then
        if XBO == 1 then
            set RZ0[1] = RG0[1]
        elseif XBO == 2 then
            set RZ0[1] = RG0[2]
            set RZ0[2] = RG0[1]
        elseif XBO == 3 then
            set RZ0[1] = RG0[3]
            set RZ0[2] = RG0[1]
            set RZ0[3] = RG0[2]
        elseif XBO == 4 then
            set RZ0[1] = RG0[4]
            set RZ0[2] = RG0[3]
            set RZ0[3] = RG0[2]
            set RZ0[4] = RG0[1]
        elseif XBO == 5 then
            set RZ0[1] = RG0[5]
            set RZ0[2] = RG0[4]
            set RZ0[3] = RG0[1]
            set RZ0[4] = RG0[2]
            set RZ0[5] = RG0[3]
        endif
    elseif x == 2 then
        if XBO == 1 then
            set RZ0[1] = RG0[1]
        elseif XBO == 2 then
            set RZ0[1] = RG0[2]
            set RZ0[2] = RG0[1]
        elseif XBO == 3 then
            set RZ0[1] = RG0[2]
            set RZ0[2] = RG0[3]
            set RZ0[3] = RG0[1]
        elseif XBO == 4 then
            set RZ0[1] = RG0[3]
            set RZ0[2] = RG0[1]
            set RZ0[3] = RG0[4]
            set RZ0[4] = RG0[2]
        elseif XBO == 5 then
            set RZ0[1] = RG0[4]
            set RZ0[2] = RG0[3]
            set RZ0[3] = RG0[2]
            set RZ0[4] = RG0[5]
            set RZ0[5] = RG0[1]
        endif
    else 
        if XBO == 1 then
            set RZ0[1] = RG0[1]
        elseif XBO == 2 then
            set RZ0[1] = RG0[1]
            set RZ0[2] = RG0[2]
        elseif XBO == 3 then
            set RZ0[1] = RG0[3]
            set RZ0[2] = RG0[2]
            set RZ0[3] = RG0[1]
        elseif XBO == 4 then
            set RZ0[1] = RG0[2]
            set RZ0[2] = RG0[4]
            set RZ0[3] = RG0[3]
            set RZ0[4] = RG0[1]
        elseif XBO == 5 then
            set RZ0[1] = RG0[5]
            set RZ0[2] = RG0[1]
            set RZ0[3] = RG0[3]
            set RZ0[4] = RG0[4]
            set RZ0[5] = RG0[2]
        endif
    endif
    set i = 1
    loop
        exitwhen i > XBO
        set RG0[i] = RZ0[i]
        set i = i + 1
    endloop
    set i = 1
    loop
        exitwhen i > XBO
        set RZ0[i] = RH0[i]
        set i = i + 1
    endloop
    set x = GetRandomInt(1, 3)
    if x == 1 then
        if XBO == 1 then
            set RZ0[1] = RH0[1]
        elseif XBO == 2 then
            set RZ0[1] = RH0[2]
            set RZ0[2] = RH0[1]
        elseif XBO == 3 then
            set RZ0[1] = RH0[3]
            set RZ0[2] = RH0[1]
            set RZ0[3] = RH0[2]
        elseif XBO == 4 then
            set RZ0[1] = RH0[4]
            set RZ0[2] = RH0[3]
            set RZ0[3] = RH0[2]
            set RZ0[4] = RH0[1]
        elseif XBO == 5 then
            set RZ0[1] = RH0[5]
            set RZ0[2] = RH0[4]
            set RZ0[3] = RH0[1]
            set RZ0[4] = RH0[2]
            set RZ0[5] = RH0[3]
        endif
    elseif x == 2 then
        if XBO == 1 then
            set RZ0[1] = RH0[1]
        elseif XBO == 2 then
            set RZ0[1] = RH0[2]
            set RZ0[2] = RH0[1]
        elseif XBO == 3 then
            set RZ0[1] = RH0[2]
            set RZ0[2] = RH0[3]
            set RZ0[3] = RH0[1]
        elseif XBO == 4 then
            set RZ0[1] = RH0[3]
            set RZ0[2] = RH0[1]
            set RZ0[3] = RH0[4]
            set RZ0[4] = RH0[2]
        elseif XBO == 5 then
            set RZ0[1] = RH0[4]
            set RZ0[2] = RH0[3]
            set RZ0[3] = RH0[2]
            set RZ0[4] = RH0[5]
            set RZ0[5] = RH0[1]
        endif
    else 
        if XBO == 1 then
            set RZ0[1] = RH0[1]
        elseif XBO == 2 then
            set RZ0[1] = RH0[1]
            set RZ0[2] = RH0[2]
        elseif XBO == 3 then
            set RZ0[1] = RH0[3]
            set RZ0[2] = RH0[2]
            set RZ0[3] = RH0[1]
        elseif XBO == 4 then
            set RZ0[1] = RH0[2]
            set RZ0[2] = RH0[4]
            set RZ0[3] = RH0[3]
            set RZ0[4] = RH0[1]
        elseif XBO == 5 then
            set RZ0[1] = RH0[5]
            set RZ0[2] = RH0[1]
            set RZ0[3] = RH0[3]
            set RZ0[4] = RH0[4]
            set RZ0[5] = RH0[2]
        endif
    endif
    set i = 1
    loop
        exitwhen i > XBO
        set RH0[i] = RZ0[i]
        set i = i + 1
    endloop
    set F5I = GetRandomInt(1, 2)
    if RV0 >= RW0 and RV0 >= RX0 then
        call ClearTextMessages()
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 45, GetObjectName('n05Z') + " " + RY0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 45, " ")
        set i = 1
        set x = 1
        loop
            exitwhen i > 5
            if isPlayerAlive(sentinelPlayers[i]) then
                if F5I == 1 then
                    set playerHero[GetPlayerId(sentinelPlayers[i])] = CreateUnitAtLoc(sentinelPlayers[i], RC0[x], N0I, bj_UNIT_FACING)
                else 
                    set playerHero[GetPlayerId(sentinelPlayers[i])] = CreateUnitAtLoc(sentinelPlayers[i], RD0[x], N0I, bj_UNIT_FACING)
                endif
                set x = x + 1
            endif
            set i = i + 1
        endloop
        set i = 1
        set x = 1
        loop
            exitwhen i > 5
            if isPlayerAlive(scourgePlayers[i]) then
                if F5I == 1 then
                    set playerHero[GetPlayerId(scourgePlayers[i])] = CreateUnitAtLoc(scourgePlayers[i], RD0[x], NII, bj_UNIT_FACING)
                else 
                    set playerHero[GetPlayerId(scourgePlayers[i])] = CreateUnitAtLoc(scourgePlayers[i], RC0[x], NII, bj_UNIT_FACING)
                endif
                set x = x + 1
            endif
            set i = i + 1
        endloop
    elseif RW0 >= RV0 and RW0 >= RX0 then
        call ClearTextMessages()
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 45, GetObjectName('n05Z') + " " + RJ0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 45, " ")
        set i = 1
        set x = 1
        loop
            exitwhen i > 5
            if isPlayerAlive(sentinelPlayers[i]) then
                if F5I == 1 then
                    set playerHero[GetPlayerId(sentinelPlayers[i])] = CreateUnitAtLoc(sentinelPlayers[i], RE0[x], N0I, bj_UNIT_FACING)
                else 
                    set playerHero[GetPlayerId(sentinelPlayers[i])] = CreateUnitAtLoc(sentinelPlayers[i], RF0[x], N0I, bj_UNIT_FACING)
                endif
                set x = x + 1
            endif
            set i = i + 1
        endloop
        set i = 1
        set x = 1
        loop
            exitwhen i > 5
            if isPlayerAlive(scourgePlayers[i]) then
                if F5I == 1 then
                    set playerHero[GetPlayerId(scourgePlayers[i])] = CreateUnitAtLoc(scourgePlayers[i], RF0[x], NII, bj_UNIT_FACING)
                else 
                    set playerHero[GetPlayerId(scourgePlayers[i])] = CreateUnitAtLoc(scourgePlayers[i], RE0[x], NII, bj_UNIT_FACING)
                endif
                set x = x + 1
            endif
            set i = i + 1
        endloop
    elseif RX0 >= RV0 and RX0 >= RW0 then
        call ClearTextMessages()
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 45, GetObjectName('n05Z') + " " + RK0)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 45, " ")
        set i = 1
        set x = 1
        loop
            exitwhen i > 5
            if isPlayerAlive(sentinelPlayers[i]) then
                if F5I == 1 then
                    set playerHero[GetPlayerId(sentinelPlayers[i])] = CreateUnitAtLoc(sentinelPlayers[i], RG0[x], N0I, bj_UNIT_FACING)
                else 
                    set playerHero[GetPlayerId(sentinelPlayers[i])] = CreateUnitAtLoc(sentinelPlayers[i], RH0[x], N0I, bj_UNIT_FACING)
                endif
                set x = x + 1
            endif
            set i = i + 1
        endloop
        set i = 1
        set x = 1
        loop
            exitwhen i > 5
            if isPlayerAlive(scourgePlayers[i]) then
                if F5I == 1 then
                    set playerHero[GetPlayerId(scourgePlayers[i])] = CreateUnitAtLoc(scourgePlayers[i], RH0[x], NII, bj_UNIT_FACING)
                else 
                    set playerHero[GetPlayerId(scourgePlayers[i])] = CreateUnitAtLoc(scourgePlayers[i], RG0[x], NII, bj_UNIT_FACING)
                endif
                set x = x + 1
            endif
            set i = i + 1
        endloop
    endif
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 70, false)
    call TriggerAddCondition(t, Condition(function X8O))
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    call RemoveLocation(X6O)
    call RemoveLocation(X7O)
    set N0I = null
    set NII = null
    set X6O = null
    set X7O = null
    set t = null
    set XAO = null
    return false
endfunction

function XDO takes integer i returns integer 
    if i == 1 then
        return getHeroIndex(intelligenceHeroes[GetRandomInt(1, numIntelligenceHeroes)])
    elseif i == 2 then
        return getHeroIndex(agilityHeroes[GetRandomInt(1, numAgilityHeroes)])
    elseif i == 3 then
        return getHeroIndex(strengthHeroes[GetRandomInt(1, numStrengthHeroes)])
    elseif i == 4 then
        return getHeroIndex(DG0[GetRandomInt(1, DH0)])
    elseif i == 5 then
        return getHeroIndex(DE0[GetRandomInt(1, DF0)])
    endif
    return 0
endfunction

function XEO takes integer i returns integer 
    local integer FMI
    local integer FNI
    local integer A8O
    set A8O = XDO(i)
    if H2 then
        return A8O
    endif
    loop
        exitwhen R2[A8O] == false
        set A8O = XDO(i)
    endloop
    set R2[A8O] = true
    return A8O
endfunction

function XFO takes nothing returns nothing
    local integer i = D40
    loop
        exitwhen i > numHeroes
        set R2[i] = false
        set i = i + 1
    endloop
endfunction

function XGO takes nothing returns boolean 
    local integer XHO = GetPlayerId(GetTriggerPlayer())
    local string XZO = SubString(GetEventPlayerChatString(), 8, 9)
    local integer XVO = 0
    if XZO == "1" then
        set XVO = 1
    elseif XZO == "2" then
        set XVO = 2
    elseif XZO == "3" then
        set XVO = 3
    endif
    if XVO == 0 then
        call GNI(GetTriggerPlayer(), GetObjectName('n03D'))
        return false
    endif
    if LoadBoolean(hashTable, 2001, (950 + XHO)) then
        call GNI(GetTriggerPlayer(), GetObjectName('n03A'))
        return false
    endif
    call SaveBoolean(hashTable, 2001, (950 + XHO), true)
    if XVO == 1 then
        call SaveInteger(hashTable, 2001, 126, (1 + LoadInteger(hashTable, 2001, 126)))
    elseif XVO == 2 then
        call SaveInteger(hashTable, 2001, 127, (1 + LoadInteger(hashTable, 2001, 127)))
    else 
        call SaveInteger(hashTable, 2001, 128, (1 + LoadInteger(hashTable, 2001, 128)))
    endif
    call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 20, GetObjectName('n09M') + " Option " + I2S(XVO) + ".")
    return false
endfunction

function H8O takes nothing returns nothing
    local integer XBO = EMI(AO)
    local integer XCO = EMI(BO)
    local integer i
    local integer x
    local trigger t = CreateTrigger()
    local location N0I = GetRectCenter(H4)
    local location NII = GetRectCenter(G4)
    local location X6O = GetRectCenter(B4)
    local location X7O = GetRectCenter(R3)
    local integer F5I
    local trigger t2
    set T2 = true
    set B3 = false
    set C3 = false
    call F1I()
    call PanCameraToTimedLocForPlayer(sentinelPlayers[1], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[2], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[3], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[4], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[5], X6O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[1], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[2], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[3], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[4], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[5], X7O, 0)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-Option", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-Option", false)
    call TriggerAddCondition(t, Condition(function XGO))
    call XFO()
    set i = 1
    loop
        exitwhen i > XBO
        set RC0[i] = heroId[XEO(i)]
        set RY0 = RY0 + GetObjectName(RC0[i])
        set i = i + 1
        if i <= XBO then
            set RY0 = RY0 + "|c005BFEEA-|r"
        endif
    endloop
    set RY0 = RY0 + " |c00FF0000vs |r"
    set i = 1
    loop
        exitwhen i > XCO
        set RD0[i] = heroId[XEO(i)]
        set RY0 = RY0 + GetObjectName(RD0[i])
        set i = i + 1
        if i <= XCO then
            set RY0 = RY0 + "|c005BFEEA-|r"
        endif
    endloop
    call XFO()
    set i = 1
    loop
        exitwhen i > XBO
        set RE0[i] = heroId[XEO(i)]
        set RJ0 = RJ0 + GetObjectName(RE0[i]) + " "
        set i = i + 1
        if i <= XBO then
            set RJ0 = RJ0 + "|c005BFEEA-|r"
        endif
    endloop
    set RJ0 = RJ0 + " |c00FF0000vs |r"
    set i = 1
    loop
        exitwhen i > XCO
        set RF0[i] = heroId[XEO(i)]
        set RJ0 = RJ0 + GetObjectName(RF0[i]) + " "
        set i = i + 1
        if i <= XCO then
            set RJ0 = RJ0 + "|c005BFEEA-|r"
        endif
    endloop
    call XFO()
    set i = 1
    loop
        exitwhen i > XBO
        set RG0[i] = heroId[XEO(i)]
        set RK0 = RK0 + GetObjectName(RG0[i]) + " "
        set i = i + 1
        if i <= XBO then
            set RK0 = RK0 + "|c005BFEEA-|r"
        endif
    endloop
    set RK0 = RK0 + " |c00FF0000vs |r"
    set i = 1
    loop
        exitwhen i > XCO
        set RH0[i] = heroId[XEO(i)]
        set RK0 = RK0 + GetObjectName(RH0[i]) + " "
        set i = i + 1
        if i <= XCO then
            set RK0 = RK0 + "|c005BFEEA-|r"
        endif
    endloop
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, " ")
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, GetObjectName('n06T'))
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, GetObjectName('n06I') + " " + GetObjectName('n06D'))
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, " ")
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, RY0)
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, " ")
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, RJ0)
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, " ")
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 75, RK0)
    set t2 = CreateTrigger()
    call TriggerRegisterTimerEvent(t2, 30, false)
    call TriggerAddCondition(t2, Condition(function X9O))
    call SaveTriggerHandle(hashTable, GetHandleId(t2), 35, t)
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    call RemoveLocation(X6O)
    call RemoveLocation(X7O)
    set N0I = null
    set NII = null
    set X6O = null
    set X7O = null
    set t = null
    set t2 = null
endfunction

function XWO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DHI = GetTriggerEvalCount(t)
    local integer LLI = 20 - (DHI - (DHI/20)*20)
    call LeaderboardSetLabel(RT0, "           " + GetObjectName('n0EZ') + " " + I2S(LLI))
    if DHI > 125 then
        call DestroyLeaderboard(RT0)
        call E6O()
        call abandonTrigger(t)
    endif
    set t = null
    return false
endfunction

function XXO takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function XWO))
    set RT0 = CreateLeaderboard()
    call LeaderboardSetStyle(RT0, true, false, false, false)
    call LeaderboardDisplay(RT0, false)
    call PlayerSetLeaderboard(sentinelPlayers[1], RT0)
    call PlayerSetLeaderboard(sentinelPlayers[2], RT0)
    call PlayerSetLeaderboard(sentinelPlayers[3], RT0)
    call PlayerSetLeaderboard(sentinelPlayers[4], RT0)
    call PlayerSetLeaderboard(sentinelPlayers[5], RT0)
    call PlayerSetLeaderboard(scourgePlayers[1], RT0)
    call PlayerSetLeaderboard(scourgePlayers[2], RT0)
    call PlayerSetLeaderboard(scourgePlayers[3], RT0)
    call PlayerSetLeaderboard(scourgePlayers[4], RT0)
    call PlayerSetLeaderboard(scourgePlayers[5], RT0)
    set t = null
endfunction

function XYO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer VXO = LoadInteger(hashTable, DMI, 25)
    local player p1
    local player p2
    local player VYO
    local player VJO
    if VXO == 0 then
        if RL0 == 1 then
            set p1 = sentinelPlayers[1]
        else 
            set p1 = scourgePlayers[1]
        endif
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p1)])
        if GetLocalPlayer() == p1 then
            call LeaderboardDisplay(RT0, true)
        else 
            call LeaderboardDisplay(RT0, false)
        endif
    elseif VXO == 1 then
        if RL0 == 1 then
            set p1 = scourgePlayers[1]
            set p2 = scourgePlayers[2]
            set VYO = sentinelPlayers[1]
        else 
            set p1 = sentinelPlayers[1]
            set p2 = sentinelPlayers[2]
            set VYO = scourgePlayers[1]
        endif
        call EQI(VYO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p1)])
        call SetPlayerState(p2, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p2)])
        if GetLocalPlayer() == p1 or GetLocalPlayer() == p2 then
            call LeaderboardDisplay(RT0, true)
        else 
            call LeaderboardDisplay(RT0, false)
        endif
    elseif VXO == 2 then
        if RL0 == 1 then
            set p1 = sentinelPlayers[2]
            set p2 = sentinelPlayers[3]
            set VYO = scourgePlayers[1]
            set VJO = scourgePlayers[2]
        else 
            set p1 = scourgePlayers[2]
            set p2 = scourgePlayers[3]
            set VYO = sentinelPlayers[1]
            set VJO = sentinelPlayers[2]
        endif
        call EQI(VYO)
        call EQI(VJO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p1)])
        call SetPlayerState(p2, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p2)])
        if GetLocalPlayer() == p1 or GetLocalPlayer() == p2 then
            call LeaderboardDisplay(RT0, true)
        else 
            call LeaderboardDisplay(RT0, false)
        endif
    elseif VXO == 3 then
        if RL0 == 1 then
            set p1 = scourgePlayers[3]
            set p2 = scourgePlayers[4]
            set VYO = sentinelPlayers[2]
            set VJO = sentinelPlayers[3]
        else 
            set p1 = sentinelPlayers[3]
            set p2 = sentinelPlayers[4]
            set VYO = scourgePlayers[2]
            set VJO = scourgePlayers[3]
        endif
        call EQI(VYO)
        call EQI(VJO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p1)])
        call SetPlayerState(p2, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p2)])
        if GetLocalPlayer() == p1 or GetLocalPlayer() == p2 then
            call LeaderboardDisplay(RT0, true)
        else 
            call LeaderboardDisplay(RT0, false)
        endif
    elseif VXO == 4 then
        if RL0 == 1 then
            set p1 = sentinelPlayers[4]
            set p2 = sentinelPlayers[5]
            set VYO = scourgePlayers[3]
            set VJO = scourgePlayers[4]
        else 
            set p1 = scourgePlayers[4]
            set p2 = scourgePlayers[5]
            set VYO = sentinelPlayers[3]
            set VJO = sentinelPlayers[4]
        endif
        call EQI(VYO)
        call EQI(VJO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p1)])
        call SetPlayerState(p2, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p2)])
        if GetLocalPlayer() == p1 or GetLocalPlayer() == p2 then
            call LeaderboardDisplay(RT0, true)
        else 
            call LeaderboardDisplay(RT0, false)
        endif
    elseif VXO == 5 then
        if RL0 == 1 then
            set p1 = scourgePlayers[5]
            set VYO = sentinelPlayers[4]
            set VJO = sentinelPlayers[5]
        else 
            set p1 = sentinelPlayers[5]
            set VYO = scourgePlayers[4]
            set VJO = scourgePlayers[5]
        endif
        call EQI(VYO)
        call EQI(VJO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RM0[GetPlayerId(p1)])
        if GetLocalPlayer() == p1 then
            call LeaderboardDisplay(RT0, true)
        else 
            call LeaderboardDisplay(RT0, false)
        endif
    elseif VXO == 6 then
        if RL0 == 1 then
            set VYO = scourgePlayers[5]
        else 
            set VYO = sentinelPlayers[5]
        endif
        call EQI(VYO)
        call LeaderboardDisplay(RT0, false)
        call SuspendTimeOfDay(false)
    endif
    if VXO > 6 then
        set RS0 = true
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SaveInteger(hashTable, DMI, 25, (VXO + 1))
    endif
    set t = null
    set p1 = null
    set p2 = null
    set VYO = null
    set VJO = null
    return false
endfunction

function XJO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI
    call abandonTrigger(t)
    call SuspendTimeOfDay(true)
    set RL0 = GetRandomInt(1, 2)
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, " ")
    if RL0 == 1 then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n05K') + " " + playerColor[GetPlayerId(sentinelPlayers[0])] + GetObjectName('n065') + "|r" + " " + GetObjectName('n066'))
    else 
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n05K') + " " + playerColor[GetPlayerId(scourgePlayers[0])] + GetObjectName('n06C') + "|r" + " " + GetObjectName('n066'))
    endif
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, " ")
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 20, true)
    call TriggerAddCondition(t, Condition(function XYO))
    call SaveInteger(hashTable, DMI, 25, 0)
    call XXO()
    call TriggerEvaluate(t)
    set t = null
    return false
endfunction

function HCO takes nothing returns nothing
    local trigger t
    local integer x = 1
    set RN0 = true
    set AL = 180
    set C3 = false
    set B3 = false
    call QY1()
    set RM0[GetPlayerId(sentinelPlayers[1])] = GetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(sentinelPlayers[2])] = GetPlayerState(sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(sentinelPlayers[3])] = GetPlayerState(sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(sentinelPlayers[4])] = GetPlayerState(sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(sentinelPlayers[5])] = GetPlayerState(sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(scourgePlayers[1])] = GetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(scourgePlayers[2])] = GetPlayerState(scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(scourgePlayers[3])] = GetPlayerState(scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(scourgePlayers[4])] = GetPlayerState(scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD)
    set RM0[GetPlayerId(scourgePlayers[5])] = GetPlayerState(scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD, 0)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15 - TimerGetElapsed(M), false)
    call TriggerAddCondition(t, Condition(function XJO))
    set t = null
endfunction

function XKO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DHI = GetTriggerEvalCount(t)
    local integer LLI = 20 - (DHI - (DHI/20)*20)
    call LeaderboardSetLabel(P00, "           " + GetObjectName('n0EZ') + " " + I2S(LLI))
    if DHI > 125 then
        call DestroyLeaderboard(P00)
        call E6O()
        call abandonTrigger(t)
    endif
    set t = null
    return false
endfunction

function XLO takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function XKO))
    set P00 = CreateLeaderboard()
    call LeaderboardSetStyle(P00, true, false, false, false)
    call LeaderboardDisplay(P00, false)
    call PlayerSetLeaderboard(sentinelPlayers[1], P00)
    call PlayerSetLeaderboard(sentinelPlayers[2], P00)
    call PlayerSetLeaderboard(sentinelPlayers[3], P00)
    call PlayerSetLeaderboard(sentinelPlayers[4], P00)
    call PlayerSetLeaderboard(sentinelPlayers[5], P00)
    call PlayerSetLeaderboard(scourgePlayers[1], P00)
    call PlayerSetLeaderboard(scourgePlayers[2], P00)
    call PlayerSetLeaderboard(scourgePlayers[3], P00)
    call PlayerSetLeaderboard(scourgePlayers[4], P00)
    call PlayerSetLeaderboard(scourgePlayers[5], P00)
    set t = null
endfunction

function XMO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer VXO = LoadInteger(hashTable, DMI, 25)
    local player p1
    local player p2
    local player VYO
    local player VJO
    if VXO == 0 then
        if RR0 == 1 then
            set p1 = sentinelPlayers[1]
        else 
            set p1 = scourgePlayers[1]
        endif
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p1)])
        if GetLocalPlayer() == p1 then
            call LeaderboardDisplay(P00, true)
        else 
            call LeaderboardDisplay(P00, false)
        endif
    elseif VXO == 1 then
        if RR0 == 1 then
            set p1 = scourgePlayers[1]
            set p2 = scourgePlayers[2]
            set VYO = sentinelPlayers[1]
        else 
            set p1 = sentinelPlayers[1]
            set p2 = sentinelPlayers[2]
            set VYO = scourgePlayers[1]
        endif
        call EQI(VYO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p1)])
        call SetPlayerState(p2, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p2)])
        if GetLocalPlayer() == p1 or GetLocalPlayer() == p2 then
            call LeaderboardDisplay(P00, true)
        else 
            call LeaderboardDisplay(P00, false)
        endif
    elseif VXO == 2 then
        if RR0 == 1 then
            set p1 = sentinelPlayers[2]
            set p2 = sentinelPlayers[3]
            set VYO = scourgePlayers[1]
            set VJO = scourgePlayers[2]
        else 
            set p1 = scourgePlayers[2]
            set p2 = scourgePlayers[3]
            set VYO = sentinelPlayers[1]
            set VJO = sentinelPlayers[2]
        endif
        call EQI(VYO)
        call EQI(VJO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p1)])
        call SetPlayerState(p2, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p2)])
        if GetLocalPlayer() == p1 or GetLocalPlayer() == p2 then
            call LeaderboardDisplay(P00, true)
        else 
            call LeaderboardDisplay(P00, false)
        endif
    elseif VXO == 3 then
        if RR0 == 1 then
            set p1 = scourgePlayers[3]
            set p2 = scourgePlayers[4]
            set VYO = sentinelPlayers[2]
            set VJO = sentinelPlayers[3]
        else 
            set p1 = sentinelPlayers[3]
            set p2 = sentinelPlayers[4]
            set VYO = scourgePlayers[2]
            set VJO = scourgePlayers[3]
        endif
        call EQI(VYO)
        call EQI(VJO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p1)])
        call SetPlayerState(p2, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p2)])
        if GetLocalPlayer() == p1 or GetLocalPlayer() == p2 then
            call LeaderboardDisplay(P00, true)
        else 
            call LeaderboardDisplay(P00, false)
        endif
    elseif VXO == 4 then
        if RR0 == 1 then
            set p1 = sentinelPlayers[4]
            set p2 = sentinelPlayers[5]
            set VYO = scourgePlayers[3]
            set VJO = scourgePlayers[4]
        else 
            set p1 = scourgePlayers[4]
            set p2 = scourgePlayers[5]
            set VYO = sentinelPlayers[3]
            set VJO = sentinelPlayers[4]
        endif
        call EQI(VYO)
        call EQI(VJO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p2)] + playerName[GetPlayerId(p2)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p1)])
        call SetPlayerState(p2, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p2)])
        if GetLocalPlayer() == p1 or GetLocalPlayer() == p2 then
            call LeaderboardDisplay(P00, true)
        else 
            call LeaderboardDisplay(P00, false)
        endif
    elseif VXO == 5 then
        if RR0 == 1 then
            set p1 = scourgePlayers[5]
            set VYO = sentinelPlayers[4]
            set VJO = sentinelPlayers[5]
        else 
            set p1 = sentinelPlayers[5]
            set VYO = scourgePlayers[4]
            set VJO = scourgePlayers[5]
        endif
        call EQI(VYO)
        call EQI(VJO)
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, playerColor[GetPlayerId(p1)] + playerName[GetPlayerId(p1)] + "|r" + " " + GetObjectName('n064'))
        call SetPlayerState(p1, PLAYER_STATE_RESOURCE_GOLD, RP0[GetPlayerId(p1)])
        if GetLocalPlayer() == p1 then
            call LeaderboardDisplay(P00, true)
        else 
            call LeaderboardDisplay(P00, false)
        endif
    elseif VXO == 6 then
        if RR0 == 1 then
            set VYO = scourgePlayers[5]
        else 
            set VYO = sentinelPlayers[5]
        endif
        call EQI(VYO)
        call LeaderboardDisplay(P00, false)
        call SuspendTimeOfDay(false)
    endif
    if VXO > 6 then
        set RU0 = true
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SaveInteger(hashTable, DMI, 25, (VXO + 1))
    endif
    set t = null
    set p1 = null
    set p2 = null
    set VYO = null
    set VJO = null
    return false
endfunction

function XNO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local trigger XSO = LoadTriggerHandle(hashTable, DMI, 169)
    set M70 = true
    call abandonTrigger(XSO)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 20, true)
    call TriggerAddCondition(t, Condition(function XMO))
    call SaveInteger(hashTable, DMI, 25, 0)
    call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    call EnableTrigger(E70)
    call EnableTrigger(CN)
    set RR0 = GetRandomInt(1, 2)
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, " ")
    if RR0 == 1 then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n09O') + " " + GetObjectName('n05K') + " " + playerColor[GetPlayerId(sentinelPlayers[0])] + GetObjectName('n065') + "|r" + " " + GetObjectName('n066'))
    else 
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n09O') + " " + GetObjectName('n05K') + " " + playerColor[GetPlayerId(scourgePlayers[0])] + GetObjectName('n06C') + "|r" + " " + GetObjectName('n066'))
    endif
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, " ")
    call XLO()
    call TriggerEvaluate(t)
    set t = null
    set XSO = null
    return false
endfunction

function XTO takes nothing returns boolean 
    local unit E1I = GetSoldUnit()
    local string XRO = playerColor[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + playerName[GetPlayerId(GetOwningPlayer(GetSoldUnit()))] + "|r"
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20, XRO + " " + GetObjectName('n09I') + " " + GetUnitName(E1I) + " " + GetObjectName('n09N'))
    call disableHero(GetUnitTypeId(GetSoldUnit()))
    call L1I("Ban" + I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))), GetUnitTypeId(GetSoldUnit()))
    call RemoveUnit(GetSoldUnit())
    set E1I = null
    return false
endfunction

function XPO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local trigger XSO = CreateTrigger()
    local integer DMI
    local string XQO = playerColor[GetPlayerId(sentinelPlayers[1])] + playerName[GetPlayerId(sentinelPlayers[1])] + "|r"
    local string XUO = playerColor[GetPlayerId(scourgePlayers[1])] + playerName[GetPlayerId(scourgePlayers[1])] + "|r"
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, XQO + " " + GetObjectName('n09K'))
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, XUO + " " + GetObjectName('n09K'))
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
    call abandonTrigger(t)
    call triggerRegisterAnyUnitEvent(XSO, EVENT_PLAYER_UNIT_SELL)
    call TriggerAddCondition(XSO, Condition(function XTO))
    call SuspendTimeOfDay(true)
    call DisableTrigger(E70)
    call DisableTrigger(CN)
    call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 1000)
    call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 1000)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call SaveTriggerHandle(hashTable, DMI, 169, XSO)
    call TriggerRegisterTimerEvent(t, 20, false)
    call TriggerAddCondition(t, Condition(function XNO))
    set XSO = null
    set t = null
    return false
endfunction

function HDO takes nothing returns nothing
    local trigger t
    local location N0I = GetRectCenter(T4)
    local location NII = GetRectCenter(R4)
    local integer x = 1
    loop
        exitwhen x > 5
        if isPlayerAlive(sentinelPlayers[x]) then
            call CreateUnitAtLoc(sentinelPlayers[x], 'n00C', NII, bj_UNIT_FACING)
        endif
        if isPlayerAlive(scourgePlayers[x]) then
            call CreateUnitAtLoc(scourgePlayers[x], 'n00C', N0I, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    set RQ0 = true
    set AL = 180
    set C3 = false
    set B3 = false
    set M70 = false
    call QY1()
    set RP0[GetPlayerId(sentinelPlayers[1])] = GetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(sentinelPlayers[2])] = GetPlayerState(sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(sentinelPlayers[3])] = GetPlayerState(sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(sentinelPlayers[4])] = GetPlayerState(sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(sentinelPlayers[5])] = GetPlayerState(sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(scourgePlayers[1])] = GetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(scourgePlayers[2])] = GetPlayerState(scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(scourgePlayers[3])] = GetPlayerState(scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(scourgePlayers[4])] = GetPlayerState(scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD)
    set RP0[GetPlayerId(scourgePlayers[5])] = GetPlayerState(scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    call SetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD, 0)
    call SetPlayerState(scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD, 0)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15 - TimerGetElapsed(M), false)
    call TriggerAddCondition(t, Condition(function XPO))
    set t = null
    set N0I = null
    set NII = null
endfunction

function Y0O takes nothing returns boolean 
    local player EYI
    set Z3 = true
    set EYI = sentinelPlayers[1]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = sentinelPlayers[2]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = sentinelPlayers[3]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = sentinelPlayers[4]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = sentinelPlayers[5]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = scourgePlayers[1]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = scourgePlayers[2]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = scourgePlayers[3]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = scourgePlayers[4]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    set EYI = scourgePlayers[5]
    if (GetPlayerSlotState(EYI) == PLAYER_SLOT_STATE_EMPTY) == false and E3[GetPlayerId(EYI)] == false then
        call FPI(EYI)
    endif
    return false
endfunction

function YIO takes nothing returns boolean 
    set B3 = false
    set C3 = false
    call F1I()
    return false
endfunction

function HBO takes nothing returns nothing
    local integer DMI = 2000
    local player array XBO
    local player array XCO
    local integer x = 0
    local integer y = 0
    local integer i = 0
    local trigger t = CreateTrigger()
    set D3 = true
    call TriggerAddCondition(t, Condition(function Y0O))
    call TriggerRegisterTimerEvent(t, 60 - TimerGetElapsed(M), false)
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function YIO))
    call TriggerRegisterTimerEvent(t, 57 - TimerGetElapsed(M), false)
    set t = null
    if isPlayerAlive(sentinelPlayers[1]) then
        set x = x + 1
        set XBO[x] = sentinelPlayers[1]
    endif
    if isPlayerAlive(sentinelPlayers[2]) then
        set x = x + 1
        set XBO[x] = sentinelPlayers[2]
    endif
    if isPlayerAlive(sentinelPlayers[3]) then
        set x = x + 1
        set XBO[x] = sentinelPlayers[3]
    endif
    if isPlayerAlive(sentinelPlayers[4]) then
        set x = x + 1
        set XBO[x] = sentinelPlayers[4]
    endif
    if isPlayerAlive(sentinelPlayers[5]) then
        set x = x + 1
        set XBO[x] = sentinelPlayers[5]
    endif
    if isPlayerAlive(scourgePlayers[1]) then
        set y = y + 1
        set XCO[y] = scourgePlayers[1]
    endif
    if isPlayerAlive(scourgePlayers[2]) then
        set y = y + 1
        set XCO[y] = scourgePlayers[2]
    endif
    if isPlayerAlive(scourgePlayers[3]) then
        set y = y + 1
        set XCO[y] = scourgePlayers[3]
    endif
    if isPlayerAlive(scourgePlayers[4]) then
        set y = y + 1
        set XCO[y] = scourgePlayers[4]
    endif
    if isPlayerAlive(scourgePlayers[5]) then
        set y = y + 1
        set XCO[y] = scourgePlayers[5]
    endif
    set i = 1
    loop
        exitwhen i > x
        call SavePlayerHandle(hashTable, 2000, (550 + GetPlayerId(XBO[i])), XCO[i])
        call SavePlayerHandle(hashTable, 2000, (550 + GetPlayerId(XCO[i])), XBO[i])
        set i = i + 1
    endloop
endfunction

function YOO takes nothing returns nothing
    call H8I(GetEnumUnit())
endfunction

function Y2O takes unit E1I returns nothing
    local integer Y3O = GetPlayerId(GetOwningPlayer(E1I))
    set LO[Y3O] = UnitItemInSlot(E1I, 0)
    set NO[Y3O] = UnitItemInSlot(E1I, 1)
    set TO[Y3O] = UnitItemInSlot(E1I, 2)
    set PO[Y3O] = UnitItemInSlot(E1I, 3)
    set QO[Y3O] = UnitItemInSlot(E1I, 4)
    set UO[Y3O] = UnitItemInSlot(E1I, 5)
endfunction

function Y4O takes player FUI, player G0I returns integer 
    local unit Y5O = playerHero[GetPlayerId(FUI)]
    local unit Y6O = playerHero[GetPlayerId(G0I)]
    call UnitRemoveBuffs(Y5O, true, true)
    call UnitRemoveBuffs(Y6O, true, true)
    if Y5O == null and Y6O == null then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, playerColor[GetPlayerId(sentinelPlayers[0])] + playerName[GetPlayerId(FUI)] + " " + GetObjectName('n067') + " " + playerName[GetPlayerId(G0I)] + " " + GetObjectName('n0A0') + "|r")
    elseif GetRandomInt(1, 2) == 1 then
        if (Y5O != null) then
            return GetUnitTypeId(Y5O)
        else 
            return GetUnitTypeId(Y6O)
        endif
    else 
        if (Y6O != null) then
            return GetUnitTypeId(Y6O)
        else 
            return GetUnitTypeId(Y5O)
        endif
    endif
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15, playerColor[GetPlayerId(sentinelPlayers[0])] + playerName[GetPlayerId(FUI)] + " " + GetObjectName('n067') + " " + playerName[GetPlayerId(G0I)] + " " + GetObjectName('n09B'))
    return F4I()
endfunction

function Y7O takes nothing returns nothing
    if (GetUnitTypeId(GetEnumUnit()) == 'n004') then
        call RemoveUnit(GetEnumUnit())
    endif
    if (GetUnitTypeId(GetEnumUnit()) == 'o003') then
        call RemoveUnit(GetEnumUnit())
    endif
endfunction

function Y8O takes nothing returns boolean 
    local integer EUI
    local group Y9O = allocGroup()
    local unit YAO
    local location X6O = GetRectCenter(B4)
    local location X7O = GetRectCenter(R3)
    local integer YBO = EMI(AO)
    local player array YCO
    local player array YDO
    local integer x
    local integer y
    local real YEO
    local real YFO
    local real YGO
    local integer YHO
    local group MNI = allocGroup()
    call GroupEnumUnitsInRect(MNI, GetWorldBounds(), Condition(function returnTrue1))
    call ForGroup(MNI, function Y7O)
    call releaseGroup(MNI)
    set EUI = 1
    set x = 1
    set y = 1
    loop
        exitwhen EUI > 5
        if isPlayerAlive(sentinelPlayers[EUI]) then
            call Y2O(playerHero[GetPlayerId(sentinelPlayers[EUI])])
            call GroupAddUnit(Y9O, playerHero[GetPlayerId(sentinelPlayers[EUI])])
            set YCO[x] = sentinelPlayers[EUI]
            set x = x + 1
        endif
        if isPlayerAlive(scourgePlayers[EUI]) then
            call Y2O(playerHero[GetPlayerId(scourgePlayers[EUI])])
            call GroupAddUnit(Y9O, playerHero[GetPlayerId(scourgePlayers[EUI])])
            set YDO[y] = scourgePlayers[EUI]
            set y = y + 1
        endif
        set EUI = EUI + 1
    endloop
    set x = 1
    loop
        exitwhen x > YBO
        set YHO = Y4O(YCO[x], YDO[x])
        if (playerHero[GetPlayerId(YCO[x])] == null) then
            set YEO = GetLocationX(X6O) + GetRandomReal(1, 40)
            set YFO = GetLocationY(X6O) + GetRandomReal(1, 40)
            set YGO = 270
        else 
            set YEO = GetUnitX(playerHero[GetPlayerId(YCO[x])])
            set YFO = GetUnitY(playerHero[GetPlayerId(YCO[x])])
            set YGO = GetUnitFacing(playerHero[GetPlayerId(YCO[x])])
            call SetUnitPathing(playerHero[GetPlayerId(YCO[x])], false)
        endif
        set playerHero[GetPlayerId(YCO[x])] = CreateUnit(YCO[x], YHO, YEO, YFO, YGO)
        call SetUnitPathing(playerHero[GetPlayerId(YCO[x])], false)
        call SetUnitPosition(playerHero[GetPlayerId(YCO[x])], YEO, YFO)
        call UnitAddItem(playerHero[GetPlayerId(YCO[x])], LO[GetPlayerId(YCO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YCO[x])], NO[GetPlayerId(YCO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YCO[x])], TO[GetPlayerId(YCO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YCO[x])], PO[GetPlayerId(YCO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YCO[x])], QO[GetPlayerId(YCO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YCO[x])], UO[GetPlayerId(YCO[x])])
        call ClearSelectionForPlayer(YCO[x])
        call SelectUnitAddForPlayer(playerHero[GetPlayerId(YCO[x])], YCO[x])
        call PanCameraToTimedForPlayer(YCO[x], YEO, YFO, 0)
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl", YEO, YFO) )
        if (playerHero[GetPlayerId(YDO[x])] == null) then
            set YEO = GetLocationX(X7O)
            set YFO = GetLocationY(X7O)
            set YGO = 270
        else 
            set YEO = GetUnitX(playerHero[GetPlayerId(YDO[x])])
            set YFO = GetUnitY(playerHero[GetPlayerId(YDO[x])])
            set YGO = GetUnitFacing(playerHero[GetPlayerId(YDO[x])])
            call SetUnitPathing(playerHero[GetPlayerId(YDO[x])], false)
        endif
        set playerHero[GetPlayerId(YDO[x])] = CreateUnit(YDO[x], YHO, YEO, YFO, YGO)
        call SetUnitPathing(playerHero[GetPlayerId(YDO[x])], false)
        call SetUnitPosition(playerHero[GetPlayerId(YDO[x])], YEO, YFO)
        call UnitAddItem(playerHero[GetPlayerId(YDO[x])], LO[GetPlayerId(YDO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YDO[x])], NO[GetPlayerId(YDO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YDO[x])], TO[GetPlayerId(YDO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YDO[x])], PO[GetPlayerId(YDO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YDO[x])], QO[GetPlayerId(YDO[x])])
        call UnitAddItem(playerHero[GetPlayerId(YDO[x])], UO[GetPlayerId(YDO[x])])
        call ClearSelectionForPlayer(YDO[x])
        call SelectUnitAddForPlayer(playerHero[GetPlayerId(YDO[x])], YDO[x])
        call PanCameraToTimedForPlayer(YDO[x], YEO, YFO, 0)
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl", YEO, YFO) )
        set x = x + 1
    endloop
    call ForGroup(Y9O, function YOO)
    call releaseGroup(Y9O)
    set x = 1
    loop
        exitwhen x > YBO
        call SetUnitPathing(playerHero[GetPlayerId(YCO[x])], true)
        call SetUnitPathing(playerHero[GetPlayerId(YDO[x])], true)
        set x = x + 1
    endloop
    call RemoveLocation(X6O)
    call RemoveLocation(X7O)
    set Y9O = null
    set YAO = null
    set X6O = null
    set X7O = null
    set MNI = null
    return false
endfunction

function YZO takes nothing returns boolean 
    set F2 = true
    return false
endfunction

function YVO takes nothing returns boolean 
    set C3 = false
    set B3 = false
    call F1I()
    return false
endfunction

function HIO takes nothing returns nothing
    local trigger t = CreateTrigger()
    call dispTimedTextToForce(forceAllPlayers, 10, GetObjectName('n09H'))
    call dispTimedTextToForce(forceAllPlayers, 10, GetObjectName('n09E'))
    set G2 = true
    call disableHero('H00I')
    call TriggerRegisterTimerEvent(t, 60 - TimerGetElapsed(M), false)
    call TriggerAddCondition(t, Condition(function Y8O))
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function YVO))
    call TriggerRegisterTimerEvent(t, 57 - TimerGetElapsed(M), false)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 55 + 60 - TimerGetElapsed(M), false)
    call TriggerAddCondition(t, Condition(function YZO))
    set t = null
endfunction

function HAO takes nothing returns nothing
    local location N0I = GetRectCenter(H4)
    local location NII = GetRectCenter(G4)
    local location X6O = GetRectCenter(B4)
    local location X7O = GetRectCenter(R3)
    local integer EUI
    local integer F0I
    local integer F5I
    if not H2 then
        call F1I()
    endif
    set J0 = true
    set T0 = 400
    set B3 = false
    call PanCameraToTimedLocForPlayer(sentinelPlayers[1], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[2], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[3], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[4], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[5], X6O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[1], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[2], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[3], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[4], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[5], X7O, 0)
    if K2 then
        if isPlayerSentinel(firstPlayerAlive) then
            loop
                set F5I = GetRandomInt(D40, D50)
                exitwhen R[F5I] == false
            endloop
            set playerHero[GetPlayerId(firstPlayerAlive)] = CreateUnit(firstPlayerAlive, heroId[F5I], GetLocationX(N0I), GetLocationY(N0I), 270)
        else 
            loop
                set F5I = GetRandomInt(D60, numHeroes)
                exitwhen R[F5I] == false
            endloop
            set playerHero[GetPlayerId(firstPlayerAlive)] = CreateUnit(firstPlayerAlive, heroId[F5I], GetLocationX(NII), GetLocationY(NII), 270)
        endif
        call RemoveLocation(N0I)
        call RemoveLocation(NII)
        call RemoveLocation(X6O)
        call RemoveLocation(X7O)
        return
    endif
    set C3 = false
    set EUI = 1
    set F0I = 5
    loop
        exitwhen EUI > F0I
        set playerHero[GetPlayerId(sentinelPlayers[EUI])] = null
        if isPlayerAlive(sentinelPlayers[EUI]) then
            loop
                set F5I = GetRandomInt(D40, D50)
                if (R[F5I] == false) then
                    if not H2 then
                        set R[F5I] = true
                    endif
                    set playerHero[GetPlayerId(sentinelPlayers[EUI])] = CreateUnitAtLoc(sentinelPlayers[EUI], heroId[F5I], N0I, bj_UNIT_FACING)
                endif
                exitwhen (playerHero[GetPlayerId(sentinelPlayers[EUI])] != null)
            endloop
        endif
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = 5
    loop
        exitwhen EUI > F0I
        set playerHero[GetPlayerId(scourgePlayers[EUI])] = null
        if isPlayerAlive(scourgePlayers[EUI]) then
            loop
                set F5I = GetRandomInt(D60, numHeroes)
                if (R[F5I] == false) then
                    if not H2 then
                        set R[F5I] = true
                    endif
                    set playerHero[GetPlayerId(scourgePlayers[EUI])] = CreateUnitAtLoc(scourgePlayers[EUI], heroId[F5I], NII, bj_UNIT_FACING)
                endif
                exitwhen (playerHero[GetPlayerId(scourgePlayers[EUI])] != null)
            endloop
        endif
        set EUI = EUI + 1
    endloop
    set C3 = true
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    call RemoveLocation(X6O)
    call RemoveLocation(X7O)
endfunction

function YYO takes nothing returns nothing
    set noReviveTimeMode = true
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10, GetObjectName('n06K') + " " + GetObjectName('n06L'))
    call DisableTrigger(GetTriggeringTrigger())
endfunction

function YJO takes nothing returns nothing
    local integer YKO = S2I( SubString(GetEventPlayerChatString(), 6, StringLength(GetEventPlayerChatString())) )
    if YKO > WL then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n03C'))
    elseif YKO < 10 then
        call displayErrorMessage(firstPlayerAlive, GetObjectName('n02I'))
    else 
        set WL = YKO
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10, GetObjectName('n06X') + " " + I2S(WL) + " " + GetObjectName('n06N'))
        call DisableTrigger(GetTriggeringTrigger())
    endif
endfunction

function YLO takes nothing returns nothing
    call DisableTrigger( LoadTriggerHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 170) )
    call DisableTrigger( LoadTriggerHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 171) )
    call DisableTrigger(GetTriggeringTrigger())
endfunction

function YMO takes nothing returns nothing
    local trigger YNO = CreateTrigger()
    local trigger YSO = CreateTrigger()
    local trigger nd = CreateTrigger()
    set WL = HCI(D50, numHeroes - D60 + 1)
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, " ")
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n06O') + " -nd " + GetObjectName('n067') + " -lives xx " + GetObjectName('n06Q'))
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, GetObjectName('n060') + " " + I2S(WL))
    call TriggerRegisterTimerEvent(YNO, 15, false)
    call TriggerAddAction(YNO, function YLO)
    call SaveTriggerHandle(hashTable, GetHandleId(YNO), 170, nd)
    call SaveTriggerHandle(hashTable, GetHandleId(YNO), 171, YSO)
    call TriggerRegisterPlayerChatEvent(nd, firstPlayerAlive, "-nd", true)
    call TriggerAddAction(nd, function YYO)
    call TriggerRegisterPlayerChatEvent(YSO, firstPlayerAlive, "-lives", false)
    call TriggerAddAction(YSO, function YJO)
endfunction

function YTO takes nothing returns nothing
    local integer YRO = LoadInteger(hashTable, GetHandleId(GetTriggeringTrigger()), 173)
    local integer EUI
    local integer F0I
    local integer F5I
    local integer W3I
    local location N0I = GetRectCenter(T4)
    local location NII = GetRectCenter(R4)
    if gameEnded then
        return
    endif
    if isPlayerSentinel(Player(YRO)) then
        set EUI = D40
        set F0I = D50
        set W3I = 0
    else 
        set EUI = D60
        set F0I = numHeroes
        set W3I = 1
    endif
    if K0 then
        set EUI = D40
        set F0I = numHeroes
        if isPlayerSentinel(Player(YRO)) then
            call CreateUnitAtLoc(Player(YRO), 'n00C', N0I, bj_UNIT_FACING)
            call CreateUnitAtLoc(Player(YRO), 'n00C', NII, bj_UNIT_FACING)
        else 
            call CreateUnitAtLoc(Player(YRO), 'n00C', N0I, bj_UNIT_FACING)
            call CreateUnitAtLoc(Player(YRO), 'n00C', NII, bj_UNIT_FACING)
        endif
    else 
        set EUI = D40
        set F0I = numHeroes
        if isPlayerSentinel(Player(YRO)) then
            call CreateUnitAtLoc(Player(YRO), 'n00C', N0I, bj_UNIT_FACING)
        else 
            call CreateUnitAtLoc(Player(YRO), 'n00C', NII, bj_UNIT_FACING)
        endif
    endif
    if not Y0 then
        loop
            exitwhen EUI > F0I
            if R[EUI] == false then
                call SetPlayerTechMaxAllowed(Player(YRO), heroId[EUI], 1)
            endif
            set EUI = EUI + 1
        endloop
        if (GetPlayerState(Player(YRO), PLAYER_STATE_RESOURCE_GOLD) < 250) then
            call SetPlayerState(Player(YRO), PLAYER_STATE_RESOURCE_GOLD, 250)
        endif
    elseif (R1[W3I] < WL) then
        set playerHero[YRO] = null
        if isPlayerAlive(Player(YRO)) then
            loop
                set F5I = F4I()
                if R[F5I] == false then
                    set R[F5I] = true
                    if isPlayerSentinel(Player(YRO)) then
                        set playerHero[YRO] = CreateUnitAtLoc(Player(YRO), heroId[F5I], N0I, bj_UNIT_FACING)
                    else 
                        set playerHero[YRO] = CreateUnitAtLoc(Player(YRO), heroId[F5I], NII, bj_UNIT_FACING)
                    endif
                endif
                exitwhen playerHero[YRO] != null
            endloop
        endif
    endif
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    if not Y0 then
    endif
endfunction

function modeInitDeathMatch takes nothing returns nothing
    local location EA1
    local real YPO
    local trigger t
    local integer YQO
    local integer x
    set deathMatchMode = true
    call disableHero('H00I')
    set x = 1
    loop
        exitwhen x > 5
        set YQO = GetPlayerId(sentinelPlayers[x])
        set t = CreateTrigger()
        call TriggerRegisterTimerExpireEvent(t, timerDeathCountdown[YQO])
        call TriggerAddAction(t, function YTO)
        call SaveInteger(hashTable, GetHandleId(t), 173, YQO)
        set YQO = GetPlayerId(scourgePlayers[x])
        set t = CreateTrigger()
        call TriggerRegisterTimerExpireEvent(t, timerDeathCountdown[YQO])
        call TriggerAddAction(t, function YTO)
        call SaveInteger(hashTable, GetHandleId(t), 173, YQO)
        set x = x + 1
    endloop
    call UnitRemoveAbility(CV0, 'Aawa')
    call UnitRemoveAbility(CW0, 'Aawa')
    call UnitRemoveAbility(CX0, 'Aawa')
    call UnitRemoveAbility(CY0, 'Aawa')
    call UnitRemoveAbility(CJ0, 'Aawa')
    call UnitRemoveAbility(CK0, 'Aawa')
    call UnitRemoveAbility(CL0, 'Aawa')
    call UnitRemoveAbility(CM0, 'Aawa')
    call UnitRemoveAbility(CN0, 'Aawa')
    call UnitRemoveAbility(CS0, 'Aawa')
    call ExecuteFunc("YMO")
endfunction

function HHO takes nothing returns nothing
    local integer WKO = GetRandomInt(1, 4)
    set Z2 = true
    if (WKO == 1) then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, GetObjectName('n0FD'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
        call ExecuteFunc("modeInitRandomDraft")
    endif
    if (WKO == 2) then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, GetObjectName('n0FE'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
        call ExecuteFunc("HGO")
    endif
    if (WKO == 3) then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, GetObjectName('n0FK'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
        call ExecuteFunc("H8O")
    endif
    if (WKO == 4) then
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, GetObjectName('n0FM'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
        call ExecuteFunc("H2O")
        call ExecuteFunc("H7O")
    endif
endfunction

function H6O takes nothing returns nothing
    set H2 = true
    call disableHero('H00I')
endfunction

function GQO takes nothing returns nothing
    local integer MUI = EMI(AO)
    local integer MQI = EMI(BO)
    local integer HWI = MUI + MQI
    local integer EUI
    local integer JIO
    local integer x
    local integer y
    local integer z
    local player array J1O
    local player array JOO
    local integer w
    local integer J2O
    local integer J3O
    local location X6O = GetRectCenter(B4)
    local location X7O = GetRectCenter(R3)
    local location N0I = GetRectCenter(T4)
    local location NII = GetRectCenter(R4)
    set GO = true
    call BG1(sentinelPlayers[1])
    call BG1(sentinelPlayers[2])
    call BG1(sentinelPlayers[3])
    call BG1(sentinelPlayers[4])
    call BG1(sentinelPlayers[5])
    call BG1(scourgePlayers[1])
    call BG1(scourgePlayers[2])
    call BG1(scourgePlayers[3])
    call BG1(scourgePlayers[4])
    call BG1(scourgePlayers[5])
    set x = 1
    loop
        exitwhen x > 5
        if isPlayerAlive(sentinelPlayers[x]) then
            call CreateUnitAtLoc(sentinelPlayers[x], 'n00C', N0I, bj_UNIT_FACING)
            call CreateUnitAtLoc(sentinelPlayers[x], 'n00C', NII, bj_UNIT_FACING)
        endif
        if isPlayerAlive(scourgePlayers[x]) then
            call CreateUnitAtLoc(scourgePlayers[x], 'n00C', N0I, bj_UNIT_FACING)
            call CreateUnitAtLoc(scourgePlayers[x], 'n00C', NII, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    set J2O = GetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    set J3O = GetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    set J1O[1] = null
    set J1O[2] = null
    set J1O[3] = null
    set J1O[4] = null
    set J1O[5] = null
    set J1O[6] = null
    set J1O[7] = null
    set J1O[8] = null
    set J1O[9] = null
    set J1O[10] = null
    set z = 1
    set w = 1
    set EUI = 1
    loop
        exitwhen EUI > 5
        if isPlayerAlive(sentinelPlayers[EUI]) then
            set J1O[w] = sentinelPlayers[EUI]
            set w = w + 1
        else 
            set JOO[z] = sentinelPlayers[EUI]
            set z = z + 1
        endif
        set EUI = EUI + 1
    endloop
    set EUI = 1
    loop
        exitwhen EUI > 5
        if isPlayerAlive(scourgePlayers[EUI]) then
            set J1O[w] = scourgePlayers[EUI]
            set w = w + 1
        else 
            set JOO[z] = scourgePlayers[EUI]
            set z = z + 1
        endif
        set EUI = EUI + 1
    endloop
    set sentinelPlayers[1] = null
    set sentinelPlayers[2] = null
    set sentinelPlayers[3] = null
    set sentinelPlayers[4] = null
    set sentinelPlayers[5] = null
    set scourgePlayers[1] = null
    set scourgePlayers[2] = null
    set scourgePlayers[3] = null
    set scourgePlayers[4] = null
    set scourgePlayers[5] = null
    set EUI = 1
    loop
        exitwhen EUI > (HWI/2)
        set JIO = GetRandomInt(1, HWI)
        if (J1O[JIO] != null) then
            set sentinelPlayers[EUI] = J1O[JIO]
            set J1O[JIO] = null
            set EUI = EUI + 1
        endif
    endloop
    set x = EUI
    set EUI = 1
    loop
        exitwhen EUI > HWI - x + 1
        set JIO = GetRandomInt(1, HWI)
        if (J1O[JIO] != null) then
            set scourgePlayers[EUI] = J1O[JIO]
            set J1O[JIO] = null
            set EUI = EUI + 1
        endif
    endloop
    set z = EUI
    set EUI = x
    set y = 1
    loop
        exitwhen EUI > 5
        set sentinelPlayers[EUI] = JOO[y]
        set y = y + 1
        set EUI = EUI + 1
    endloop
    set EUI = z
    loop
        exitwhen EUI > 5
        set scourgePlayers[EUI] = JOO[y]
        set y = y + 1
        set EUI = EUI + 1
    endloop
    set EUI = 0
    loop
        exitwhen EUI > 5
        set EUI = EUI + 1
    endloop
    call SetPlayerTeam(sentinelPlayers[0], 0)
    call SetPlayerTeam(sentinelPlayers[1], 0)
    call SetPlayerTeam(sentinelPlayers[2], 0)
    call SetPlayerTeam(sentinelPlayers[3], 0)
    call SetPlayerTeam(sentinelPlayers[4], 0)
    call SetPlayerTeam(sentinelPlayers[5], 0)
    call SetPlayerTeam(scourgePlayers[0], 1)
    call SetPlayerTeam(scourgePlayers[1], 1)
    call SetPlayerTeam(scourgePlayers[2], 1)
    call SetPlayerTeam(scourgePlayers[3], 1)
    call SetPlayerTeam(scourgePlayers[4], 1)
    call SetPlayerTeam(scourgePlayers[5], 1)
    call MYI()
    set x = 0
    set y = 0
    loop
        exitwhen x > 5
        loop
            exitwhen y > 5
            call SetPlayerAllianceStateBJ(sentinelPlayers[x], sentinelPlayers[y], 3)
            call SetPlayerAllianceStateBJ(scourgePlayers[x], scourgePlayers[y], 3)
            call SetPlayerAllianceStateBJ(sentinelPlayers[x], scourgePlayers[y], 0)
            call SetPlayerAllianceStateBJ(scourgePlayers[x], sentinelPlayers[y], 0)
            set y = y + 1
        endloop
        set y = 0
        set x = x + 1
    endloop
    call ForceClear(AO)
    call ForceClear(BO)
    call ForceAddPlayer(AO, sentinelPlayers[0])
    call ForceAddPlayer(AO, sentinelPlayers[1])
    call ForceAddPlayer(AO, sentinelPlayers[2])
    call ForceAddPlayer(AO, sentinelPlayers[3])
    call ForceAddPlayer(AO, sentinelPlayers[4])
    call ForceAddPlayer(AO, sentinelPlayers[5])
    call ForceAddPlayer(BO, scourgePlayers[0])
    call ForceAddPlayer(BO, scourgePlayers[1])
    call ForceAddPlayer(BO, scourgePlayers[2])
    call ForceAddPlayer(BO, scourgePlayers[3])
    call ForceAddPlayer(BO, scourgePlayers[4])
    call ForceAddPlayer(BO, scourgePlayers[5])
    call ExecuteFunc("MJI")
    call SB1()
    set MUI = EMI(AO)
    set MQI = EMI(BO)
    set EUI = 1
    loop
        exitwhen EUI > 5
        if isPlayerAlive(sentinelPlayers[EUI]) then
            call SetPlayerStateBJ(sentinelPlayers[EUI], PLAYER_STATE_RESOURCE_GOLD, (4265/MUI))
            call SetPlayerStateBJ(sentinelPlayers[EUI], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        if isPlayerAlive(scourgePlayers[EUI]) then
            call SetPlayerStateBJ(scourgePlayers[EUI], PLAYER_STATE_RESOURCE_GOLD, (4265/MQI))
            call SetPlayerStateBJ(scourgePlayers[EUI], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        set EUI = EUI + 1
    endloop
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[1], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[2], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[3], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[4], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[5], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[1], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[2], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[3], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[4], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[5], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    if E2 then
        set x = 0
        loop
            exitwhen x > 5
            call SetPlayerAlliance(Player(0), sentinelPlayers[x], ConvertAllianceType(0), true)
            call SetPlayerAlliance(Player(0), sentinelPlayers[x], ConvertAllianceType(4), true)
            call SetPlayerAlliance(Player(0), scourgePlayers[x], ConvertAllianceType(0), false)
            call SetPlayerAlliance(Player(0), scourgePlayers[x], ConvertAllianceType(4), false)
            set x = x + 1
        endloop
    endif
    call MXI()
    set X6O = null
    set X7O = null
    set N0I = null
    set NII = null
endfunction

function GUO takes nothing returns nothing
    local integer MUI = EMI(AO)
    local integer MQI = EMI(BO)
    local integer HWI = MUI + MQI
    local integer EUI
    local integer JIO
    local integer x
    local integer y
    local integer z
    local player array J1O
    local player array JOO
    local integer w
    local integer J2O
    local integer J3O
    local location X6O
    local location X7O
    local location N0I
    local location NII
    local integer J5O
    set J5O = GetRandomInt(1, 2)
    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, GetObjectName('n0GY'))
    if J5O == 1 then
        return
    endif
    set PI0 = true
    set X6O = GetRectCenter(B4)
    set X7O = GetRectCenter(R3)
    set N0I = GetRectCenter(T4)
    set NII = GetRectCenter(R4)
    call BG1(sentinelPlayers[1])
    call BG1(sentinelPlayers[2])
    call BG1(sentinelPlayers[3])
    call BG1(sentinelPlayers[4])
    call BG1(sentinelPlayers[5])
    call BG1(scourgePlayers[1])
    call BG1(scourgePlayers[2])
    call BG1(scourgePlayers[3])
    call BG1(scourgePlayers[4])
    call BG1(scourgePlayers[5])
    set x = 1
    loop
        exitwhen x > 5
        if isPlayerAlive(sentinelPlayers[x]) then
            call CreateUnitAtLoc(sentinelPlayers[x], 'n00C', N0I, bj_UNIT_FACING)
            call CreateUnitAtLoc(sentinelPlayers[x], 'n00C', NII, bj_UNIT_FACING)
        endif
        if isPlayerAlive(scourgePlayers[x]) then
            call CreateUnitAtLoc(scourgePlayers[x], 'n00C', N0I, bj_UNIT_FACING)
            call CreateUnitAtLoc(scourgePlayers[x], 'n00C', NII, bj_UNIT_FACING)
        endif
        set x = x + 1
    endloop
    call RemoveLocation(N0I)
    call RemoveLocation(NII)
    set J2O = GetPlayerState(sentinelPlayers[1], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(sentinelPlayers[2], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(sentinelPlayers[3], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(sentinelPlayers[4], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(sentinelPlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    set J3O = GetPlayerState(scourgePlayers[1], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(scourgePlayers[2], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(scourgePlayers[3], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(scourgePlayers[4], PLAYER_STATE_RESOURCE_GOLD) + GetPlayerState(scourgePlayers[5], PLAYER_STATE_RESOURCE_GOLD)
    set J1O[1] = sentinelPlayers[1]
    set J1O[2] = sentinelPlayers[2]
    set J1O[3] = sentinelPlayers[3]
    set J1O[4] = sentinelPlayers[4]
    set J1O[5] = sentinelPlayers[5]
    set J1O[6] = scourgePlayers[1]
    set J1O[7] = scourgePlayers[2]
    set J1O[8] = scourgePlayers[3]
    set J1O[9] = scourgePlayers[4]
    set J1O[10] = scourgePlayers[5]
    set sentinelPlayers[1] = J1O[6]
    set sentinelPlayers[2] = J1O[7]
    set sentinelPlayers[3] = J1O[8]
    set sentinelPlayers[4] = J1O[9]
    set sentinelPlayers[5] = J1O[10]
    set scourgePlayers[1] = J1O[1]
    set scourgePlayers[2] = J1O[2]
    set scourgePlayers[3] = J1O[3]
    set scourgePlayers[4] = J1O[4]
    set scourgePlayers[5] = J1O[5]
    call SetPlayerTeam(sentinelPlayers[0], 0)
    call SetPlayerTeam(sentinelPlayers[1], 0)
    call SetPlayerTeam(sentinelPlayers[2], 0)
    call SetPlayerTeam(sentinelPlayers[3], 0)
    call SetPlayerTeam(sentinelPlayers[4], 0)
    call SetPlayerTeam(sentinelPlayers[5], 0)
    call SetPlayerTeam(scourgePlayers[0], 1)
    call SetPlayerTeam(scourgePlayers[1], 1)
    call SetPlayerTeam(scourgePlayers[2], 1)
    call SetPlayerTeam(scourgePlayers[3], 1)
    call SetPlayerTeam(scourgePlayers[4], 1)
    call SetPlayerTeam(scourgePlayers[5], 1)
    call MYI()
    set x = 0
    set y = 0
    loop
        exitwhen x > 5
        loop
            exitwhen y > 5
            call SetPlayerAllianceStateBJ(sentinelPlayers[x], sentinelPlayers[y], 3)
            call SetPlayerAllianceStateBJ(scourgePlayers[x], scourgePlayers[y], 3)
            call SetPlayerAllianceStateBJ(sentinelPlayers[x], scourgePlayers[y], 0)
            call SetPlayerAllianceStateBJ(scourgePlayers[x], sentinelPlayers[y], 0)
            set y = y + 1
        endloop
        set y = 0
        set x = x + 1
    endloop
    call ForceClear(AO)
    call ForceClear(BO)
    call ForceAddPlayer(AO, sentinelPlayers[0])
    call ForceAddPlayer(AO, sentinelPlayers[1])
    call ForceAddPlayer(AO, sentinelPlayers[2])
    call ForceAddPlayer(AO, sentinelPlayers[3])
    call ForceAddPlayer(AO, sentinelPlayers[4])
    call ForceAddPlayer(AO, sentinelPlayers[5])
    call ForceAddPlayer(BO, scourgePlayers[0])
    call ForceAddPlayer(BO, scourgePlayers[1])
    call ForceAddPlayer(BO, scourgePlayers[2])
    call ForceAddPlayer(BO, scourgePlayers[3])
    call ForceAddPlayer(BO, scourgePlayers[4])
    call ForceAddPlayer(BO, scourgePlayers[5])
    call ExecuteFunc("MJI")
    set MUI = EMI(AO)
    set MQI = EMI(BO)
    set EUI = 1
    loop
        exitwhen EUI > 5
        if isPlayerAlive(sentinelPlayers[EUI]) then
            call SetPlayerStateBJ(sentinelPlayers[EUI], PLAYER_STATE_RESOURCE_GOLD, (4265/MUI))
            call SetPlayerStateBJ(sentinelPlayers[EUI], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        if isPlayerAlive(scourgePlayers[EUI]) then
            call SetPlayerStateBJ(scourgePlayers[EUI], PLAYER_STATE_RESOURCE_GOLD, (4265/MQI))
            call SetPlayerStateBJ(scourgePlayers[EUI], PLAYER_STATE_RESOURCE_LUMBER, 0)
        endif
        set EUI = EUI + 1
    endloop
    call PanCameraToTimedLocForPlayer(sentinelPlayers[1], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[2], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[3], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[4], X6O, 0)
    call PanCameraToTimedLocForPlayer(sentinelPlayers[5], X6O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[1], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[2], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[3], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[4], X7O, 0)
    call PanCameraToTimedLocForPlayer(scourgePlayers[5], X7O, 0)
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[1], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[2], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[3], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[4], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, sentinelPlayers[5], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[1], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[2], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[3], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[4], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    call DestroyFogModifier( CreateFogModifierRectBJ(true, scourgePlayers[5], FOG_OF_WAR_MASKED, bj_mapInitialPlayableArea) )
    if E2 then
        set x = 0
        loop
            exitwhen x > 5
            call SetPlayerAlliance(Player(0), sentinelPlayers[x], ConvertAllianceType(0), true)
            call SetPlayerAlliance(Player(0), sentinelPlayers[x], ConvertAllianceType(4), true)
            call SetPlayerAlliance(Player(0), scourgePlayers[x], ConvertAllianceType(0), false)
            call SetPlayerAlliance(Player(0), scourgePlayers[x], ConvertAllianceType(4), false)
            set x = x + 1
        endloop
    endif
    call MXI()
    call SB1()
    set X6O = null
    set X7O = null
    set N0I = null
    set NII = null
endfunction

function HOO takes nothing returns nothing
    local integer EUI
    local integer F0I
    set V2 = true
    set EUI = 1
    set F0I = numIntelligenceHeroes
    loop
        exitwhen EUI > F0I
        call disableHero(intelligenceHeroes[EUI])
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = numStrengthHeroes
    loop
        exitwhen EUI > F0I
        call disableHero(strengthHeroes[EUI])
        set EUI = EUI + 1
    endloop
endfunction

function J7O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer E2I = LoadInteger(hashTable, DMI, 172)
    local player EYI
    local integer x = 1
    loop
        exitwhen x > 5
        set EYI = sentinelPlayers[x]
        if isPlayerAlive(EYI) and EYI != firstPlayerAlive then
            set playerHero[GetPlayerId(EYI)] = CreateUnit(EYI, E2I, GetRectCenterX(B4), GetRectCenterY(B4), 270)
        endif
        set EYI = scourgePlayers[x]
        if isPlayerAlive(EYI) and EYI != firstPlayerAlive then
            set playerHero[GetPlayerId(EYI)] = CreateUnit(EYI, E2I, GetRectCenterX(R3), GetRectCenterY(R3), 270)
        endif
        set x = x + 1
    endloop
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set EYI = null
    return false
endfunction

function J8O takes nothing returns nothing
    local integer x = 1
    local player EYI
    local unit E1I = GetTriggerUnit()
    local integer E2I = GetUnitTypeId(E1I)
    local trigger t
    local integer DMI
    if (GetOwningPlayer(E1I) == firstPlayerAlive and IsUnitType(E1I, UNIT_TYPE_HERO) == true) then
        call DisableTrigger(GetTriggeringTrigger())
        if S0[GetPlayerId(firstPlayerAlive)] == false and Y0 == false and J0 == false then
            call SetPlayerState(firstPlayerAlive, PLAYER_STATE_RESOURCE_GOLD, 250 + GetPlayerState(firstPlayerAlive, PLAYER_STATE_RESOURCE_GOLD))
        endif
        set D0[GetPlayerId(firstPlayerAlive)] = true
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0.01, false)
        call TriggerAddCondition(t, Condition(function J7O))
        call SaveInteger(hashTable, DMI, 172, E2I)
    endif
    set EYI = null
    set E1I = null
    set t = null
endfunction

function H1O takes nothing returns nothing
    local integer x = 1
    local trigger t = CreateTrigger()
    local region r = CreateRegion()
    set K2 = true
    call disableHero('H00I')
    loop
        exitwhen x > 5
        if (sentinelPlayers[x] != firstPlayerAlive) then
            call EQI(sentinelPlayers[x])
            set S0[GetPlayerId(sentinelPlayers[x])] = true
            set D0[GetPlayerId(sentinelPlayers[x])] = true
        endif
        if (scourgePlayers[x] != firstPlayerAlive) then
            call EQI(scourgePlayers[x])
            set S0[GetPlayerId(scourgePlayers[x])] = true
            set D0[GetPlayerId(scourgePlayers[x])] = true
        endif
        set x = x + 1
    endloop
    call RegionAddRect(r, bj_mapInitialPlayableArea)
    call TriggerRegisterEnterRegion(t, r, Condition(function returnTrue1))
    call TriggerAddAction(t, function J8O)
endfunction

function H3O takes nothing returns nothing
    local integer EUI
    local integer F0I
    set X2 = true
    set EUI = 1
    set F0I = numIntelligenceHeroes
    loop
        exitwhen EUI > F0I
        call disableHero(intelligenceHeroes[EUI])
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = numAgilityHeroes
    loop
        exitwhen EUI > F0I
        call disableHero(agilityHeroes[EUI])
        set EUI = EUI + 1
    endloop
endfunction

function H2O takes nothing returns nothing
    local integer EUI
    local integer F0I
    set W2 = true
    set EUI = 1
    set F0I = numAgilityHeroes
    loop
        exitwhen EUI > F0I
        call disableHero(agilityHeroes[EUI])
        set EUI = EUI + 1
    endloop
    set EUI = 1
    set F0I = numStrengthHeroes
    loop
        exitwhen EUI > F0I
        call disableHero(strengthHeroes[EUI])
        set EUI = EUI + 1
    endloop
endfunction

function H5O takes nothing returns nothing
    local integer EUI
    local integer F0I
    set P10 = true
    set EUI = 1
    set F0I = DF0
    loop
        exitwhen EUI > F0I
        call disableHero(DE0[EUI])
        set EUI = EUI + 1
    endloop
endfunction

function H4O takes nothing returns nothing
    local integer EUI
    local integer F0I
    set PO0 = true
    set EUI = 1
    set F0I = DH0
    loop
        exitwhen EUI > F0I
        call disableHero(DG0[EUI])
        set EUI = EUI + 1
    endloop
endfunction

function modeInitItemDrop takes nothing returns nothing
    set itemDropMode = true
endfunction

function HXO takes nothing returns nothing
    set easyMode = true
    call SetPlayerTechResearched(sentinelPlayers[0], 'R004', 1)
    call SetPlayerTechResearched(scourgePlayers[0], 'R004', 1)
    call SetPlayerHandicapXP(sentinelPlayers[1], 1.5)
    call SetPlayerHandicapXP(sentinelPlayers[2], 1.5)
    call SetPlayerHandicapXP(sentinelPlayers[3], 1.5)
    call SetPlayerHandicapXP(sentinelPlayers[4], 1.5)
    call SetPlayerHandicapXP(sentinelPlayers[5], 1.5)
    call SetPlayerHandicapXP(scourgePlayers[1], 1.5)
    call SetPlayerHandicapXP(scourgePlayers[2], 1.5)
    call SetPlayerHandicapXP(scourgePlayers[3], 1.5)
    call SetPlayerHandicapXP(scourgePlayers[4], 1.5)
    call SetPlayerHandicapXP(scourgePlayers[5], 1.5)
endfunction

function HVO takes nothing returns nothing
    set P0 = true
    call DisableTrigger(X60)
endfunction

function HWO takes nothing returns nothing
    set Q0 = true
endfunction

function JGO takes nothing returns nothing
    set P30 = false
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10, GetObjectName('n0HA'))
    call DisableTrigger(GetTriggeringTrigger())
endfunction

function JHO takes nothing returns nothing
    call DisableTrigger( LoadTriggerHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 174) )
    call DisableTrigger(GetTriggeringTrigger())
endfunction

function JZO takes nothing returns nothing
    local trigger YNO = CreateTrigger()
    local trigger nn = CreateTrigger()
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, " ")
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 10.00, "Extra commands: -noneutrals can be entered in the following 15 seconds. ")
    call TriggerRegisterTimerEvent(YNO, 15, false)
    call TriggerAddAction(YNO, function JHO)
    call SaveTriggerHandle(hashTable, GetHandleId(YNO), 174, nn)
    call TriggerRegisterPlayerChatEvent(nn, firstPlayerAlive, "-noneutrals", true)
    call TriggerAddAction(nn, function JGO)
endfunction

function HYO takes nothing returns nothing
    set P20 = true
    call ExecuteFunc("JZO")
endfunction

function HJO takes nothing returns nothing
    set P40 = true
endfunction

function HLO takes nothing returns nothing
    set P50 = true
endfunction

function HKO takes nothing returns nothing
    set P60 = true
endfunction

function HNO takes nothing returns nothing
    set EL = true
    set FL = false
endfunction

function HSO takes nothing returns nothing
    set P70 = true
endfunction

function HMO takes nothing returns nothing
    set ZL = true
    set YL = true
endfunction

function HTO takes nothing returns nothing
    set HL = true
endfunction

function JKO takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i > 5
        call SetPlayerName(sentinelPlayers[i], playerName[GetPlayerId(sentinelPlayers[i])] + " (" + I2S(nKill[GetPlayerId(sentinelPlayers[i])]) + "/" + I2S(nDeath[GetPlayerId(sentinelPlayers[i])]) + " | " + I2S(A[GetPlayerId(sentinelPlayers[i])]) + "-" + I2S(B[GetPlayerId(sentinelPlayers[i])]) + ")")
        call SetPlayerName(scourgePlayers[i], playerName[GetPlayerId(scourgePlayers[i])] + " (" + I2S(nKill[GetPlayerId(scourgePlayers[i])]) + "/" + I2S(nDeath[GetPlayerId(scourgePlayers[i])]) + " | " + I2S(A[GetPlayerId(scourgePlayers[i])]) + "-" + I2S(B[GetPlayerId(scourgePlayers[i])]) + ")")
        set i = i + 1
    endloop
endfunction

function JLO takes nothing returns boolean 
    if P80 == false then
        if GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0 then
            call JKO()
        endif
    endif
    return false
endfunction

function HRO takes nothing returns nothing
    set P80 = true
endfunction

function JNO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    call SetUnitScale(E1I, EAI(E1I)*P90, EAI(E1I)*P90, EAI(E1I)*P90)
    set E1I = null
endfunction

function JSO takes nothing returns boolean 
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
        call JNO()
    endif
    return false
endfunction

function HPO takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, bj_mapInitialPlayableArea)
    call TriggerAddCondition(t, Condition(function JSO))
    set PA0 = true
    set P90 = 0.5
endfunction

function HQO takes nothing returns nothing
    set PB0 = true
endfunction

function HUO takes nothing returns nothing
    set GL = true
endfunction

function JRO takes nothing returns boolean 
    if GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0 then
        if GetTriggerEvalCount(GetTriggeringTrigger()) == 1 then
            call CameraSetupSetDestPosition(PD0, 0, 0, 0.0)
        else 
            call CameraSetupSetDestPosition(PD0, GetCameraTargetPositionX(), GetCameraTargetPositionY(), 0.0)
        endif
        call CameraSetupApplyForPlayer(true, PD0, GetLocalPlayer(), 0)
        call SetTerrainFogEx(0, 0.0, 100000.0, 0.500, 0.353, 0.314, 0.235)
    endif
    return false
endfunction

function ZIO takes nothing returns nothing
    local trigger t = CreateTrigger()
    set PC0 = true
    set PD0 = CreateCameraSetup()
    call CameraSetupSetField(PD0, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    call CameraSetupSetField(PD0, CAMERA_FIELD_ROTATION, 90.0, 0.0)
    call CameraSetupSetField(PD0, CAMERA_FIELD_ANGLE_OF_ATTACK, 304.0, 0.0)
    call CameraSetupSetField(PD0, CAMERA_FIELD_TARGET_DISTANCE, 2500.0, 0.0)
    call CameraSetupSetField(PD0, CAMERA_FIELD_ROLL, 0.0, 0.0)
    call CameraSetupSetField(PD0, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    call CameraSetupSetField(PD0, CAMERA_FIELD_FARZ, 16000.0, 0.0)
    call CameraSetupSetDestPosition(PD0, 0.0, 0.0, 0.0)
    call TriggerRegisterTimerEvent(t, 30, true)
    call TriggerRegisterTimerEvent(t, 0.1, false)
    call TriggerAddCondition(t, Condition(function JRO))
    set t = null
endfunction

function JPO takes nothing returns boolean 
    return isPlayerSentinel(GetOwningPlayer(GetFilterUnit())) and G7I(GetFilterUnit()) == true and GetUnitTypeId(GetFilterUnit()) != 'H00J'
endfunction

function JQO takes nothing returns boolean 
    return isPlayerScourge(GetOwningPlayer(GetFilterUnit())) and G7I(GetFilterUnit()) == true and GetUnitTypeId(GetFilterUnit()) != 'H00J'
endfunction

function JUO takes nothing returns nothing
    local unit u = GetEnumUnit()
    call SetUnitState(u, UNIT_STATE_LIFE, GetUnitState(u, UNIT_STATE_LIFE) + 200)
    call SetUnitState(u, UNIT_STATE_MANA, GetUnitState(u, UNIT_STATE_MANA) + 200)
    call SetPlayerState(GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(GetOwningPlayer(u), PLAYER_STATE_RESOURCE_GOLD) + 150)
    call AddHeroXP(u, 248, true)
    set u = null
endfunction

function K0O takes integer i, integer VIO, integer r, integer g, integer b, integer a, real x, real y, boolean KIO returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local image K1O = LoadImageHandle(hashTable, DMI, (476 + i))
    local image KOO = LoadImageHandle(hashTable, DMI, (484 + i))
    if K1O != null then
        call DestroyImage(K1O)
        call SaveImageHandle(hashTable, DMI, (476 + i), null)
        set K1O = null
    endif
    if KOO != null then
        call DestroyImage(KOO)
        call SaveImageHandle(hashTable, DMI, (484 + i), null)
        set KOO = null
    endif
    if KIO == false or VIO < 1 then
        return
    endif
    if StringLength(I2S(VIO)) > 1 then
        call ZNO("Fonts\\" + SubString(I2S(VIO), 0, 1) + ".blp", 120, 120, x - 30, y, 0, true)
        call SetImageColor(LK, r, g, b, a)
        set K1O = LK
        call ZNO("Fonts\\" + SubString(I2S(VIO), 1, 2) + ".blp", 120, 120, x + 30, y, 0, true)
        call SetImageColor(LK, r, g, b, a)
        set KOO = LK
    else 
        call ZNO("Fonts\\0.blp", 120, 120, x - 30, y, 0, true)
        call SetImageColor(LK, r, g, b, a)
        set K1O = LK
        call ZNO("Fonts\\" + SubString(I2S(VIO), 0, 1) + ".blp", 120, 120, x + 30, y, 0, true)
        call SetImageColor(LK, r, g, b, a)
        set KOO = LK
    endif
    call SaveImageHandle(hashTable, DMI, (476 + i), K1O)
    call SaveImageHandle(hashTable, DMI, (484 + i), KOO)
    set K1O = null
    set KOO = null
endfunction

function K2O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local group K3O = allocGroup()
    local group K4O = allocGroup()
    local integer K5O
    local integer K6O
    local real x
    local real y
    local rect r
    local player K7O
    local player K8O
    local integer i = 0
    local integer H7I
    local unit CP
    local real K9O
    local real DJI = TimerGetElapsed(M)
    loop
        exitwhen i > 5
        set r = LoadRectHandle(hashTable, DMI, (460 + i))
        set H7I = LoadInteger(hashTable, DMI, (492 + i))
        set CP = LoadUnitHandle(hashTable, DMI, (452 + i))
        set K7O = GetOwningPlayer(CP)
        set K8O = LoadPlayerHandle(hashTable, DMI, (468 + i))
        set x = GetRectCenterX(r)
        set y = GetRectCenterY(r)
        call GroupEnumUnitsInRect(K3O, r, Condition(function JPO))
        call GroupEnumUnitsInRect(K4O, r, Condition(function JQO))
        set K5O = CountUnitsInGroup(K3O)
        set K6O = CountUnitsInGroup(K4O)
        if (K5O > 0 and K6O > 0) or (K5O == 0 and K6O == 0) then
            if K7O == FO then
                set K8O = FO
                call SavePlayerHandle(hashTable, DMI, (468 + i), K8O)
            endif
            set H7I = 61
            call SaveInteger(hashTable, DMI, (492 + i), H7I)
        elseif K5O > 0 and K6O == 0 then
            set K8O = sentinelPlayers[1]
            call SavePlayerHandle(hashTable, DMI, (468 + i), K8O)
            set H7I = H7I - K5O
            call SaveInteger(hashTable, DMI, (492 + i), H7I)
        elseif K6O > 0 and K5O == 0 then
            set K8O = scourgePlayers[1]
            call SavePlayerHandle(hashTable, DMI, (468 + i), K8O)
            set H7I = H7I - K6O
            call SaveInteger(hashTable, DMI, (492 + i), H7I)
        endif
        if K8O == FO and K7O != FO then
            call SetUnitColor(CP, GetPlayerColor(K8O))
            call SetUnitOwner(CP, K8O, false)
            call K0O(i, H7I, 255, 0, 0, 255, x, y, false)
        elseif K8O == K7O then
            call K0O(i, H7I, 255, 0, 0, 255, x, y, false)
            set H7I = 61
            call SaveInteger(hashTable, DMI, (492 + i), H7I)
        elseif K8O != FO then
            if H7I < 61 then
                call K0O(i, H7I, 255, 0, 0, 255, x, y, true)
            else 
                call K0O(i, H7I, 255, 0, 0, 255, x, y, false)
            endif
            if H7I < 1 then
                call PingMinimapEx(x, y, 2, 255, 255, 255, false)
                call GYI(K8O, "Sound\\Interface\\Rescue.wav")
                call SetUnitOwner(CP, K8O, false)
                set H7I = 61
                call SaveInteger(hashTable, DMI, (492 + i), H7I)
                call SaveReal(hashTable, DMI, (500 + i), (DJI*1.0))
                if isPlayerSentinel(K8O) then
                    call SetUnitColor(CP, GetPlayerColor(sentinelPlayers[0]))
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, "|c00ff0303The Sentinel now controls a Capture Point.|r")
                    call ForGroup(K3O, function JUO)
                else 
                    call SetUnitColor(CP, GetPlayerColor(scourgePlayers[0]))
                    call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 10, "|c00ff0303The Scourge now controls a Capture Point.|r")
                    call ForGroup(K4O, function JUO)
                endif
            endif
        endif
        set i = i + 1
    endloop
    call releaseGroup(K3O)
    call releaseGroup(K4O)
    set K3O = null
    set K4O = null
    return false
endfunction

function KAO takes nothing returns boolean 
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local fogmodifier V2I
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function K2O))
    call PingMinimapEx(GetRectCenterX(MB), GetRectCenterY(MB), 4, 255, 255, 255, false)
    call PingMinimapEx(GetRectCenterX(TB), GetRectCenterY(TB), 4, 255, 255, 255, false)
    call PingMinimapEx(GetRectCenterX(PB), GetRectCenterY(PB), 4, 255, 255, 255, false)
    call PingMinimapEx(GetRectCenterX(SB), GetRectCenterY(SB), 4, 255, 255, 255, false)
    call PingMinimapEx(GetRectCenterX(RB), GetRectCenterY(RB), 4, 255, 255, 255, false)
    call PingMinimapEx(GetRectCenterX(QB), GetRectCenterY(QB), 4, 255, 255, 255, false)
    set PF0 = CreateUnit(FO, 'ncp2', GetRectCenterX(MB), GetRectCenterY(MB), 0)
    set PG0 = CreateUnit(FO, 'ncp2', GetRectCenterX(TB), GetRectCenterY(TB), 0)
    set PH0 = CreateUnit(FO, 'ncp2', GetRectCenterX(PB), GetRectCenterY(PB), 0)
    set PZ0 = CreateUnit(FO, 'ncp2', GetRectCenterX(SB), GetRectCenterY(SB), 0)
    set PV0 = CreateUnit(FO, 'ncp2', GetRectCenterX(RB), GetRectCenterY(RB), 0)
    set PW0 = CreateUnit(FO, 'ncp2', GetRectCenterX(QB), GetRectCenterY(QB), 0)
    set V2I = CreateFogModifierRadius(sentinelPlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(MB), GetRectCenterY(MB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(scourgePlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(MB), GetRectCenterY(MB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(sentinelPlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(TB), GetRectCenterY(TB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(scourgePlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(TB), GetRectCenterY(TB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(sentinelPlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(PB), GetRectCenterY(PB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(scourgePlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(PB), GetRectCenterY(PB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(sentinelPlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(SB), GetRectCenterY(SB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(scourgePlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(SB), GetRectCenterY(SB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(sentinelPlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(RB), GetRectCenterY(RB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(scourgePlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(RB), GetRectCenterY(RB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(sentinelPlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(QB), GetRectCenterY(QB), 600, true, true)
    call FogModifierStart(V2I)
    set V2I = CreateFogModifierRadius(scourgePlayers[1], FOG_OF_WAR_VISIBLE, GetRectCenterX(QB), GetRectCenterY(QB), 600, true, true)
    call FogModifierStart(V2I)
    call ZWI("Speed", PF0, 255, 233, 12)
    call ZWI("Speed", PZ0, 255, 233, 12)
    call ZWI("Combat", PG0, 255, 233, 12)
    call ZWI("Combat", PV0, 255, 233, 12)
    call ZWI("Regen", PH0, 255, 233, 12)
    call ZWI("Regen", PW0, 255, 233, 12)
    call UnitAddAbility(PF0, 'S00O')
    call UnitAddAbility(PZ0, 'S00R')
    call UnitAddAbility(PG0, 'A1PO')
    call UnitAddAbility(PG0, 'A1PL')
    call UnitAddAbility(PV0, 'A1PN')
    call UnitAddAbility(PV0, 'A1PJ')
    call UnitAddAbility(PH0, 'A1PV')
    call UnitAddAbility(PH0, 'A1PF')
    call UnitAddAbility(PW0, 'A1PD')
    call UnitAddAbility(PW0, 'A1PE')
    set PX0 = 61
    set PY0 = 61
    set PJ0 = 61
    set PK0 = 61
    set PL0 = 61
    set PM0 = 61
    call SaveUnitHandle(hashTable, DMI, 452, PF0)
    call SaveUnitHandle(hashTable, DMI, 453, PG0)
    call SaveUnitHandle(hashTable, DMI, 454, PH0)
    call SaveUnitHandle(hashTable, DMI, 455, PZ0)
    call SaveUnitHandle(hashTable, DMI, 456, PV0)
    call SaveUnitHandle(hashTable, DMI, 457, PW0)
    call SaveReal(hashTable, DMI, 500, ((-1)*1.0))
    call SaveReal(hashTable, DMI, 501, ((-1)*1.0))
    call SaveReal(hashTable, DMI, 502, ((-1)*1.0))
    call SaveReal(hashTable, DMI, 503, ((-1)*1.0))
    call SaveReal(hashTable, DMI, 504, ((-1)*1.0))
    call SaveReal(hashTable, DMI, 505, ((-1)*1.0))
    call SaveRectHandle(hashTable, DMI, 460, MB)
    call SaveRectHandle(hashTable, DMI, 461, TB)
    call SaveRectHandle(hashTable, DMI, 462, PB)
    call SaveRectHandle(hashTable, DMI, 463, SB)
    call SaveRectHandle(hashTable, DMI, 464, RB)
    call SaveRectHandle(hashTable, DMI, 465, QB)
    call SavePlayerHandle(hashTable, DMI, 468, FO)
    call SavePlayerHandle(hashTable, DMI, 469, FO)
    call SavePlayerHandle(hashTable, DMI, 470, FO)
    call SavePlayerHandle(hashTable, DMI, 471, FO)
    call SavePlayerHandle(hashTable, DMI, 472, FO)
    call SavePlayerHandle(hashTable, DMI, 473, FO)
    call SaveInteger(hashTable, DMI, 492, 61)
    call SaveInteger(hashTable, DMI, 493, 61)
    call SaveInteger(hashTable, DMI, 494, 61)
    call SaveInteger(hashTable, DMI, 495, 61)
    call SaveInteger(hashTable, DMI, 496, 61)
    call SaveInteger(hashTable, DMI, 497, 61)
    call SaveImageHandle(hashTable, DMI, 476, null)
    call SaveImageHandle(hashTable, DMI, 484, null)
    call SaveImageHandle(hashTable, DMI, 477, null)
    call SaveImageHandle(hashTable, DMI, 485, null)
    call SaveImageHandle(hashTable, DMI, 478, null)
    call SaveImageHandle(hashTable, DMI, 486, null)
    call SaveImageHandle(hashTable, DMI, 479, null)
    call SaveImageHandle(hashTable, DMI, 487, null)
    call SaveImageHandle(hashTable, DMI, 480, null)
    call SaveImageHandle(hashTable, DMI, 488, null)
    call SaveImageHandle(hashTable, DMI, 481, null)
    call SaveImageHandle(hashTable, DMI, 489, null)
    call abandonTrigger(GetTriggeringTrigger())
    set t = null
    return false
endfunction

function QO1 takes nothing returns nothing
    local trigger t
    if PE0 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 600, false)
        call TriggerAddCondition(t, Condition(function KAO))
        set t = null
    endif
endfunction

function Z1O takes nothing returns nothing
    set PE0 = true
endfunction

function KBO takes nothing returns nothing
    set Q[1] = 0
endfunction

function KDO takes nothing returns nothing
    set Q[2] = 0
endfunction

function KFO takes nothing returns nothing
    set Q[3] = 0
endfunction

function KHO takes nothing returns nothing
    set Q[4] = 0
endfunction

function KVO takes nothing returns nothing
    set Q[5] = 0
endfunction

function KXO takes nothing returns nothing
    set Q[7] = 0
endfunction

function KJO takes nothing returns nothing
    set Q[8] = 0
endfunction

function KLO takes nothing returns nothing
    set Q[9] = 0
endfunction

function KNO takes nothing returns nothing
    set Q[10] = 0
endfunction

function KTO takes nothing returns nothing
    set Q[11] = 0
endfunction

function KPO takes nothing returns nothing
    local integer i = 1
    local string id
    local player p
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        set id = I2S(GetPlayerId(p))
        call StoreInteger(UN, id, "id", i)
        set p = scourgePlayers[i]
        set id = I2S(GetPlayerId(p))
        call StoreInteger(UN, id, "id", i + 5)
        if GetLocalPlayer() == firstPlayerAlive then
            call SyncStoredInteger(UN, I2S(GetPlayerId(sentinelPlayers[i])), "id")
            call SyncStoredInteger(UN, I2S(GetPlayerId(scourgePlayers[i])), "id")
        endif
        set i = i + 1
    endloop
endfunction

function KQO takes nothing returns boolean 
    if defaultMode then
        call FOI()
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, playerColor[GetPlayerId(firstPlayerAlive)] + playerName[GetPlayerId(firstPlayerAlive)] + "|r" + " " + GetObjectName('n0CM'))
        call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 20.00, " ")
        set OL = true
        call GFO()
        call E6O()
        call SB1()
        call RX1()
        call CE1()
    endif
    call KPO()
    call abandonTrigger(GetTriggeringTrigger())
    return false
endfunction

function KUO takes nothing returns boolean 
    set B0 = true
    call abandonTrigger(GetTriggeringTrigger())
    return false
endfunction

function LIO takes nothing returns nothing
    set O0 = true
endfunction

function LOO takes nothing returns nothing
    set O2 = true
endfunction

function L3O takes nothing returns nothing
    set V3 = true
endfunction

function Torrent_Damage takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function L5O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = GetTriggerEvalCount(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real L6O
    local unit YVI
    set L6O = 0.6*(DHI - 25)*(DHI - 25)
    if DHI < 51 and GetTriggerEventId() != EVENT_UNIT_DEATH then
        if ModuloInteger(DHI, 5) == 0 then
            call doDamage(GCI, GDI, 1, 3 + 3*FVI)
        endif
        if G4I(GDI) == false then
            call SetUnitFlyHeight(GDI, 500 - L6O, 0)
        endif
    else 
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
        call UnitAddAbility(YVI, 'A11L')
        call SetUnitAbilityLevel(YVI, 'A11L', FVI)
        call IssueTargetOrder(YVI, "slow", GDI)
        if G4I(GDI) == false then
            call SetUnitFlyHeight(GDI, GetUnitDefaultFlyHeight(GDI), 0)
        endif
        if gameEnded == false then
            call PauseUnit(GDI, false)
        endif
        call SetUnitPathing(GDI, true)
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
    return false
endfunction

function L7O takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = myUnit
    local unit GDI = GetEnumUnit()
    local integer FVI = QJ
    call PauseUnit(GDI, true)
    call SetUnitPathing(GDI, false)
    if G4I(GDI) == false then
        call UnitAddAbility(GDI, 'Amrf')
        call UnitRemoveAbility(GDI, 'Amrf')
    endif
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function L5O))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call doDamage(GCI, GDI, 1, 30 + 30*FVI)
    set t = null
    set GCI = null
    set GDI = null
endfunction

function L8O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local group g = allocGroup()
    call V3I(GetOwningPlayer(E1I), 4, x, y, 400)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 177) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 178) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 179) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 180) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", x, y) )
    call DestroyEffect( AddSpecialEffect("effects\\TidalErruption.mdx", x, y) )
    set myUnit = E1I
    set QJ = FVI
    call GroupEnumUnitsInRange(g, x, y, 225, Condition(function XRI))
    call ForGroup(g, function L7O)
    call releaseGroup(g)
    set t = null
    set E1I = null
    return false
endfunction

function L9O takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A136')
    local string s = ""
    local real a
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(E1I)) == true then
        set s = "Objects\\Spawnmodels\\Other\\IllidanFootprint\\IllidanWaterSpawnFootPrint.mdl"
    endif
    call RemoveLocation(l)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SaveInteger(hashTable, DMI, 5, FVI)
    set a = 0
    call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffect(s, x + 40*Cos(a/6*360*bj_DEGTORAD), y + 40*Sin(a/6*360*bj_DEGTORAD)))
    set a = 1
    call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffect(s, x + 40*Cos(a/6*360*bj_DEGTORAD), y + 40*Sin(a/6*360*bj_DEGTORAD)))
    set a = 2
    call SaveEffectHandle(hashTable, DMI, 177, AddSpecialEffect(s, x + 40*Cos(a/6*360*bj_DEGTORAD), y + 40*Sin(a/6*360*bj_DEGTORAD)))
    set a = 3
    call SaveEffectHandle(hashTable, DMI, 178, AddSpecialEffect(s, x + 40*Cos(a/6*360*bj_DEGTORAD), y + 40*Sin(a/6*360*bj_DEGTORAD)))
    set a = 4
    call SaveEffectHandle(hashTable, DMI, 179, AddSpecialEffect(s, x + 40*Cos(a/6*360*bj_DEGTORAD), y + 40*Sin(a/6*360*bj_DEGTORAD)))
    set a = 5
    call SaveEffectHandle(hashTable, DMI, 180, AddSpecialEffect(s, x + 40*Cos(a/6*360*bj_DEGTORAD), y + 40*Sin(a/6*360*bj_DEGTORAD)))
    call TriggerRegisterTimerEvent(t, 1.6, false)
    call TriggerAddCondition(t, Condition(function L8O))
    set E1I = null
    set t = null
    set l = null
endfunction

function LAO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A136' then
        call L9O()
    endif
    return false
endfunction

function AH1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LAO))
    set t = null
endfunction

function D7O takes nothing returns nothing
    call SetPlayerAbilityAvailable(GetOwningPlayer(WM), 'A147', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(WM), 'A148', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(WM), 'A11U', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(WM), 'A149', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(XM), 'A147', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(XM), 'A148', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(XM), 'A11U', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(XM), 'A149', false)
endfunction

function LBO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI and (GetEventDamage() > 40 or IsUnitType(GDI, UNIT_TYPE_STRUCTURE) == true or GetUnitTypeId(GDI) == 'umtw' or GetUnitTypeId(GDI) == 'ebal') and LoadBoolean(hashTable, GetHandleId(GCI), 183) == true then
            call SaveBoolean(hashTable, GetHandleId(GCI), 183, false)
            call SaveReal(hashTable, GetHandleId(GCI), 184, (TimerGetElapsed(M)*1.0))
            call UnitRemoveAbility(GCI, 'A11O')
            call UnitRemoveAbility(GCI, 'A11R')
            call UnitRemoveAbility(GCI, 'A147')
            call UnitRemoveAbility(GCI, 'A148')
            call UnitRemoveAbility(GCI, 'A11U')
            call UnitRemoveAbility(GCI, 'A149')
            call FlushChildHashtable(hashTable, GetHandleId( LoadTriggerHandle(hashTable, DMI, 35) ))
            call abandonTrigger( LoadTriggerHandle(hashTable, DMI, 35) )
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function LCO takes nothing returns boolean 
    local trigger t
    local integer DMI
    local unit GDI
    local unit GCI
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SaveBoolean(hashTable, GetHandleId(GetTriggerUnit()), 183, false)
        call SaveReal(hashTable, GetHandleId(GetTriggerUnit()), 184, (TimerGetElapsed(M)*1.0))
        call UnitRemoveAbility(GetTriggerUnit(), 'A11O')
        call UnitRemoveAbility(GetTriggerUnit(), 'A11R')
        call UnitRemoveAbility(GetTriggerUnit(), 'A147')
        call UnitRemoveAbility(GetTriggerUnit(), 'A148')
        call UnitRemoveAbility(GetTriggerUnit(), 'A11U')
        call UnitRemoveAbility(GetTriggerUnit(), 'A149')
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    elseif GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 182) then
        if IsUnitAlly(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) == false then
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            set GDI = GetTriggerUnit()
            set GCI = GetAttacker()
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
            call TriggerRegisterTimerEvent(t, 2.5, false)
            call TriggerAddCondition(t, Condition(function LBO))
            call SaveInteger(hashTable, DMI, 30, DBI(GDI))
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            call SaveTriggerHandle(hashTable, DMI, 35, GetTriggeringTrigger())
            set GDI = null
            set GCI = null
            set t = null
        endif
    endif
    return false
endfunction

function LDO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real HXI = TimerGetElapsed(M)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A13T')
    local real LEO = LoadReal(hashTable, GetHandleId(E1I), 184)
    local boolean LFO = LoadBoolean(hashTable, GetHandleId(E1I), 183)
    if HXI - LEO > 20 - FVI*4 and LFO == false and GetUnitTypeId(E1I) == 'H06S' and isUnitUnavailable(E1I) == false then
        call SaveBoolean(hashTable, GetHandleId(E1I), 183, true)
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function LCO))
        call SaveUnitHandle(hashTable, DMI, 182, E1I)
        call UnitAddAbility(E1I, 'A11O')
        call SetUnitAbilityLevel(E1I, 'A11O', FVI)
        call UnitAddAbility(E1I, 'A11R')
        if FVI == 1 then
            call UnitAddAbility(E1I, 'A147')
        elseif FVI == 2 then
            call UnitAddAbility(E1I, 'A148')
        elseif FVI == 3 then
            call UnitAddAbility(E1I, 'A11U')
        elseif FVI == 4 then
            call UnitAddAbility(E1I, 'A149')
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A147', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A148', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A11U', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A149', false)
    elseif LFO == false then
        call UnitRemoveAbility(E1I, 'A11O')
        call UnitRemoveAbility(E1I, 'A11R')
        call UnitRemoveAbility(E1I, 'A147')
        call UnitRemoveAbility(E1I, 'A148')
        call UnitRemoveAbility(E1I, 'A11U')
        call UnitRemoveAbility(E1I, 'A149')
    endif
    set t = null
    set E1I = null
    return false
endfunction

function LGO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function LDO))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 181, 0)
    set E1I = null
    set t = null
endfunction

function LHO takes nothing returns boolean 
    if GetLearnedSkill() == 'A13T' and GetUnitAbilityLevel(GetTriggerUnit(), 'A13T') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call LGO()
    endif
    return false
endfunction

function AZ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function LHO))
    set t = null
endfunction

function LZO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local image i = LoadImageHandle(hashTable, DMI, 185)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT or (GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A13D') then
        if GetTriggerEventId() != EVENT_UNIT_DEATH and GOI(GDI) == false then
            if IsUnitHidden(GDI) then
                call SetUnitX(GDI, x)
                call SetUnitY(GDI, y)
            else 
                call SetUnitPosition(GDI, x, y)
            endif
        endif
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call ShowImage(i, false)
        call DestroyImage(i)
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set i = null
    return false
endfunction

function LVO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real x = GetUnitX(GDI)
    local real y = GetUnitY(GDI)
    local real ZLI = 90
    local image i = CreateImage("Fonts\\X.blp", ZLI, ZLI, 0, x - ZLI/2, y - ZLI/2, 0, 0, 0, 0, 2)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local string fx = ""
    local integer FVI = GetUnitAbilityLevel(GCI, 'A11N')
    call SetImageRenderAlways(i, true)
    if IsUnitAlly(GCI, GetOwningPlayer(GDI)) == false or IsUnitAlly(GDI, GetLocalPlayer()) == true then
        set fx = "effects\\BlackTide.mdx"
        call ShowImage(i, true)
    else 
        call ShowImage(i, false)
    endif
    call SetImageColor(i, 255, 0, 0, 255)
    call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(GCI), 'o00G', x, y, 0), 'BTLF', 5)
    call TriggerRegisterTimerEvent(t, FVI, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LZO))
    call SaveImageHandle(hashTable, DMI, 185, i)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget(fx, GDI, "overhead"))
    set GCI = null
    set GDI = null
    set i = null
    set t = null
endfunction

function LWO takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A11N' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
            call LVO()
        endif
    else 
        if GetLearnedSkill() == 'A11N' then
            call UnitAddAbility(GetTriggerUnit(), 'A13D')
        endif
    endif
    return false
endfunction

function LXO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A11N' then
        if LoadBoolean(hashTable, GetHandleId(GetOwningPlayer(GetSpellTargetUnit())), 139) and IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) == true then
            call GSI(GetTriggerUnit())
            call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
        endif
    endif
    return false
endfunction

function AV1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function LWO))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function LXO))
    set t = null
endfunction

function LYO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer W3I = 1
    local player p
    local real d
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer LJO = LoadInteger(hashTable, DMI, 136)
    local integer YHI = LoadInteger(hashTable, DMI, 188)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > YHI then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        loop
            exitwhen W3I > LJO
            set p = LoadPlayerHandle(hashTable, DMI, (1300 + W3I))
            set d = LoadReal(hashTable, DMI, (1200 + W3I))
            if p == null then
                set W3I = LJO
            else 
                call SetUnitState(GDI, UNIT_STATE_LIFE, HGI(1, GetUnitState(GDI, UNIT_STATE_LIFE) - d/YHI))
            endif
            set W3I = W3I + 1
        endloop
    endif
    set t = null
    set p = null
    set GDI = null
    return false
endfunction

function LKO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local trigger LLO = LoadTriggerHandle(hashTable, DMI, 135)
    local integer W3I = GetTriggerEvalCount(t)
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call TriggerRegisterTimerEvent(LLO, 1, true)
        call TriggerAddCondition(LLO, Condition(function LYO))
    else 
        set DMI = GetHandleId(LLO)
        call SetUnitState(GDI, UNIT_STATE_LIFE, GetUnitState(GDI, UNIT_STATE_LIFE) + 0.5*GetEventDamage())
        call SavePlayerHandle(hashTable, DMI, (1300 + W3I), GetOwningPlayer(GetEventDamageSource()))
        call SaveReal(hashTable, DMI, (1200 + W3I), ((0.5*GetEventDamage())*1.0))
        call SaveInteger(hashTable, DMI, 136, W3I)
    endif
    set t = null
    set GDI = null
    set p = null
    set LLO = null
    return false
endfunction

function LMO takes nothing returns nothing
    local unit GCI = PS0
    local unit GDI = GetEnumUnit()
    local integer FVI = PT0
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer YHI = 4 + FVI
    local trigger LLO = CreateTrigger()
    call unitAddTimedAbility(GDI, 'A126', 1, YHI)
    call UnitMakeAbilityPermanent(GDI, true, 'A126')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), 'A126', false)
    call TriggerRegisterTimerEvent(t, YHI + 0.01, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function LKO))
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(GCI))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveTriggerHandle(hashTable, DMI, 135, LLO)
    call SaveUnitHandle(hashTable, GetHandleId(LLO), 17, GDI)
    call SaveInteger(hashTable, GetHandleId(LLO), 188, YHI)
    set GCI = null
    set GDI = null
    set t = null
    set LLO = null
endfunction

function LNO takes nothing returns boolean 
    if (IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and IsUnitInGroup(GetFilterUnit(), PN0) == false then
        call GroupAddUnit(PN0, GetFilterUnit())
        return true
    endif
    return false
endfunction

function LSO takes nothing returns nothing
    local unit GCI = PS0
    local unit GDI = GetEnumUnit()
    local integer FVI = PT0
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A13X')
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
    call doDamage(GCI, GDI, 1, 200 + 100*FVI)
    set GCI = null
    set GDI = null
endfunction

function LTO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local unit LRO
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real HKI = GetUnitX(VDI)
    local real HLI = GetUnitY(VDI)
    local real HMI = LoadReal(hashTable, DMI, 66)
    local real HNI = LoadReal(hashTable, DMI, 67)
    local integer DHI = GetTriggerEvalCount(t)
    local real VGI = constrainX(HMI - 13*DHI*Cos(LPO))
    local real VHI = constrainY(HNI - 13*DHI*Sin(LPO))
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local group LQO = LoadGroupHandle(hashTable, DMI, 187)
    local group g
    if DHI < 19 then
        call SetUnitVertexColor(VDI, 255, 255, 255, 5 + DHI*10)
        set LRO = LoadUnitHandle(hashTable, DMI, 186)
        call SetUnitVertexColor(LRO, 255, 255, 255, 5 + DHI*10)
    elseif DHI < 125 then
        call SetUnitVertexColor(VDI, 255, 255, 255, 190)
    elseif DHI < 150 then
    endif
    set g = allocGroup()
    set PN0 = LQO
    set myUnit = VDI
    set PS0 = VDI
    set PT0 = FVI
    call GroupEnumUnitsInRange(g, GetUnitX(VDI), GetUnitY(VDI), 425, Condition(function LNO))
    call ForGroup(g, function LMO)
    call releaseGroup(g)
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    if DHI == 140 then
        set LRO = LoadUnitHandle(hashTable, DMI, 186)
        call KillUnit(LRO)
    elseif DHI < 140 then
        set LRO = LoadUnitHandle(hashTable, DMI, 186)
        call SetUnitX(LRO, VGI)
        call SetUnitY(LRO, VHI)
    endif
    if DHI == 150 then
        set g = allocGroup()
        set myUnit = VDI
        call GroupEnumUnitsInRange(g, VGI, VHI, 425, Condition(function filterUnitInjurable))
        call ForGroup(g, function LSO)
        call releaseGroup(g)
        call KillUnit(VDI)
        call releaseGroup(LQO)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set VDI = null
    set LRO = null
    set LQO = null
    set g = null
    return false
endfunction

function LUO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local real HKI = GetUnitX(E1I)
    local real HLI = GetUnitY(E1I)
    local location l = GetSpellTargetLoc()
    local real x0 = GetLocationX(l)
    local real y0 = GetLocationY(l)
    local real LPO
    local real x1
    local real y1
    local real x2
    local real y2
    local trigger t
    local integer DMI
    local integer FVI
    local unit VDI
    local unit LRO
    if x0 == GetUnitX(E1I) and y0 == GetUnitY(E1I) then
        set x0 = x0 + 50*Cos(GetUnitFacing(E1I)*bj_DEGTORAD)
        set y0 = y0 + 50*Sin(GetUnitFacing(E1I)*bj_DEGTORAD)
    endif
    set LPO = Atan2(HLI - y0, HKI - x0)
    set x1 = constrainX(HKI - 1000*Cos(LPO))
    set y1 = constrainY(HLI - 1000*Sin(LPO))
    set x2 = constrainX(HKI + 1000*Cos(LPO))
    set y2 = constrainY(HLI + 1000*Sin(LPO))
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    set FVI = GetUnitAbilityLevel(E1I, 'A11K')
    set VDI = CreateUnit(GetOwningPlayer(E1I), 'h06U', x1, y1, Atan2(y0 - HLI, x0 - HKI)*bj_RADTODEG)
    set LRO = CreateUnit(GetOwningPlayer(E1I), 'h06V', x1, y1, Atan2(y0 - HLI, x0 - HKI)*bj_RADTODEG)
    call SetUnitVertexColor(VDI, 255, 255, 255, 0)
    call SetUnitPathing(VDI, false)
    call RemoveLocation(l)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call SaveUnitHandle(hashTable, DMI, 186, LRO)
    call SaveReal(hashTable, DMI, 66, (x2*1.0))
    call SaveReal(hashTable, DMI, 67, (y2*1.0))
    call SaveGroupHandle(hashTable, DMI, 187, allocGroup())
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function LTO))
    set E1I = null
    set t = null
    set VDI = null
    set LRO = null
    set l = null
endfunction

function M0O takes nothing returns boolean 
    if GetSpellAbilityId() == 'A11K' then
        call LUO()
    endif
    return false
endfunction

function AW1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M0O))
    call preloadAblility('A11L')
    set t = null
endfunction

function MIO takes unit u returns nothing
    call doDamage(PR0, u, 2, PU0)
    call IssueTargetOrder(PP0, "thunderbolt", u)
endfunction

function M1O takes unit GCI, unit GDI, real CO1 returns nothing
    local group g
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1NI')
    set PR0 = GCI
    set PU0 = (100 + 50*FVI)*CO1/5.0
    set PQ0 = (2 + 0.5*FVI)*CO1/5.0
    set PP0 = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(PP0, 'A0X6')
    call SetUnitAbilityLevel(PP0, 'A0X6', YGI(PQ0))
    set myUnit = GCI
    if GCI == GDI then
        call MIO(GDI)
    elseif GetUnitTypeId(GDI) != 'h0BD' then
        call MIO(GDI)
    else 
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, GetUnitX(GDI), GetUnitY(GDI), 200, Condition(function filterUnitInjurable))
        set GDI = FirstOfGroup(g)
        call releaseGroup(g)
        call MIO(GDI)
        set g = null
    endif
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl", GetUnitX(GDI), GetUnitY(GDI)) )
endfunction

function MOO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real CO1 = LoadReal(hashTable, DMI, 444)
    local real M2O = LoadReal(hashTable, DMI, 445)
    local real LPO = getAngle(GetUnitX(VDI), GetUnitY(VDI), GetUnitX(GDI), GetUnitY(GDI))
    local real x = GetUnitX(VDI) + 18*Cos(LPO*bj_DEGTORAD)
    local real y = GetUnitY(VDI) + 18*Sin(LPO*bj_DEGTORAD)
    call SetUnitX(VDI, x)
    call SetUnitY(VDI, y)
    if getDistance(x, y, GetUnitX(GDI), GetUnitY(GDI)) <= 18 then
        call KillUnit(VDI)
        call M1O(GCI, GDI, CO1)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif TimerGetElapsed(M) - M2O > (5.0 + 2.0) then
        call KillUnit(VDI)
        call M1O(GCI, VDI, CO1)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    set VDI = null
    return false
endfunction

function M3O takes unit GCI, unit GDI, real CO1, real M2O returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = CreateUnit(GetOwningPlayer(GCI), 'h0BD', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call SaveReal(hashTable, DMI, 444, (CO1*1.0))
    call SaveReal(hashTable, DMI, 445, (M2O*1.0))
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function MOO))
    set t = null
    set VDI = null
endfunction

function M4O takes string ZXI, unit GDI, unit E1I returns nothing
    local texttag tt = CreateTextTag()
    call SetTextTagText(tt, ZXI, 0.033)
    call SetTextTagPosUnit(tt, GDI, 64)
    call SetTextTagColor(tt, 255, 0, 0, 255)
    call SetTextTagVelocity(tt, 0, 0.0355)
    call SetTextTagFadepoint(tt, 0.15)
    call SetTextTagPermanent(tt, false)
    call SetTextTagLifespan(tt, 0.65)
    if IsUnitVisible(E1I, GetLocalPlayer()) then
        call SetTextTagVisibility(tt, true)
    else 
        call SetTextTagVisibility(tt, false)
    endif
    set tt = null
endfunction

function M5O takes real YHI returns string 
    if YHI > 4.5 then
        return "5.0"
    elseif YHI > 4.0 then
        return "4.5"
    elseif YHI > 3.5 then
        return "4.0"
    elseif YHI > 3.0 then
        return "3.5"
    elseif YHI > 2.5 then
        return "3.0"
    elseif YHI > 2.0 then
        return "2.5"
    elseif YHI > 1.5 then
        return "2.0"
    elseif YHI > 1.0 then
        return "1.5"
    elseif YHI > 0.5 then
        return "1.0"
    elseif YHI > 0.0 then
        return "0.5"
    else 
        return "0.0"
    endif
    return " "
endfunction

function M6O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real M2O = LoadReal(hashTable, DMI, 442)
    local real LLI = TimerGetElapsed(M)
    local real Q11 = 5.0 - (LLI - M2O)
    local real HWI = rMin(LLI - M2O, 5.0)
    local integer DHI = LoadInteger(hashTable, DMI, 34) + 1
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1NI', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1NH', false)
        call SetUnitVertexColor(GCI, 255, 255, 255, 255)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A1NH' then
            if (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
                call M3O(GCI, GetSpellTargetUnit(), HWI, M2O)
            endif
            call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1NI', true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1NH', false)
            call SetUnitVertexColor(GCI, 255, 255, 255, 255)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call SaveInteger(hashTable, DMI, 34, DHI)
        if Q11 >= 0 then
            call M4O(M5O(Q11), GCI, GCI)
            if ModuloInteger(DHI, 2) == 0 then
                call SetUnitVertexColor(GCI, 255, 125, 125, 255)
            else 
                call SetUnitVertexColor(GCI, 255, 175, 175, 255)
            endif
        else 
            call SetUnitVertexColor(GCI, 255, 0, 0, 255)
        endif
        if LLI - M2O > (5.0 + 2.0) then
            call M1O(GCI, GCI, 5.0)
            call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1NI', true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1NH', false)
            call SetUnitVertexColor(GCI, 255, 255, 255, 255)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    endif
    set t = null
    set GCI = null
    return false
endfunction

function M7O takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 442, (TimerGetElapsed(M)*1.0))
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M6O))
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1NI', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1NH', true)
    call UnitAddAbility(GCI, 'A1NH')
    call UnitMakeAbilityPermanent(GCI, true, 'A1NH')
    call TriggerEvaluate(t)
    set GCI = null
    set t = null
endfunction

function M8O takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1NI' then
        call M7O()
    endif
    return false
endfunction

function IW1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M8O))
    call preloadAblility('A0X6')
    set t = null
endfunction

function M9O takes nothing returns boolean 
    return GetUnitAbilityLevel(GetKillingUnit(), 'A0O3') > 0 and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetKillingUnit())) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function MAO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, DMI, 26)
    call SaveInteger(hashTable, GetHandleId(u), 27, (LoadInteger(hashTable, GetHandleId(u), 27) - 1))
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set u = null
    set t = null
    return false
endfunction

function MBO takes nothing returns nothing
    local unit GTI = GetKillingUnit()
    local unit MCO = GetTriggerUnit()
    local integer DMI = GetHandleId(GTI)
    local integer MDO = LoadInteger(hashTable, DMI, 27)
    local integer FVI = GetUnitAbilityLevel(GTI, 'A0O3')
    local texttag TextTag = CreateTextTag()
    local integer MEO = MDO*2
    local integer MFO = HCI(MEO + FVI*2, 18)
    local texttag tt = CreateTextTag()
    local player p = GetOwningPlayer(GTI)
    local trigger t = CreateTrigger()
    set Q00[GetPlayerId(p)] = Q00[GetPlayerId(p)] + MFO
    call TriggerRegisterTimerEvent(t, 20, false)
    call TriggerAddCondition(t, Condition(function MAO))
    call SaveUnitHandle(hashTable, GetHandleId(t), 26, GTI)
    call SaveInteger(hashTable, DMI, 27, (MDO + 1))
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, MFO + GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD))
    call SetTextTagText(tt, "+" + I2S(MFO), 0.025)
    call SetTextTagPosUnit(tt, MCO, 0)
    call SetTextTagColor(tt, 255, 220, 0, 255)
    call SetTextTagVelocity(tt, 0, 0.03)
    if GetLocalPlayer() == p then
        call SetTextTagVisibility(tt, true)
    else 
        call SetTextTagVisibility(tt, false)
    endif
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagLifespan(tt, 3)
    call SetTextTagPermanent(tt, false)
    set t = null
endfunction

function MGO takes nothing returns boolean 
    local integer B6O = Q00[GetPlayerId(GetTriggerPlayer())]
    if (GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())]) == 'N01I' or GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())]) == 'N01H' or GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())]) == 'N01T' or GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())]) == 'N01J') and B6O > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, GetObjectName('n0GQ') + " " + I2S(B6O))
    endif
    return false
endfunction

function IV1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M9O))
    call TriggerAddAction(t, function MBO)
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-gg", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-gg", true)
    call TriggerAddCondition(t, Condition(function MGO))
    set t = null
endfunction

constant function AcidSpray_RawCode takes nothing returns integer 
    return 'A0IL'
endfunction

constant function AcidSpray_EffectCode takes nothing returns integer 
    return 'A0J4'
endfunction

function MHO takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0IL'
endfunction

function MZO takes nothing returns boolean 
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(YO)) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitTypeId(GetFilterUnit()) != 'n0F5'
endfunction

function MVO takes nothing returns nothing
    call UnitDamageTarget(YO, GetEnumUnit(), KO, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
endfunction

function MWO takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer MXO = LoadInteger(hashTable, DMI, 28)
    local real x = GetUnitX(YVI)
    local real y = GetUnitY(YVI)
    local boolexpr BH1
    local group MNI
    if MXO > 16 then
        call KillUnit(YVI)
        call PauseTimer(t)
        call FlushChildHashtable(hashTable, DMI)
        call DestroyTimer(t)
    else 
        set YO = E1I
        set KO = GetUnitAbilityLevel(E1I, 'A0IL')*8
        set BH1 = Condition(function MZO)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, x, y, 625, BH1)
        call ForGroup(MNI, function MVO)
        call releaseGroup(MNI)
        set MXO = MXO + 1
        call SaveInteger(hashTable, DMI, 28, MXO)
    endif
endfunction

function MYO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location EA1 = GetSpellTargetLoc()
    local real x = GetLocationX(EA1)
    local real y = GetLocationY(EA1)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e01E', x, y, 0)
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    call RemoveLocation(EA1)
    call UnitAddAbility(YVI, 'A0J4')
    call SetUnitAbilityLevel(YVI, 'A0J4', GetUnitAbilityLevel(E1I, 'A0IL'))
    call UnitAddAbility(YVI, 'Aloc')
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveInteger(hashTable, DMI, 28, 0)
    call TimerStart(t, 1, true, function MWO)
endfunction

function IX1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(t, function MYO)
    call TriggerAddCondition(t, Condition(function MHO))
    call preloadAblility('A0J4')
endfunction

function MJO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real QD1 = GetUnitState(E1I, UNIT_STATE_MANA)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call SetUnitState(E1I, UNIT_STATE_MANA, GetUnitState(E1I, UNIT_STATE_MAX_MANA))
    call SetUnitState(E1I, UNIT_STATE_MANA, QD1)
    set t = null
    set E1I = null
    return false
endfunction

function MKO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 0.1, false)
    call TriggerAddCondition(t, Condition(function MJO))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
    set E1I = null
endfunction

function MLO takes nothing returns boolean 
    if GetSpellAbilityId() == 'ANcr' and GetUnitTypeId(GetTriggerUnit()) == 'N01I' then
        call MKO()
    endif
    return false
endfunction

function Register_ChemicalRage takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MLO))
    set t = null
endfunction

function MMO takes nothing returns nothing
    call doDamage(Q10, GetEnumUnit(), 1, QI0)
endfunction

function MNO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0E3')
    local real GFI = (0.35 + 0.25*FVI)*(GetUnitState(GDI, UNIT_STATE_MAX_MANA) - GetUnitState(GDI, UNIT_STATE_MANA))
    local group g = allocGroup()
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl", GDI, "chest") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl", GDI, "chest") )
    call DestroyEffect( AddSpecialEffect("war3mapImported\\Enchantment.mdx", GetUnitX(GDI), GetUnitY(GDI)) )
    call GroupEnumUnitsInRange(g, GetUnitX(GDI), GetUnitY(GDI), 325, Condition(function XKI))
    set QI0 = GFI
    set Q10 = E1I
    call ForGroup(g, function MMO)
    call PlaySoundOnUnitBJ(HD, 100, GDI)
    call releaseGroup(g)
    set E1I = null
    set GDI = null
    set g = null
endfunction

function MSO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0E3' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call MNO()
    endif
    return false
endfunction

function SSI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MSO))
    set t = null
endfunction

function MTO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer DHI = GetTriggerEvalCount(t)
    local integer MRO = R2I(((0.9 - 0.3)/0.5)/0.03)
    local integer MPO = R2I((175/MRO))
    local integer MQO = R2I((255/MRO)*1.75)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    if DHI > MRO then
        call SetUnitVertexColor(YVI, 255, 255, 255, 0)
        call SetUnitVertexColor(E1I, 255, 255, 255, 255)
        call ShowUnit(YVI, false)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitVertexColor(YVI, 255, 255, 255, 175 - MPO*DHI)
        call SetUnitX(YVI, x)
        call SetUnitY(YVI, y)
        call SetUnitVertexColor(E1I, 255, 255, 255, MQO*DHI)
    endif
    set t = null
    set YVI = null
    set E1I = null
    return false
endfunction

function MUO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit YVI = LoadUnitHandle(hashTable, GetHandleId(E1I), 293)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    call SetUnitX(YVI, x)
    call SetUnitY(YVI, y)
    call SetUnitX(E1I, x)
    call SetUnitY(E1I, y)
    call SetUnitVertexColor(E1I, 255, 255, 255, 0)
    call SetUnitVertexColor(YVI, 255, 255, 255, 175)
    call SetUnitTimeScale(YVI, 0.5)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerAddCondition(t, Condition(function MTO))
    set E1I = null
    set YVI = null
    set t = null
endfunction

function N0O takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit YVI
    local integer DMI = GetHandleId(E1I)
    local location l = GetSpellTargetLoc()
    local real a = getAngle(GetUnitX(E1I), GetUnitY(E1I), GetLocationX(l), GetLocationY(l))
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    call RemoveLocation(l)
    call SetUnitPathing(E1I, false)
    call UnitAddAbility(E1I, 'Aeth')
    set YVI = CreateUnit(GetOwningPlayer(E1I), 'h06K', GetUnitX(E1I), GetUnitY(E1I), a)
    call WXI(YVI, 5)
    call SetUnitPathing(YVI, false)
    call UnitAddAbility(YVI, 'Aeth')
    call UnitAddAbility(YVI, 'Aloc')
    call UnitAddAbility(YVI, 'A04R')
    call SetUnitVertexColor(YVI, 255, 255, 255, 0)
    call SetUnitX(YVI, x)
    call SetUnitY(YVI, y)
    call SetUnitX(E1I, x)
    call SetUnitY(E1I, y)
    call SetUnitAnimation(YVI, "Spell Throw")
    call SetUnitPathing(E1I, true)
    call UnitRemoveAbility(E1I, 'Aeth')
    call SaveUnitHandle(hashTable, DMI, 293, YVI)
    set E1I = null
    set YVI = null
endfunction

function NIO takes nothing returns boolean 
    if GetSpellAbilityId() == 'AEbl' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call MUO()
        else 
            call N0O()
        endif
    endif
    return false
endfunction

function STI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NIO))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function NIO))
    set t = null
    call WQI('h06K')
endfunction

function N1O takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0O1'
endfunction

function TreeKiller takes nothing returns nothing
    call KillDestructable(GetEnumDestructable())
endfunction

function NOO takes unit GTI, real x, real y, group JO1 returns nothing
    local group MNI = allocGroup()
    local unit SNI
    call killDestructables(x, y, 150)
    call GroupEnumUnitsInRange(MNI, x, y, 150, Condition(function returnTrue1))
    loop
        set SNI = FirstOfGroup(MNI)
        exitwhen SNI == null
        if (IsUnitInGroup(SNI, JO1) == false and IsUnitEnemy(SNI, GetOwningPlayer(GTI))) then
            if (GetUnitAbilityLevel(SNI, 'A04R') != 1 and GetUnitState(SNI, UNIT_STATE_LIFE) > 0 and IsUnitType(SNI, UNIT_TYPE_STRUCTURE) == false) then
                call GroupAddUnit(JO1, SNI)
                call UnitDamageTarget(GTI, SNI, 60 + GetUnitAbilityLevel(GTI, 'A0O1')*30, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_METAL_HEAVY_SLICE)
                call AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", SNI, "overhead")
            endif
        endif
        call GroupRemoveUnit(MNI, SNI)
    endloop
    call releaseGroup(MNI)
endfunction

function N2O takes nothing returns nothing
    local integer DMI = GetHandleId(GetExpiredTimer())
    local unit N3O = LoadUnitHandle(hashTable, DMI, 290)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real Ax = LoadReal(hashTable, DMI, 284)
    local real Ay = LoadReal(hashTable, DMI, 285)
    local real Cx = LoadReal(hashTable, DMI, 286)
    local real Cy = LoadReal(hashTable, DMI, 287)
    local real Bx = LoadReal(hashTable, DMI, 288)
    local real By = LoadReal(hashTable, DMI, 289)
    local real a = LoadReal(hashTable, DMI, 137)
    local real b = 1 - a
    local boolean N4O = LoadBoolean(hashTable, DMI, 291)
    local group JO1 = LoadGroupHandle(hashTable, DMI, 133)
    call SetUnitX(N3O, constrainX(Ax*a*a + Bx*2*a*b + Cx*b*b))
    call SetUnitY(N3O, constrainY(Ay*a*a + By*2*a*b + Cy*b*b))
    call NOO(E1I, GetUnitX(N3O), GetUnitY(N3O), JO1)
    if N4O then
        call SaveReal(hashTable, DMI, 137, ((a - .02)*1.0))
    else 
        call SaveReal(hashTable, DMI, 137, ((a + .02)*1.0))
        call SaveReal(hashTable, DMI, 284, (GetUnitX(E1I)*1.0))
        call SaveReal(hashTable, DMI, 285, (GetUnitY(E1I)*1.0))
    endif
    if (a < 0 and N4O) then
        call SaveBoolean(hashTable, DMI, 291, false)
        call SaveReal(hashTable, DMI, 288, ((Ax + 300*Cos(Atan2(Cy - Ay, Cx - Ax) + LoadReal(hashTable, DMI, 292)))*1.0))
        call SaveReal(hashTable, DMI, 289, ((Ay + 300*Sin(Atan2(Cy - Ay, Cx - Ax) + LoadReal(hashTable, DMI, 292)))*1.0))
    endif
    if (a > 1 and N4O == false) then
        call PauseTimer(GetExpiredTimer())
        call releaseGroup(JO1)
        call FlushChildHashtable(hashTable, DMI)
        call RemoveUnit(N3O)
        call DestroyTimer(GetExpiredTimer())
    endif
endfunction

function N5O takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local real Ax = GetUnitX(GTI)
    local real Ay = GetUnitY(GTI)
    local real Cx = GetLocationX(GetSpellTargetLoc())
    local real Cy = GetLocationY(GetSpellTargetLoc())
    local unit N6O = CreateUnit(GetOwningPlayer(GTI), 'e01T', Ax, Ay, 270.0)
    local unit N7O = CreateUnit(GetOwningPlayer(GTI), 'e01T', Ax, Ay, 270.0)
    local integer N8O
    local integer N9O
    local timer NAO = CreateTimer()
    local timer NBO = CreateTimer()
    if GetSpellTargetUnit() != null then
        set Cx = GetUnitX(GetSpellTargetUnit())
        set Cy = GetUnitY(GetSpellTargetUnit())
    endif
    call UnitAddAbility(N6O, 'Amrf')
    call UnitRemoveAbility(N6O, 'Amrf')
    call SetUnitFlyHeight(N6O, 150, 0)
    call UnitAddAbility(N7O, 'Amrf')
    call UnitRemoveAbility(N7O, 'Amrf')
    call SetUnitFlyHeight(N7O, 150, 0)
    set N8O = GetHandleId(NAO)
    call SaveUnitHandle(hashTable, N8O, 14, GTI)
    call SaveUnitHandle(hashTable, N8O, 290, N6O)
    call SaveGroupHandle(hashTable, N8O, 133, allocGroup())
    call SaveReal(hashTable, N8O, 284, (Ax*1.0))
    call SaveReal(hashTable, N8O, 285, (Ay*1.0))
    call SaveReal(hashTable, N8O, 286, (Cx*1.0))
    call SaveReal(hashTable, N8O, 287, (Cy*1.0))
    call SaveReal(hashTable, N8O, 288, ((Ax + 300*Cos(Atan2(Cy - Ay, Cx - Ax) + 45))*1.0))
    call SaveReal(hashTable, N8O, 289, ((Ay + 300*Sin(Atan2(Cy - Ay, Cx - Ax) + 45))*1.0))
    call SaveReal(hashTable, N8O, 137, (1*1.0))
    call SaveReal(hashTable, N8O, 292, ((-45)*1.0))
    call SaveBoolean(hashTable, N8O, 291, true)
    set N9O = GetHandleId(NBO)
    call SaveUnitHandle(hashTable, N9O, 14, GTI)
    call SaveUnitHandle(hashTable, N9O, 290, N7O)
    call SaveGroupHandle(hashTable, N9O, 133, allocGroup())
    call SaveReal(hashTable, N9O, 284, (Ax*1.0))
    call SaveReal(hashTable, N9O, 285, (Ay*1.0))
    call SaveReal(hashTable, N9O, 286, (Cx*1.0))
    call SaveReal(hashTable, N9O, 287, (Cy*1.0))
    call SaveReal(hashTable, N9O, 288, ((Ax + 300*Cos(Atan2(Cy - Ay, Cx - Ax) - 45))*1.0))
    call SaveReal(hashTable, N9O, 289, ((Ay + 300*Sin(Atan2(Cy - Ay, Cx - Ax) - 45))*1.0))
    call SaveReal(hashTable, N9O, 137, (1*1.0))
    call SaveReal(hashTable, N9O, 292, (45*1.0))
    call SaveBoolean(hashTable, N9O, 291, true)
    call TimerStart(NAO, .025, true, function N2O)
    call TimerStart(NBO, .025, true, function N2O)
endfunction

function SPI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function N1O))
    call TriggerAddAction(t, function N5O)
endfunction

function NCO takes nothing returns nothing
    local real x = GetUnitX(GetEnumUnit())
    local real y = GetUnitY(GetEnumUnit())
    local real a = bj_RADTODEG*Atan2(y - AK, x - OK)
    local real NDO
    local real NEO
    if Sin((a - BK)*bj_DEGTORAD) < 0 then
        set NDO = GetUnitX(GetEnumUnit()) + 15*Cos((BK - 90)*bj_DEGTORAD)
        set NEO = GetUnitY(GetEnumUnit()) + 15*Sin((BK - 90)*bj_DEGTORAD)
        call SetUnitPosition(GetEnumUnit(), NDO, NEO)
        call SetUnitFacingTimed(GetEnumUnit(), BK + 90, 0.3)
    else 
        set NDO = GetUnitX(GetEnumUnit()) + 15*Cos((BK + 90)*bj_DEGTORAD)
        set NEO = GetUnitY(GetEnumUnit()) + 15*Sin((BK + 90)*bj_DEGTORAD)
        call SetUnitPosition(GetEnumUnit(), NDO, NEO)
        call SetUnitFacingTimed(GetEnumUnit(), BK - 90, 0.3)
    endif
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", GetEnumUnit(), "origin") )
endfunction

function NFO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    if GetTriggerEvalCount(t) > 16 then
        call releaseGroup(g)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set OK = x
        set AK = y
        set BK = LPO
        call ForGroup(g, function NCO)
    endif
    set t = null
    set g = null
    return false
endfunction

function NGO takes nothing returns nothing
    call doDamage(myUnit, GetEnumUnit(), 1, OK)
endfunction

function NHO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0O2')
    local unit YVI
    local real LPO = bj_RADTODEG*Atan2(GetUnitY(GDI) - GetUnitY(E1I), GetUnitX(GDI) - GetUnitX(E1I))
    local real x
    local real y
    local group g = allocGroup()
    local group g2 = allocGroup()
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveReal(hashTable, DMI, 6, (GetUnitX(E1I)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(E1I)*1.0))
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function NFO))
    set x = GetUnitX(E1I) + 50*Cos(LPO*bj_DEGTORAD)
    set y = GetUnitY(E1I) + 50*Sin(LPO*bj_DEGTORAD)
    call GroupEnumUnitsInRange(g2, x, y, 250, Condition(function XKI))
    call GroupAddGroup(g2, g)
    call GroupClear(g2)
    set YVI = CreateUnit(GetOwningPlayer(E1I), 'o00Y', x, y, LPO)
    call UnitApplyTimedLife(YVI, 'BTLF', 1)
    call UnitAddAbility(YVI, 'A0NY')
    call SetUnitAbilityLevel(YVI, 'A0NY', FVI)
    call IssueImmediateOrder(YVI, "thunderclap")
    set x = GetUnitX(E1I) + 250*Cos(LPO*bj_DEGTORAD)
    set y = GetUnitY(E1I) + 250*Sin(LPO*bj_DEGTORAD)
    call GroupEnumUnitsInRange(g2, x, y, 250, Condition(function XKI))
    call GroupAddGroup(g2, g)
    call GroupClear(g2)
    set YVI = CreateUnit(GetOwningPlayer(E1I), 'o00Y', x, y, LPO)
    call UnitApplyTimedLife(YVI, 'BTLF', 1)
    call UnitAddAbility(YVI, 'A0NY')
    call SetUnitAbilityLevel(YVI, 'A0NY', FVI)
    call IssueImmediateOrder(YVI, "thunderclap")
    set x = GetUnitX(E1I) + 450*Cos(LPO*bj_DEGTORAD)
    set y = GetUnitY(E1I) + 450*Sin(LPO*bj_DEGTORAD)
    call GroupEnumUnitsInRange(g2, x, y, 250, Condition(function XKI))
    call GroupAddGroup(g2, g)
    call GroupClear(g2)
    set YVI = CreateUnit(GetOwningPlayer(E1I), 'o00Y', x, y, LPO)
    call UnitApplyTimedLife(YVI, 'BTLF', 1)
    call UnitAddAbility(YVI, 'A0NY')
    call SetUnitAbilityLevel(YVI, 'A0NY', FVI)
    call IssueImmediateOrder(YVI, "thunderclap")
    call releaseGroup(g2)
    call GroupRemoveUnit(g, GDI)
    set OK = 100*FVI
    set myUnit = E1I
    call ForGroup(g, function NGO)
    set t = null
    set E1I = null
    set GDI = null
    set YVI = null
    set g = null
    set g2 = null
endfunction

function NZO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0O2' then
        call NHO()
    endif
    return false
endfunction

function SRI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NZO))
    set t = null
endfunction

function NVO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    call UnitRemoveAbility(GCI, 'A140')
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function NWO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    call UnitAddAbility(GCI, 'A140')
    call TriggerRegisterTimerEvent(t, 6, false)
    call TriggerAddCondition(t, Condition(function NVO))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set t = null
    set GCI = null
endfunction

function NXO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A13Z' then
        call NWO()
    endif
    return false
endfunction

function SUI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NXO))
    set t = null
endfunction

function NYO takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0OO'
endfunction

function NJO takes nothing returns nothing
    if (GetUnitTypeId(GetEnumUnit()) == 'n01Q' or GetUnitTypeId(GetEnumUnit()) == 'n01M' or GetUnitTypeId(GetEnumUnit()) == 'n01R' or GetUnitTypeId(GetEnumUnit()) == 'n01S') then
        call KillUnit(GetEnumUnit())
    endif
endfunction

function NKO takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local player EYI = GetOwningPlayer(GTI)
    local integer FVI = GetUnitAbilityLevel(GTI, 'A0OO')
    local real x = GetUnitX(GTI)
    local real y = GetUnitY(GTI)
    local group MNI = allocGroup()
    call GroupEnumUnitsOfPlayer(MNI, EYI, Condition(function returnTrue1))
    call ForGroup(MNI, function NJO)
    call releaseGroup(MNI)
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", x, y) )
    if (FVI == 1) then
        call UnitApplyTimedLife(CreateUnit(EYI, 'n01Q', x, y, 270), 'BTLF', 60)
    elseif (FVI == 2) then
        call UnitApplyTimedLife(CreateUnit(EYI, 'n01Q', x, y, 270), 'BTLF', 70)
        call UnitApplyTimedLife(CreateUnit(EYI, 'n01M', x, y, 270), 'BTLF', 70)
    elseif (FVI == 3) then
        call UnitApplyTimedLife(CreateUnit(EYI, 'n01R', x, y, 270), 'BTLF', 80)
        call UnitApplyTimedLife(CreateUnit(EYI, 'n01M', x, y, 270), 'BTLF', 80)
    elseif (FVI == 4) then
        call UnitApplyTimedLife(CreateUnit(EYI, 'n01R', x, y, 270), 'BTLF', 90)
        call UnitApplyTimedLife(CreateUnit(EYI, 'n01S', x, y, 270), 'BTLF', 90)
    endif
endfunction

function SQI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NYO))
    call TriggerAddAction(t, function NKO)
endfunction

function NLO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer DMI = GetHandleId(GCI)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local texttag tt = CreateTextTag()
    local integer FFI
    if FVI == 1 then
        set FFI = 75
    elseif FVI == 2 then
        set FFI = 150
    else 
        set FFI = 225
    endif
    call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) + FFI)
    call SetTextTagText(tt, "+" + I2S(FFI), 0.025)
    call SetTextTagPosUnit(tt, playerHero[GetPlayerId(p)], 0)
    call SetTextTagColor(tt, 255, 220, 0, 255)
    call SetTextTagVelocity(tt, 0, 0.03)
    call SetTextTagVisibility(tt, false)
    if GetLocalPlayer() == p then
        call SetTextTagVisibility(tt, true)
    endif
    call SetTextTagFadepoint(tt, 2)
    call SetTextTagLifespan(tt, 3)
    call SetTextTagPermanent(tt, false)
    set GCI = null
    set p = null
    set tt = null
endfunction

function NMO takes nothing returns boolean 
    if IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and LoadReal(hashTable, GetHandleId(GetTriggerUnit()), 314) > TimerGetElapsed(M) then
        call NLO()
    endif
    return false
endfunction

function NNO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    call SetUnitX(YVI, GetUnitX(GDI))
    call SetUnitY(YVI, GetUnitY(GDI))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or (GetTriggerEvalCount(t) > 10 and GetUnitAbilityLevel(GDI, 'B00L') == 0) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call KillUnit(YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set YVI = null
    return false
endfunction

function NSO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = GetSpellTargetUnit()
    local unit GCI = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GDI), 'e01V', GetUnitX(GDI), GetUnitY(GDI), 0)
    local string FX = "war3mapImported\\TrackBuff.mdx"
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(GDI)) then
        set FX = ""
    endif
    call UnitAddAbility(YVI, 'A115')
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GetSpellTargetUnit(), EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function NNO))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget(FX, GDI, "overhead"))
    call SaveReal(hashTable, GetHandleId(GetSpellTargetUnit()), 314, ((TimerGetElapsed(M) + 30)*1.0))
    call SavePlayerHandle(hashTable, GetHandleId(GetSpellTargetUnit()), 54, GetOwningPlayer(GetTriggerUnit()))
    call SaveInteger(hashTable, GetHandleId(GetSpellTargetUnit()), 5, GetUnitAbilityLevel(GetTriggerUnit(), 'A0B4'))
    set t = null
    set GDI = null
    set GCI = null
    set YVI = null
endfunction

function NTO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0B4' then
        call NSO()
    endif
    return false
endfunction

function T2I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NTO))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function NMO))
    set t = null
endfunction

function Jinada_Swap takes nothing returns nothing
    call SetPlayerAbilityAvailable(GetOwningPlayer(WM), 'A1J4', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(WM), 'A1J3', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(WM), 'A1J5', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(WM), 'A1IU', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(XM), 'A1J4', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(XM), 'A1J3', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(XM), 'A1J5', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(XM), 'A1IU', false)
endfunction

function NRO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call UnitRemoveAbility(GDI, 'A1IW')
    call UnitRemoveAbility(GDI, 'B0CA')
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GDI = null
    return false
endfunction

function NPO takes unit GCI, unit GDI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 3, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function NRO))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call UnitAddAbility(GDI, 'A1IW')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), 'A1IW', false)
    call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl", GDI, "chest") )
    set t = null
endfunction

function NQO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI and (GetEventDamage() > 40 or IsUnitType(GDI, UNIT_TYPE_STRUCTURE) == true or GetUnitTypeId(GDI) == 'umtw' or GetUnitTypeId(GDI) == 'ebal') and LoadBoolean(hashTable, GetHandleId(GCI), 183) == true then
            call NPO(GCI, GDI)
            call SaveBoolean(hashTable, GetHandleId(GCI), 183, false)
            call SaveReal(hashTable, GetHandleId(GCI), 184, (TimerGetElapsed(M)*1.0))
            call UnitRemoveAbility(GCI, 'A1IS')
            call UnitRemoveAbility(GCI, 'A1J4')
            call UnitRemoveAbility(GCI, 'A1J3')
            call UnitRemoveAbility(GCI, 'A1J5')
            call UnitRemoveAbility(GCI, 'A1IU')
            call FlushChildHashtable(hashTable, GetHandleId( LoadTriggerHandle(hashTable, DMI, 35) ))
            call abandonTrigger( LoadTriggerHandle(hashTable, DMI, 35) )
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function NUO takes nothing returns boolean 
    local trigger t
    local integer DMI
    local unit GDI
    local unit GCI
    local integer FVI
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SaveBoolean(hashTable, GetHandleId(GetTriggerUnit()), 183, false)
        call SaveReal(hashTable, GetHandleId(GetTriggerUnit()), 184, (TimerGetElapsed(M)*1.0))
        call UnitRemoveAbility(GetTriggerUnit(), 'A1IS')
        call UnitRemoveAbility(GetTriggerUnit(), 'A1J4')
        call UnitRemoveAbility(GetTriggerUnit(), 'A1J3')
        call UnitRemoveAbility(GetTriggerUnit(), 'A1J5')
        call UnitRemoveAbility(GetTriggerUnit(), 'A1IU')
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    elseif GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 182) then
        if IsUnitAlly(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) == false then
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            set GDI = GetTriggerUnit()
            set GCI = GetAttacker()
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
            call TriggerRegisterTimerEvent(t, 2.5, false)
            call TriggerAddCondition(t, Condition(function NQO))
            call SaveInteger(hashTable, DMI, 30, DBI(GDI))
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            call SaveTriggerHandle(hashTable, DMI, 35, GetTriggeringTrigger())
            set FVI = GetUnitAbilityLevel(GetAttacker(), 'A1IQ')
            if FVI == 0 then
                call UnitRemoveAbility(GetAttacker(), 'A1J4')
                call UnitRemoveAbility(GetAttacker(), 'A1J3')
                call UnitRemoveAbility(GetAttacker(), 'A1J5')
                call UnitRemoveAbility(GetAttacker(), 'A1IU')
            elseif FVI == 1 then
                call UnitRemoveAbility(GetAttacker(), 'A1J3')
                call UnitRemoveAbility(GetAttacker(), 'A1J5')
                call UnitRemoveAbility(GetAttacker(), 'A1IU')
            elseif FVI == 2 then
                call UnitRemoveAbility(GetAttacker(), 'A1J4')
                call UnitRemoveAbility(GetAttacker(), 'A1J5')
                call UnitRemoveAbility(GetAttacker(), 'A1IU')
            elseif FVI == 3 then
                call UnitRemoveAbility(GetAttacker(), 'A1J4')
                call UnitRemoveAbility(GetAttacker(), 'A1J3')
                call UnitRemoveAbility(GetAttacker(), 'A1IU')
            elseif FVI == 4 then
                call UnitRemoveAbility(GetAttacker(), 'A1J4')
                call UnitRemoveAbility(GetAttacker(), 'A1J3')
                call UnitRemoveAbility(GetAttacker(), 'A1J5')
            endif
            set GDI = null
            set GCI = null
            set t = null
        endif
    endif
    return false
endfunction

function S0O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real HXI = TimerGetElapsed(M)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A1IQ')
    local real LEO = LoadReal(hashTable, GetHandleId(E1I), 184)
    local boolean SIO = LoadBoolean(hashTable, GetHandleId(E1I), 183)
    if HXI - LEO > 26 - FVI*5 and SIO == false and GetUnitTypeId(E1I) == 'Naka' and isUnitUnavailable(E1I) == false then
        call SaveBoolean(hashTable, GetHandleId(E1I), 183, true)
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function NUO))
        call SaveUnitHandle(hashTable, DMI, 182, E1I)
        call UnitAddAbility(E1I, 'A1IS')
        if GetUnitAbilityLevel(E1I, 'B068') == 0 then
            if FVI == 1 then
                call UnitAddAbility(E1I, 'A1J4')
            elseif FVI == 2 then
                call UnitAddAbility(E1I, 'A1J3')
            elseif FVI == 3 then
                call UnitAddAbility(E1I, 'A1J5')
            elseif FVI == 4 then
                call UnitAddAbility(E1I, 'A1IU')
            endif
        endif
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A1J4', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A1J3', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A1J5', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A1IU', false)
    elseif SIO == false and GetUnitAbilityLevel(E1I, 'B068') == 0 then
        call UnitRemoveAbility(E1I, 'A1IS')
        call UnitRemoveAbility(E1I, 'A1J4')
        call UnitRemoveAbility(E1I, 'A1J3')
        call UnitRemoveAbility(E1I, 'A1J5')
        call UnitRemoveAbility(E1I, 'A1IU')
    endif
    set t = null
    set E1I = null
    return false
endfunction

function S1O takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function S0O))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 181, 0)
    set E1I = null
    set t = null
endfunction

function SOO takes nothing returns boolean 
    if GetLearnedSkill() == 'A1IQ' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1IQ') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call S1O()
    endif
    return false
endfunction

function T3I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function SOO))
    set t = null
endfunction

function S2O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A07A')
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            if (LoadInteger(hashTable, GetHandleId(GCI), 2487) == 1) == false then
                call DUI(GCI, 2487, 0.5)
                if IsUnitType(GDI, UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GDI, GetOwningPlayer(GCI)) then
                    call doDamage(GCI, GDI, 2, 30*FVI)
                    call ZKI(I2S(R2I(30*FVI)), 1, GCI, 0.027, 216, 0, 0, 216)
                endif
            endif
        endif
    else 
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function S3O takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit GDI = GetTriggerUnit()
    local unit GCI = GetAttacker()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 2, false)
    call TriggerAddCondition(t, Condition(function S2O))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GDI = null
    set GCI = null
    set t = null
endfunction

function S4O takes nothing returns boolean 
    local integer FVI
    local unit E1I
    if GetTriggerEventId() == EVENT_UNIT_SPELL_CAST or GetTriggerEventId() == EVENT_UNIT_DEATH then
        set E1I = LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14)
        set FVI = GetUnitAbilityLevel(E1I, 'A1IQ')
        if LoadBoolean(hashTable, GetHandleId(E1I), 183) then
            set FVI = GetUnitAbilityLevel(E1I, 'A1IQ')
            if FVI == 0 then
                call UnitRemoveAbility(E1I, 'A1J4')
                call UnitRemoveAbility(E1I, 'A1J3')
                call UnitRemoveAbility(E1I, 'A1J5')
                call UnitRemoveAbility(E1I, 'A1IU')
            elseif FVI == 1 then
                call UnitRemoveAbility(E1I, 'A1J3')
                call UnitRemoveAbility(E1I, 'A1J5')
                call UnitRemoveAbility(E1I, 'A1IU')
            elseif FVI == 2 then
                call UnitRemoveAbility(E1I, 'A1J4')
                call UnitRemoveAbility(E1I, 'A1J5')
                call UnitRemoveAbility(E1I, 'A1IU')
            elseif FVI == 3 then
                call UnitRemoveAbility(E1I, 'A1J4')
                call UnitRemoveAbility(E1I, 'A1J3')
                call UnitRemoveAbility(E1I, 'A1IU')
            elseif FVI == 4 then
                call UnitRemoveAbility(E1I, 'A1J4')
                call UnitRemoveAbility(E1I, 'A1J3')
                call UnitRemoveAbility(E1I, 'A1J5')
            endif
        else 
            call UnitRemoveAbility(E1I, 'A1J4')
            call UnitRemoveAbility(E1I, 'A1J3')
            call UnitRemoveAbility(E1I, 'A1J5')
            call UnitRemoveAbility(E1I, 'A1IU')
        endif
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14) then
            if (LoadInteger(hashTable, GetHandleId(GetAttacker()), 2488) == 1) == false then
                call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
                call abandonTrigger(GetTriggeringTrigger())
                call S3O()
            endif
            if LoadBoolean(hashTable, GetHandleId(GetAttacker()), 183) then
                set FVI = GetUnitAbilityLevel(GetAttacker(), 'A1IQ')
                if FVI == 0 then
                    call UnitRemoveAbility(GetAttacker(), 'A1J4')
                    call UnitRemoveAbility(GetAttacker(), 'A1J3')
                    call UnitRemoveAbility(GetAttacker(), 'A1J5')
                    call UnitRemoveAbility(GetAttacker(), 'A1IU')
                elseif FVI == 1 then
                    call UnitRemoveAbility(GetAttacker(), 'A1J3')
                    call UnitRemoveAbility(GetAttacker(), 'A1J5')
                    call UnitRemoveAbility(GetAttacker(), 'A1IU')
                elseif FVI == 2 then
                    call UnitRemoveAbility(GetAttacker(), 'A1J4')
                    call UnitRemoveAbility(GetAttacker(), 'A1J5')
                    call UnitRemoveAbility(GetAttacker(), 'A1IU')
                elseif FVI == 3 then
                    call UnitRemoveAbility(GetAttacker(), 'A1J4')
                    call UnitRemoveAbility(GetAttacker(), 'A1J3')
                    call UnitRemoveAbility(GetAttacker(), 'A1IU')
                elseif FVI == 4 then
                    call UnitRemoveAbility(GetAttacker(), 'A1J4')
                    call UnitRemoveAbility(GetAttacker(), 'A1J3')
                    call UnitRemoveAbility(GetAttacker(), 'A1J5')
                endif
            else 
                call UnitRemoveAbility(GetAttacker(), 'A1J4')
                call UnitRemoveAbility(GetAttacker(), 'A1J3')
                call UnitRemoveAbility(GetAttacker(), 'A1J5')
                call UnitRemoveAbility(GetAttacker(), 'A1IU')
            endif
        endif
    else 
        set E1I = LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14)
        if LoadBoolean(hashTable, GetHandleId(E1I), 183) == false then
            call UnitRemoveAbility(E1I, 'A1J4')
            call UnitRemoveAbility(E1I, 'A1J3')
            call UnitRemoveAbility(E1I, 'A1J5')
            call UnitRemoveAbility(E1I, 'A1IU')
        endif
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function S5O takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = GetSpellTargetUnit()
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A07A')
    call DUI(GCI, 2488, 1.25 - 0.25*FVI - 0.01)
    call TriggerRegisterTimerEvent(t, 10 + 5*FVI, false)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_CAST)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function S4O))
    call SaveUnitHandle(hashTable, DMI, 14, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call UnitAddAbility(GCI, 'A1J4')
    call UnitAddAbility(GCI, 'A1J3')
    call UnitAddAbility(GCI, 'A1J5')
    call UnitAddAbility(GCI, 'A1IU')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1J4', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1J3', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1J5', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1IU', false)
    set t = null
    set GDI = null
    set GCI = null
endfunction

function S6O takes nothing returns boolean 
    if GetSpellAbilityId() == 'A07A' then
        call S5O()
    endif
    return false
endfunction

function T4I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function S6O))
    set t = null
endfunction

constant function Warpath_AbilityCode takes nothing returns integer 
    return 'A0FV'
endfunction

constant function Warpath_EffectCode takes nothing returns integer 
    return 'A0EF'
endfunction

constant function Warpath_SprayCode takes nothing returns integer 
    return 'A0GP'
endfunction

constant function Warpath_GooCode takes nothing returns integer 
    return 'A0FW'
endfunction

function S7O takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0GP' or GetSpellAbilityId() == 'A0FW'
endfunction

function S8O takes integer FVI, integer a returns integer 
    if a == 0 then
        return 1
    else 
        return (FVI - 1)*5 + 1 + a
    endif
endfunction

function S9O takes nothing returns boolean 
    return GetUnitTypeId(GetFilterUnit()) == 'e00X'
endfunction

function SAO takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function SBO takes player p returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, p, Condition(function S9O))
    call ForGroup(g, function SAO)
    call releaseGroup(g)
    set g = null
endfunction

function SCO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local unit E1I = LoadUnitHandle(hashTable, GetHandleId(t), 14)
    local integer DMI = GetHandleId(E1I)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0FV')
    local integer SDO = HEI(LoadInteger(hashTable, DMI, 315) - 1, 0, 5)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 316)
    local integer SEO
    if FVI == 1 then
        set SEO = 10 + SDO*4
    elseif FVI == 2 then
        set SEO = 20 + SDO*8
    elseif FVI == 3 then
        set SEO = 30 + SDO*12
    endif
    if SDO == 0 then
        set SEO = 0
    endif
    call LDI(E1I, SEO)
    if GetUnitTypeId(YVI) == 'e00X' then
        call SetUnitAbilityLevel(YVI, 'A0EF', S8O(FVI, SDO))
        call SaveInteger(hashTable, DMI, 315, SDO)
    else 
        call SBO( LoadPlayerHandle(hashTable, GetHandleId(t), 54) )
    endif
    call FlushChildHashtable(hashTable, GetHandleId(t))
    call abandonTrigger(t)
    set t = null
    set E1I = null
    set YVI = null
    return false
endfunction

function SFO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer DMI = GetHandleId(E1I)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 316)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0FV')
    local integer SDO = HEI(LoadInteger(hashTable, DMI, 315) + 1, 0, 5)
    local integer SGO = S8O(FVI, SDO)
    local trigger t = CreateTrigger()
    local integer SEO
    if FVI == 1 then
        set SEO = 10 + SDO*4
    elseif FVI == 2 then
        set SEO = 20 + SDO*8
    elseif FVI == 3 then
        set SEO = 30 + SDO*12
    endif
    call LDI(E1I, SEO)
    call SetUnitAbilityLevel(YVI, 'A0EF', SGO)
    call SaveInteger(hashTable, DMI, 315, SDO)
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, E1I)
    call SavePlayerHandle(hashTable, GetHandleId(t), 54, GetOwningPlayer(E1I))
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function SCO))
    set t = null
endfunction

function SHO takes nothing returns boolean 
    return GetLearnedSkill() == 'A0FV' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0FV') == 1 and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function SZO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0FV')
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00X', 0, 0, 0)
    local trigger t = CreateTrigger()
    call UnitAddAbility(YVI, 'A0EF')
    call SaveUnitHandle(hashTable, GetHandleId(E1I), 316, YVI)
    call SetUnitInvulnerable(YVI, true)
    call UnitAddAbility(YVI, 'Aloc')
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function S7O))
    call TriggerAddAction(t, function SFO)
endfunction

function T5I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function SHO))
    call TriggerAddAction(t, function SZO)
    call preloadAblility('A0EF')
endfunction

function SVO takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0GP'
endfunction

function SWO takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') != 1
endfunction

function SXO takes nothing returns nothing
    local integer SYO = GetHandleId(GetEnumUnit())
    local integer SJO = LoadInteger(hashTable, QO0, SYO)
    local real GFI = rMin(KO + SJO*30, 180)
    call UnitDamageTarget(YO, GetEnumUnit(), GFI, false, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    call SaveInteger(hashTable, QO0, SYO, (SJO + 1))
endfunction

function SKO takes nothing returns nothing
    local integer SYO = GetHandleId(GetEnumUnit())
    local integer SJO = LoadInteger(hashTable, QO0, SYO)
    call SaveInteger(hashTable, QO0, SYO, (SJO - 1))
endfunction

function SLO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GTI = LoadUnitHandle(hashTable, DMI, 221)
    local group MNI = LoadGroupHandle(hashTable, DMI, 317)
    set QO0 = GetHandleId(GTI)
    call ForGroup(MNI, function SKO)
    call releaseGroup(MNI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function SMO takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local group MNI = allocGroup()
    local trigger t = CreateTrigger()
    if IsUnitType(GTI, UNIT_TYPE_HERO) == false then
        set GTI = playerHero[GetPlayerId(GetOwningPlayer(GTI))]
    endif
    call GroupEnumUnitsInRange(MNI, GetUnitX(GTI), GetUnitY(GTI), 650, Condition(function SWO))
    set YO = GTI
    set KO = GetUnitAbilityLevel(GTI, 'A0GP')*20
    set QO0 = GetHandleId(GTI)
    call ForGroup(MNI, function SXO)
    call SaveUnitHandle(hashTable, GetHandleId(t), 221, GTI)
    call SaveGroupHandle(hashTable, GetHandleId(t), 317, MNI)
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function SLO))
    set t = null
endfunction

function T8I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SVO))
    call TriggerAddAction(t, function SMO)
endfunction

function SNO takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0FW' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
endfunction

function Trig_Goo_Func001Func001001002 takes nothing returns boolean 
    return (GetUnitTypeId(GetFilterUnit()) == 'e02E')
endfunction

function SSO takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction

function STO takes nothing returns boolean 
    return (GetUnitTypeId(GetFilterUnit()) == 'e02E')
endfunction

function SRO takes nothing returns boolean 
    if (not (GetUnitUserData(GetEnumUnit()) == 4)) then
        return false
    endif
    return true
endfunction

function SPO takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetTriggerUnit())
    call SetUnitPositionLoc(GetEnumUnit(), EA1)
    if SRO() then
        call IssueTargetOrder(GetEnumUnit(), "acidbomb", GetSpellTargetUnit())
    else 
        call IncUnitAbilityLevel(GetEnumUnit(), 'A0FZ')
        call IssueTargetOrder(GetEnumUnit(), "acidbomb", GetSpellTargetUnit())
        call SetUnitUserData(GetEnumUnit(), (GetUnitUserData(GetEnumUnit()) + 1))
    endif
    call RemoveLocation(EA1)
endfunction

function SQO takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetTriggerUnit())
    local location SUO = GetUnitLoc(GetSpellTargetUnit())
    local group T0O = allocGroup()
    if (UnitHasBuffBJ(GetSpellTargetUnit(), 'B02U') == true) then
        call GroupEnumUnitsOfPlayer(T0O, GetOwningPlayer(GetSpellTargetUnit()), Condition(function STO))
        call ForGroupBJ(T0O, function SPO)
    else 
        call GroupEnumUnitsOfPlayer(T0O, GetOwningPlayer(GetSpellTargetUnit()), Condition(function STO))
        call ForGroupBJ(T0O, function SSO)
        call DisableTrigger(NH)
        call CreateNUnitsAtLocFacingLocBJ(1, 'e02E', GetOwningPlayer(GetSpellTargetUnit()), EA1, SUO)
        call EnableTrigger(NH)
        call UnitAddAbility(bj_lastCreatedUnit, 'A0FZ')
        call SetUnitAbilityLevelSwapped('A0FZ', bj_lastCreatedUnit, ((GetUnitAbilityLevelSwapped('A0FW', GetTriggerUnit())*4) - 3))
        call IssueTargetOrder(bj_lastCreatedUnit, "acidbomb", GetSpellTargetUnit())
        call SetUnitUserData(bj_lastCreatedUnit, 1)
    endif
    call releaseGroup(T0O)
    call RemoveLocation(EA1)
    call RemoveLocation(SUO)
endfunction

function T6I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SNO))
    call TriggerAddAction(t, function SQO)
endfunction

function TIO takes nothing returns boolean 
    return GetLearnedSkill() == 'A0M3' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function T1O takes nothing returns boolean 
    if (IsUnitType(GetEventDamageSource(), UNIT_TYPE_STRUCTURE) == true) then
        return false
    endif
    return true
endfunction

function TOO takes unit E1I returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    call UnitAddAbility(YVI, 'A0GP')
    call SetUnitAbilityLevel(YVI, 'A0GP', GetUnitAbilityLevel(E1I, 'A0GP'))
    call IssueImmediateOrder(YVI, "fanofknives")
    set YVI = null
endfunction

function T2O takes unit E1I, real GFI returns nothing
    local integer DMI = GetHandleId(E1I)
    local real T3O = LoadReal(hashTable, DMI, 278)
    if T3O > 250 then
        call SaveReal(hashTable, DMI, 278, (0*1.0))
        call TOO(E1I)
    else 
        call SaveReal(hashTable, DMI, 278, ((T3O + GFI)*1.0))
    endif
endfunction

function T4O takes nothing returns nothing
    local unit T5O = GetTriggerUnit()
    local unit VW1 = GetEventDamageSource()
    local real T6O = ZEI(VW1, T5O)
    local real T7O = GetUnitFacing(T5O)
    local real T8O
    local real GFI = GetEventDamage()
    local real T9O
    local real LPO
    if (GFI > 5) and GetUnitState(T5O, UNIT_STATE_LIFE) > 1 then
        if ((T7O - T6O) < (-180.00)) then
            set T8O = (T7O - T6O + 360)
        else 
            if ((T7O - T6O) > 180.00) then
                set T8O = (T7O - T6O - 360)
            else 
                set T8O = (T7O - T6O)
            endif
        endif
        set LPO = RAbsBJ(T8O)
        if LPO <= 70 then
            set T9O = GetUnitAbilityLevel(T5O, 'A0M3')*0.10*GFI
            call T2O(T5O, GFI - T9O)
            call SetUnitState(T5O, UNIT_STATE_LIFE, GetUnitState(T5O, UNIT_STATE_LIFE) + T9O)
        elseif LPO <= 110 then
            set T9O = GetUnitAbilityLevel(T5O, 'A0M3')*0.05*GFI
            call SetUnitState(T5O, UNIT_STATE_LIFE, GetUnitState(T5O, UNIT_STATE_LIFE) + T9O)
        endif
    endif
    set T5O = null
    set VW1 = null
endfunction

function TAO takes nothing returns nothing
    local trigger t
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0M3') == 1 then
        set t = CreateTrigger()
        call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function T1O))
        call TriggerAddAction(t, function T4O)
    endif
endfunction

function T7I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function TIO))
    call TriggerAddAction(t, function TAO)
endfunction

function TBO takes nothing returns boolean 
    return GetUnitAbilityLevel(GetTriggerUnit(), 'A00V') > 0 and GetUnitAbilityLevel(GetAttacker(), 'A04R') != 1 and IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) == false and GetUnitTypeId(GetAttacker()) != 'n0F5'
endfunction

function TCO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetAttacker()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A00V')
    local integer TDO = GetHeroStr(GCI, true)
    local real GFI = 10 + (0.18 + 0.08*FVI)*TDO
    call doDamage(GCI, GDI, 2, GFI)
    set GCI = null
    set GDI = null
endfunction

function TAI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function TBO))
    call TriggerAddAction(t, function TCO)
endfunction

function TEO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A00L')
    local real TFO
    call doDamage(GCI, GDI, 1, 100 + FVI*75)
    set TFO = 100 + FVI*75
    if GetUnitState(GCI, UNIT_STATE_LIFE) <= TFO*0.75 then
        set TFO = GetUnitState(GCI, UNIT_STATE_LIFE)/0.75 - 10
    endif
    call doDamage(GCI, GCI, 1, TFO)
    set GCI = null
    set GDI = null
endfunction

function TGO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A00L' then
        call TEO()
    endif
    return false
endfunction

function T9I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TGO))
    set t = null
endfunction

function THO takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0LV'
endfunction

function TZO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit TVO = LoadUnitHandle(hashTable, DMI, 2)
    local unit u = LoadUnitHandle(hashTable, DMI, 26)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    if LoadBoolean(hashTable, GetHandleId(u), 80) == false and GetUnitAbilityLevel(u, 'A04R') == 0 then
        call SetUnitPosition(u, x, y)
    endif
    if LoadBoolean(hashTable, GetHandleId(u), 80) == true then
        call displayErrorMessage(GetOwningPlayer(TVO), GetObjectName('n036'))
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set TVO = null
    set u = null
    return false
endfunction

function TWO takes unit u, unit TXO, integer TYO, real x, real y returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 7 - TYO, false)
    call TriggerAddCondition(t, Condition(function TZO))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("effects\\Test_of_Faith_FX.mdx", u, "overhead"))
    call SaveUnitHandle(hashTable, DMI, 26, u)
    call SaveUnitHandle(hashTable, DMI, 2, TXO)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    set t = null
endfunction

function TJO takes nothing returns nothing
    local unit GDI = GetSpellTargetUnit()
    local unit TVO = GetTriggerUnit()
    local location EA1 = GetUnitLoc(TVO)
    local unit YVI
    local integer TYO = GetUnitAbilityLevel(TVO, 'A0LV')
    local real YJI
    local location TKO
    local effect fx
    if isPlayerSentinel(GetOwningPlayer(TVO)) then
        set TKO = GetRectCenter(B4)
    else 
        set TKO = GetRectCenter(R3)
    endif
    if (IsUnitAlly(GDI, GetOwningPlayer(TVO)) == false) then
        if (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
            set YJI = GetRandomInt(50*TYO, 100*TYO)
            call ZKI(I2S(R2I(YJI)), 1, GDI, 0.023, 255, 255, 0, 216)
            call UnitDamageTargetBJ(TVO, GDI, YJI, ATTACK_TYPE_HERO, DAMAGE_TYPE_MAGIC)
            set fx = AddSpecialEffectTargetUnitBJ("chest", GDI, "Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
            call DestroyEffect(fx)
        endif
    else 
        if (IsUnitType(GDI, UNIT_TYPE_HERO) == true) then
            if (LoadBoolean(hashTable, GetHandleId(GetOwningPlayer(GDI)), 139) == false) then
                call TWO(GDI, TVO, TYO, GetLocationX(TKO), GetLocationY(TKO))
            endif
        elseif (IsUnitOwnedByPlayer(GDI, GetOwningPlayer(TVO)) == true) then
            call SetUnitPositionLoc(GDI, TKO)
        endif
    endif
    call RemoveLocation(EA1)
    call RemoveLocation(TKO)
endfunction

function TEI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function THO))
    call TriggerAddAction(t, function TJO)
endfunction

function TLO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real TMO
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 10 then
            set TMO = GetEventDamage()*0.07*FVI
            call DisableTrigger(t)
            call doDamage(GetEventDamageSource(), GetTriggerUnit(), 2, TMO)
            call EnableTrigger(t)
        endif
    else 
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    return false
endfunction

function TNO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = GetSpellTargetUnit()
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0KM')
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl", GCI, "chest") )
    call SaveInteger(hashTable, DMI, 5, FVI)
    call TriggerRegisterTimerEvent(t, 7, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function TLO))
    set t = null
    set GDI = null
    set GCI = null
endfunction

function TSO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0KM' then
        call TNO()
    endif
    return false
endfunction

function TBI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TSO))
    set t = null
endfunction

function TTO takes nothing returns boolean 
    if (not (GetSpellAbilityId() == 'A069')) then
        return false
    endif
    return true
endfunction

function TRO takes nothing returns boolean 
    if (IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == false) then
        if IsUnitAliveBJ(GetFilterUnit()) then
            if GII(GetFilterUnit()) == false then
                if (GetUnitTypeId(GetFilterUnit()) != 'ncop') then
                    if (GetUnitAbilityLevel(GetFilterUnit(), 'Aeth') == 1) then
                        if ((GetUnitAbilityLevel(GetFilterUnit(), 'A0KO') == 1) or (GetUnitAbilityLevel(GetFilterUnit(), 'A0KQ') == 1) or (GetUnitAbilityLevel(GetFilterUnit(), 'A0KR') == 1) or (GetUnitAbilityLevel(GetFilterUnit(), 'A0KP') == 1)) then
                            return true
                        endif
                    endif
                endif
            endif
        endif
    endif
    return false
endfunction

function TPO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit TVO = LoadUnitHandle(hashTable, DMI, 2)
    local integer TQO = LoadInteger(hashTable, DMI, 157)
    local group MNI = allocGroup()
    local unit CUO
    call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(TVO), Condition(function TRO))
    loop
        exitwhen (CountUnitsInGroup(MNI) <= TQO)
        set CUO = GroupPickRandomUnit(MNI)
        call GroupRemoveUnit(MNI, CUO)
        call KillUnit(CUO)
    endloop
    call releaseGroup(MNI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set TVO = null
    set t = null
    set MNI = null
    set CUO = null
    return false
endfunction

function TUO takes nothing returns nothing
    local unit R0O = GetSpellTargetUnit()
    local unit TVO = GetTriggerUnit()
    local integer TYO = GetUnitAbilityLevel(TVO, 'A069')
    local integer TQO = 1
    local integer playerid = GetPlayerId(GetOwningPlayer(TVO))
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call HPI(R0O)
    if (TYO == 1) then
        call UnitAddAbility(R0O, 'A0KO')
    endif
    if (TYO == 2) then
        call UnitAddAbility(R0O, 'A0KQ')
    endif
    if (TYO == 3) then
        set TQO = 2
        call UnitAddAbility(R0O, 'A0KR')
    endif
    if (TYO == 4) then
        set TQO = 3
        call UnitAddAbility(R0O, 'A0KP')
    endif
    call UnitAddAbility(R0O, 'Aeth')
    call UnitAddAbility(R0O, 'A12G')
    call SaveUnitHandle(hashTable, DMI, 2, TVO)
    call SaveInteger(hashTable, DMI, 157, TQO)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function TPO))
    set t = null
    set R0O = null
    set TVO = null
endfunction

function TDI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TTO))
    call TriggerAddAction(t, function TUO)
endfunction

function RIO takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0LT' or GetSpellAbilityId() == 'A1CS'
endfunction

function R1O takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1
endfunction

function ROO takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local integer TYO = GetUnitAbilityLevel(GTI, 'A0LT')
    local group MNI = allocGroup()
    local unit CUO
    if TYO == 0 then
        set TYO = GetUnitAbilityLevel(GTI, 'A1CS')
    endif
    call GroupEnumUnitsInRect(MNI, bj_mapInitialPlayableArea, Condition(function R1O))
    loop
        set CUO = FirstOfGroup(MNI)
        exitwhen CUO == null
        if (IsUnitAlly(CUO, GetOwningPlayer(GTI)) == true) then
            call SetWidgetLife(CUO, (GetUnitStateSwap(UNIT_STATE_LIFE, CUO) + 100 + (100*TYO)))
            call DestroyEffect( AddSpecialEffectTargetUnitBJ("chest", CUO, "Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl") )
        endif
        call GroupRemoveUnit(MNI, CUO)
    endloop
    call releaseGroup(MNI)
    set MNI = allocGroup()
    set bj_groupEnumOwningPlayer = GetOwningPlayer(GTI)
    call GroupEnumUnitsInRect(MNI, GetWorldBounds(), filterGetUnitsInRectOfPlayer)
    loop
        set CUO = FirstOfGroup(MNI)
        exitwhen CUO == null
        if (IsUnitType(CUO, UNIT_TYPE_HERO) == false and GetUnitTypeId(CUO) != 'n00C') then
            call SetUnitLifePercentBJ(CUO, 100)
            call DestroyEffect( AddSpecialEffectTargetUnitBJ("chest", CUO, "Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl") )
        endif
        call GroupRemoveUnit(MNI, CUO)
    endloop
    call releaseGroup(MNI)
endfunction

function TCI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RIO))
    call TriggerAddAction(t, function ROO)
endfunction

function R2O takes nothing returns nothing
    if GII(GetEnumUnit()) == false then
        call doDamage(Q30, GetEnumUnit(), 1, Q20)
    endif
endfunction

function R3O takes unit GCI, real x, real y returns nothing
    local real x1
    local real y1
    local group g = allocGroup()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0Z6')
    local real GFI = 40 + 40*FVI
    set myUnit = GCI
    set Q30 = GCI
    set Q20 = GFI
    call GroupEnumUnitsInRange(g, x, y, 600, Condition(function filterUnitInjurable))
    call ForGroup(g, function R2O)
    call releaseGroup(g)
    set x1 = x
    set y1 = y
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1) )
    set x1 = x + 200
    set y1 = y + 200
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1) )
    set x1 = x + 200
    set y1 = y - 200
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1) )
    set x1 = x - 200
    set y1 = y + 200
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1) )
    set x1 = x - 200
    set y1 = y - 200
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x1, y1) )
    call V3I(GetOwningPlayer(GCI), 10, x, y, 600)
    set g = null
endfunction

function R4O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real HKI = LoadReal(hashTable, DMI, 189)
    local real HLI = LoadReal(hashTable, DMI, 190)
    local real VGI = constrainX(HKI + 30*Cos(LPO))
    local real VHI = constrainY(HLI + 30*Sin(LPO))
    local real R5O
    local real R6O
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    call SaveReal(hashTable, DMI, 189, (VGI*1.0))
    call SaveReal(hashTable, DMI, 190, (VHI*1.0))
    if ZPI(HMI, HNI, VGI, VHI) <= 35 then
        call KillUnit(VDI)
        set E1I = LoadUnitHandle(hashTable, DMI, 14)
        call R3O(E1I, VGI, VHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    set VDI = null
    return false
endfunction

function R7O takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local real HKI = constrainX(GetUnitX(E1I))
    local real HLI = constrainY(GetUnitY(E1I))
    local location TKO = GetSpellTargetLoc()
    local real HMI = constrainX(GetLocationX(TKO))
    local real HNI = constrainY(GetLocationY(TKO))
    local real LPO = Atan2(HNI - HLI, HMI - HKI)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = CreateUnit(GetOwningPlayer(E1I), 'h03Y', HKI, HLI, LPO*bj_RADTODEG)
    call RemoveLocation(TKO)
    call SetUnitFacing(VDI, LPO*bj_RADTODEG)
    call SetUnitPathing(VDI, false)
    call UnitAddAbility(VDI, 'Aloc')
    call ShowUnit(VDI, false)
    call UnitRemoveAbility(VDI, 'Aloc')
    call ShowUnit(VDI, true)
    call SaveReal(hashTable, DMI, 191, (HKI*1.0))
    call SaveReal(hashTable, DMI, 192, (HLI*1.0))
    call SaveReal(hashTable, DMI, 189, (HKI*1.0))
    call SaveReal(hashTable, DMI, 190, (HLI*1.0))
    call SaveReal(hashTable, DMI, 47, (HMI*1.0))
    call SaveReal(hashTable, DMI, 48, (HNI*1.0))
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function R4O))
    set E1I = null
    set TKO = null
    set t = null
    set VDI = null
endfunction

function R8O takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0Z6' then
        call R7O()
    endif
    return false
endfunction

function AF1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function R8O))
    set t = null
endfunction

function R9O takes real s, real d1, real d2, real d3 returns boolean 
    return s <= d1 and s <= d2 and s <= d3
endfunction

function RAO takes unit u, real x, real y, real d returns real 
    local real x2 = GetUnitX(u)
    local real y2 = GetUnitY(u)
    local real RBO = getDistance(x - d, y, x2, y2)
    local real RCO = getDistance(x + d, y, x2, y2)
    local real RDO = getDistance(x, y + d, x2, y2)
    local real REO = getDistance(x, y - d, x2, y2)
    if R9O(RBO, RCO, REO, RDO) then
        return 180.0
    elseif R9O(RCO, RBO, REO, RDO) then
        return 0.0
    elseif R9O(REO, RCO, RBO, RDO) then
        return 270.0
    endif
    return 90.0
endfunction

function RFO takes real s, real d1, real d2, real d3, real d4, real d5, real d6, real d7 returns boolean 
    return s <= d1 and s <= d2 and s <= d3 and s <= d4 and s <= d5 and s <= d6 and s <= d7
endfunction

function RGO takes unit u, integer DMI returns unit 
    local real x1 = GetUnitX(u)
    local real y1 = GetUnitY(u)
    local unit RHO = LoadUnitHandle(hashTable, DMI, (1100 + 1))
    local unit RZO = LoadUnitHandle(hashTable, DMI, (1100 + 2))
    local unit RVO = LoadUnitHandle(hashTable, DMI, (1100 + 3))
    local unit RWO = LoadUnitHandle(hashTable, DMI, (1100 + 4))
    local unit RXO = LoadUnitHandle(hashTable, DMI, (1100 + 5))
    local unit RYO = LoadUnitHandle(hashTable, DMI, (1100 + 6))
    local unit RJO = LoadUnitHandle(hashTable, DMI, (1100 + 7))
    local unit RKO = LoadUnitHandle(hashTable, DMI, (1100 + 8))
    local real d1 = getDistance(x1, y1, GetUnitX(RHO), GetUnitY(RHO))
    local real d2 = getDistance(x1, y1, GetUnitX(RZO), GetUnitY(RZO))
    local real d3 = getDistance(x1, y1, GetUnitX(RVO), GetUnitY(RVO))
    local real d4 = getDistance(x1, y1, GetUnitX(RWO), GetUnitY(RWO))
    local real d5 = getDistance(x1, y1, GetUnitX(RXO), GetUnitY(RXO))
    local real d6 = getDistance(x1, y1, GetUnitX(RYO), GetUnitY(RYO))
    local real d7 = getDistance(x1, y1, GetUnitX(RJO), GetUnitY(RJO))
    local real d8 = getDistance(x1, y1, GetUnitX(RKO), GetUnitY(RKO))
    if RFO(d1, d2, d3, d4, d5, d6, d7, d8) then
        return RHO
    elseif RFO(d2, d1, d3, d4, d5, d6, d7, d8) then
        return RZO
    elseif RFO(d3, d2, d1, d4, d5, d6, d7, d8) then
        return RVO
    elseif RFO(d4, d2, d3, d1, d5, d6, d7, d8) then
        return RWO
    elseif RFO(d5, d2, d3, d4, d1, d6, d7, d8) then
        return RXO
    elseif RFO(d6, d2, d3, d4, d5, d1, d7, d8) then
        return RYO
    elseif RFO(d7, d2, d3, d4, d5, d6, d1, d8) then
        return RJO
    elseif RFO(d8, d2, d3, d4, d5, d6, d7, d1) then
        return RKO
    endif
    return null
endfunction

function RLO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real x = GetUnitX(GDI)
    local real y = GetUnitY(GDI)
    local real RMO = 12
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer RNO = 40 + 15*FVI
    if GetTriggerEvalCount(t) > 21 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call SaveInteger(hashTable, GetHandleId(GDI), 4260, 2)
        call doDamage(GCI, GDI, 1, I2R(RNO))
        call SetUnitState(GDI, UNIT_STATE_MANA, HGI(GetUnitState(GDI, UNIT_STATE_MANA) - RNO, 0))
    else 
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", x, y) )
        call killDestructables(x, y, 150)
        if (LoadInteger(hashTable, GetHandleId(GDI), 4261) == 1) == false then
            call SetUnitPosition(GDI, x + RMO*Cos(LPO*bj_DEGTORAD), y + RMO*Sin(LPO*bj_DEGTORAD))
        endif
    endif
    set t = null
    set GDI = null
    return false
endfunction

function RSO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = GetEnumUnit()
    local real x = OK
    local real y = AK
    local real d = BK
    local real LPO = RAO(GDI, x, y, d)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", GDI, "chest") )
    call SaveInteger(hashTable, GetHandleId(GDI), 4260, 1)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveInteger(hashTable, DMI, 5, QJ)
    call SaveUnitHandle(hashTable, DMI, 2, myUnit)
    call TriggerRegisterTimerEvent(t, 0.04, true)
    call TriggerAddCondition(t, Condition(function RLO))
    set t = null
    set GDI = null
endfunction

function RTO takes unit u, integer DMI returns boolean 
    local unit RRO = RGO(u, DMI)
    local boolean KJI = true
    if isUnitUnavailable(RRO) or LoadInteger(hashTable, GetHandleId(RRO), 156) == 1 then
        set KJI = false
    endif
    call SaveInteger(hashTable, GetHandleId(RRO), 156, 1)
    call SetUnitVertexColor(RRO, 25, 25, 25, 175)
    set RRO = null
    return KJI
endfunction

function RPO takes nothing returns nothing
    if GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) > 0 and IsUnitInGroup(GetEnumUnit(), WK) == false and (LoadInteger(hashTable, GetHandleId(GetEnumUnit()), 4260) == 1) == false and RTO(GetEnumUnit(), Q40) then
        call SaveInteger(hashTable, GetHandleId(GetEnumUnit()), 4260, 1)
        call GroupAddUnit(XK, GetEnumUnit())
    endif
endfunction

function RQO takes trigger t, unit E1I, real x, real y, real d, integer FVI returns nothing
    local integer DMI = GetHandleId(t)
    local real RUO = 200
    local rect r1 = Rect(x - d, y - d, x + d, y + d)
    local rect r2 = Rect(x - d - RUO, y - d - RUO, x + d + RUO, y + d + RUO)
    local group g1 = allocGroup()
    local group g2 = allocGroup()
    local group g3 = allocGroup()
    set myUnit = E1I
    call GroupEnumUnitsInRect(g1, r1, Condition(function filterUnitInjurable))
    call GroupEnumUnitsInRect(g2, r2, Condition(function filterUnitInjurable))
    set WK = g1
    set XK = g3
    set OK = x
    set AK = y
    set BK = d
    set Q40 = DMI
    call ForGroup(g2, function RPO)
    set QJ = FVI
    call ForGroup(g3, function RSO)
    call releaseGroup(g1)
    call releaseGroup(g2)
    call releaseGroup(g3)
    call RemoveRect(r1)
    call RemoveRect(r2)
    set g1 = null
    set g2 = null
    set g3 = null
    set r1 = null
    set r2 = null
endfunction

function P0O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local boolean PIO = LoadBoolean(hashTable, DMI, 155)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    if PIO then
        call V3I(p, .2, x, y, 500)
    endif
    set t = null
    set p = null
    return false
endfunction

function P1O takes unit POO returns nothing
    local real x = GetUnitX(POO)
    local real y = GetUnitY(POO)
    local player p = GetOwningPlayer(POO)
    local unit YVI = CreateUnit(p, 'u00W', x, y, 0)
    call KillUnit(YVI)
    set p = null
    set YVI = null
endfunction

function P2O takes integer DMI, real x, real y, boolean PIO, player p returns nothing
    local unit RHO = LoadUnitHandle(hashTable, DMI, (1100 + 1))
    local unit RZO = LoadUnitHandle(hashTable, DMI, (1100 + 2))
    local unit RVO = LoadUnitHandle(hashTable, DMI, (1100 + 3))
    local unit RWO = LoadUnitHandle(hashTable, DMI, (1100 + 4))
    local unit RXO = LoadUnitHandle(hashTable, DMI, (1100 + 5))
    local unit RYO = LoadUnitHandle(hashTable, DMI, (1100 + 6))
    local unit RJO = LoadUnitHandle(hashTable, DMI, (1100 + 7))
    local unit RKO = LoadUnitHandle(hashTable, DMI, (1100 + 8))
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.1, false)
    call TriggerAddCondition(t, Condition(function P0O))
    call SaveReal(hashTable, GetHandleId(t), 6, (x*1.0))
    call SaveReal(hashTable, GetHandleId(t), 7, (y*1.0))
    call SavePlayerHandle(hashTable, GetHandleId(t), 54, p)
    call SaveBoolean(hashTable, GetHandleId(t), 155, PIO)
    call P1O(RHO)
    call RemoveUnit(RHO)
    call P1O(RZO)
    call RemoveUnit(RZO)
    call P1O(RVO)
    call RemoveUnit(RVO)
    call P1O(RWO)
    call RemoveUnit(RWO)
    call P1O(RXO)
    call RemoveUnit(RXO)
    call P1O(RYO)
    call RemoveUnit(RYO)
    call P1O(RJO)
    call RemoveUnit(RJO)
    call P1O(RKO)
    call RemoveUnit(RKO)
    set RHO = null
    set RZO = null
    set RVO = null
    set RWO = null
    set RXO = null
    set RYO = null
    set RJO = null
    set RKO = null
endfunction

function P3O takes unit POO, integer DMI, integer CDI, player p returns nothing
    if IsUnitVisible(POO, p) then
        call SaveBoolean(hashTable, DMI, 155, true)
    endif
    call SaveUnitHandle(hashTable, DMI, (1100 + CDI), POO)
endfunction

function P4O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real YHI = LoadReal(hashTable, DMI, 57)
    local integer DHI = GetTriggerEvalCount(t)
    if DHI > R2I(YHI*10) then
        call P2O(DMI, LoadReal(hashTable, DMI, 6), LoadReal(hashTable, DMI, 7), LoadBoolean(hashTable, DMI, 155), LoadPlayerHandle(hashTable, DMI, 154))
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call RQO(t, LoadUnitHandle(hashTable, DMI, 14), LoadReal(hashTable, DMI, 6), LoadReal(hashTable, DMI, 7), LoadReal(hashTable, DMI, 138), LoadInteger(hashTable, DMI, 5))
    endif
    set t = null
    return false
endfunction

function P5O takes nothing returns nothing
    call SetUnitX(GetEnumUnit(), GetUnitX(myUnit))
    call SetUnitY(GetEnumUnit(), GetUnitY(myUnit))
endfunction

function P6O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0Z5')
    local integer ID = 'u00S'
    local real x1 = GetUnitX(E1I)
    local real y1 = GetUnitY(E1I)
    local real x2
    local real y2
    local real d = 125
    local unit POO
    local real YHI = 2 + FVI
    local real BufferDuration = 5
    local group g
    local rect P7O
    local player FQO
    if isPlayerSentinel(GetOwningPlayer(E1I)) then
        set FQO = scourgePlayers[0]
    else 
        set FQO = sentinelPlayers[0]
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call SaveBoolean(hashTable, DMI, 155, false)
    set x2 = x1 + d
    set y2 = y1
    set POO = CreateUnit(GetOwningPlayer(E1I), ID, x2, y2, 0)
    call SetUnitPosition(POO, x2, y2)
    call P3O(POO, DMI, 1, FQO)
    set x2 = x1 + d
    set y2 = y1 + d
    set POO = CreateUnit(GetOwningPlayer(E1I), ID, x2, y2, 0)
    call SetUnitPosition(POO, x2, y2)
    call P3O(POO, DMI, 2, FQO)
    set x2 = x1
    set y2 = y1 + d
    set POO = CreateUnit(GetOwningPlayer(E1I), ID, x2, y2, 0)
    call SetUnitPosition(POO, x2, y2)
    call P3O(POO, DMI, 3, FQO)
    set x2 = x1 - d
    set y2 = y1 + d
    set POO = CreateUnit(GetOwningPlayer(E1I), ID, x2, y2, 0)
    call SetUnitPosition(POO, x2, y2)
    call P3O(POO, DMI, 4, FQO)
    set x2 = x1 - d
    set y2 = y1
    set POO = CreateUnit(GetOwningPlayer(E1I), ID, x2, y2, 0)
    call SetUnitPosition(POO, x2, y2)
    call P3O(POO, DMI, 5, FQO)
    set x2 = x1 - d
    set y2 = y1 - d
    set POO = CreateUnit(GetOwningPlayer(E1I), ID, x2, y2, 0)
    call SetUnitPosition(POO, x2, y2)
    call P3O(POO, DMI, 6, FQO)
    set x2 = x1
    set y2 = y1 - d
    set POO = CreateUnit(GetOwningPlayer(E1I), ID, x2, y2, 0)
    call SetUnitPosition(POO, x2, y2)
    call P3O(POO, DMI, 7, FQO)
    set x2 = x1 + d
    set y2 = y1 - d
    set POO = CreateUnit(GetOwningPlayer(E1I), ID, x2, y2, 0)
    call SetUnitPosition(POO, x2, y2)
    call P3O(POO, DMI, 8, FQO)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function P4O))
    call SaveReal(hashTable, DMI, 57, (YHI*1.0))
    call SaveReal(hashTable, DMI, 6, (x1*1.0))
    call SaveReal(hashTable, DMI, 7, (y1*1.0))
    call SaveReal(hashTable, DMI, 138, (d*1.0))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SavePlayerHandle(hashTable, DMI, 154, FQO)
    set d = d + 110
    set g = allocGroup()
    set P7O = Rect(x1 - d, y1 - d, x1 + d, y1 + d)
    set myUnit = E1I
    call GroupEnumUnitsInRect(g, P7O, Condition(function Y7I))
    call ForGroup(g, function P5O)
    call releaseGroup(g)
    set t = null
    set g = null
    set E1I = null
    set POO = null
    set P7O = null
    set FQO = null
    return false
endfunction

function P8O takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 0.1, false)
    call TriggerAddCondition(t, Condition(function P6O))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
    set E1I = null
endfunction

function P9O takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0Z5' then
        call P8O()
    endif
    return false
endfunction

function AE1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P9O))
    set t = null
endfunction

function PAO takes unit GCI, unit GDI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0Z8')
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(GCI, 'A1CV')
    endif
    call UnitAddAbility(YVI, 'A0Z9')
    call SetUnitAbilityLevel(YVI, 'A0Z9', FVI)
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
    set YVI = null
endfunction

function PBO takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), WK) == false then
        call GroupAddUnit(WK, GetEnumUnit())
        call PAO(myUnit, GetEnumUnit())
    endif
endfunction

function PCO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer PDO = LoadInteger(hashTable, DMI, 18)
    local integer DHI = GetTriggerEvalCount(t)
    local unit PEO
    local group PFO = LoadGroupHandle(hashTable, DMI, 16)
    local group g
    local real PGO = 200
    if GDI == null then
        set PEO = LoadUnitHandle(hashTable, DMI, (700 + PDO + 1 - DHI))
        call RemoveUnit(PEO)
    else 
        set PEO = LoadUnitHandle(hashTable, DMI, (700 + DHI))
        call SetUnitX(E1I, GetUnitX(PEO))
        call SetUnitY(E1I, GetUnitY(PEO))
        call RemoveUnit(PEO)
        if DHI == PDO then
            set PGO = 225
        endif
        set g = allocGroup()
        set myUnit = E1I
        set WK = PFO
        call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), PGO, Condition(function XTI))
        call ForGroup(g, function PBO)
        call releaseGroup(g)
    endif
    if DHI == PDO then
        if GDI != null then
            call PauseUnit(GDI, false)
        endif
        call killDestructables(GetUnitX(E1I), GetUnitY(E1I), 100)
        call releaseGroup(PFO)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    set GDI = null
    set PEO = null
    set PFO = null
    set g = null
    return false
endfunction

function PHO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local integer PZO = LoadInteger(hashTable, DMI, 12)
    local integer DHI = GetTriggerEvalCount(t)
    local real x = GetUnitX(E1I) + DHI*50*Cos(LPO*bj_DEGTORAD)
    local real y = GetUnitY(E1I) + DHI*50*Sin(LPO*bj_DEGTORAD)
    local boolean PVO = LoadBoolean(hashTable, DMI, 15)
    local unit PWO
    local trigger PXO = LoadTriggerHandle(hashTable, DMI, 11)
    local integer PYO = GetHandleId(PXO)
    local group g = allocGroup()
    local unit GDI = null
    local integer ID = 'u00V'
    local real PGO = 125
    if DHI == 1 then
        set PGO = 100
    endif
    set myUnit = E1I
    call GroupEnumUnitsInRange(g, x, y, PGO, Condition(function XJI))
    call GroupRemoveUnit(g, E1I)
    set GDI = GroupPickRandomUnit(g)
    call releaseGroup(g)
    if GDI != null or DHI == PZO or DHI == (PZO - 1) or DHI == (PZO - 2) then
        set ID = 'u00U'
    endif
    set PWO = CreateUnit(GetOwningPlayer(E1I), ID, x, y, LPO)
    call SaveUnitHandle(hashTable, PYO, (700 + DHI), PWO)
    if GDI != null then
        if (IsUnitAlly(GDI, GetOwningPlayer(E1I)) == true and PVO == false) or GetOwningPlayer(GDI) == playerNeutrals or (LoadInteger(hashTable, GetHandleId(GDI), 4259) == 1) == true then
            set GDI = null
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if GDI != null and IsUnitAlly(GDI, GetOwningPlayer(E1I)) == false then
            call PauseUnit(GDI, true)
        endif
        call TriggerRegisterTimerEvent(PXO, 0.5/PZO, true)
        call TriggerAddCondition(PXO, Condition(function PCO))
        call SaveInteger(hashTable, PYO, 18, DHI)
        call SaveUnitHandle(hashTable, PYO, 17, GDI)
        call SaveUnitHandle(hashTable, PYO, 14, E1I)
        call SaveGroupHandle(hashTable, PYO, 16, allocGroup())
    elseif DHI > PZO then
        set GDI = null
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call TriggerRegisterTimerEvent(PXO, 0.5/PZO, true)
        call TriggerAddCondition(PXO, Condition(function PCO))
        call SaveInteger(hashTable, PYO, 18, DHI)
        call SaveUnitHandle(hashTable, PYO, 17, GDI)
        call SaveUnitHandle(hashTable, PYO, 14, E1I)
        call SaveGroupHandle(hashTable, PYO, 16, allocGroup())
    endif
    set t = null
    set E1I = null
    set PWO = null
    set PXO = null
    set g = null
    set GDI = null
    return false
endfunction

function PJO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real LPO = getAngle(GetUnitX(E1I), GetUnitY(E1I), GetLocationX(l), GetLocationY(l))
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0Z8')
    local integer PKO
    local integer PZO
    local boolean PVO = false
    local trigger PLO = CreateTrigger()
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A1CV')
        set PVO = true
    endif
    set PKO = 1500 + 500*FVI
    set PZO = PKO/50
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveInteger(hashTable, DMI, 12, PZO)
    call SaveTriggerHandle(hashTable, DMI, 11, PLO)
    call SaveBoolean(hashTable, DMI, 15, PVO)
    call TriggerRegisterTimerEvent(t, 0.5/PZO, true)
    call TriggerAddCondition(t, Condition(function PHO))
    call RemoveLocation(l)
    set t = null
    set E1I = null
    set l = null
endfunction

function PMO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0Z8' or GetSpellAbilityId() == 'A1CV' then
        call PJO()
    endif
    return false
endfunction

function AG1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PMO))
    set t = null
endfunction

function PNO takes unit GCI returns nothing
    local group g = allocGroup()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local unit GDI
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0Z4')
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x, y, 300, Condition(function XPI))
    set GDI = GroupPickRandomUnit(g)
    call releaseGroup(g)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", GCI, "origin") )
    if GDI != null then
        call UnitAddAbility(YVI, 'A0Z7')
        call SetUnitAbilityLevel(YVI, 'A0Z7', FVI)
        call IssueTargetOrder(YVI, "thunderbolt", GDI)
    endif
    set g = null
    set GDI = null
    set YVI = null
endfunction

function PSO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = GetTriggerEvalCount(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if DHI > 14 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call PNO(E1I)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function PTO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, .75, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PSO))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerEvaluate(t)
    set t = null
    set E1I = null
endfunction

function PRO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0Z4' then
        call PTO()
    endif
    return false
endfunction

function AD1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PRO))
    set t = null
endfunction

function PPO takes nothing returns nothing
    call doDamage(Q50, GetEnumUnit(), 1, Q60)
endfunction

function PQO takes unit GCI, real x, real y, integer FVI returns nothing
    local group g = allocGroup()
    if FVI == 1 then
        set Q60 = 105
    elseif FVI == 2 then
        set Q60 = 170
    elseif FVI == 3 then
        set Q60 = 250
    elseif FVI == 4 then
        set Q60 = 310
    endif
    set Q50 = GCI
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x, y, 190 + 24, Condition(function filterUnitInjurable))
    call ForGroup(g, function PPO)
    call releaseGroup(g)
    set g = null
endfunction

function PUO takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(myUnit), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call UnitAddAbility(YVI, 'A10T')
    call IssueTargetOrder(YVI, "slow", GetEnumUnit())
    set YVI = null
endfunction

function Q0O takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer QIO = ModuloInteger(GetTriggerEvalCount(t), 4) + 1
    local real a
    local real d
    local real x
    local real y
    local group g = allocGroup()
    set myUnit = E1I
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 635 + 20, Condition(function filterUnitInjurable))
    call ForGroup(g, function PUO)
    call releaseGroup(g)
    if QIO == 1 then
        set a = GetRandomReal(0, 90)
    elseif QIO == 2 then
        set a = GetRandomReal(90, 180)
    elseif QIO == 3 then
        set a = GetRandomReal(180, 270)
    else 
        set a = GetRandomReal(270, 360)
    endif
    set d = GetRandomReal(125, 635)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and (GetSpellAbilityId() == 'A03R' or GetSpellAbilityId() == 'A0AV') then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call StopSound(AC, false, true)
    else 
        set x = GetUnitX(E1I) + d*Cos(a*bj_DEGTORAD)
        set y = GetUnitY(E1I) + d*Sin(a*bj_DEGTORAD)
        call DestroyEffect( AddSpecialEffect("effects\\SnowyBlizzardTarget.mdx", x, y) )
        call PQO(E1I, x, y, FVI)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function Q1O takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI
    call playSoundAt(AC, GetUnitX(E1I), GetUnitY(E1I))
    if GetSpellAbilityId() == 'A03R' then
        set FVI = GetUnitAbilityLevel(E1I, 'A03R')
    else 
        set FVI = GetUnitAbilityLevel(E1I, 'A0AV') + 1
    endif
    call TriggerRegisterTimerEvent(t, 0.10, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function Q0O))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 5, FVI)
    set t = null
    set E1I = null
endfunction

function QOO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A03R' or GetSpellAbilityId() == 'A0AV' then
        call Q1O()
    endif
    return false
endfunction

function TGI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QOO))
    call preloadAblility('A03X')
    set t = null
endfunction

function Q2O takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00C', x, y, 0)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1E9')
    call UnitAddAbility(YVI, 'A01D')
    call SetUnitAbilityLevel(YVI, 'A01D', FVI)
    call IssueTargetOrder(YVI, "frostnova", YVI)
    call RemoveLocation(l)
    call UnitAddAbility(YVI, 'Aloc')
    call UnitApplyTimedLife(YVI, 'BTLF', 2)
    set GCI = null
    set YVI = null
    set l = null
endfunction

function Q3O takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1E9' then
        call Q2O()
    endif
    return false
endfunction

function TFI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Q3O))
    set t = null
endfunction

function Q4O takes nothing returns nothing
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", GetTriggerUnit(), "origin") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", GetTriggerUnit(), "origin") )
endfunction

function Q5O takes nothing returns boolean 
    if GetUnitTypeId(GetTriggerUnit()) == 'H00S' then
        call Q4O()
    endif
    return false
endfunction

function OK1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function Q5O))
    set t = null
endfunction

function Q6O takes nothing returns nothing
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())) )
    call doDamage(Q70, GetEnumUnit(), 1, Q80)
endfunction

function Q7O takes nothing returns boolean 
    local trigger t2 = GetTriggeringTrigger()
    local integer KI1 = GetHandleId(t2)
    local trigger t1 = LoadTriggerHandle(hashTable, KI1, 9)
    local integer Q8O = GetHandleId(t1)
    local unit Q9O = LoadUnitHandle(hashTable, KI1, 8)
    local group g
    local integer FVI = LoadInteger(hashTable, KI1, 5)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call ShowUnit(Q9O, false)
        call KillUnit(Q9O)
        call FlushChildHashtable(hashTable, Q8O)
        call abandonTrigger(t1)
        call FlushChildHashtable(hashTable, KI1)
        call abandonTrigger(t2)
    elseif IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(Q9O)) == true and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
        set g = allocGroup()
        set myUnit = Q9O
        set Q70 = Q9O
        set Q80 = 100 + 40*FVI
        call GroupEnumUnitsInRange(g, GetUnitX(Q9O), GetUnitY(Q9O), 285, Condition(function filterUnitInjurable))
        call ForGroup(g, function Q6O)
        call releaseGroup(g)
        call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl", GetUnitX(Q9O), GetUnitY(Q9O)) )
        call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl", GetUnitX(Q9O), GetUnitY(Q9O)) )
        call ShowUnit(Q9O, false)
        call KillUnit(Q9O)
        call FlushChildHashtable(hashTable, Q8O)
        call abandonTrigger(t1)
        call FlushChildHashtable(hashTable, KI1)
        call abandonTrigger(t2)
    endif
    set t1 = null
    set t2 = null
    set Q9O = null
    set g = null
    return false
endfunction

function QAO takes nothing returns boolean 
    local trigger t1 = GetTriggeringTrigger()
    local integer Q8O = GetHandleId(t1)
    local trigger t2
    local integer KI1
    local unit Q9O
    local integer FVI
    local real x = LoadReal(hashTable, Q8O, 6)
    local real y = LoadReal(hashTable, Q8O, 7)
    local real YPO
    local integer DHI = GetTriggerEvalCount(t1)
    if DHI == 1 then
        call DestroyEffect( LoadEffectHandle(hashTable, Q8O, 3) )
    elseif DHI == 2 then
        call DestroyEffect( LoadEffectHandle(hashTable, Q8O, 4) )
        set t2 = CreateTrigger()
        set KI1 = GetHandleId(t2)
        set FVI = LoadInteger(hashTable, Q8O, 5)
        set YPO = LoadReal(hashTable, Q8O, 1)
        set Q9O = CreateUnit(GetOwningPlayer( LoadUnitHandle(hashTable, Q8O, 2) ), 'h07F', x, y, YPO)
        call SetUnitVertexColor(Q9O, 255, 255, 255, 100)
        call UnitApplyTimedLife(Q9O, 'BTLF', 12)
        call SaveUnitHandle(hashTable, Q8O, 8, Q9O)
        call SaveUnitHandle(hashTable, KI1, 8, Q9O)
        call SaveTriggerHandle(hashTable, KI1, 9, t1)
        call SaveInteger(hashTable, KI1, 5, FVI)
        call TriggerRegisterUnitInRange(t2, Q9O, 235, Condition(function returnTrue))
        call TriggerRegisterUnitEvent(t2, Q9O, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t2, Condition(function Q7O))
        call DestroyEffect( AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx", Q9O, "origin") )
    elseif DHI > 2 then
        set Q9O = LoadUnitHandle(hashTable, Q8O, 8)
        call DestroyEffect( AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx", Q9O, "origin") )
    endif
    set t1 = null
    set Q9O = null
    return false
endfunction

function QBO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t1 = CreateTrigger()
    local integer Q8O = GetHandleId(t1)
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    call TriggerRegisterTimerEvent(t1, 0.5, true)
    call TriggerAddCondition(t1, Condition(function QAO))
    call SaveReal(hashTable, Q8O, 6, (x*1.0))
    call SaveReal(hashTable, Q8O, 7, (y*1.0))
    call SaveInteger(hashTable, Q8O, 5, GetUnitAbilityLevel(GCI, 'A14P'))
    call SaveUnitHandle(hashTable, Q8O, 2, GCI)
    call SaveReal(hashTable, Q8O, 1, (GetUnitFacing(GCI)*1.0))
    call SaveEffectHandle(hashTable, Q8O, 3, AddSpecialEffect("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl", x, y))
    call SaveEffectHandle(hashTable, Q8O, 4, AddSpecialEffect("effects\\Static_Remnant_FX.mdx", x, y))
    set GCI = null
    set t1 = null
endfunction

function QCO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A14P' then
        call QBO()
    endif
    return false
endfunction

function OW1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QCO))
    set t = null
endfunction

function QDO takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(Q90), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call UnitAddAbility(YVI, 'A0S5')
    call IssueTargetOrder(YVI, "slow", GetEnumUnit())
    call doDamage(Q90, GetEnumUnit(), 1, QA0)
    set YVI = null
endfunction

function QEO takes unit GCI, unit GDI returns nothing
    local integer DMI = GetHandleId(GCI)
    local group g = allocGroup()
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 200) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 201) )
    call SaveInteger(hashTable, GetHandleId(GCI), 4264, 2)
    set myUnit = GCI
    set Q90 = GCI
    set QA0 = GetUnitAbilityLevel(GCI, 'A0QW')*15 + 15
    call GroupEnumUnitsInRange(g, GetUnitX(GDI), GetUnitY(GDI), 300, Condition(function filterUnitInjurable))
    call ForGroup(g, function QDO)
    call releaseGroup(g)
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl", GetUnitX(GDI), GetUnitY(GDI)) )
    set g = null
endfunction

function QFO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local trigger QGO = LoadTriggerHandle(hashTable, DMI, 202)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI and (LoadInteger(hashTable, GetHandleId(GCI), 4264) == 1) == true then
            call DisableTrigger(t)
            call QEO(GCI, GDI)
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call FlushChildHashtable(hashTable, GetHandleId(QGO))
            call abandonTrigger(QGO)
        endif
    else 
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set GCI = null
    set QGO = null
    return false
endfunction

function QHO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit GDI = GetTriggerUnit()
    local unit GCI = GetAttacker()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 2.5, false)
    call TriggerAddCondition(t, Condition(function QFO))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveTriggerHandle(hashTable, DMI, 202, GetTriggeringTrigger())
    set t = null
    set GDI = null
    set GCI = null
endfunction

function QZO takes nothing returns boolean 
    if GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitAlly(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) == false then
        call QHO()
    endif
    return false
endfunction

function QVO takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit GCI = GetTriggerUnit()
    local integer DMI = GetHandleId(GCI)
    local string fx = ""
    if IsUnitAlly(GCI, GetLocalPlayer()) then
        set fx = "Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl"
    endif
    call SaveEffectHandle(hashTable, DMI, 200, AddSpecialEffectTarget(fx, GCI, "right hand"))
    call SaveEffectHandle(hashTable, DMI, 201, AddSpecialEffectTarget(fx, GCI, "left hand"))
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function QZO))
    call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
    set t = null
endfunction

function QWO takes nothing returns boolean 
    if (GetSpellAbilityId() == 'A14O' or GetSpellAbilityId() == 'A14P' or GetSpellAbilityId() == 'A14R') and (LoadInteger(hashTable, GetHandleId(GetTriggerUnit()), 4264) == 1) == false then
        call SaveInteger(hashTable, GetHandleId(GetTriggerUnit()), 4264, 1)
        call QVO()
    endif
    return false
endfunction

function QXO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QWO))
    set GCI = null
    set t = null
endfunction

function QYO takes nothing returns boolean 
    if GetLearnedSkill() == 'A0QW' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0QW') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call QXO()
    endif
    return false
endfunction

function OY1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function QYO))
    set t = null
endfunction

function QJO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real x = GetUnitX(GDI) - 5*Cos(LPO)
    local real y = GetUnitY(GDI) - 5*Sin(LPO)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real x0 = LoadReal(hashTable, DMI, 6)
    local real y0 = LoadReal(hashTable, DMI, 7)
    if ((x0 - x)*(x0 - x)) + ((y0 - y)*(y0 - y)) < 100 then
        set x = x0
        set y = y0
    endif
    call SetUnitX(GDI, x)
    call SetUnitY(GDI, y)
    if GetTriggerEvalCount(t) == (10 + 10*FVI) or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function QKO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'u00X', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
    local integer FVI = GetUnitAbilityLevel(GCI, 'A14R')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function QJO))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 13, (Atan2(GetUnitY(GDI) - GetUnitY(GCI), GetUnitX(GDI) - GetUnitX(GCI))*1.0))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 6, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(GCI)*1.0))
    call UnitAddAbility(YVI, 'A14Q')
    call SetUnitAbilityLevel(YVI, 'A14Q', FVI)
    call IssueTargetOrder(YVI, "magicleash", GDI)
    call UnitApplyTimedLife(YVI, 'BTLF', 0.5 + 0.5*FVI)
    set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
    call UnitAddAbility(YVI, 'A14S')
    call IssueTargetOrder(YVI, "slow", GCI)
    set GCI = null
    set GDI = null
    set YVI = null
    set t = null
endfunction

function QLO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A14R' and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call QKO()
    endif
    return false
endfunction

function OX1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QLO))
    set t = null
endfunction

function QMO takes nothing returns nothing
    if LoadBoolean(hashTable, QB0, GetHandleId(GetEnumUnit())) == false then
        call SaveBoolean(hashTable, QB0, GetHandleId(GetEnumUnit()), true)
        call doDamage(QD0, GetEnumUnit(), 1, QE0*(QC0*4 + 4)/100)
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl", GetEnumUnit(), "origin") )
    endif
endfunction

function QNO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit QSO = LoadUnitHandle(hashTable, DMI, 195)
    local integer Q11 = LoadInteger(hashTable, DMI, 194)
    local real HMI = LoadReal(hashTable, DMI, 6)
    local real HNI = LoadReal(hashTable, DMI, 7)
    local real QTO = GetUnitX(GCI)
    local real QRO = GetUnitY(GCI)
    local real LPO = Atan2(HNI - QRO, HMI - QTO)
    local real VGI = QTO + (25 + 25*FVI)*Cos(LPO)
    local real VHI = QRO + (25 + 25*FVI)*Sin(LPO)
    local lightning ZVI = LoadLightningHandle(hashTable, DMI, 196)
    local real lx = LoadReal(hashTable, DMI, 197)
    local real ly = LoadReal(hashTable, DMI, 198)
    local real K81 = GetUnitState(GCI, UNIT_STATE_MANA)
    local real QPO = (25 + 25*FVI)*(10 + 0.01*GetUnitState(GCI, UNIT_STATE_MAX_MANA))/100
    local group g = allocGroup()
    local real QQO = LoadReal(hashTable, DMI, 199)
    set QQO = QQO + 25 + 25*FVI
    call SaveReal(hashTable, DMI, 199, (QQO*1.0))
    if GetTriggerEvalCount(t) > 25 then
        set lx = lx + (25 + 25*FVI)*Cos(LPO)
        set ly = ly + (25 + 25*FVI)*Sin(LPO)
        call SaveReal(hashTable, DMI, 197, (lx*1.0))
        call SaveReal(hashTable, DMI, 198, (ly*1.0))
    endif
    call SetUnitState(GCI, UNIT_STATE_MANA, RMaxBJ(K81 - QPO, 0))
    call MoveLightning(ZVI, true, lx, ly, VGI, VHI)
    call SetUnitX(GCI, VGI)
    call SetUnitY(GCI, VHI)
    call SetUnitPosition(YVI, VGI, VHI)
    call SetUnitPosition(QSO, VGI, VHI)
    set myUnit = GCI
    set QD0 = GCI
    set QB0 = DMI
    set QC0 = FVI
    set QE0 = QQO
    call GroupEnumUnitsInRange(g, VGI, VHI, 75 + 75*FVI, Condition(function filterUnitInjurable))
    call ForGroup(g, function QMO)
    call releaseGroup(g)
    set Q11 = Q11 - 1
    call SaveInteger(hashTable, DMI, 194, Q11)
    call SetUnitVertexColor(GCI, 255, 255, 255, 0)
    if Q11 == 0 or GetUnitState(GCI, UNIT_STATE_MANA) < 1 then
        call DestroyLightning(ZVI)
        call killDestructables(VGI, VHI, 75)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call RemoveUnit(YVI)
        call RemoveUnit(QSO)
        call SetUnitVertexColor(GCI, 255, 255, 255, 255)
        call SetUnitPathing(GCI, true)
        call SetUnitInvulnerable(GCI, false)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call killDestructables(VGI, VHI, 75)
    endif
    set t = null
    set YVI = null
    set GCI = null
    set ZVI = null
    set g = null
    set QSO = null
    return false
endfunction

function QUO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local unit YVI
    local unit QSO
    local location l
    local real x
    local real y
    local trigger t
    local integer DMI
    local lightning ZVI
    local integer FVI = GetUnitAbilityLevel(GCI, 'A14O')
    local real K81 = GetUnitState(GCI, UNIT_STATE_MANA)
    local real QPO = 15 + 0.07*GetUnitState(GCI, UNIT_STATE_MAX_MANA)
    call SetUnitState(GCI, UNIT_STATE_MANA, RMaxBJ(K81 - QPO, 0))
    if GetUnitState(GCI, UNIT_STATE_MANA) > 10 then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'o010', HKI, HLI, 0)
        set QSO = CreateUnit(GetOwningPlayer(GCI), 'H07G', HKI, HLI, 0)
        set ZVI = AddLightning("FORK", true, HKI, HLI, HKI, HLI)
        if GetSpellTargetUnit() == null then
            set l = GetSpellTargetLoc()
            set x = GetLocationX(l)
            set y = GetLocationY(l)
            call RemoveLocation(l)
        else 
            set x = GetUnitX(GetSpellTargetUnit())
            set y = GetUnitY(GetSpellTargetUnit())
        endif
        call SetUnitVertexColor(GCI, 255, 255, 255, 0)
        call SetUnitVertexColor(QSO, 255, 255, 255, 0)
        call SetUnitPathing(GCI, false)
        call SetUnitPathing(YVI, false)
        call SetUnitInvulnerable(GCI, true)
        call SaveUnitHandle(hashTable, DMI, 19, YVI)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 195, QSO)
        call SaveLightningHandle(hashTable, DMI, 196, ZVI)
        call SaveInteger(hashTable, DMI, 5, FVI)
        call SaveReal(hashTable, DMI, 6, (x*1.0))
        call SaveReal(hashTable, DMI, 7, (y*1.0))
        call SaveReal(hashTable, DMI, 197, (HKI*1.0))
        call SaveReal(hashTable, DMI, 198, (HLI*1.0))
        call SaveReal(hashTable, DMI, 199, (0*1.0))
        call SaveInteger(hashTable, DMI, 194, HDI(R2I(SquareRoot((x - HKI)*(x - HKI) + (y - HLI)*(y - HLI))/(25 + 25*FVI)), 1))
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx", QSO, "origin"))
        call TriggerRegisterTimerEvent(t, 0.04, true)
        call TriggerAddCondition(t, Condition(function QNO))
    endif
    set GCI = null
    set YVI = null
    set QSO = null
    set l = null
    set t = null
    set ZVI = null
endfunction

function U0O takes nothing returns boolean 
    if GetSpellAbilityId() == 'A14O' then
        call QUO()
    endif
    return false
endfunction

function UIO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A14O' then
        if GetUnitState(GetTriggerUnit(), UNIT_STATE_MANA) < (15 + 0.07*GetUnitState(GetTriggerUnit(), UNIT_STATE_MAX_MANA)) then
            call GSI(GetTriggerUnit())
            call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0G8'))
        endif
    endif
    return false
endfunction

function OJ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U0O))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function UIO))
    set t = null
endfunction

function U1O takes nothing returns nothing
    local unit u = GetTriggerUnit()
    if GetUnitTypeId(u) == 'H00G' or GetUnitTypeId(u) == 'H00F' or GetUnitTypeId(u) == 'H00E' then
        call SetUnitAnimation(u, "stand")
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl", u, "head") )
    elseif GetUnitTypeId(u) == 'Hlgr' then
        call SetUnitAnimation(u, "stand defend")
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl", u, "origin") )
    endif
    set u = null
endfunction

function UOO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0AR' then
        call U1O()
    endif
    return false
endfunction

function IZ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UOO))
    set t = null
endfunction

constant function DragonsBlood_RawCode takes nothing returns integer 
    return 'A0CL'
endfunction

constant function DragonsBlood_ArmorCode takes nothing returns integer 
    return 'R006'
endfunction

function U2O takes nothing returns boolean 
    return GetLearnedSkill() == 'A0CL' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function U3O takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    call SetPlayerTechResearched(GetOwningPlayer(E1I), 'R006', GetPlayerTechCount(GetOwningPlayer(E1I), 'R006', true) + 1)
endfunction

function IH1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function U2O))
    call TriggerAddAction(t, function U3O)
endfunction

function U4O takes nothing returns boolean 
    if (GetSpellAbilityId() == 'A0SK') then
        return true
    endif
    if (GetSpellAbilityId() == 'A0DL') then
        return true
    endif
    if (GetSpellAbilityId() == 'A0DH') then
        return true
    endif
    if (GetSpellAbilityId() == 'A1OB') then
        return true
    endif
    return false
endfunction

function U5O takes nothing returns boolean 
    if (not (GetUnitAbilityLevelSwapped('A0DJ', GetSpellAbilityUnit()) > 0)) then
        return false
    endif
    if (not U4O()) then
        return false
    endif
    return true
endfunction

function U6O takes nothing returns nothing
    local location T0O = GetUnitLoc(GetTriggerUnit())
    call CreateNUnitsAtLoc(1, 'e00E', GetOwningPlayer(GetTriggerUnit()), T0O, bj_UNIT_FACING)
    call UnitAddAbility(bj_lastCreatedUnit, 'A0DI')
    call SetUnitAbilityLevelSwapped('A0DI', bj_lastCreatedUnit, GetUnitAbilityLevelSwapped('A0DJ', GetSpellAbilityUnit()))
    call IssueImmediateOrder(bj_lastCreatedUnit, "stomp")
    call RemoveLocation(T0O)
endfunction

function TVI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U5O))
    call TriggerAddAction(t, function U6O)
endfunction

function U7O takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GetEnumUnit()), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call UnitAddAbility(YVI, 'A0SJ')
    call SetUnitAbilityLevel(YVI, 'A0SJ', QJ)
    call IssueTargetOrder(YVI, "thunderbolt", GetEnumUnit())
    call doDamage(GetTriggerUnit(), GetEnumUnit(), 1, OK)
    set YVI = null
endfunction

function U8O takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local location l = GetSpellTargetLoc()
    local integer i = 1
    local real HKI = GetUnitX(E1I)
    local real HLI = GetUnitY(E1I)
    local real HMI
    local real HNI
    local real x
    local real y
    local real a
    local group g = allocGroup()
    local group g2 = allocGroup()
    if GDI == null then
        set HMI = GetLocationX(l)
        set HNI = GetLocationY(l)
    else 
        set HMI = GetUnitX(GDI)
        set HNI = GetUnitY(GDI)
    endif
    set a = bj_DEGTORAD*getAngle(HKI, HLI, HMI, HNI)
    call RemoveLocation(l)
    loop
        exitwhen i > 20
        set x = constrainX(HKI + i*60*Cos(a))
        set y = constrainY(HLI + i*60*Sin(a))
        call GroupEnumUnitsInRange(g2, x, y, 250, Condition(function XKI))
        call GroupAddGroup(g2, g)
        call GroupClear(g2)
        call W4I(CreateDestructable('B000', x, y, GetRandomReal(0, 360), 0.5, GetRandomInt(0, 2)), 8)
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl", x, y) )
        set i = i + 1
    endloop
    set QJ = GetUnitAbilityLevel(E1I, 'A0SK')
    set OK = QJ*50 + 75
    call ForGroup(g, function U7O)
    call releaseGroup(g)
    call releaseGroup(g2)
    set E1I = null
    set l = null
endfunction

function U9O takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0SK' then
        call U8O()
    endif
    return false
endfunction

function TZI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U9O))
    call preloadAblility('A0SJ')
    set t = null
endfunction

function UAO takes nothing returns boolean 
    if (not (UnitHasBuffBJ(GetAttacker(), 'Broa') == true)) then
        return false
    endif
    return true
endfunction

function UBO takes nothing returns nothing
    call W6I(GetAttacker(), 'Broa', 0.4)
endfunction

function TXI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function UAO))
    call TriggerAddAction(t, function UBO)
endfunction

function UCO takes nothing returns boolean 
    if (GetItemTypeId(GetManipulatedItem()) == 'I00K') then
        if (GetUnitTypeId(GetTriggerUnit()) == 'Otch') then
            return true
        endif
    endif
    return false
endfunction

function UDO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    call UnitAddAbility(YVI, 'AIrr')
    call IssueImmediateOrder(YVI, "roar")
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    set YVI = null
    return false
endfunction

function UEO takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitRemoveAbility(E1I, 'B01P')
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function UDO))
    set t = null
    set E1I = null
endfunction

function TWI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(t, Condition(function UCO))
    call TriggerAddAction(t, function UEO)
endfunction

function UFO takes nothing returns nothing
    local real x = GetUnitX(GetEnumUnit())
    local real y = GetUnitY(GetEnumUnit())
    local integer id = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    call SetUnitX(QF0[id], x)
    call SetUnitY(QF0[id], y)
    call IssueImmediateOrder(QF0[id], "fanofknives")
endfunction

function UGO takes nothing returns nothing
    local real x = GetUnitX(GetEnumUnit())
    local real y = GetUnitY(GetEnumUnit())
    local integer id = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
        call SetUnitX(QF0[id], x)
        call SetUnitY(QF0[id], y)
        call IssueImmediateOrder(QF0[id], "fanofknives")
    endif
endfunction

function UHO takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true and isUnitUnavailable(GetFilterUnit()) == false
endfunction

function UZO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local group g = allocGroup()
    local integer id = GetPlayerId(GetOwningPlayer(GCI))
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0DH')
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(GCI, 'A1OB')
    endif
    set QF0[id] = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    set QG0[id] = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    call SetUnitScale(QF0[id], 0.25, 0.25, 0.25)
    call UnitAddAbility(QF0[id], 'A0DM')
    call UnitAddAbility(QG0[id], 'A1H0')
    call SetUnitAbilityLevel(QF0[id], 'A0DM', FVI)
    call SetUnitAbilityLevel(QG0[id], 'A1H0', FVI)
    call GroupEnumUnitsInRange(g, x, y, 575, Condition(function UHO))
    call ForGroup(g, function UFO)
    if GetUnitAbilityLevel(GCI, 'A1OB') > 0 then
        call ForGroup(g, function UGO)
    endif
    call releaseGroup(g)
    set GCI = null
    set g = null
endfunction

function UVO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0DH' or GetSpellAbilityId() == 'A1OB' then
        call UZO()
    endif
    return false
endfunction

function THI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UVO))
    set t = null
    call preloadAblility('A0DM')
endfunction

constant function Untouchable_RawCode takes nothing returns integer 
    return 'A0DW'
endfunction

constant function Untouchable_EffectCode takes nothing returns integer 
    return 'A0B0'
endfunction

function UWO takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        return GetUnitAbilityLevel(GetSpellTargetUnit(), 'A0DW') > 0
    else 
        return GetUnitAbilityLevel(GetTriggerUnit(), 'A0DW') > 0
    endif
endfunction

function UXO takes nothing returns nothing
    local unit GCI
    local unit GDI
    local unit YVI
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        set GCI = GetSpellTargetUnit()
        set GDI = GetTriggerUnit()
    else 
        set GCI = GetTriggerUnit()
        set GDI = GetAttacker()
    endif
    set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0B0')
    call SetUnitAbilityLevel(YVI, 'A0B0', GetUnitAbilityLevel(GCI, 'A0DW'))
    call IssueTargetOrder(YVI, "acidbomb", GDI)
endfunction

function TLI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UWO))
    call TriggerAddAction(t, function UXO)
endfunction

function UYO takes nothing returns boolean 
    return (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) != GetUnitState(GetFilterUnit(), UNIT_STATE_MAX_LIFE)
endfunction

function UJO takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer MXO = LoadInteger(hashTable, DMI, 28)
    local group g
    local unit SNI
    if MXO > 10 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SaveInteger(hashTable, DMI, 28, (MXO + 1))
        set myUnit = GCI
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 300, Condition(function UYO))
        set SNI = GroupPickRandomUnit(g)
        call releaseGroup(g)
        call SetUnitState(SNI, UNIT_STATE_LIFE, GetUnitState(SNI, UNIT_STATE_LIFE) + 10)
    endif
    set t = null
    set GCI = null
    set g = null
    set SNI = null
    return false
endfunction

function UKO takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t
    local integer i = 1
    loop
        exitwhen i > (1 + 2*GetUnitAbilityLevel(GCI, 'A01B'))
        set t = CreateTrigger()
        call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
        call SaveInteger(hashTable, GetHandleId(t), 28, 0)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function UJO))
        set i = i + 1
    endloop
    set t = null
    set GCI = null
endfunction

function ULO takes nothing returns boolean 
    if GetSpellAbilityId() == 'A01B' then
        call UKO()
    endif
    return false
endfunction

function TJI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ULO))
    set t = null
endfunction

function UMO takes real x1, real y1, real x2, real y2 returns real 
    return SquareRoot(((x1 - x2)*(x1 - x2)) + ((y1 - y2)*(y1 - y2)))
endfunction

function UNO takes nothing returns boolean 
    local real d
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B03U') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A0DY') > 0 and LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2) == GetEventDamageSource() then
        call UnitRemoveAbility(GetTriggerUnit(), 'B03U')
        set d = (0.10 + 0.05*I2R( GetUnitAbilityLevel(GetEventDamageSource(), 'A0DY') ))*UMO(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitX(GetEventDamageSource()), GetUnitY(GetEventDamageSource()))
        if UMO(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), GetUnitX(GetEventDamageSource()), GetUnitY(GetEventDamageSource())) < 2500 then
            call ZKI("+" + I2S(R2I(d)), 1, GetTriggerUnit(), 0.023, 3, 216, 216, 216)
            call DisableTrigger(GetTriggeringTrigger())
            call doDamage(GetEventDamageSource(), GetTriggerUnit(), 3, d)
            call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
            call abandonTrigger(GetTriggeringTrigger())
        endif
    endif
    return false
endfunction

function USO takes nothing returns nothing
    local trigger t
    local unit GDI
    local unit GCI
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        set GDI = GetSpellTargetUnit()
        set GCI = GetTriggerUnit()
    else 
        set GDI = GetTriggerUnit()
        set GCI = GetAttacker()
    endif
    if IsUnitIllusion(GCI) == false then
        set t = CreateTrigger()
        call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function UNO))
    endif
    set t = null
    set GDI = null
    set GCI = null
endfunction

function UTO takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetUnitAbilityLevel(GetAttacker(), 'A0DY') > 0 and LoadBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14) then
            call USO()
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if (GetIssuedOrderId() == OrderId("poisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263, true)
        elseif (GetIssuedOrderId() == OrderId("unpoisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263, false)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0DY' then
        call USO()
    endif
    return false
endfunction

function URO takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function UTO))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, GetTriggerUnit())
    set t = null
endfunction

function UPO takes nothing returns boolean 
    if GetLearnedSkill() == 'A0DY' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0DY') == 1 then
        call URO()
    endif
    return false
endfunction

function TKI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function UPO))
    set t = null
endfunction

function UQO takes unit u returns boolean 
    return IsUnitType(u, UNIT_TYPE_HERO) == false and IsUnitType(u, UNIT_TYPE_ANCIENT) == false and GetUnitTypeId(u) != 'n01E' and GetUnitTypeId(u) != 'n019'
endfunction

function UUO takes nothing returns nothing
    local unit GDI = GetSpellTargetUnit()
    local unit GCI = GetTriggerUnit()
    call SetUnitOwner(GDI, GetOwningPlayer(GCI), true)
    call UnitApplyTimedLife(GDI, 'BTLF', 80)
    call UnitAddAbility(GDI, 'Aeth')
    call UnitAddAbility(GDI, 'A12G')
    call HPI(GDI)
    call UnitRemoveAbility(GDI, 'Bslo')
    set GDI = null
    set GCI = null
endfunction

function I02 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0DX' and UQO(GetSpellTargetUnit()) then
        call UUO()
    endif
    return false
endfunction

function TYI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function I02))
    set t = null
endfunction

function II2 takes nothing returns boolean 
    if (not (GetSpellAbilityId() == 'A0B1')) then
        return false
    endif
    return true
endfunction

function I12 takes nothing returns nothing
    local location T0O = GetUnitLoc(GetTriggerUnit())
    local location IO2 = GetSpellTargetLoc()
    call CreateNUnitsAtLocFacingLocBJ(1, 'e00E', GetOwningPlayer(GetTriggerUnit()), T0O, IO2)
    call ShowUnitHide(bj_lastCreatedUnit)
    call UnitApplyTimedLifeBJ(8.00, 'BTLF', bj_lastCreatedUnit)
    call UnitAddAbility(bj_lastCreatedUnit, 'A0B2')
    call SetUnitAbilityLevelSwapped('A0B2', bj_lastCreatedUnit, GetUnitAbilityLevelSwapped('A0B1', GetTriggerUnit()))
    call IssuePointOrderLoc(bj_lastCreatedUnit, "deathanddecay", IO2)
    call RemoveLocation(T0O)
    call RemoveLocation(IO2)
endfunction

function TSI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function II2))
    call TriggerAddAction(t, function I12)
endfunction

function I22 takes unit GCI, unit GDI, integer FVI returns nothing
    local real GFI
    if FVI == 1 then
        set GFI = 30
    elseif FVI == 2 then
        set GFI = 40
    elseif FVI == 3 then
        set GFI = 65
    else 
        set GFI = 80
    endif
    call YZI(GDI, GDI, 1)
    call doDamage(GCI, GDI, 1, GFI)
endfunction

function I32 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    call I22(GCI, GDI, FVI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function I42 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t
    local integer DMI
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0I7')
    call I22(GCI, GDI, FVI)
    if FVI > 1 then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveInteger(hashTable, DMI, 5, FVI)
        call TriggerRegisterTimerEvent(t, 2, false)
        call TriggerAddCondition(t, Condition(function I32))
    endif
    if FVI == 4 then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveInteger(hashTable, DMI, 5, FVI)
        call TriggerRegisterTimerEvent(t, 4, false)
        call TriggerAddCondition(t, Condition(function I32))
    endif
    set t = null
    set GCI = null
    set GDI = null
endfunction

function I52 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0I7' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call I42()
    endif
    return false
endfunction

function TNI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function I52))
endfunction

function DemonicConversion_Delayed takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    call UnitAddAbility(YVI, 'A17Z')
    call SetUnitAbilityLevel(YVI, 'A17Z', FVI)
    call IssueImmediateOrder(YVI, "slimemonster")
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set YVI = null
    return false
endfunction

function I62 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real x = GetUnitX(GDI)
    local real y = GetUnitY(GDI)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A180')
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    call SetUnitState(GDI, UNIT_STATE_LIFE, 1)
    call doDamage(GCI, GDI, 2, 20)
    call doDamage(GCI, GDI, 1, 20)
    call doDamage(GCI, GDI, 3, 20)
    call UnitAddAbility(YVI, 'A17Z')
    call SetUnitAbilityLevel(YVI, 'A17Z', FVI)
    call IssueImmediateOrder(YVI, "lavamonster")
    set GCI = null
    set GDI = null
    set YVI = null
endfunction

function I72 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer I82 = GetUnitLevel(GDI)
    if GetOwningPlayer(GDI) != sentinelPlayers[0] and GetOwningPlayer(GDI) != scourgePlayers[0] and I82 > 4 then
        call GSI(E1I)
        call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n0CX'))
    endif
    set E1I = null
    set GDI = null
endfunction

function I92 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A180' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call I62()
        else 
            call I72()
        endif
    endif
    return false
endfunction

function DemonicConversion_Recolor takes nothing returns boolean 
    local integer id = GetUnitTypeId(GetTriggerUnit())
    if id == 'hwat' or id == 'hwt2' or id == 'hwt3' or id == 'h006' then
        call SetUnitVertexColor(GetSummonedUnit(), 0, 0, 50, 255)
    endif
    return false
endfunction

function TTI takes nothing returns nothing
    local trigger t = CreateTrigger()
    local region LV1 = CreateRegion()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function I92))
    set t = null
endfunction

function IA2 takes real x returns real 
    local real HII = GetRectMinX(bj_mapInitialPlayableArea) + 150
    if (x < HII) then
        return HII
    endif
    set HII = GetRectMaxX(bj_mapInitialPlayableArea) - 150
    if (x > HII) then
        return HII
    endif
    return x
endfunction

function IB2 takes real y returns real 
    local real HII = GetRectMinY(bj_mapInitialPlayableArea) + 150
    if (y < HII) then
        return HII
    endif
    set HII = GetRectMaxY(bj_mapInitialPlayableArea) - 150
    if (y > HII) then
        return HII
    endif
    return y
endfunction

function IC2 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()) or GetUnitTypeId(GetFilterUnit()) == 'n00U' or GetUnitTypeId(GetFilterUnit()) == 'n00Y' or GetUnitTypeId(GetFilterUnit()) == 'n00Z') and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer( LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 318) )) == true
endfunction

function ID2 takes nothing returns nothing
    local location IE2 = GetUnitLoc(GetEnumUnit())
    local location IF2 = GetUnitLoc( LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 318) )
    local location IG2 = BPI(IF2, DistanceBetweenPoints(IF2, IE2) - 2, AngleBetweenPoints(IF2, IE2))
    call SetUnitFacing(GetEnumUnit(), AngleBetweenPoints(IF2, IE2))
    call SetUnitPositionLoc(GetEnumUnit(), IG2)
    call RemoveLocation(IE2)
    call RemoveLocation(IF2)
    call RemoveLocation(IG2)
endfunction

function IH2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local group MNI
    local integer DMI = GetHandleId(t)
    local unit IZ2 = LoadUnitHandle(hashTable, DMI, 318)
    local unit YVI
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId() == 'A1BX' then
        call KillUnit(IZ2)
        set YVI = LoadUnitHandle(hashTable, DMI, 19)
        call UnitApplyTimedLife(LoadUnitHandle(hashTable, DMI, 250), 'BTLF', 1)
        call UnitApplyTimedLife(LoadUnitHandle(hashTable, DMI, 251), 'BTLF', 1)
        call UnitApplyTimedLife(LoadUnitHandle(hashTable, DMI, 252), 'BTLF', 1)
        call UnitApplyTimedLife(LoadUnitHandle(hashTable, DMI, 253), 'BTLF', 1)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call KillUnit(YVI)
    elseif GetTriggerEvalCount(t) > 90 then
        set YVI = LoadUnitHandle(hashTable, DMI, 19)
        call UnitApplyTimedLife(LoadUnitHandle(hashTable, DMI, 250), 'BTLF', 1)
        call UnitApplyTimedLife(LoadUnitHandle(hashTable, DMI, 251), 'BTLF', 1)
        call UnitApplyTimedLife(LoadUnitHandle(hashTable, DMI, 252), 'BTLF', 1)
        call UnitApplyTimedLife(LoadUnitHandle(hashTable, DMI, 253), 'BTLF', 1)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call KillUnit(IZ2)
        call KillUnit(YVI)
        call GSI( LoadUnitHandle(hashTable, DMI, 2) )
    else 
        set x = GetUnitX(IZ2)
        set y = GetUnitY(IZ2)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, x, y, 400, Condition(function IC2))
        call ForGroup(MNI, function ID2)
        call releaseGroup(MNI)
    endif
    set YVI = null
    set IZ2 = null
    set t = null
    return false
endfunction

function IV2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    local unit IZ2 = CreateUnit(GetOwningPlayer(GCI), 'u004', x, y, 0)
    call RemoveLocation(l)
    call SetUnitAbilityLevel(IZ2, 'A0C0', GetUnitAbilityLevel(GCI, 'A1BX'))
    if isPlayerScourge(GetOwningPlayer(GCI)) then
        call UnitAddAbility(YVI, 'A0X4')
    else 
        call UnitAddAbility(YVI, 'A0X3')
    endif
    call IssuePointOrder(YVI, "cloudoffog", x, y)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveUnitHandle(hashTable, DMI, 250, CreateUnit(GetOwningPlayer(GCI), 'h06R', x, y, 0))
    call SaveUnitHandle(hashTable, DMI, 251, CreateUnit(GetOwningPlayer(GCI), 'h06R', x, y, 0))
    call SaveUnitHandle(hashTable, DMI, 252, CreateUnit(GetOwningPlayer(GCI), 'h06R', x, y, 0))
    call SaveUnitHandle(hashTable, DMI, 253, CreateUnit(GetOwningPlayer(GCI), 'h06R', x, y, 0))
    call SaveUnitHandle(hashTable, DMI, 318, IZ2)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function IH2))
    set GCI = null
    set IZ2 = null
    set t = null
    set l = null
endfunction

function IW2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1BX' then
        call IV2()
    endif
    return false
endfunction

function IX2 takes nothing returns boolean 
    local location l
    local real x
    local real y
    if GetSpellAbilityId() == 'A1BX' then
        set l = GetSpellTargetLoc()
        set x = GetLocationX(l)
        set y = GetLocationY(l)
        call RemoveLocation(l)
        set l = null
        if (x != IA2(x) and y != IB2(y)) or RectContainsCoords(OA, x, y) or RectContainsCoords(BA, x, y) or RectContainsCoords(CA, x, y) or RectContainsCoords(DA, x, y) or RectContainsCoords(EA, x, y) or RectContainsCoords(FA, x, y) then
            call GSI(GetTriggerUnit())
            call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), "Cannot cast Blackhole here")
        endif
    endif
    return false
endfunction

function TMI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IW2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function IX2))
    call preloadAblility('A0C0')
endfunction

function IY2 takes nothing returns nothing
    call doDamage(GetTriggerUnit(), GetEnumUnit(), 1, OK)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationTarget.mdx", GetEnumUnit(), "chest") )
endfunction

function IJ2 takes nothing returns nothing
    local group g = allocGroup()
    local unit E1I = GetTriggerUnit()
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0SC')
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', x, y, 0)
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdx", x, y) )
    call UnitAddAbility(YVI, 'A0SD')
    call SetUnitAbilityLevel(YVI, 'A0SD', FVI)
    call IssuePointOrder(YVI, "silence", x, y)
    set OK = FVI*60
    call GroupEnumUnitsInRange(g, x, y, 400, Condition(function XMI))
    call ForGroup(g, function IY2)
    call releaseGroup(g)
    set YVI = null
    set g = null
    set E1I = null
endfunction

function IK2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0SC' then
        call IJ2()
    endif
    return false
endfunction

function OR1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IK2))
    set t = null
endfunction

function IL2 takes unit GCI, unit GDI, integer FVI, integer G8O returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0SG')
    call SetUnitAbilityLevel(YVI, 'A0SG', FVI)
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
    if G8O == 1 then
        call doDamage(GCI, GDI, 1, FVI*50 + 50)
    else 
        call doDamage(GCI, GDI, 1, FVI*50 + 50 + 100)
    endif
    set YVI = null
endfunction

function IM2 takes unit GCI, unit GDI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0SF')
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
    set YVI = null
endfunction

function IN2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer G8O = LoadInteger(hashTable, DMI, 152)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local lightning ZVI = LoadLightningHandle(hashTable, DMI, 196)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyLightning(ZVI)
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call MoveLightning(ZVI, true, GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI))
        if getDistance(GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI)) > 600 then
            call DestroyLightning(ZVI)
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call IL2(GCI, GDI, FVI, G8O)
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    set ZVI = null
    return false
endfunction

function IS2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local lightning ZVI = AddLightning("HWPB", true, GetUnitX(myUnit), GetUnitY(myUnit), GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()))
    call SetLightningColor(ZVI, 0, .7, 1, 1)
    call SaveLightningHandle(hashTable, DMI, 196, ZVI)
    call SaveUnitHandle(hashTable, DMI, 2, myUnit)
    call SaveInteger(hashTable, DMI, 30, DBI(GetEnumUnit()))
    call SaveInteger(hashTable, DMI, 5, QJ)
    call SaveInteger(hashTable, DMI, 152, UJ)
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterUnitEvent(t, GetEnumUnit(), EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, myUnit, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function IN2))
    call doDamage(GetTriggerUnit(), GetEnumUnit(), 1, AK)
    call IM2(GetTriggerUnit(), GetEnumUnit())
    set t = null
    set ZVI = null
endfunction

function IT2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00U', x, y, 0)
    local group g = allocGroup()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0S8')
    local real YHI = 5
    local integer G8O = 1
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A1QP')
        set YHI = 7
        set G8O = 2
    endif
    call RemoveLocation(l)
    call SetUnitAnimation(YVI, "channel")
    call WKI(YVI, YHI)
    set myUnit = YVI
    set OK = YHI
    set AK = FVI*50 + 50
    set QJ = FVI
    set UJ = G8O
    call GroupEnumUnitsInRange(g, x, y, 400, Condition(function Y6I))
    call ForGroup(g, function IS2)
    call releaseGroup(g)
    set g = null
    set YVI = null
    set E1I = null
    set l = null
endfunction

function IR2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0S8' or GetSpellAbilityId() == 'A1QP' then
        call IT2()
    endif
    return false
endfunction

function OQ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IR2))
    set t = null
endfunction

function IP2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI
    local integer MXO
    if (GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER and GetIssuedOrderId() != String2OrderIdBJ("phaseshift")) or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SetUnitInvulnerable(E1I, false)
        call UnitRemoveAbility(E1I, 'A04R')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set FVI = LoadInteger(hashTable, DMI, 5)
        set MXO = LoadInteger(hashTable, DMI, 28) + 1
        call SaveInteger(hashTable, DMI, 28, MXO)
        if MXO > 3*FVI or getDistance(GetUnitX(E1I), GetUnitY(E1I), LoadReal(hashTable, DMI, 6), LoadReal(hashTable, DMI, 7)) > 125 then
            call SetUnitInvulnerable(E1I, false)
            call UnitRemoveAbility(E1I, 'A04R')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    endif
    set t = null
    set E1I = null
    return false
endfunction

function IQ2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SetUnitInvulnerable(E1I, true)
    call UnitAddAbility(E1I, 'A04R')
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 5, GetUnitAbilityLevel(E1I, 'A0SB'))
    call SaveInteger(hashTable, DMI, 28, 0)
    call SaveReal(hashTable, DMI, 6, (GetUnitX(E1I)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(E1I)*1.0))
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function IP2))
    call DUI(E1I, 4266, 5.9)
    set t = null
    set E1I = null
endfunction

function IU2 takes nothing returns boolean 
    if GetIssuedOrderId() == String2OrderIdBJ("phaseshift") and IsUnitIllusion(GetTriggerUnit()) == false and (LoadInteger(hashTable, GetHandleId(GetTriggerUnit()), 4266) == 1) == false then
        call IQ2()
    endif
    return false
endfunction

function OP1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function IU2))
    set t = null
endfunction

function O02 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), WK) == false then
        call GroupAddUnit(WK, GetEnumUnit())
        call doDamage(myUnit, GetEnumUnit(), 1, OK)
    endif
endfunction

function OI2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local group O12
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        set myUnit = CreateUnit(GetOwningPlayer(YVI), 'h06O', GetUnitX( LoadUnitHandle(hashTable, DMI, 14) ), GetUnitY( LoadUnitHandle(hashTable, DMI, 14) ), 0)
        call SetUnitScale(myUnit, 2.5, 2.5, 2.5)
        call KillUnit(myUnit)
        call SetUnitPosition(LoadUnitHandle(hashTable, DMI, 14), GetUnitX(YVI), GetUnitY(YVI))
        set QH0[GetPlayerId(GetOwningPlayer(YVI))] = null
        call releaseGroup(g)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEvalCount(t) > 120 then
        set QH0[GetPlayerId(GetOwningPlayer(YVI))] = null
        call releaseGroup(g)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call SetUnitScale(YVI, 2.5, 2.5, 2.5)
        call KillUnit(YVI)
    else 
        set x = GetUnitX(YVI)
        set y = GetUnitY(YVI)
        set O12 = allocGroup()
        set WK = g
        set myUnit = YVI
        set OK = FVI*70
        call GroupEnumUnitsInRange(O12, x, y, 225, Condition(function XQI))
        call ForGroup(O12, function O02)
        call releaseGroup(O12)
        call SetUnitX(YVI, constrainX(x + 15*Cos(LPO*bj_DEGTORAD)))
        call SetUnitY(YVI, constrainY(y + 15*Sin(LPO*bj_DEGTORAD)))
    endif
    set t = null
    set g = null
    set O12 = null
    set YVI = null
    return false
endfunction

function OO2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local group g = allocGroup()
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x1 = GetUnitX(E1I)
    local real y1 = GetUnitY(E1I)
    local real x2 = GetLocationX(l)
    local real y2 = GetLocationY(l)
    local real LPO = getAngle(x1, y1, x2, y2)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0S9')
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'h06O', x1, y1, LPO)
    call playSoundAt(ED, x1, y1)
    set QH0[GetPlayerId(GetOwningPlayer(E1I))] = YVI
    call SetUnitScale(YVI, 3.5, 3.5, 3.5)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerRegisterUnitEvent(t, YVI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function OI2))
    call RemoveLocation(l)
    set t = null
    set YVI = null
    set g = null
    set E1I = null
    set l = null
endfunction

function O22 takes nothing returns nothing
    local integer i = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    if QH0[i] == null then
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n037'))
    else 
        call SetUnitScale(QH0[i], 2.5, 2.5, 2.5)
        call KillUnit(QH0[i])
    endif
endfunction

function O32 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0S9' then
        call OO2()
    endif
    if GetSpellAbilityId() == 'A0SA' then
        call O22()
    endif
    return false
endfunction

function O42 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0S9' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0S9') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call UnitAddAbility(GetTriggerUnit(), 'A0SA')
    endif
    return false
endfunction

function OT1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function O32))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function O42))
    set t = null
endfunction

function O52 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A17P'
endfunction

function O62 takes nothing returns nothing
    local destructable array dx
    local integer EUI
    local integer F0I
    local fogmodifier FogVar
    local unit YVI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local location TKO
    local real x
    local real y
    if GDI == null then
        set TKO = GetSpellTargetLoc()
    else 
        set TKO = GetUnitLoc(GDI)
    endif
    set x = GetLocationX(TKO)
    set y = GetLocationY(TKO)
    if IsUnitAlly(YVI, GetOwningPlayer(GDI)) == true or (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call WOI(CreateFogModifierRadiusLocBJ(true, GetOwningPlayer(YVI), FOG_OF_WAR_VISIBLE, TKO, 1000.00), 2.25 + 0.75*GetUnitAbilityLevel(YVI, 'A17P'))
        set EUI = 1
        set F0I = 8
        loop
            exitwhen EUI > F0I
            call W4I(CreateDestructableLoc('B005', BPI(TKO, 150.00, (I2R(EUI)*45.00)), GetRandomReal(0, 360), 1, 0), 2.25 + 0.75*GetUnitAbilityLevel(YVI, 'A17P'))
            set EUI = EUI + 1
        endloop
    endif
    call RemoveLocation(TKO)
endfunction

function O72 takes nothing returns nothing
    if GetSpellAbilityId() == 'A17P' and IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) and LoadBoolean(hashTable, GetHandleId(GetOwningPlayer(GetSpellTargetUnit())), 139) then
        call GSI(GetTriggerUnit())
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
    endif
endfunction

function TRI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function O52))
    call TriggerAddAction(t, function O62)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddAction(t, function O72)
endfunction

constant function Teleportation_AbilityCode takes nothing returns integer 
    return 'A01O'
endfunction

function O82 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A01O'
endfunction

function O92 takes nothing returns nothing
    local location EA1 = GetSpellTargetLoc()
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl", GetLocationX(EA1), GetLocationY(EA1)) )
    call RemoveLocation(EA1)
endfunction

function TPI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call TriggerAddCondition(t, Condition(function O82))
    call TriggerAddAction(t, function O92)
endfunction

function OA2 takes unit GCI, real x, real y returns nothing
    local unit OB2 = CreateUnit(GetOwningPlayer(GCI), 'efon', x, y, 0)
    call UnitApplyTimedLife(OB2, 'BEfn', 60)
    call SetUnitVertexColor(OB2, 175, 255, 175, 175)
    call SetUnitFlyHeight(OB2, 0, 0)
    set OB2 = null
endfunction

function OC2 takes nothing returns nothing
    if (G1I(GetEnumDestructable()) or GetDestructableTypeId(GetEnumDestructable()) == 'B005') and QZ0 <= QV0 and GetDestructableLife(GetEnumDestructable()) > 0 then
        set QZ0 = QZ0 + 1
        call OA2(GetTriggerUnit(), GetDestructableX(GetEnumDestructable()), GetDestructableY(GetEnumDestructable()))
        call KillDestructable(GetEnumDestructable())
    endif
endfunction

function OD2 takes nothing returns nothing
    local integer FVI = GetUnitAbilityLevel(GetTriggerUnit(), 'AEfn')
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real d = 75 + 75*FVI + 50
    local rect r = Rect(x - d, y - d, x + d, y + d)
    set QZ0 = 0
    set QV0 = FVI
    call EnumDestructablesInRect(r, Condition(function returnTrue1), function OC2)
    call RemoveRect(r)
    set r = null
endfunction

function ForceOfNature_Main takes nothing returns boolean 
    if GetSpellAbilityId() == 'AEfn' then
        call OD2()
    endif
    return false
endfunction

function TQI takes nothing returns nothing
endfunction

function OE2 takes nothing returns boolean 
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0QR')
    local real OF2
    local real OG2 = 0.5
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(GCI, 'A1B3')
        set OG2 = 0.65
    endif
    call UnitAddAbility(YVI, 'A0QU')
    call SetUnitAbilityLevel(YVI, 'A0QU', FVI)
    call IssueTargetOrder(YVI, "slow", GDI)
    if FVI == 1 then
        set OF2 = 0.4
    elseif FVI == 2 then
        set OF2 = 0.33
    else 
        set OF2 = 0.25
    endif
    call doDamage(GCI, GCI, 1, GetUnitState(GCI, UNIT_STATE_LIFE)*OF2)
    call doDamage(GCI, GDI, 1, GetUnitState(GDI, UNIT_STATE_LIFE)*OG2)
    call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", GCI, "chest") )
    call DestroyEffect( AddSpecialEffectTarget("effects\\LifeBreak.mdx", GDI, "chest") )
    set GCI = null
    set GDI = null
    set YVI = null
    return false
endfunction

function OH2 takes nothing returns boolean 
    if (GetSpellAbilityId() == 'A0QR' or GetSpellAbilityId() == 'A1B3') and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call OE2()
    endif
    return false
endfunction

function OB1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OH2))
    set t = null
    call preloadAblility('A0QU')
endfunction

function OZ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer OV2 = EOI(GDI)
    local real HXI = GetUnitState(GDI, UNIT_STATE_LIFE)
    local real MRO = GetUnitState(GDI, UNIT_STATE_MAX_LIFE)
    local real OW2
    if HXI/MRO > 0.4 then
        set OW2 = I2R(FVI)/4*0.2*OV2 + 2*FVI
    else 
        set OW2 = I2R(FVI)/4*0.6*OV2 + 2*FVI
    endif
    set OW2 = OW2/8.0
    if GetTriggerEvalCount(t) > 16*8.0 then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 31) )
        call UnitRemoveAbility(GDI, 'A0QO')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitState(GDI, UNIT_STATE_LIFE, HXI + OW2)
    endif
    set GDI = null
    set t = null
    return false
endfunction

function OX2 takes nothing returns nothing
    local unit GDI = GetSpellTargetUnit()
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0QP')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1/8.0, true)
    call TriggerAddCondition(t, Condition(function OZ2))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveEffectHandle(hashTable, DMI, 31, AddSpecialEffectTarget("InnerVitality.mdx", GDI, "chest"))
    call UnitAddAbility(GDI, 'A0QO')
    call SetUnitAbilityLevel(GDI, 'A0QO', FVI)
    set GDI = null
    set GCI = null
    set t = null
endfunction

function OY2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0QP' then
        call OX2()
    endif
    return false
endfunction

function O81 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OY2))
endfunction

function OJ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer KI1
    local integer OK2
    local integer OL2
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEvalCount(t) > 6 or isUnitUnavailable(GDI) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 31) )
        call FlushChildHashtable(hashTable, DMI)
        set KI1 = GetHandleId(GCI)
        set OK2 = 6000 + GetHandleId(GDI)
        set OL2 = LoadInteger(hashTable, KI1, OK2)
        set OL2 = OL2 - 1
        if OL2 == 0 then
            call SaveInteger(hashTable, KI1, OK2, 0)
        else 
            call SaveInteger(hashTable, KI1, OK2, OL2)
        endif
        call D8I(GHI)
        call abandonTrigger(t)
    else 
        call doDamage(GCI, GDI, 1, 4*GetUnitAbilityLevel(GCI, 'A0QN'))
    endif
    set t = null
    set GDI = null
    set GCI = null
    return false
endfunction

function OM2 takes unit GCI, unit GDI returns nothing
    local integer DMI = GetHandleId(GCI)
    local integer KI1
    local trigger t
    local integer ON2 = LoadInteger(hashTable, DMI, (6000 + GetHandleId(GDI)))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function OJ2))
    set KI1 = GetHandleId(t)
    call SaveUnitHandle(hashTable, KI1, 2, GCI)
    call SaveInteger(hashTable, KI1, 30, DBI(GDI))
    call SaveInteger(hashTable, DMI, (6000 + GetHandleId(GDI)), (ON2 + 1))
    call SaveEffectHandle(hashTable, KI1, 31, AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl", GDI, "chest"))
    set t = null
endfunction

function OS2 takes nothing returns boolean 
    local real d
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B081') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A0QN') > 0 and LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2) == GetEventDamageSource() then
        call SetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE, HGI(GetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE) - 15, 1))
        call UnitRemoveAbility(GetTriggerUnit(), 'B081')
        call OM2(GetEventDamageSource(), GetTriggerUnit())
        call DisableTrigger(GetTriggeringTrigger())
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function OT2 takes nothing returns nothing
    local trigger t
    local unit GDI
    local unit GCI
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        set GDI = GetSpellTargetUnit()
        set GCI = GetTriggerUnit()
    else 
        set GDI = GetTriggerUnit()
        set GCI = GetAttacker()
    endif
    if IsUnitIllusion(GCI) == false then
        set t = CreateTrigger()
        call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function OS2))
    endif
    set t = null
    set GDI = null
    set GCI = null
endfunction

function OR2 takes unit E4I returns nothing
    call SetUnitState(E4I, UNIT_STATE_MANA, GetUnitState(E4I, UNIT_STATE_MANA) + 15 + 5*GetUnitAbilityLevel(E4I, 'A0QN'))
endfunction

function OP2 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetUnitAbilityLevel(GetAttacker(), 'A0QN') > 0 and LoadBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14) then
            if GetUnitState(GetAttacker(), UNIT_STATE_LIFE) < 100 then
                return false
            endif
            call OT2()
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if (GetIssuedOrderId() == OrderId("poisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263, true)
        elseif (GetIssuedOrderId() == OrderId("unpoisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263, false)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0QN' then
        if GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) < 100 then
            call OR2(GetTriggerUnit())
            return false
        endif
        call OT2()
    endif
    return false
endfunction

function OQ2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function OP2))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, GetTriggerUnit())
    set t = null
endfunction

function OU2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0QN' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0QN') == 1 then
        call OQ2()
    endif
    return false
endfunction

function O91 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function OU2))
    set t = null
endfunction

function A02 takes nothing returns boolean 
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real CurrentHealth = GetUnitState(E1I, UNIT_STATE_LIFE)
    local real MaxHealth = GetUnitState(E1I, UNIT_STATE_MAX_LIFE)
    local integer AI2
    local integer A12
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0QQ')
    local boolean AO2 = LoadBoolean(hashTable, DMI, 319)
    if IsUnitType(E1I, UNIT_TYPE_HERO) == true and FVI > 0 then
        set AI2 = R2I(100*GetUnitState(E1I, UNIT_STATE_LIFE)/GetUnitState(E1I, UNIT_STATE_MAX_LIFE))
        set A12 = HDI(HCI(R2I(100 - AI2)/7, 14), 1)
        if isUnitUnavailable(E1I) == false then
            call LDI(E1I, FVI*A12*2)
            call LHI(E1I, FVI*A12*2)
            if A12 > 5 then
                if AO2 == false then
                    call SaveBoolean(hashTable, DMI, 319, true)
                    call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl", E1I, "left weapon"))
                    call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffectTarget("effects\\HeadhunterWEAPONSRight_NoSound.mdx", E1I, "right weapon"))
                endif
            else 
                if AO2 == true then
                    call SaveBoolean(hashTable, DMI, 319, false)
                    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
                    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
                endif
            endif
        endif
    endif
    set E1I = null
    return false
endfunction

function A22 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function A02))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, GetTriggerUnit())
    call SaveBoolean(hashTable, GetHandleId(t), 319, false)
    set t = null
endfunction

function A32 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0QQ' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0QQ') == 1 then
        call A22()
    endif
    return false
endfunction

function OA1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function A32))
    set t = null
endfunction

function A42 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real a = LoadReal(hashTable, DMI, 137)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local integer id = GetPlayerId(GetOwningPlayer(GCI))
    local integer DHI = GetTriggerEvalCount(t)
    local real VGI = x + 150*DHI*Cos(a)
    local real VHI = y + 150*DHI*Sin(a)
    call IssuePointOrder(QW0[id], "flamestrike", VGI, VHI)
    if DHI == (3 + FVI) then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call SetUnitAnimation(GCI, "stand")
    endif
    set t = null
    set GCI = null
    return false
endfunction

function A52 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0O5')
    local integer A62 = 'A0OE'
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(GCI, 'A1B1')
        set A62 = 'A1B2'
    endif
    call RemoveLocation(l)
    call SetUnitAnimation(GCI, "spell")
    set QW0[GetPlayerId(GetOwningPlayer(GCI))] = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    call UnitAddAbility(QW0[GetPlayerId(GetOwningPlayer(GCI))], A62)
    call SetUnitAbilityLevel(QW0[GetPlayerId(GetOwningPlayer(GCI))], A62, FVI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 6, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(GCI)*1.0))
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    if A62 == 'A0OE' then
        call TriggerRegisterTimerEvent(t, 0.1, true)
    else 
        call TriggerRegisterTimerEvent(t, 0.05, true)
    endif
    call TriggerAddCondition(t, Condition(function A42))
    set t = null
    set GCI = null
    set l = null
endfunction

function A72 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0O5' or GetSpellAbilityId() == 'A1B1' then
        call A52()
    endif
    return false
endfunction

function TOI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function A72))
    call preloadAblility('A0OE')
    set t = null
endfunction

function A82 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    if GetTriggerEvalCount(t) > 10 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call UnitRemoveAbility(GDI, 'A1G5')
        call UnitRemoveAbility(GDI, 'A1G3')
        call UnitRemoveAbility(GDI, 'A1G6')
        call UnitRemoveAbility(GDI, 'A1G4')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call doDamage(GCI, GDI, 1, (FVI*5 + 5)/2)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function A92 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = QY0
    local unit GCI = QX0
    local unit GDI = GetEnumUnit()
    if FVI == 1 then
        call UnitAddAbility(GDI, 'A1G5')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), 'A1G5', false)
    elseif FVI == 2 then
        call UnitAddAbility(GDI, 'A1G3')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), 'A1G3', false)
    elseif FVI == 3 then
        call UnitAddAbility(GDI, 'A1G6')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), 'A1G6', false)
    elseif FVI == 4 then
        call UnitAddAbility(GDI, 'A1G4')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), 'A1G4', false)
    endif
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl", GDI, "chest"))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function A82))
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", GetUnitX(GDI), GetUnitY(GDI)) )
    set t = null
    set GCI = null
    set GDI = null
endfunction

function AA2 takes unit GCI, unit GDI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0O8')
    local real x = GetUnitX(GDI)
    local real y = GetUnitY(GDI)
    local group g = allocGroup()
    set QY0 = FVI
    set QX0 = GCI
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x, y, 200, Condition(function XUI))
    call ForGroup(g, function A92)
    call releaseGroup(g)
    set t = null
    set g = null
endfunction

function AB2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI and (GetEventDamage() > 40 or IsUnitType(GDI, UNIT_TYPE_STRUCTURE) == true or GetUnitTypeId(GDI) == 'umtw' or GetUnitTypeId(GDI) == 'ebal') and LoadBoolean(hashTable, GetHandleId(GCI), 312) == true then
            call AA2(GCI, GDI)
            call SaveBoolean(hashTable, GetHandleId(GCI), 312, false)
            call SaveReal(hashTable, GetHandleId(GCI), 313, (TimerGetElapsed(M)*1.0))
            call FlushChildHashtable(hashTable, GetHandleId( LoadTriggerHandle(hashTable, DMI, 35) ))
            call abandonTrigger( LoadTriggerHandle(hashTable, DMI, 35) )
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function AC2 takes nothing returns boolean 
    local trigger t
    local integer DMI
    local unit GDI
    local unit GCI
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SaveBoolean(hashTable, GetHandleId(GetTriggerUnit()), 312, false)
        call SaveReal(hashTable, GetHandleId(GetTriggerUnit()), 313, (TimerGetElapsed(M)*1.0))
        call UnitRemoveAbility(GetTriggerUnit(), 'A1FC')
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    elseif GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 320) then
        if IsUnitAlly(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) == false then
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            set GDI = GetTriggerUnit()
            set GCI = GetAttacker()
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
            call TriggerRegisterTimerEvent(t, 2.5, false)
            call TriggerAddCondition(t, Condition(function AB2))
            call SaveInteger(hashTable, DMI, 30, DBI(GDI))
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            call SaveTriggerHandle(hashTable, DMI, 35, GetTriggeringTrigger())
            set GDI = null
            set GCI = null
            set t = null
        endif
    endif
    return false
endfunction

function AD2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real HXI = TimerGetElapsed(M)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0O8')
    local real LEO = LoadReal(hashTable, GetHandleId(E1I), 313)
    local boolean AE2 = LoadBoolean(hashTable, GetHandleId(E1I), 312)
    if HXI - LEO > 25 - FVI*5 and AE2 == false and GetUnitTypeId(E1I) == 'E00P' and isUnitUnavailable(E1I) == false then
        call SaveBoolean(hashTable, GetHandleId(E1I), 312, true)
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function AC2))
        call SaveUnitHandle(hashTable, DMI, 320, E1I)
        call UnitAddAbility(E1I, 'A1FC')
    elseif AE2 == false then
        call UnitRemoveAbility(E1I, 'A1FC')
    endif
    set t = null
    set E1I = null
    return false
endfunction

function AF2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddCondition(t, Condition(function AD2))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 313, (0*1.0))
    set E1I = null
    set t = null
endfunction

function AG2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0O8' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0O8') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call AF2()
    endif
    return false
endfunction

function TII takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function AG2))
    set t = null
endfunction

function IP_RawAbil takes nothing returns integer 
    return 'A0O6'
endfunction

function IP_RawStunAbil takes nothing returns integer 
    return 'A0OF'
endfunction

function AH2 takes nothing returns boolean 
    return ((IsUnitType(GetFilterUnit(), UNIT_TYPE_MAGIC_IMMUNE) == false) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetDyingUnit())) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0))
endfunction

function AZ2 takes nothing returns boolean 
    return GetUnitTypeId(GetDyingUnit()) == 'e01U'
endfunction

function AV2 takes nothing returns nothing
    local unit u = GetDyingUnit()
    local integer TYO = GetUnitUserData(u)
    local group g
    local unit AW2
    local unit AX2
    set g = allocGroup()
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 175, Condition(function AH2))
    loop
        set AX2 = FirstOfGroup(g)
        exitwhen (AX2 == null)
        call GroupRemoveUnit(g, AX2)
        set AW2 = CreateUnit(GetOwningPlayer(u), 'e00E', GetUnitX(AX2), GetUnitY(AX2), 0)
        call UnitAddAbility(AW2, 'A0OF')
        call SetUnitAbilityLevel(AW2, 'A0OF', TYO)
        call IssueTargetOrder(AW2, "thunderbolt", AX2)
        call UnitApplyTimedLife(AW2, 'BTLF', 1)
        call UnitAddAbility(AW2, 'Aloc')
    endloop
    call releaseGroup(g)
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl", GetUnitX(u), GetUnitY(u)) )
endfunction

function AY2 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0O6')
    local real x = LoadReal(hashTable, DMI, 321)
    local real y = LoadReal(hashTable, DMI, 322)
    local real LPO = LoadReal(hashTable, DMI, 323)
    local unit AW2
    local integer MXO = LoadInteger(hashTable, DMI, 324)
    set x = x + 100*Cos(LPO*bj_DEGTORAD)
    set y = y + 100*Sin(LPO*bj_DEGTORAD)
    call SaveReal(hashTable, DMI, 321, (x*1.0))
    call SaveReal(hashTable, DMI, 322, (y*1.0))
    set AW2 = CreateUnit(GetOwningPlayer(E1I), 'e01U', x, y, GetRandomReal(0, 359))
    call UnitApplyTimedLife(AW2, 'BTLF', 0.5)
    call SetUnitUserData(AW2, FVI)
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl", x, y) )
    set MXO = MXO + 1
    call SaveInteger(hashTable, DMI, 324, MXO)
    if MXO >= 10 then
        call PauseTimer(t)
        call FlushChildHashtable(hashTable, DMI)
        call DestroyTimer(t)
    endif
endfunction

function AJ2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0O6'
endfunction

function AK2 takes nothing returns nothing
    local timer t = CreateTimer()
    local unit E1I = GetTriggerUnit()
    local location TKO = GetSpellTargetLoc()
    local location AL2 = GetUnitLoc(E1I)
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 321, (GetUnitX(E1I)*1.0))
    call SaveReal(hashTable, DMI, 322, (GetUnitY(E1I)*1.0))
    call SaveReal(hashTable, DMI, 323, (AngleBetweenPoints(AL2, TKO)*1.0))
    call SaveInteger(hashTable, DMI, 324, 0)
    call RemoveLocation(AL2)
    call RemoveLocation(TKO)
    call TimerStart(t, 0.05, true, function AY2)
endfunction

function T1I takes nothing returns nothing
    local trigger AM2 = CreateTrigger()
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(AM2, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(AM2, Condition(function AZ2))
    call TriggerAddAction(AM2, function AV2)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function AJ2))
    call TriggerAddAction(t, function AK2)
endfunction

function AN2 takes real x1, real y1, real x2, real y2, real x3, real y3, real x, real y returns boolean 
    local real AS2 = (y - y1)*(x2 - x1) - (x - x1)*(y2 - y1)
    local real AT2 = (y - y3)*(x1 - x3) - (x - x3)*(y1 - y3)
    local real AR2 = (y - y2)*(x3 - x2) - (x - x2)*(y3 - y2)
    return (AS2*AT2 > 0) and (AR2*AT2 > 0)
endfunction

function AP2 takes nothing returns boolean 
    local real AQ2 = OK
    local real AU2 = AK
    local real B02 = BK
    local real BI2 = CK
    local real B12 = DK
    local real BO2 = EK
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and AN2(AQ2, AU2, B02, BI2, B12, BO2, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
endfunction

function B22 takes real B32, real B42, real B52 returns nothing
    local real B62 = 550
    local real B72 = 200
    local real B82 = 250
    local real B92 = Asin((B82 - B72)/B62)
    local real x = B72/Sin(B92)
    local real y = (B62 + B82 + x)*Tan(B92)
    local real AQ2 = B42 + x*Cos((B32 - 180)*bj_DEGTORAD)
    local real AU2 = B52 + x*Sin((B32 - 180)*bj_DEGTORAD)
    local real B02 = (B42 + (B62 + B82)*Cos(B32*bj_DEGTORAD)) + y*Cos((B32 - 90)*bj_DEGTORAD)
    local real BI2 = (B52 + (B62 + B82)*Sin(B32*bj_DEGTORAD)) + y*Sin((B32 - 90)*bj_DEGTORAD)
    local real B12 = (B42 + (B62 + B82)*Cos(B32*bj_DEGTORAD)) + y*Cos((B32 + 90)*bj_DEGTORAD)
    local real BO2 = (B52 + (B62 + B82)*Sin(B32*bj_DEGTORAD)) + y*Sin((B32 + 90)*bj_DEGTORAD)
    set OK = AQ2
    set AK = AU2
    set BK = B02
    set CK = BI2
    set DK = B12
    set EK = BO2
endfunction

function BA2 takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call UnitAddAbility(YVI, 'A0OA')
    call IssueTargetOrder(YVI, "frostnova", GetEnumUnit())
    set YVI = null
endfunction

function BB2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit YVI
    if GetTriggerEvalCount(t) > 1 then
        call SetUnitAnimation(E1I, "stand")
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitAnimation(E1I, "spell")
        set YVI = CreateUnit(p, 'e00E', x, y, 0)
        call UnitAddAbility(YVI, 'A0OC')
        call SetUnitAbilityLevel(YVI, 'A0OC', FVI)
        call IssuePointOrder(YVI, "breathoffrost", HMI, HNI)
    endif
    set t = null
    set p = null
    set E1I = null
    set YVI = null
    return false
endfunction

function BC2 takes unit u, player p, integer FVI, location l, real x, real y returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SavePlayerHandle(hashTable, DMI, 54, p)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SaveReal(hashTable, DMI, 47, (GetLocationX(l)*1.0))
    call SaveReal(hashTable, DMI, 48, (GetLocationY(l)*1.0))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveUnitHandle(hashTable, DMI, 14, u)
    call TriggerRegisterTimerEvent(t, 0.3, true)
    call TriggerAddCondition(t, Condition(function BB2))
    set t = null
endfunction

function BD2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0O7')
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local location l
    local unit YVI
    local group g = allocGroup()
    if GetSpellTargetUnit() == null then
        set l = GetSpellTargetLoc()
    else 
        set l = GetUnitLoc(GetSpellTargetUnit())
    endif
    call B22(bj_RADTODEG*Atan2(GetLocationY(l) - y, GetLocationX(l) - x), x, y)
    call GroupEnumUnitsInRange(g, x, y, 2000, Condition(function AP2))
    call ForGroup(g, function BA2)
    call releaseGroup(g)
    set YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', x, y, 0)
    call UnitAddAbility(YVI, 'A0OB')
    call SetUnitAbilityLevel(YVI, 'A0OB', FVI)
    call IssuePointOrder(YVI, "breathoffire", GetLocationX(l), GetLocationY(l))
    call BC2(E1I, GetOwningPlayer(E1I), FVI, l, x + 50*Cos( Atan2(GetLocationY(l) - y, GetLocationX(l) - x) ), y + 50*Sin( Atan2(GetLocationY(l) - y, GetLocationX(l) - x) ))
    call RemoveLocation(l)
    set E1I = null
    set l = null
    set g = null
endfunction

function BE2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0O7' then
        call BD2()
    endif
    return false
endfunction

function T0I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BE2))
    call preloadAblility('A0OB')
    call preloadAblility('A0OC')
    call preloadAblility('A0OA')
    set t = null
endfunction

function BF2 takes unit E1I, unit GDI returns nothing
    local real a = GetRandomReal(0, 360)
    local real x = GetUnitX(GDI) + 50*Cos(a*bj_DEGTORAD)
    local real y = GetUnitY(GDI) + 50*Sin(a*bj_DEGTORAD)
    local real BG2 = GetRandomReal(150, 250)
    call SetUnitPosition(E1I, x, y)
    call SetUnitFacing(E1I, bj_RADTODEG*Atan2(GetUnitY(GDI) - GetUnitY(E1I), GetUnitX(GDI) - GetUnitX(E1I)))
    call SetUnitAnimation(E1I, "Attack")
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", E1I, "chest") )
    call doDamage(E1I, GDI, 2, BG2)
    call IssueTargetOrder(E1I, "attack", GDI)
endfunction

function BH2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call BF2(E1I, GDI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    set GDI = null
    return false
endfunction

function BZ2 takes unit E1I returns nothing
    local group g = allocGroup()
    set myUnit = E1I
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 450, Condition(function YBI))
    set myUnit = GroupPickRandomUnit(g)
    if myUnit != null then
        call BF2(E1I, myUnit)
    endif
    call releaseGroup(g)
    set g = null
endfunction

function BV2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer BW2 = LoadInteger(hashTable, DMI, 216)
    local integer BX2 = LoadInteger(hashTable, DMI, 325)
    local integer MXO = LoadInteger(hashTable, DMI, 28)
    local unit BY2
    if MXO > BW2 then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A05G', true)
        call SetUnitPathing(E1I, true)
        call SetUnitInvulnerable(E1I, false)
        call SaveInteger(hashTable, GetHandleId(E1I), 4253, 2)
        call SetUnitVertexColor(E1I, 255, 255, 255, 255)
    else 
        call SaveInteger(hashTable, DMI, 28, (MXO + 1))
        call BZ2(E1I)
        if myUnit == null then
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A05G', true)
            call SetUnitPathing(E1I, true)
            call SetUnitInvulnerable(E1I, false)
            call SaveInteger(hashTable, GetHandleId(E1I), 4253, 2)
            call SetUnitVertexColor(E1I, 255, 255, 255, 255)
        endif
    endif
    set t = null
    set E1I = null
    set BY2 = null
    return false
endfunction

function BJ2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0M1')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer BX2 = GetUnitAbilityLevel(E1I, 'A05G')
    local player p = GetOwningPlayer(E1I)
    local integer BW2 = 3
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A1AX')
        if FVI == 1 then
            set BW2 = 5
        elseif FVI == 2 then
            set BW2 = 7
        elseif FVI == 3 then
            set BW2 = 10
        endif
    elseif FVI == 2 then
        set BW2 = 5
    elseif FVI == 3 then
        set BW2 = 8
    endif
    call SetPlayerAbilityAvailable(p, 'A05G', false)
    call SetUnitVertexColor(E1I, 255, 255, 255, 125)
    call SetUnitPathing(E1I, false)
    call SetUnitInvulnerable(E1I, true)
    call SaveInteger(hashTable, GetHandleId(E1I), 4253, 1)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function BH2))
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 216, BW2)
    call SaveInteger(hashTable, DMI, 325, BX2)
    call SaveInteger(hashTable, DMI, 28, 2)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl", E1I, "weapon"))
    call TriggerRegisterTimerEvent(t, 0.4, true)
    call TriggerAddCondition(t, Condition(function BV2))
    set E1I = null
    set GDI = null
    set t = null
    set p = null
endfunction

function BK2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0M1' or GetSpellAbilityId() == 'A1AX' then
        call BJ2()
    endif
    return false
endfunction

function R0I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BK2))
    set t = null
endfunction

function BladeFury takes nothing returns nothing
    call DUI(GetTriggerUnit(), 4252, 5)
endfunction

function BL2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A05G' then
        call DUI(GetTriggerUnit(), 4252, 5)
    endif
    return false
endfunction

function RII takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BL2))
    set t = null
endfunction

function BM2 takes nothing returns boolean 
    return GetUnitTypeId(GetSummonedUnit()) == 'o00C'
endfunction

function BN2 takes nothing returns nothing
    call SetUnitAbilityLevelSwapped('A058', GetSummonedUnit(), GetUnitAbilityLevelSwapped('A047', GetSummoningUnit()))
endfunction

function TUI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function BM2))
    call TriggerAddAction(t, function BN2)
endfunction

function BS2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real x1
    local real y1
    local real x2
    local real y2
    if GetTriggerEventId() == EVENT_UNIT_DEATH or (GetTriggerEventId() == EVENT_UNIT_DAMAGED and GetEventDamage() > 2 and isPlayer(GetOwningPlayer(GetEventDamageSource()))) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() != EVENT_UNIT_DAMAGED and GetTriggerEventId() != EVENT_UNIT_DEATH then
        set x1 = GetUnitX(GCI)
        set y1 = GetUnitY(GCI)
        set x2 = GetUnitX(GDI)
        set y2 = GetUnitY(GDI)
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl", x1, y1) )
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl", x2, y2) )
        call SetUnitPosition(GDI, GetUnitX(GCI), GetUnitY(GCI))
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function BT2 takes nothing returns nothing
    local unit GDI = GetSpellTargetUnit()
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real YHI
    if GetSpellAbilityId() == 'A10U' then
        set YHI = 5
    elseif GetSpellAbilityId() == 'A11Y' then
        set YHI = 4
    elseif GetSpellAbilityId() == 'A11Z' then
        set YHI = 3
    elseif GetSpellAbilityId() == 'A1N1' then
        set YHI = 3
    endif
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, YHI, false)
    call TriggerAddCondition(t, Condition(function BS2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl", GCI, "origin"))
    call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl", GDI, "origin"))
    set GDI = null
    set GCI = null
    set t = null
endfunction

function BR2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A10U' or GetSpellAbilityId() == 'A11Y' or GetSpellAbilityId() == 'A11Z' then
        call BT2()
    endif
    return false
endfunction

function BP2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A10U' or GetSpellAbilityId() == 'A11Y' or GetSpellAbilityId() == 'A11Z' then
        if LoadBoolean(hashTable, GetHandleId(GetOwningPlayer(GetSpellTargetUnit())), 139) then
            call GSI(GetTriggerUnit())
            call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
        endif
    endif
    return false
endfunction

function R4I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function BR2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function BP2))
    set t = null
endfunction

function BQ2 takes integer FVI returns integer 
    if FVI == 1 then
        return 'A10Z'
    elseif FVI == 2 then
        return 'A111'
    elseif FVI == 3 then
        return 'A10Y'
    elseif FVI == 4 then
        return 'A110'
    endif
    return 0
endfunction

function BU2 takes integer FVI returns integer 
    if FVI == 1 then
        return 'B09M'
    elseif FVI == 2 then
        return 'B09N'
    elseif FVI == 3 then
        return 'B09O'
    elseif FVI == 4 then
        return 'B09L'
    endif
    return 0
endfunction

function C02 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real CI2 = LoadReal(hashTable, DMI, 23)
    local real C12 = LoadReal(hashTable, DMI, 24)
    local real x = GetUnitX(GDI)
    local real y = GetUnitY(GDI)
    local real d = SquareRoot((CI2 - x)*(CI2 - x) + (C12 - y)*(C12 - y))
    local real CO2 = (0.00030 + FVI*0.00005)*d*GetUnitState(GDI, UNIT_STATE_MAX_MANA)
    local integer VXO = GetTriggerEvalCount(t)
    local unit YVI
    if GOI(GDI) == true then
        set CO2 = 0
    endif
    if d > 300 then
        set CO2 = 0
    endif
    if CO2 > 1 and ModuloInteger(GetTriggerEvalCount(t), 3) == 0 then
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl", GDI, "chest") )
    endif
    if CO2 > 0 then
        call SetUnitState(GDI, UNIT_STATE_MANA, GetUnitState(GDI, UNIT_STATE_MANA) - CO2)
    endif
    call SaveReal(hashTable, DMI, 23, (x*1.0))
    call SaveReal(hashTable, DMI, 24, (y*1.0))
    if GetTriggerEventId() == EVENT_UNIT_DEATH or VXO == (FVI + 4)*10 then
        call UnitRemoveAbility(GDI, BQ2(FVI))
        call UnitRemoveAbility(GDI, BU2(FVI))
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetUnitState(GDI, UNIT_STATE_MANA) < 1 then
        set YVI = CreateUnit(GetOwningPlayer( LoadUnitHandle(hashTable, DMI, 2) ), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
        call UnitAddAbility(YVI, 'A19P')
        call IssueTargetOrder(YVI, "slow", GDI)
        set YVI = null
        call UnitRemoveAbility(GDI, BQ2(FVI))
        call UnitRemoveAbility(GDI, BU2(FVI))
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function C22 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A10X')
    call UnitAddAbility(GDI, BQ2(FVI))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 23, (GetUnitX(GDI)*1.0))
    call SaveReal(hashTable, DMI, 24, (GetUnitY(GDI)*1.0))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx", GDI, "chest"))
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function C02))
    set GCI = null
    set GDI = null
    set t = null
endfunction

function C32 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A10X' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call C22()
    endif
    return false
endfunction

function R1I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function C32))
    set t = null
endfunction

function C42 takes unit C52, integer C62, real LPO returns nothing
    local real C72 = GetUnitX(C52) - 50*Cos(LPO)
    local real C82 = GetUnitY(C52) - 50*Sin(LPO)
    local unit YVI = CreateUnit(GetOwningPlayer(C52), 'e00E', C72, C82, 0)
    local real x = GetUnitX(YVI) + 50*Cos(LPO)
    local real y = GetUnitY(YVI) + 50*Sin(LPO)
    local real x2 = x + (300 + 50*C62)*Cos(LPO)
    local real y2 = y + (300 + 50*C62)*Sin(LPO)
    call UnitAddAbility(YVI, 'A087')
    call SetUnitAbilityLevel(YVI, 'A087', C62)
    call IssuePointOrder(YVI, "breathoffire", x, y)
    call KillUnit(C52)
    set YVI = null
endfunction

function C92 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    local integer C62 = DHI - 1
    local real LPO = LoadReal(hashTable, DMI, 13)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer CA2 = 2 + FVI*2
    local boolean CB2 = LoadBoolean(hashTable, DMI, 240)
    local unit AW2
    if GetTriggerEventId() != EVENT_UNIT_SPELL_ENDCAST then
        call SaveInteger(hashTable, DMI, 34, (DHI + 1))
    endif
    call SetUnitScale(YVI, I2R(100 + 20*C62)/100, I2R(100 + 20*C62)/100, I2R(100 + 20*C62)/100)
    if (GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and CB2 == false) or (GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId() == 'A121') or C62 == CA2 then
        if CB2 then
            set AW2 = LoadUnitHandle(hashTable, DMI, 239)
            call ShowUnit(AW2, false)
            call UnitApplyTimedLife(AW2, 'BTLF', 1)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A085', true)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A121', false)
        call UnitRemoveAbility(E1I, 'A121')
        call C42(YVI, C62, LPO)
    endif
    set YVI = CreateUnit(GetOwningPlayer(YVI), 'h06M', GetUnitX(YVI) + 150*C62*Cos(LPO), GetUnitY(YVI) + 150*C62*Sin(LPO), 0)
    call UnitApplyTimedLife(YVI, 'BTLF', 7)
    set t = null
    set YVI = null
    set E1I = null
    set AW2 = null
    return false
endfunction

function CC2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    call IssueImmediateOrder(E1I, "stop")
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function ezalorIlluminate takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer hTrig = GetHandleId(t)
    local unit caster = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real angle = Atan2(GetLocationY(l) - GetUnitY(caster), GetLocationX(l) - GetUnitX(caster))
    local real x
    local real y
    local unit YVI
    local unit AW2
    local boolean spiritMode = false
    if GetLocationY(l) == GetUnitY(caster) and GetLocationX(l) == GetUnitX(caster) then
        set angle = GetUnitFacing(caster)*bj_DEGTORAD
    endif
    set x = GetUnitX(caster) + 150*Cos(angle)
    set y = GetUnitY(caster) + 150*Sin(angle)
    set YVI = CreateUnit(GetOwningPlayer(caster), 'u00J', x, y, angle*bj_RADTODEG)
    call RemoveLocation(l)
    if GetUnitTypeId(caster) != 'Hblm' then
        set spiritMode = true
    endif
    call SaveBoolean(hashTable, hTrig, 240, spiritMode)
    call SaveUnitHandle(hashTable, hTrig, 14, caster)
    call SaveUnitHandle(hashTable, hTrig, 19, YVI)
    call SaveInteger(hashTable, hTrig, 34, 1)
    call SaveInteger(hashTable, hTrig, 5, GetUnitAbilityLevel(caster, 'A085'))
    call SaveReal(hashTable, hTrig, 13, (angle*1.0))
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerRegisterUnitEvent(t, caster, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function C92))
    if spiritMode then
        set AW2 = CreateUnit(GetOwningPlayer(caster), 'h06Z', GetUnitX(caster), GetUnitY(caster), angle*bj_RADTODEG)
        call SetUnitX(AW2, GetUnitX(caster))
        call SetUnitY(AW2, GetUnitY(caster))
        call SetUnitAnimation(AW2, "spell")
        call QueueUnitAnimation(AW2, "spell")
        call QueueUnitAnimation(AW2, "spell")
        call SetUnitVertexColor(AW2, 255, 255, 255, 75)
        call SaveUnitHandle(hashTable, hTrig, 239, AW2)
        set t = CreateTrigger()
        set hTrig = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function CC2))
        call SaveUnitHandle(hashTable, hTrig, 14, caster)
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(caster), 'A085', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(caster), 'A121', true)
    call unitAddTimedAbility(caster, 'A121', 1, 6)
    set t = null
    set caster = null
    set YVI = null
    set AW2 = null
    set l = null
endfunction

function ezalorIlluminateWrapper takes nothing returns boolean 
    if GetSpellAbilityId() == 'A085' then
        call ezalorIlluminate()
    endif
    return false
endfunction

function ezalorIlluminateRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ezalorIlluminateWrapper))
    set t = null
endfunction

function CF2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer YHI = LoadInteger(hashTable, DMI, 188)
    local integer DHI = GetTriggerEvalCount(t)
    if DHI == YHI or GetUnitTypeId(GCI) == 'Hblm' then
        if LoadReal(hashTable, GetHandleId(GCI), 241) <= TimerGetElapsed(M) or GetUnitTypeId(GCI) == 'Hblm' then
            call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A11T', true)
        else 
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function CG2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A11T')
    local integer YHI = 40
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A11T', false)
    call SaveReal(hashTable, GetHandleId(GCI), 241, ((TimerGetElapsed(M) + YHI)*1.0))
    call SaveInteger(hashTable, DMI, 188, YHI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function CF2))
    set t = null
    set GCI = null
endfunction

function Ignis_Main takes nothing returns boolean 
    if GetSpellAbilityId() == 'A11T' and GetUnitTypeId(GetTriggerUnit()) == 'Hblm' then
        call CG2()
    endif
    return false
endfunction

function R6I takes nothing returns nothing
endfunction

function CH2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real QD1 = LoadReal(hashTable, DMI, 242)
    call SetUnitState(GDI, UNIT_STATE_MANA, GetUnitState(GDI, UNIT_STATE_MANA) + QD1)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl", GDI, "origin") )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set GDI = null
    set t = null
    return false
endfunction

function CZ2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 242, ((75*GetUnitAbilityLevel(E1I, 'A112'))*1.0))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function CH2))
    set t = null
    set E1I = null
    set GDI = null
endfunction

function CV2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A112' then
        call CZ2()
    endif
    return false
endfunction

function ROI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CV2))
    set t = null
endfunction

function CW2 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local real x = GetUnitX(GDI)
    local real y = GetUnitY(GDI)
    local real a = Atan2(y - QL0, x - QK0)
    set x = constrainX(x + 25*Cos(a))
    set y = constrainY(y + 25*Sin(a))
    call killDestructables(x, y, 150)
    call SetUnitX(GDI, x)
    call SetUnitY(GDI, y)
    set GDI = null
endfunction

function CX2 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local unit YVI = CreateUnit(YK, 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A10W')
    call SetUnitAbilityLevel(YVI, 'A10W', QJ0)
    call IssueTargetOrder(YVI, "drunkenhaze", GDI)
    set GDI = null
    set YVI = null
endfunction

function CY2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local real HKI = LoadReal(hashTable, DMI, 189)
    local real HLI = LoadReal(hashTable, DMI, 190)
    local integer X6I = LoadInteger(hashTable, DMI, 59)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    local integer DHI = GetTriggerEvalCount(t)
    set QK0 = HKI
    set QL0 = HLI
    call ForGroup(g, function CW2)
    if DHI == 10 then
        if X6I == 'A11X' then
            set QJ0 = 1
        elseif X6I == 'A11V' then
            set QJ0 = 2
        else 
            set QJ0 = 3
        endif
        set YK = p
        call ForGroup(g, function CX2)
        call releaseGroup(g)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set p = null
    set g = null
    return false
endfunction

function CJ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local real HKI = LoadReal(hashTable, DMI, 189)
    local real HLI = LoadReal(hashTable, DMI, 190)
    local integer X6I = LoadInteger(hashTable, DMI, 59)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    call abandonTrigger(t)
    call FlushChildHashtable(hashTable, DMI)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.04, true)
    call TriggerAddCondition(t, Condition(function CY2))
    call SavePlayerHandle(hashTable, DMI, 54, p)
    call SaveReal(hashTable, DMI, 189, (HKI*1.0))
    call SaveReal(hashTable, DMI, 190, (HLI*1.0))
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call SaveInteger(hashTable, DMI, 59, X6I)
    set t = null
    set p = null
    set g = null
    return false
endfunction

function CK2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local group g = allocGroup()
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    call KillUnit( CreateUnit(GetOwningPlayer(GCI), 'h06P', x, y, 0) )
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x, y, 700, Condition(function XRI))
    call TriggerRegisterTimerEvent(t, 0.4, false)
    call TriggerAddCondition(t, Condition(function CJ2))
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(GetTriggerUnit()))
    call SaveReal(hashTable, DMI, 189, (x*1.0))
    call SaveReal(hashTable, DMI, 190, (y*1.0))
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call SaveInteger(hashTable, DMI, 59, GetSpellAbilityId())
    set t = null
    set g = null
    set GCI = null
endfunction

function CL2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A11X' or GetSpellAbilityId() == 'A11V' or GetSpellAbilityId() == 'A11W' then
        call CK2()
    endif
    return false
endfunction

function R5I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CL2))
    set t = null
endfunction

function CM2 takes unit E1I, integer FVI returns integer 
    local integer CN2
    local integer CS2
    if FVI == 1 then
        set CS2 = 'B0B1'
        set CN2 = 'A18Z'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        set CS2 = 'B0B0'
        set CN2 = 'A19J'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        set CS2 = 'B0AY'
        set CN2 = 'A19J'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        return 'A18Y'
    elseif FVI == 2 then
        set CS2 = 'B0B8'
        set CN2 = 'A19H'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        set CS2 = 'B0B7'
        set CN2 = 'A19G'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        set CS2 = 'B0B2'
        set CN2 = 'A19G'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        return 'A19I'
    elseif FVI == 3 then
        set CS2 = 'B0B3'
        set CN2 = 'A19E'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        set CS2 = 'B0B9'
        set CN2 = 'A19D'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        set CS2 = 'B0B6'
        set CN2 = 'A19D'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        return 'A19K'
    elseif FVI == 4 then
        set CS2 = 'B0B5'
        set CN2 = 'A196'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        set CS2 = 'B0B4'
        set CN2 = 'A195'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        set CS2 = 'B0BA'
        set CN2 = 'A195'
        if GetUnitAbilityLevel(E1I, CS2) > 0 then
            call UnitRemoveAbility(E1I, CS2)
            return CN2
        endif
        return 'A19L'
    endif
    return 0
endfunction

function CT2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A18X')
    local integer CR2 = CM2(E1I, FVI)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    call UnitAddAbility(YVI, CR2)
    call IssueTargetOrder(YVI, "bloodlust", E1I)
    set E1I = null
    set YVI = null
endfunction

function CP2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A01F' or GetSpellAbilityId() == 'A027' or GetSpellAbilityId() == 'A01P' or GetSpellAbilityId() == 'A09Z' then
        call CT2()
    endif
    return false
endfunction

function CQ2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CP2))
    set t = null
    set E1I = null
endfunction

function CU2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A18X' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A18X') == 1 then
        call CQ2()
    endif
    return false
endfunction

function AL1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function CU2))
    set t = null
endfunction

function D02 takes nothing returns boolean 
    if GetLearnedSkill() == 'A041' then
        call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'Remg', GetUnitAbilityLevel(GetTriggerUnit(), 'A041'))
    elseif GetLearnedSkill() == 'A062' then
        call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'R00I', GetUnitAbilityLevel(GetTriggerUnit(), 'A062'))
    endif
    return false
endfunction

function R8I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function D02))
    set t = null
endfunction

function DI2 takes nothing returns boolean 
    if (GetUnitTypeId(GetFilterUnit()) == 'u009') or (GOI(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(myUnit)) and IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) then
        if LoadInteger(hashTable, QM0, GetHandleId(GetFilterUnit())) < QJ then
            return true
        endif
    endif
    return false
endfunction

function D12 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer DO2 = LoadInteger(hashTable, DMI, 217)
    local integer BW2 = LoadInteger(hashTable, DMI, 216)
    local integer D22 = LoadInteger(hashTable, DMI, 218)
    local group g = allocGroup()
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local unit GDI
    local real r1 = GetRandomInt(200, 350)
    local real r2 = GetRandomInt(200, 350)
    if GetRandomInt(1, 2) == 1 then
        set r1 = -1*r1
        set r2 = -1*r2
    endif
    set myUnit = E1I
    set QJ = D22
    set QM0 = GetHandleId(t)
    call GroupEnumUnitsInRange(g, x, y, 700, Condition(function DI2))
    set GDI = GroupPickRandomUnit(g)
    call releaseGroup(g)
    if isUnitUnavailable(E1I) == false and GDI != null and (GetUnitTypeId(GDI) == 'u009') == false then
        call SaveInteger(hashTable, QM0, GetHandleId(GDI), (LoadInteger(hashTable, QM0, GetHandleId(GDI)) + 1))
        call Z4I("effects\\Eclipse.mdx", GDI, "origin", 3)
        call doDamage(E1I, GDI, 1, DO2*75)
    elseif isUnitUnavailable(E1I) == false then
        set x = x + GetRandomInt(-350, 350)
        set y = y + GetRandomInt(-350, 350)
        call Z8I("effects\\Eclipse.mdx", x, y, 1.5)
    endif
    if (GetTriggerEvalCount(t) + 1) == BW2 or isUnitUnavailable(E1I) == true then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    set g = null
    set GDI = null
    return false
endfunction

function D32 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer BW2
    local integer DO2 = GetUnitAbilityLevel(E1I, 'A042')
    local integer D22
    if GetSpellAbilityId() == 'A054' then
        set BW2 = 1 + 3*GetUnitAbilityLevel(E1I, 'A054')
        set D22 = 4
    else 
        set BW2 = 4*GetUnitAbilityLevel(E1I, 'A00U')
        set D22 = 5
    endif
    call SaveInteger(hashTable, DMI, 217, DO2)
    call SaveInteger(hashTable, DMI, 216, BW2)
    call SaveInteger(hashTable, DMI, 218, D22)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0.6, true)
    call TriggerAddCondition(t, Condition(function D12))
    call TriggerEvaluate(t)
    set t = null
    set E1I = null
endfunction

function D42 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A054' or GetSpellAbilityId() == 'A00U' then
        call D32()
    endif
    return false
endfunction

function R7I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function D42))
    set t = null
endfunction

function D52 takes nothing returns nothing
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl", GetEnumUnit(), "origin") )
endfunction

function D62 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    call doDamage(E1I, GDI, 1, GetUnitAbilityLevel(E1I, 'A0KV')*37.5)
    call D8I(GHI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    set GDI = null
    return false
endfunction

function D72 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local group g = allocGroup()
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl", GDI, "origin") )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call releaseGroup(g)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 30, GHI)
    call TriggerRegisterTimerEvent(t, 0.5, false)
    call TriggerAddCondition(t, Condition(function D62))
    set t = null
    set E1I = null
    set g = null
    set GDI = null
    return false
endfunction

function D82 takes nothing returns nothing
    call doDamage(QS0, GetEnumUnit(), 1, QN0)
endfunction

function D92 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    set QN0 = GetUnitAbilityLevel(E1I, 'A0KV')*75
    set QS0 = E1I
    call ForGroup(g, function D82)
    call releaseGroup(g)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    set g = null
    return false
endfunction

function DA2 takes nothing returns nothing
    local real HJI = getUnitDistance(GetTriggerUnit(), GetEnumUnit())
    if HJI > 650 then
    else 
        call GroupAddUnit(WK, GetEnumUnit())
    endif
endfunction

function DB2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local group g = allocGroup()
    local unit GDI
    set myUnit = E1I
    set QS0 = E1I
    set WK = allocGroup()
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 900, Condition(function XNI))
    call ForGroup(g, function DA2)
    call releaseGroup(g)
    set g = WK
    call ForGroup(g, function D52)
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0.5, false)
    call TriggerAddCondition(t, Condition(function D92))
    set QS0 = E1I
    set g = allocGroup()
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 200, Condition(function XNI))
    set GDI = GroupPickRandomUnit(g)
    call releaseGroup(g)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl", E1I, "origin"))
    call TriggerRegisterTimerEvent(t, 1, false)
    call TriggerAddCondition(t, Condition(function D72))
    set t = null
    set g = null
    set E1I = null
    set GDI = null
endfunction

function DC2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0KV' then
        call DB2()
    endif
    return false
endfunction

function IM1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DC2))
    set t = null
endfunction

constant function MoonlightShadow_RawCode takes nothing returns integer 
    return 'A0KU'
endfunction

constant function MoonlightShadow_InvisibilityAbility takes nothing returns integer 
    return 'A0KT'
endfunction

function DD2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0KU'
endfunction

function DE2 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction

function DF2 takes nothing returns nothing
    call UnitAddAbility(GetEnumUnit(), 'A0KT')
    call SetUnitAbilityLevel(GetEnumUnit(), 'A0KT', JO)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl", GetEnumUnit(), "chest") )
endfunction

function DG2 takes nothing returns nothing
    call UnitRemoveAbility(GetEnumUnit(), 'A0KT')
endfunction

function DH2 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local group MNI = LoadGroupHandle(hashTable, DMI, 220)
    call ForGroup(MNI, function DG2)
    call releaseGroup(MNI)
    call ZCI(t)
endfunction

function DZ2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local group MNI = allocGroup()
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0KU')
    local real YHI = 5 + 2*FVI
    set JO = FVI
    call GroupEnumUnitsInRange(MNI, 0, 0, 9999, Condition(function DE2))
    call ForGroup(MNI, function DF2)
    call SaveGroupHandle(hashTable, DMI, 220, MNI)
    call TimerStart(t, YHI, false, function DH2)
endfunction

function IL1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DD2))
    call TriggerAddAction(t, function DZ2)
endfunction

constant function Leap_RawCode takes nothing returns integer 
    return 'A0LN'
endfunction

constant function Leap_BonusCode takes nothing returns integer 
    return 'A0LO'
endfunction

function DV2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0LN'
endfunction

function DW2 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(YO))
endfunction

function DX2 takes nothing returns nothing
    local unit E1I = GetEnumUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e01R', 0, 0, 0)
    call UnitAddAbility(YVI, 'A0LO')
    call SetUnitAbilityLevel(YVI, 'A0LO', GetUnitAbilityLevel(YO, 'A0LN'))
    call UnitApplyTimedLife(YVI, 'BTLF', 10)
endfunction

function DY2 takes unit E1I returns nothing
    local group MNI = allocGroup()
    set YO = E1I
    call GroupEnumUnitsInRange(MNI, GetUnitX(E1I), GetUnitY(E1I), 800, Condition(function DW2))
    call ForGroup(MNI, function DX2)
    call releaseGroup(MNI)
endfunction

function DJ2 takes unit E1I returns nothing
    local integer DMI = GetHandleId(E1I)
    local string DK2 = LoadStr(hashTable, DMI, 206)
    local string DL2 = OrderId2String( LoadInteger(hashTable, DMI, 211) )
    local real HMI
    local real HNI
    local unit GDI
    local trigger t = LoadTriggerHandle(hashTable, DMI, 204)
    local boolean DM2 = not LoadBoolean(hashTable, DMI, 207)
    local boolean DN2 = LoadBoolean(hashTable, DMI, 208)
    call DisableTrigger(t)
    call IssueImmediateOrder(E1I, "stop")
    if DK2 == "Target" and (DM2 or DN2) then
        set GDI = LoadUnitHandle(hashTable, DMI, 215)
        call IssueTargetOrder(E1I, DL2, GDI)
    elseif DK2 == "Point" and (DM2 or DN2) then
        set HMI = LoadReal(hashTable, DMI, 209)
        set HNI = LoadReal(hashTable, DMI, 210)
        call IssuePointOrder(E1I, DL2, HMI, HNI)
    elseif (DM2 or DN2) then
        call IssueImmediateOrder(E1I, "OrderString")
    endif
    call SaveBoolean(hashTable, DMI, 208, false)
    call EnableTrigger(t)
endfunction

function DS2 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real DT2 = LoadReal(hashTable, DMI, 212)
    local real DR2 = LoadReal(hashTable, DMI, 213)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real VGI = GetUnitX(E1I) + 30*Cos(LPO*bj_DEGTORAD)
    local real VHI = GetUnitY(E1I) + 30*Sin(LPO*bj_DEGTORAD)
    local real DP2 = 200
    local real DQ2 = (1 - DT2/DR2)*DP2*2
    if DQ2 > DP2 then
        set DQ2 = DP2*2 - DQ2
    endif
    call SetUnitFlyHeight(E1I, HGI(DQ2, 0), 0)
    call SetUnitX(E1I, constrainX(VGI))
    call SetUnitY(E1I, constrainY(VHI))
    call SetUnitFacing(E1I, LPO)
    call SaveReal(hashTable, DMI, 212, ((DT2 - 20)*1.0))
    if DQ2 < 1 and DT2 - DR2 != 0 then
        call SaveBoolean(hashTable, GetHandleId(E1I), 214, false)
        call SetUnitFacing(E1I, LPO)
        call SetUnitAnimation(E1I, "stand")
        call SetUnitPathing(E1I, true)
        call DJ2(E1I)
        call DY2(E1I)
        call PauseTimer(t)
        call FlushChildHashtable(hashTable, DMI)
        call DestroyTimer(t)
    endif
endfunction

function DU2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0LN')
    local real HJI = 350 + 50*FVI
    local real LPO = GetUnitFacing(E1I)
    local real HKI = GetUnitX(E1I)
    local real HLI = GetUnitY(E1I)
    local real HMI = constrainX(HKI + HJI*Cos(LPO*bj_DEGTORAD))
    local real HNI = constrainY(HLI + HJI*Sin(LPO*bj_DEGTORAD))
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    local trigger E02 = LoadTriggerHandle(hashTable, GetHandleId(E1I), 204)
    set HJI = SquareRoot((HKI - HMI)*(HKI - HMI) + (HLI - HNI)*(HLI - HNI))
    if HJI > 100 then
        call UnitAddAbility(E1I, 'Amrf')
        call UnitRemoveAbility(E1I, 'Amrf')
        call SetUnitPathing(E1I, false)
        call SetUnitAnimationByIndex(E1I, 6)
        call DisableTrigger(E02)
        call IssueImmediateOrder(E1I, "stop")
        call EnableTrigger(E02)
        call SaveReal(hashTable, DMI, 212, (HJI*1.0))
        call SaveReal(hashTable, DMI, 213, (HJI*1.0))
        call SaveReal(hashTable, DMI, 13, (LPO*1.0))
        call SaveUnitHandle(hashTable, DMI, 14, E1I)
        call TimerStart(t, 0.025, true, function DS2)
        call SaveBoolean(hashTable, GetHandleId(E1I), 214, true)
        call SaveBoolean(hashTable, GetHandleId(E1I), 208, false)
    endif
endfunction

function EI2 takes nothing returns boolean 
    return OrderId2String(GetIssuedOrderId()) != "windwalk"
endfunction

function E12 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer DMI = GetHandleId(E1I)
    local boolean EO2 = LoadBoolean(hashTable, DMI, 214)
    call SaveInteger(hashTable, DMI, 211, GetIssuedOrderId())
    call SaveBoolean(hashTable, DMI, 207, false)
    if GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER then
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER then
        if EO2 or ZDI(GetUnitX(E1I), GetUnitY(E1I), GetOrderPointX(), GetOrderPointY()) > 800 then
            call SaveStr(hashTable, DMI, 206, "Point")
            call SaveReal(hashTable, DMI, 209, (GetOrderPointX()*1.0))
            call SaveReal(hashTable, DMI, 210, (GetOrderPointY()*1.0))
        else 
            call SaveBoolean(hashTable, DMI, 207, true)
        endif
    else 
        call SaveStr(hashTable, DMI, 206, "Instant")
    endif
    if EO2 then
        call SaveBoolean(hashTable, DMI, 208, true)
    endif
endfunction

function E22 takes nothing returns nothing
    local unit E1I = LoadUnitHandle(hashTable, GetHandleId(GetExpiredTimer()), 14)
    local integer DMI = GetHandleId(E1I)
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local string DK2 = LoadStr(hashTable, DMI, 206)
    if DK2 == "Point" and ZDI(GetUnitX(E1I), GetUnitY(E1I), LoadReal(hashTable, DMI, 209), LoadReal(hashTable, DMI, 210)) < 100 then
        call SaveBoolean(hashTable, DMI, 207, true)
    endif
endfunction

function E32 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local timer t2
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddAction(t, function E12)
    call TriggerAddCondition(t, Condition(function EI2))
    call SaveTriggerHandle(hashTable, GetHandleId(E1I), 204, t)
    set t2 = CreateTimer()
    call SaveUnitHandle(hashTable, GetHandleId(t2), 14, E1I)
    call TimerStart(t2, 0.3, true, function E22)
    call SaveTimerHandle(hashTable, GetHandleId(E1I), 205, t2)
endfunction

function E42 takes nothing returns nothing
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0LN') == 1 then
        call E32()
    endif
endfunction

function IS1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DV2))
    call TriggerAddAction(t, function DU2)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddAction(t, function E42)
endfunction

constant function ElunesArrow_RawCode takes nothing returns integer 
    return 'A0L8'
endfunction

constant function ElunesArrow_ArrowUnit takes nothing returns integer 
    return 'h005'
endfunction

constant function ElunesArrow_StunCode takes nothing returns integer 
    return 'A0L7'
endfunction

function E52 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0L8'
endfunction

function E62 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'A1RB') == 0 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(YO)) and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction

function E72 takes real R5O, real R6O, real HKI, real HLI returns integer 
    local real HJI = SquareRoot((HKI - R5O)*(HKI - R5O) + (HLI - R6O)*(HLI - R6O))
    return HCI(R2I(HJI/150), 10)
endfunction

function E82 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real HKI = GetUnitX(VDI)
    local real HLI = GetUnitY(VDI)
    local real VGI = constrainX(GetUnitX(VDI) + 30*Cos(LPO))
    local real VHI = constrainY(GetUnitY(VDI) + 30*Sin(LPO))
    local boolexpr BH1 = Condition(function E62)
    local group MNI = allocGroup()
    local unit YVI
    local unit GDI
    local real R5O
    local real R6O
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    set YO = E1I
    call GroupEnumUnitsInRange(MNI, VGI, VHI, 140, BH1)
    set GDI = FirstOfGroup(MNI)
    call releaseGroup(MNI)
    if GDI != null then
        if IsUnitType(GDI, UNIT_TYPE_HERO) == true then
            set QT0[GetPlayerId(GetOwningPlayer(E1I))] = QT0[GetPlayerId(GetOwningPlayer(E1I))] + 1
        endif
        set R5O = LoadReal(hashTable, DMI, 191)
        set R6O = LoadReal(hashTable, DMI, 192)
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', HKI, HLI, 0)
        call UnitAddAbility(YVI, 'A0L7')
        call SetUnitAbilityLevel(YVI, 'A0L7', E72(R5O, R6O, HKI, HLI))
        if IssueTargetOrder(YVI, "thunderbolt", GDI) then
        endif
        call UnitDamageTarget(E1I, GDI, 90*GetUnitAbilityLevel(E1I, 'A0L8'), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        call KillUnit(VDI)
        call ZCI(t)
    elseif (VGI - HMI)*(VGI - HMI) + (VHI - HNI)*(VHI - HNI) < 1600 then
        call KillUnit(VDI)
        call ZCI(t)
    endif
endfunction

function E92 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local real HKI = constrainX(GetUnitX(E1I))
    local real HLI = constrainY(GetUnitY(E1I))
    local location TKO = GetSpellTargetLoc()
    local real HMI = GetLocationX(TKO)
    local real HNI = GetLocationY(TKO)
    local real LPO = Atan2(HNI - HLI, HMI - HKI)
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    local unit VDI = CreateUnit(GetOwningPlayer(E1I), 'h005', HKI, HLI, LPO*bj_RADTODEG)
    set QR0[GetPlayerId(GetOwningPlayer(E1I))] = QR0[GetPlayerId(GetOwningPlayer(E1I))] + 1
    call RemoveLocation(TKO)
    call SetUnitFacing(VDI, LPO*bj_RADTODEG)
    call SetUnitPathing(VDI, false)
    set HMI = constrainX(HKI + 3000*Cos(LPO))
    set HNI = constrainY(HLI + 3000*Sin(LPO))
    call SaveReal(hashTable, DMI, 191, (HKI*1.0))
    call SaveReal(hashTable, DMI, 192, (HLI*1.0))
    call SaveReal(hashTable, DMI, 47, (HMI*1.0))
    call SaveReal(hashTable, DMI, 48, (HNI*1.0))
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call TimerStart(t, 0.035, true, function E82)
endfunction

function EA2 takes nothing returns boolean 
    local integer EB2 = QT0[GetPlayerId(GetTriggerPlayer())]
    local integer HWI = QR0[GetPlayerId(GetTriggerPlayer())]
    if GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())]) == 'N01V' and HWI > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, GetObjectName('n0GM') + " " + R2S(I2R(EB2)/I2R(HWI)*100) + "% (" + I2S(EB2) + "/" + I2S(HWI) + ")")
    endif
    return false
endfunction

function IN1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function E52))
    call TriggerAddAction(t, function E92)
    call preloadAblility('A0L7')
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-aa", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-aa", true)
    call TriggerAddCondition(t, Condition(function EA2))
    set t = null
endfunction

function EC2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0FN'
endfunction

function ED2 takes nothing returns boolean 
    local unit EE2 = GetFilterUnit()
    if IsUnitInGroup(EE2, D2) then
        return false
    endif
    if IsUnitEnemy(EE2, GetOwningPlayer(YO)) and GetUnitAbilityLevel(EE2, 'A04R') != 1 and GetUnitState(EE2, UNIT_STATE_LIFE) > 0 and IsUnitType(EE2, UNIT_TYPE_STRUCTURE) == false then
        return true
    endif
    return false
endfunction

function EF2 takes nothing returns nothing
    call UnitDamageTarget(YO, GetEnumUnit(), KO, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction

function EG2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit GTI = LoadUnitHandle(hashTable, DMI, 221)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local integer Q11 = LoadInteger(hashTable, DMI, 194)
    local group JO1 = LoadGroupHandle(hashTable, DMI, 133)
    local real QTO = GetUnitX(GTI)
    local real QRO = GetUnitY(GTI)
    local real VGI = QTO + 1000*0.05*Cos(LPO)
    local real VHI = QRO + 1000*0.05*Sin(LPO)
    local group MNI = allocGroup()
    set YO = GTI
    set KO = GetUnitAbilityLevel(GTI, 'A0FN')*75 + 25
    set D2 = JO1
    call GroupEnumUnitsInRange(MNI, QTO, QRO, 280, Condition(function ED2))
    call ForGroup(MNI, function EF2)
    call GroupAddGroup(MNI, JO1)
    call releaseGroup(MNI)
    set Q11 = Q11 - 1
    call SaveInteger(hashTable, DMI, 194, Q11)
    call SetUnitX(GTI, constrainX(VGI))
    call SetUnitY(GTI, constrainY(VHI))
    call SetUnitPosition(YVI, VGI, VHI)
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", QTO, QRO) )
    if Q11 == 0 then
        call RemoveUnit(YVI)
        call SetUnitVertexColor(GTI, 255, 255, 255, 255)
        call SaveBoolean(hashTable, GetHandleId(GTI), 225, false)
        call SetUnitInvulnerable(GTI, false)
        call SetUnitPathing(GTI, true)
        call releaseGroup(JO1)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set GTI = null
    set YVI = null
    set JO1 = null
    set MNI = null
    set t = null
    return false
endfunction

function EH2 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local real HKI = GetUnitX(GTI)
    local real HLI = GetUnitY(GTI)
    local location TKO = GetSpellTargetLoc()
    local real HMI = GetLocationX(TKO)
    local real HNI = GetLocationY(TKO)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local group JO1 = allocGroup()
    local unit YVI = CreateUnit(GetOwningPlayer(GTI), 'o00G', HKI, HLI, 0)
    local integer pid = GetPlayerId(GetOwningPlayer(GTI))
    call RemoveLocation(TKO)
    if GetSpellTargetUnit() != null then
        set HMI = GetUnitX(GetSpellTargetUnit())
        set HNI = GetUnitY(GetSpellTargetUnit())
    endif
    call SetUnitVertexColor(GTI, 255, 255, 255, 0)
    call SaveBoolean(hashTable, GetHandleId(GTI), 225, true)
    call SetUnitInvulnerable(GTI, true)
    call SetUnitPathing(GTI, false)
    call SetUnitPathing(YVI, false)
    call SaveUnitHandle(hashTable, DMI, 221, GTI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveGroupHandle(hashTable, DMI, 133, JO1)
    call SaveReal(hashTable, DMI, 13, (Atan2(HNI - HLI, HMI - HKI)*1.0))
    call SaveInteger(hashTable, DMI, 194, HDI(R2I(SquareRoot((HMI - HKI)*(HMI - HKI) + (HNI - HLI)*(HNI - HLI))/50), 1))
    call TriggerRegisterTimerEvent(t, 0.04, true)
    call TriggerAddCondition(t, Condition(function EG2))
    set t = null
endfunction

function RAI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EC2))
    call TriggerAddAction(t, function EH2)
endfunction

constant function ReplicateAbilityId takes nothing returns integer 
    return 'A0G8'
endfunction

constant function ReplicateMorphAbilityId takes nothing returns integer 
    return 'A0GC'
endfunction

constant function ReplicateMorphBuffId takes nothing returns integer 
    return 'B030'
endfunction

function EZ2 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local unit E1I = LoadUnitHandle(hashTable, GetHandleId(t), 14)
    local unit EV2 = LoadUnitHandle(hashTable, GetHandleId(E1I), 229)
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", GetUnitX(EV2), GetUnitY(EV2)) )
    call RemoveUnit(EV2)
    call UnitRemoveAbility(E1I, 'A0GC')
    call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A0G8', true)
    call FlushChildHashtable(hashTable, GetHandleId(t))
    call abandonTrigger(t)
endfunction

function EW2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0GC' then
        return true
    endif
    return false
endfunction

function EX2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer DMI = GetHandleId(E1I)
    local unit EV2 = LoadUnitHandle(hashTable, DMI, 229)
    local real x = GetUnitX(EV2)
    local real y = GetUnitY(EV2)
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", GetUnitX(E1I), GetUnitY(E1I)) )
    call KillUnit(EV2)
    call SetUnitX(E1I, x)
    call SetUnitY(E1I, y)
    call PanCameraToTimedForPlayer(GetOwningPlayer(E1I), x, y, 0)
    call IssueImmediateOrder(E1I, "stop")
endfunction

function EY2 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetSummonedUnit(), 'B030') > 0
endfunction

function EJ2 takes nothing returns nothing
    local unit E1I = GetSummoningUnit()
    local integer DMI = GetHandleId(E1I)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 228)
    local unit EV2 = GetSummonedUnit()
    local trigger t
    call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A0G8', false)
    call UnitAddAbility(E1I, 'A0GC')
    call SetUnitColor(EV2, GetPlayerColor(GetOwningPlayer(GDI)))
    call SaveUnitHandle(hashTable, DMI, 229, EV2)
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, EV2, EVENT_UNIT_DEATH)
    call TriggerAddAction(t, function EZ2)
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, E1I)
endfunction

function EK2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0G8'
endfunction

function EL2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    call SaveUnitHandle(hashTable, GetHandleId(E1I), 228, GDI)
endfunction

function RDI takes nothing returns nothing
    local trigger t
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EK2))
    call TriggerAddAction(t, function EL2)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function EY2))
    call TriggerAddAction(t, function EJ2)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EW2))
    call TriggerAddAction(t, function EX2)
endfunction

function EM2 takes unit E1I, integer EN2, integer ES2 returns nothing
    local integer ET2 = GetHeroAgi(E1I, false)
    local integer ER2 = GetHeroStr(E1I, false)
    local real K81 = GetUnitState(E1I, UNIT_STATE_MANA)
    if EN2 == 0 then
        if K81 >= ES2 and ET2 > 2 and isUnitUnavailable(E1I) == false then
            call SetUnitState(E1I, UNIT_STATE_MANA, K81 - ES2)
            call SetHeroAgi(E1I, ET2 - 2, true)
            call SetHeroStr(E1I, ER2 + 2, true)
        endif
    elseif EN2 == 1 then
        if K81 >= ES2 and ER2 > 2 and isUnitUnavailable(E1I) == false then
            call SetUnitState(E1I, UNIT_STATE_MANA, K81 - ES2)
            call SetHeroAgi(E1I, ET2 + 2, true)
            call SetHeroStr(E1I, ER2 - 2, true)
        endif
    endif
endfunction

function EP2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0KX')
    call EM2(E1I, 1, 20/FVI)
    set t = null
    set E1I = null
    return false
endfunction

function EQ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0KX')
    call EM2(E1I, 0, 20/FVI)
    set t = null
    set E1I = null
    return false
endfunction

function EU2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local trigger F02 = LoadTriggerHandle(hashTable, DMI, 226)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0KX')
    local integer l = LoadInteger(hashTable, DMI, 227)
    local real FI2 = 1.0/FVI
    if GetIssuedOrderId() == 852549 then
        if F02 != null then
            call FlushChildHashtable(hashTable, GetHandleId(F02))
            call abandonTrigger(F02)
        endif
        set F02 = CreateTrigger()
        call TriggerRegisterTimerEvent(F02, FI2, true)
        call TriggerAddCondition(F02, Condition(function EP2))
        call SaveUnitHandle(hashTable, GetHandleId(F02), 14, E1I)
        call SaveTriggerHandle(hashTable, DMI, 226, F02)
        call SaveInteger(hashTable, DMI, 227, GetIssuedOrderId())
    elseif GetIssuedOrderId() == 852546 then
        if F02 != null then
            call FlushChildHashtable(hashTable, GetHandleId(F02))
            call abandonTrigger(F02)
        endif
        set F02 = CreateTrigger()
        call TriggerRegisterTimerEvent(F02, FI2, true)
        call TriggerAddCondition(F02, Condition(function EQ2))
        call SaveUnitHandle(hashTable, GetHandleId(F02), 14, E1I)
        call SaveTriggerHandle(hashTable, DMI, 226, F02)
        call SaveInteger(hashTable, DMI, 227, GetIssuedOrderId())
    elseif GetIssuedOrderId() == 852550 then
        if F02 != null then
            call FlushChildHashtable(hashTable, GetHandleId(F02))
            call abandonTrigger(F02)
        endif
        call SaveTriggerHandle(hashTable, DMI, 226, null)
        call SaveInteger(hashTable, DMI, 227, GetIssuedOrderId())
    elseif GetIssuedOrderId() == 852547 then
        if F02 != null then
            call FlushChildHashtable(hashTable, GetHandleId(F02))
            call abandonTrigger(F02)
        endif
        call SaveTriggerHandle(hashTable, DMI, 226, null)
        call SaveInteger(hashTable, DMI, 227, GetIssuedOrderId())
    elseif GetIssuedOrderId() == 852548 and l != 852546 and l != 852546 then
        call EM2(E1I, 1, 20/FVI)
    elseif GetIssuedOrderId() == 852545 and l != 852546 and l != 852546 then
        call EM2(E1I, 0, 20/FVI)
    endif
    set t = null
    set E1I = null
    set F02 = null
    return false
endfunction

function F12 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GetTriggerUnit(), 'A0KX')
    if FVI == 1 then
        call UnitAddAbility(E1I, 'A0KW')
        call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_ORDER)
        call TriggerAddCondition(t, Condition(function EU2))
        call SaveTriggerHandle(hashTable, DMI, 226, null)
    else 
        call SetUnitAbilityLevel(E1I, 'A0KW', FVI)
    endif
    set t = null
endfunction

function FO2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0KX' and IsUnitIllusion(GetTriggerUnit()) == false then
        call F12()
    endif
    return false
endfunction

function RBI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function FO2))
    set t = null
endfunction

function F22 takes nothing returns nothing
    local unit GTI = LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 326)
    local real r
    local real g
    local real b
    local integer F32
    local integer F42
    local real F52
    local real F62
    if GetUnitTypeId(GTI) != 'O00P' then
        call DisableTrigger(GetTriggeringTrigger())
    elseif isUnitUnavailable(GTI) == false and LoadBoolean(hashTable, GetHandleId(GTI), 225) == false then
        set F32 = GetHeroAgi(GTI, true)
        set F42 = GetHeroStr(GTI, true)
        set F52 = RMaxBJ(75 + 2*(F32 - F42), 35)
        set r = F52
        set g = F52
        set b = F52
        call SetUnitVertexColorBJ(GTI, r, g, b, GetRandomReal(0.00, 10.00))
    endif
endfunction

function F72 takes nothing returns boolean 
    return GetUnitTypeId(GetTriggerUnit()) == 'O00P' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function F82 takes nothing returns nothing
    local trigger t
    if (LoadBoolean(hashTable, GetHandleId(GetTriggerUnit()), 327) == false) then
        set t = CreateTrigger()
        call SaveUnitHandle(hashTable, GetHandleId(t), 326, GetTriggerUnit())
        call SaveTriggerHandle(hashTable, GetHandleId(GetTriggerUnit()), 328, t)
        call TriggerAddAction(t, function F22)
        call TriggerRegisterTimerEvent(t, 1.0, true)
        call SaveBoolean(hashTable, GetHandleId(GetTriggerUnit()), 327, true)
        call UnitAddItem(GetTriggerUnit(), CreateItem('I00E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())))
    endif
endfunction

function R9I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, bj_mapInitialPlayableArea)
    call TriggerAddCondition(t, Condition(function F72))
    call TriggerAddAction(t, function F82)
endfunction

function F92 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0G6' and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
endfunction

function FA2 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GTI, 'A0G6')
    local unit YVI
    local location FB2
    local real LPO
    local integer F32 = GetHeroAgi(GTI, true)
    local integer F42 = GetHeroStr(GTI, true)
    local real F52 = I2R(F32)/I2R(F42)
    local real F62 = I2R(F42)/I2R(F32)
    local real FC2
    local real FD2
    local real FE2
    local real FF2
    local real FG2
    local real FH2
    local integer i1
    local integer i2
    local integer i3
    local string s1
    local string s2
    local string s3
    if F52 < 0.5 then
        set FC2 = 0.25
        set FD2 = 0
    elseif F52 > 1.5 then
        set FC2 = 0.75*FVI
        set FD2 = 0
    else 
        set FC2 = 0.25 + (F52 - 0.5)*(0.75*FVI - 0.25)
        set FD2 = 0
    endif
    if F62 < 0.5 then
        set FE2 = 0.25
        set FF2 = 100
    elseif F62 > 1.5 then
        set FE2 = 0.75*FVI
        set FF2 = 300
    else 
        set FF2 = 100 + (F62 - 0.5)*200
        set FE2 = 0.25 + (F62 - 0.5)*(0.75*FVI - 0.25)
    endif
    set FG2 = FD2 + FC2*F32
    set FH2 = FE2
    set i1 = R2I(FH2)
    set i2 = R2I(10*FH2 - i1*10)
    set i3 = R2I(100*FH2 - i2*10 - i1*100)
    set s1 = I2S(i1)
    set s2 = I2S(i2)
    set s3 = I2S(i3)
    set LPO = Atan2(GetUnitY(GDI) - GetUnitY(GTI), GetUnitX(GDI) - GetUnitX(GTI))
    set FB2 = Location(GetUnitX(GDI) + FF2*Cos(LPO), GetUnitY(GDI) + FF2*Sin(LPO))
    call SetUnitPositionLoc(GDI, FB2)
    call killDestructables(GetLocationX(FB2), GetLocationY(FB2), 200)
    call RemoveLocation(FB2)
    call ZKI("|c001ce6b9+" + I2S(R2I(FG2)) + "|r |c00ff0303+" + s1 + "." + s2 + s3 + "|r", 1, GDI, 0.023, 255, 255, 255, 216)
    call UnitDamageTarget(GTI, GDI, FG2, true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    call YZI(GTI, GDI, FH2)
    set GTI = null
    set GDI = null
    set YVI = null
    set FB2 = null
endfunction

function RCI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function F92))
    call TriggerAddAction(t, function FA2)
endfunction

function FZ2 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local unit GDI = GetEnumUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GTI), 'e00C', GetUnitX(GDI), GetUnitY(GDI), 270)
    call UnitAddAbility(YVI, 'A07T')
    call SetUnitAbilityLevel(YVI, 'A07T', GetUnitAbilityLevel(GTI, 'A07U'))
    call UnitApplyTimedLife(YVI, 'BTLF', 5.00)
    call IssueTargetOrder(YVI, "sleep", GDI)
    call SetUnitPathing(YVI, false)
    call SetUnitInvulnerable(YVI, true)
    call UnitAddAbility(YVI, 'Aloc')
endfunction

function FV2 takes nothing returns boolean 
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction

function FW2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A07U'
endfunction

function FX2 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GTI, 'A07U')
    local group MNI = allocGroup()
    local boolexpr FY2 = Condition(function FV2)
    call GroupEnumUnitsInRange(MNI, GetUnitX(GTI), GetUnitY(GTI), 500 + 500*FVI, FY2)
    call ForGroup(MNI, function FZ2)
    call releaseGroup(MNI)
endfunction

function REI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FW2))
    call TriggerAddAction(t, function FX2)
endfunction

function FJ2 takes unit E4I returns integer 
    local real r = GetRandomReal(0, 100)
    local integer FVI = GetUnitAbilityLevel(E4I, 'A088')
    local boolean PVO = getSpecificItem(E4I, itemId[XK0]) != null
    local integer FK2 = 0
    local integer id = GetPlayerId(GetOwningPlayer(E4I))
    if FVI == 1 then
        set UI0[id] = UI0[id] + 1
        if PVO then
            if r < 30 then
                set QQ0[id] = QQ0[id] + 1
                set FK2 = 3
            elseif r < 60 then
                set QP0[id] = QP0[id] + 1
                set FK2 = 2
            endif
        else 
            if r < 25 then
                set FK2 = 2
                set QP0[id] = QP0[id] + 1
            endif
        endif
    elseif FVI == 2 then
        set UI0[id] = UI0[id] + 1
        if PVO then
            if r < 17.5 then
                set FK2 = 4
                set QU0[id] = QU0[id] + 1
            elseif r < 35 then
                set FK2 = 3
                set QQ0[id] = QQ0[id] + 1
            elseif r < 70 then
                set FK2 = 2
                set QP0[id] = QP0[id] + 1
            endif
        else 
            if r < 20 then
                set FK2 = 3
                set QQ0[id] = QQ0[id] + 1
            elseif r < 40 then
                set FK2 = 2
                set QP0[id] = QP0[id] + 1
            endif
        endif
    elseif FVI == 3 then
        set UI0[id] = UI0[id] + 1
        if PVO then
            if r < 10 then
                set FK2 = 5
                set U00[id] = U00[id] + 1
            elseif r < 20 then
                set FK2 = 4
                set QU0[id] = QU0[id] + 1
            elseif r < 40 then
                set FK2 = 3
                set QQ0[id] = QQ0[id] + 1
            elseif r < 80 then
                set FK2 = 2
                set QP0[id] = QP0[id] + 1
            endif
        else 
            if r < 12.5 then
                set FK2 = 4
                set QU0[id] = QU0[id] + 1
            elseif r < 25 then
                set FK2 = 3
                set QQ0[id] = QQ0[id] + 1
            elseif r < 50 then
                set FK2 = 2
                set QP0[id] = QP0[id] + 1
            endif
        endif
    endif
    return FK2
endfunction

function FL2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FM2 = LoadInteger(hashTable, DMI, 300)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer FN2 = LoadInteger(hashTable, DMI, 299)
    local unit YVI
    if GetTriggerEvalCount(t) > FM2 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
        call UnitAddAbility(YVI, FN2)
        call SetUnitAbilityLevel(YVI, FN2, FVI)
        call IssueTargetOrder(YVI, "thunderbolt", GDI)
    endif
    set t = null
    set GDI = null
    set GCI = null
    set YVI = null
    return false
endfunction

function FS2 takes integer r returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FN2 = GetSpellAbilityId()
    local integer FVI = GetUnitAbilityLevel(GCI, FN2)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    if r == 2 then
        call ZJI(GetObjectName('n0K7'), 5, GetTriggerUnit(), 255, 0, 0)
    elseif r == 3 then
        call ZJI(GetObjectName('n0JT'), 5, GetTriggerUnit(), 255, 0, 0)
    elseif r == 4 then
        call ZJI(GetObjectName('n0K8'), 5, GetTriggerUnit(), 255, 0, 0)
    elseif r == 5 then
        call ZJI(GetObjectName('n0JO'), 5, GetTriggerUnit(), 255, 0, 0)
    endif
    set r = r - 1
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 300, r)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 299, FN2)
    call TriggerRegisterTimerEvent(t, 0.3, true)
    call TriggerAddCondition(t, Condition(function FL2))
    set t = null
    set GDI = null
    set GCI = null
endfunction

function FT2 takes nothing returns boolean 
    local integer r
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A088') > 0 and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false and (GetSpellAbilityId() == 'A04W' or GetSpellAbilityId() == 'A08D' or GetSpellAbilityId() == 'A08A' or GetSpellAbilityId() == 'A089') then
        set r = FJ2(GetTriggerUnit())
        if r > 1 then
            call FS2(r)
        endif
    endif
    return false
endfunction

function FR2 takes nothing returns boolean 
    local integer id = GetPlayerId(GetTriggerPlayer())
    local string s1
    local string s2
    local string s3
    local string s4
    local string s5
    local string s6
    if UI0[id] > 0 then
        set s1 = GetObjectName('n0JH') + " " + I2S(UI0[id])
        set s2 = GetObjectName('n0JM') + " " + I2S(QP0[id] + QQ0[id] + QU0[id] + U00[id]) + " (" + I2S((QP0[id] + QQ0[id] + QU0[id] + U00[id])*100/UI0[id]) + "%)"
        set s3 = GetObjectName('n0JL') + " " + I2S(QP0[id]) + " (" + I2S(100*QP0[id]/UI0[id]) + "%)"
        set s4 = GetObjectName('n0JK') + " " + I2S(QQ0[id]) + " (" + I2S(100*QQ0[id]/UI0[id]) + "%)"
        set s5 = GetObjectName('n0JJ') + " " + I2S(QU0[id]) + " (" + I2S(100*QU0[id]/UI0[id]) + "%)"
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, s1)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, s2)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, s3)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, s4)
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, s5)
    endif
    return false
endfunction

function RFI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FT2))
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-mc", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-mc", true)
    call TriggerAddCondition(t, Condition(function FR2))
    set t = null
endfunction

function FP2 takes nothing returns boolean 
    local unit EE2 = GetFilterUnit()
    local unit GTI = GetTriggerUnit()
    if IsUnitAlly(EE2, GetOwningPlayer(GTI)) and GetUnitState(EE2, UNIT_STATE_LIFE) > 0 and GetUnitAbilityLevel(EE2, 'Bblo') == 0 then
        if (GetOwningPlayer(EE2) == sentinelPlayers[0] or GetOwningPlayer(EE2) == scourgePlayers[0]) then
            if (GetUnitTypeId(EE2) == 'ugho' or GetUnitTypeId(EE2) == 'u001' or GetUnitTypeId(EE2) == 'unec' or GetUnitTypeId(EE2) == 'u002') then
                return true
            endif
            if (GetUnitTypeId(EE2) == 'esen' or GetUnitTypeId(EE2) == 'e00V' or GetUnitTypeId(EE2) == 'edry' or GetUnitTypeId(EE2) == 'e00W') then
                return true
            endif
            return false
        elseif IsUnitType(EE2, UNIT_TYPE_HERO) == true then
            return true
        endif
    endif
    return false
endfunction

function FQ2 takes integer r returns nothing
    local unit GTI = GetTriggerUnit()
    local integer FVI = r
    local group MNI = allocGroup()
    local unit YVI
    local unit SNI
    local integer FDI = GetSpellAbilityId()
    local integer EUI = 1
    if r == 2 then
        call ZJI(GetObjectName('n0K7'), 5, GetTriggerUnit(), 255, 0, 0)
    elseif r == 3 then
        call ZJI(GetObjectName('n0JT'), 5, GetTriggerUnit(), 255, 0, 0)
    elseif r == 4 then
        call ZJI(GetObjectName('n0K8'), 5, GetTriggerUnit(), 255, 0, 0)
    elseif r == 5 then
        call ZJI(GetObjectName('n0JO'), 5, GetTriggerUnit(), 255, 0, 0)
    endif
    set r = r - 1
    call GroupEnumUnitsInRange(MNI, GetUnitX(GTI), GetUnitY(GTI), 600, Condition(function FP2))
    if GTI != GetSpellTargetUnit() then
        call GroupAddUnit(MNI, GTI)
    endif
    loop
        exitwhen EUI > FVI
        set EUI = EUI + 1
        set YVI = CreateUnit(GetOwningPlayer(GTI), 'e00C', GetUnitX(GTI), GetUnitY(GTI), 270)
        call UnitAddAbility(YVI, FDI)
        call SetUnitAbilityLevel(YVI, FDI, GetUnitAbilityLevel(GTI, FDI))
        call UnitApplyTimedLife(YVI, 'BTLF', 1.0)
        set SNI = GroupPickRandomUnit(MNI)
        call IssueTargetOrder(YVI, "bloodlust", SNI)
        call SetUnitPathing(YVI, false)
        call SetUnitInvulnerable(YVI, true)
        call UnitAddAbility(YVI, 'Aloc')
        call GroupRemoveUnit(MNI, SNI)
    endloop
    call releaseGroup(MNI)
endfunction

function FU2 takes nothing returns boolean 
    local integer r
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A088') > 0 and (GetSpellAbilityId() == 'A083' or GetSpellAbilityId() == 'A08I' or GetSpellAbilityId() == 'A08G' or GetSpellAbilityId() == 'A08F') then
        set r = FJ2(GetTriggerUnit())
        if r > 1 then
            call FQ2(r)
        endif
    endif
    return false
endfunction

function RGI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FU2))
    set t = null
endfunction

constant function Purification_RawCode takes nothing returns integer 
    return 'A08N'
endfunction

function G02 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A08N'
endfunction

function GI2 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') != 1 and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction

function G12 takes nothing returns nothing
    call doDamage(GetTriggerUnit(), GetEnumUnit(), 3, KO)
endfunction

function GO2 takes nothing returns nothing
    local boolexpr BH1 = Condition(function GI2)
    local group MNI = allocGroup()
    local real x = GetUnitX(GetSpellTargetUnit())
    local real y = GetUnitY(GetSpellTargetUnit())
    set KO = 90*GetUnitAbilityLevel(GetTriggerUnit(), 'A08N')
    if GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) > 1 then
        call SetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE, GetUnitState(GetSpellTargetUnit(), UNIT_STATE_LIFE) + KO)
    endif
    call GroupEnumUnitsInRange(MNI, x, y, 250, BH1)
    call ForGroup(MNI, function G12)
    call releaseGroup(MNI)
endfunction

function RHI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function G02))
    call TriggerAddAction(t, function GO2)
endfunction

function G22 takes nothing returns boolean 
    local unit G32 = GetSummonedUnit()
    local unit YVI
    local unit GDI
    if GetUnitAbilityLevel(G32, 'B098') > 0 then
        set YVI = GetSummoningUnit()
        set GDI = LoadUnitHandle(hashTable, GetHandleId(YVI), 303)
        call SetUnitX(G32, GetUnitX(GDI))
        call SetUnitY(G32, GetUnitY(GDI))
        call IssueTargetOrder(G32, "attack", GDI)
    endif
    set G32 = null
    set YVI = null
    set GDI = null
    return false
endfunction

function G42 takes player p, unit GDI, integer FVI returns nothing
    local unit YVI = CreateUnit(p, 'e00E', GetUnitX(GDI), GetUnitX(GDI), 0)
    local integer JXI
    call SaveUnitHandle(hashTable, GetHandleId(YVI), 303, GDI)
    if FVI == 1 then
        set JXI = 'A10H'
    elseif FVI == 2 then
        set JXI = 'A10G'
    elseif FVI == 3 then
        set JXI = 'A10I'
    else 
        set JXI = 'A10F'
    endif
    call UnitAddAbility(YVI, JXI)
    call IssueTargetOrderById(YVI, 852274, playerHero[GetPlayerId(p)])
    set YVI = null
endfunction

function G52 takes player p, unit GDI, integer FVI, boolean G62, boolean G72 returns nothing
    local real GFI = 50 + 50*FVI
    local unit YVI
    local integer JXI
    if G72 then
        set YVI = CreateUnit(p, 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
        call UnitAddAbility(YVI, 'A10C')
        call SetUnitAbilityLevel(YVI, 'A10C', FVI)
        call IssueTargetOrder(YVI, "cripple", GDI)
        call doDamage(YVI, GDI, 1, GFI)
        if G62 then
            call G42(p, GDI, FVI)
        endif
    endif
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl", GDI, "origin") )
    set YVI = null
endfunction

function G82 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local boolean YJI = LoadBoolean(hashTable, DMI, 302)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real x = GetUnitX(VDI)
    local real y = GetUnitY(VDI)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    local real VEI = 1000*0.035
    local real VFI = getAngle(x, y, HMI, HNI)
    local real VGI = x + VEI*Cos(VFI*bj_DEGTORAD)
    local real VHI = y + VEI*Sin(VFI*bj_DEGTORAD)
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    call SetUnitFacing(VDI, VFI)
    if ZPI(HMI, HNI, VGI, VHI) <= VEI then
        call G52(p, GDI, FVI, true, YJI)
        call KillUnit(VDI)
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set VDI = null
    return false
endfunction

function G92 takes unit GCI, integer FVI, unit GDI, boolean YJI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = CreateUnit(GetOwningPlayer(GCI), 'h06L', GetUnitX(GCI), GetUnitY(GCI), getAngle(GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI)))
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(GCI))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveBoolean(hashTable, DMI, 302, YJI)
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call TriggerRegisterTimerEvent(t, 0.035, true)
    call TriggerAddCondition(t, Condition(function G82))
    set t = null
endfunction

function GA2 takes nothing returns boolean 
    if IsUnitIllusion(GetFilterUnit()) == true and GetUnitTypeId(GetFilterUnit()) == 'Ogrh' and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit()) then
        call G92(GetFilterUnit(), GetUnitAbilityLevel(GetTriggerUnit(), 'A10D'), GetSpellTargetUnit(), false)
    endif
    return false
endfunction

function GB2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A10D')
    local unit GDI = GetSpellTargetUnit()
    local group g = allocGroup()
    local boolean GC2 = (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0)
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 700, Condition(function GA2))
    if GC2 then
        call G92(E1I, FVI, GDI, false)
    else 
        call G92(E1I, FVI, GDI, true)
    endif
    call releaseGroup(g)
    set E1I = null
    set GDI = null
    set g = null
endfunction

function GD2 takes nothing returns boolean 
    if IsUnitIllusion(GetFilterUnit()) == true and GetUnitTypeId(GetFilterUnit()) == 'Ogrh' and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit()) then
        call SetUnitFacing(GetFilterUnit(), OK)
        call SetUnitAnimation(GetFilterUnit(), "slam")
    endif
    return false
endfunction

function GE2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local group g = allocGroup()
    set OK = getAngle(GetUnitX(E1I), GetUnitY(E1I), GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()))
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 700, Condition(function GD2))
    call releaseGroup(g)
    set E1I = null
    set g = null
endfunction

function GF2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A10D' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call GB2()
        else 
            call GE2()
        endif
    endif
    return false
endfunction

function RWI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GF2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function GF2))
    call preloadAblility('A10C')
    call preloadAblility('A10H')
    call preloadAblility('A10G')
    call preloadAblility('A10I')
    call preloadAblility('A10F')
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function G22))
    set t = null
endfunction

function GG2 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetFilterUnit(), 'B03B') > 0 then
        set QJ = QJ + 1
    endif
    return false
endfunction

function GH2 takes nothing returns nothing
    local unit GZ2 = GetAttacker()
    local group g = allocGroup()
    local integer F5I = GetRandomInt(1, 100)
    local integer GV2 = GetUnitAbilityLevel(GZ2, 'A0DB')
    local integer GW2 = GetUnitAbilityLevel(GZ2, 'A0YK')
    local unit YVI
    set QJ = 0
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(GZ2), Condition(function GG2))
    call releaseGroup(g)
    if QJ < 6 then
        if IsUnitIllusion(GZ2) == false and F5I <= (3*GV2 + 2*GW2) then
            set YVI = CreateUnit(GetOwningPlayer(GZ2), 'e00E', GetUnitX(GZ2), GetUnitY(GZ2), 0)
            call UnitAddAbility(YVI, 'A0DD')
            call IssueTargetOrderById(YVI, 852274, GZ2)
        endif
        if IsUnitIllusion(GZ2) == true and F5I <= (1 + 2*GW2) and GW2 > 0 then
            set YVI = CreateUnit(GetOwningPlayer(GZ2), 'e00E', GetUnitX(GZ2), GetUnitY(GZ2), 0)
            call UnitAddAbility(YVI, 'A0DD')
            call IssueTargetOrderById(YVI, 852274, GZ2)
        endif
    endif
    set GZ2 = null
    set g = null
    set YVI = null
endfunction

function GX2 takes nothing returns boolean 
    if (GetUnitAbilityLevel(GetAttacker(), 'B03B') > 0 or GetUnitAbilityLevel(GetAttacker(), 'B03A') > 0) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) == true then
        call GH2()
    endif
    return false
endfunction

function RVI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function GX2))
    set t = null
endfunction

function GY2 takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(u), 'e00E', GetUnitX(u), GetUnitY(u), 0)
    call UnitAddAbility(YVI, 'A0DC')
    call IssueTargetOrderById(YVI, 852274, u)
    set u = null
    set YVI = null
endfunction

function GJ2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0D7' then
        call GY2()
    endif
    return false
endfunction

function RXI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GJ2))
    set t = null
endfunction

function GK2 takes nothing returns boolean 
    if GetUnitTypeId(GetFilterUnit()) == heroId[21] and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit()) and IsUnitIllusion(GetFilterUnit()) == false then
        set myUnit = GetFilterUnit()
    endif
    return false
endfunction

function GL2 takes nothing returns nothing
    local unit G32 = GetTriggerUnit()
    local unit GCI
    local group g = allocGroup()
    local real x
    local real y
    set myUnit = null
    call GroupEnumUnitsInRange(g, GetUnitX(G32), GetUnitY(G32), 1000, Condition(function GK2))
    call releaseGroup(g)
    set GCI = myUnit
    if GCI != null then
        set x = GetUnitX(GCI)
        set y = GetUnitY(GCI)
        call SetUnitPosition(G32, x, y)
    endif
    set x = GetUnitX(G32) + 600*Cos(GetUnitFacing(G32)*bj_DEGTORAD)
    set y = GetUnitY(G32) + 600*Sin(GetUnitFacing(G32)*bj_DEGTORAD)
    call IssuePointOrder(G32, "move", x, y)
    set G32 = null
    set GCI = null
    set g = null
endfunction

function GM2 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B03A') > 0 then
        call GL2()
    endif
    return false
endfunction

function RZI takes nothing returns nothing
    local trigger t = CreateTrigger()
    local region r = CreateRegion()
    call RegionAddRect(r, bj_mapInitialPlayableArea)
    call TriggerRegisterEnterRegion(t, r, Condition(function returnTrue1))
    call TriggerAddCondition(t, Condition(function GM2))
    set t = null
    set r = null
endfunction

function GN2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A07Z'
endfunction

function GS2 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 0
endfunction

function GT2 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GTI), 'e022', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 270)
    call UnitAddAbility(YVI, 'A06T')
    call SetUnitAbilityLevel(YVI, 'A06T', GetUnitAbilityLevel(GTI, 'A07Z'))
    call IssueTargetOrder(YVI, "entanglingroots", GetEnumUnit())
endfunction

function GR2 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function GS2)
    call GroupEnumUnitsInRange(MNI, GetUnitX(GTI), GetUnitY(GTI), 750, BH1)
    call ForGroup(MNI, function GT2)
    call releaseGroup(MNI)
endfunction

function RYI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GN2))
    call TriggerAddAction(t, function GR2)
endfunction

function GP2 takes unit GCI, integer FVI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GCI), GetUnitY(GCI), 0)
    call UnitAddAbility(YVI, 'A1GB')
    call SetUnitAbilityLevel(YVI, 'A1GB', FVI)
    call IssueTargetOrder(YVI, "invisibility", GCI)
    set YVI = null
endfunction

function GQ2 takes nothing returns boolean 
    return GetUnitTypeId(GetFilterUnit()) == 'h0BT'
endfunction

function GU2 takes unit E1I returns boolean 
    local group g = allocGroup()
    local boolean KJI = false
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 375, Condition(function GQ2))
    if FirstOfGroup(g) != null then
        set KJI = true
    endif
    call releaseGroup(g)
    return KJI
endfunction

function H02 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit E1I = D9I(GHI)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED and LoadBoolean(hashTable, DMI, 329) and GetAttacker() == E1I then
        call UnitRemoveAbility(E1I, 'B021')
        call UnitRemoveAbility(E1I, 'A1GA')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if GetTriggerEventId() != EVENT_PLAYER_UNIT_ATTACKED and GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT then
            set DHI = DHI + 1
            call SaveInteger(hashTable, DMI, 34, DHI)
        elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A01Z' and GetTriggerUnit() == E1I then
            call DisableTrigger(GetTriggeringTrigger())
            call GP2(E1I, FVI)
            call EnableTrigger(GetTriggeringTrigger())
            call SaveInteger(hashTable, DMI, 34, 0)
        endif
        if V5I(GetUnitX(E1I), GetUnitY(E1I), 375) == false and GU2(E1I) == false then
            call UnitRemoveAbility(E1I, 'B021')
            call UnitRemoveAbility(E1I, 'A1GA')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        elseif DHI > (15*FVI) then
            if LoadBoolean(hashTable, DMI, 329) then
                call UnitRemoveAbility(E1I, 'B021')
                call UnitRemoveAbility(E1I, 'A1GA')
            endif
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        elseif LoadBoolean(hashTable, DMI, 329) and GetUnitAbilityLevel(E1I, 'B021') == 0 and GetUnitAbilityLevel(E1I, 'A1GA') > 0 then
            call DisableTrigger(GetTriggeringTrigger())
            call GP2(E1I, FVI)
            call EnableTrigger(GetTriggeringTrigger())
        endif
    endif
    set t = null
    set E1I = null
    return false
endfunction

function HI2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveInteger(hashTable, DMI, 30, DBI(GetSpellTargetUnit()))
    call SaveInteger(hashTable, DMI, 5, GetUnitAbilityLevel(GetTriggerUnit(), 'A01Z'))
    call SaveInteger(hashTable, DMI, 34, 0)
    call TriggerAddCondition(t, Condition(function H02))
    call TriggerRegisterTimerEvent(t, 1, true)
    if GetTriggerUnit() == GetSpellTargetUnit() then
        call UnitAddAbility(GetTriggerUnit(), 'A1GA')
        call SaveBoolean(hashTable, DMI, 329, true)
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    endif
    set t = null
endfunction

function H12 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A01Z' then
        call HI2()
    endif
    return false
endfunction

function RJI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function H12))
    set t = null
endfunction

function HO2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    call SetUnitAnimationByIndex(GCI, 6)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function H22 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1G7')
    local location l = GetSpellTargetLoc()
    local real x = constrainX(GetLocationX(l))
    local real y = constrainY(GetLocationY(l))
    local destructable d
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    local rect r1 = Rect(-7840.0, 2976.0, 8032.0, 7680.0)
    local rect r2 = Rect(-832.0, -832.0, 8192.0, 3040.0)
    local rect r3 = Rect(3232.0, -3136.0, 8096.0, -480.0)
    local rect r4 = Rect(352.0, -1760.0, 3296.0, 512.0)
    local rect r5 = Rect(-2624.0, 1376.0, -1120.0, 2688.0)
    local rect r6 = Rect(-5024.0, 2336.0, -2496.0, 3488.0)
    local region r = CreateRegion()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call RegionAddRect(r, r1)
    call RegionAddRect(r, r2)
    call RegionAddRect(r, r3)
    call RegionAddRect(r, r4)
    call RegionAddRect(r, r5)
    call RegionAddRect(r, r6)
    if IsPointInRegion(r, x, y) == true then
        set d = CreateDestructable('B003', x, y, 0, 1, 1)
    else 
        set d = CreateDestructable('B002', x, y, 0, 1, 1)
        call KillDestructable(d)
        call DestructableRestoreLife(d, GetDestructableMaxLife(d), true)
    endif
    call UnitAddAbility(YVI, 'A01V')
    call SetUnitAbilityLevel(YVI, 'A01V', FVI)
    call IssueTargetOrder(YVI, "sentinel", d)
    call SetUnitAnimationByIndex(GCI, 6)
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl", x, y) )
    call RemoveRegion(r)
    call RemoveRect(r1)
    call RemoveRect(r2)
    call RemoveRect(r3)
    call RemoveRect(r4)
    call RemoveRect(r5)
    call RemoveRect(r6)
    call RemoveLocation(l)
    call TriggerRegisterTimerEvent(t, 0.1, false)
    call TriggerAddCondition(t, Condition(function HO2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set t = null
    set GCI = null
    set l = null
    set d = null
    set YVI = null
    set r = null
    set r1 = null
    set r2 = null
    set r3 = null
    set r4 = null
endfunction

function H32 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1G7' then
        call H22()
    endif
    return false
endfunction

function Register_EyesInTheForest takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function H32))
    set t = null
endfunction

function H42 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(UO0) and (GetUnitTypeId(GetFilterUnit()) == 'h0BT' or GetUnitTypeId(GetFilterUnit()) == 'h0BU') then
        if getDistance(GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()), U20, U30) < U40 then
            set U10 = GetFilterUnit()
            set U40 = getDistance(GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()), U20, U30)
        endif
    endif
    return false
endfunction

function H52 takes unit GCI, real x, real y returns unit 
    local group g = allocGroup()
    set U10 = null
    set UO0 = GCI
    set U20 = x
    set U30 = y
    set U40 = 99999
    call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function H42))
    call releaseGroup(g)
    set g = null
    return U10
endfunction

function H62 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit AW2
    local unit GDI
    local group g
    local real LLI
    local real x
    local real y
    local integer H72
    local real hp
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(YVI, 'Apiv')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A1QV' then
            if GetSpellTargetUnit() != null then
                set GDI = GetSpellTargetUnit()
            else 
                set GDI = H52(GCI, GetSpellTargetX(), GetSpellTargetY())
            endif
            if GDI != null and GDI == YVI then
                set LLI = LoadReal(hashTable, DMI, 442)
                set x = GetUnitX(YVI)
                set y = GetUnitY(YVI)
                set hp = GetUnitState(YVI, UNIT_STATE_LIFE)
                set H72 = GetUnitTypeId(YVI)
                call FlushChildHashtable(hashTable, DMI)
                call abandonTrigger(t)
                call ShowUnit(YVI, false)
                call KillUnit(YVI)
                set t = CreateTrigger()
                set DMI = GetHandleId(t)
                if H72 == 'h0BU' then
                    set YVI = CreateUnit(GetOwningPlayer(GCI), 'h0BT', x, y, 0)
                else 
                    set YVI = CreateUnit(GetOwningPlayer(GCI), 'h0BU', x, y, 0)
                endif
                call SetUnitState(YVI, UNIT_STATE_LIFE, hp)
                call UnitApplyTimedLife(YVI, 'BTLF', 480 - (TimerGetElapsed(M) - LLI))
                call TriggerRegisterUnitEvent(t, YVI, EVENT_UNIT_DEATH)
                call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
                call TriggerRegisterTimerEvent(t, 0.2, true)
                call TriggerAddCondition(t, Condition(function H62))
                call SaveUnitHandle(hashTable, DMI, 19, YVI)
                call SaveUnitHandle(hashTable, DMI, 2, GCI)
                call SaveReal(hashTable, DMI, 442, (LLI*1.0))
            endif
        endif
    elseif GetUnitTypeId(YVI) == 'h0BU' then
        set myUnit = YVI
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, GetUnitX(YVI), GetUnitY(YVI), 525, Condition(function filterUnitInjurable))
        set GDI = GroupPickRandomUnit(g)
        call releaseGroup(g)
        if GDI != null then
            call WOI(CreateFogModifierRadius(GetOwningPlayer(YVI), FOG_OF_WAR_VISIBLE, GetUnitX(GDI), GetUnitY(GDI), 200, true, false), 2)
            set AW2 = CreateUnit(GetOwningPlayer(YVI), 'e00E', GetUnitX(YVI), GetUnitY(YVI), 0)
            call UnitAddAbility(AW2, 'A1R4')
            call SetUnitAbilityLevel(AW2, 'A1R4', GetUnitAbilityLevel(GCI, 'A1G7'))
            call IssueTargetOrder(AW2, "thunderbolt", GDI)
            set LLI = LoadReal(hashTable, DMI, 442)
            set x = GetUnitX(YVI)
            set y = GetUnitY(YVI)
            set hp = GetUnitState(YVI, UNIT_STATE_LIFE)
            set H72 = GetUnitTypeId(YVI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call ShowUnit(YVI, false)
            call KillUnit(YVI)
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            set YVI = CreateUnit(GetOwningPlayer(GCI), 'h0BT', x, y, 0)
            call SetUnitState(YVI, UNIT_STATE_LIFE, hp)
            call UnitApplyTimedLife(YVI, 'BTLF', 480 - (TimerGetElapsed(M) - LLI))
            call TriggerRegisterUnitEvent(t, YVI, EVENT_UNIT_DEATH)
            call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
            call TriggerRegisterTimerEvent(t, 0.2, true)
            call TriggerAddCondition(t, Condition(function H62))
            call SaveUnitHandle(hashTable, DMI, 19, YVI)
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            call SaveReal(hashTable, DMI, 442, (LLI*1.0))
        endif
    endif
    set t = null
    set YVI = null
    set g = null
    set AW2 = null
    return false
endfunction

function H82 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1G7')
    local real x = GetSpellTargetX()
    local real y = GetSpellTargetY()
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'h0BT', x, y, 0)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitApplyTimedLife(YVI, 'BTLF', 480)
    call TriggerRegisterUnitEvent(t, YVI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddCondition(t, Condition(function H62))
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 442, (TimerGetElapsed(M)*1.0))
    call UnitAddAbility(GCI, 'A1QV')
    set t = null
    set GCI = null
    set YVI = null
endfunction

function H92 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1G7' then
        call H82()
    endif
    return false
endfunction

function RKI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function H92))
    set t = null
endfunction

function HA2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    if isUnitUnavailable(GCI) == false then
        call UnitAddAbility(YVI, 'A0LS')
        call SetUnitAbilityLevel(YVI, 'A0LS', GetUnitAbilityLevel(GCI, 'A0MC'))
        call IssueTargetOrder(YVI, "soulburn", GDI)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
    return false
endfunction

function HB2 takes nothing returns boolean 
    local unit GDI = GetTriggerUnit()
    local unit GCI = LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2)
    local trigger t
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B05V') > 0 and GetUnitAbilityLevel(GetTriggerUnit(), 'A04R') == 0 and GetSpellAbilityId() != 'AIbk' and GetSpellAbilityId() != 'A05Z' and GetSpellAbilityId() != 'A0FP' and GetSpellAbilityId() != 'A0QY' and GetSpellAbilityId() != 'A06X' and GetSpellAbilityId() != 'A0AQ' and GetSpellAbilityId() != 'A0VA' and GetSpellAbilityId() != 'A0VB' and GetSpellAbilityId() != 'A0V9' and GetSpellAbilityId() != 'A12W' and GetSpellAbilityId() != 'A06K' and GetSpellAbilityId() != 'Aeat' and GetSpellAbilityId() != 'A0JY' and GetSpellAbilityId() != 'A0FO' and GetSpellAbilityId() != 'A1NI' and GetSpellAbilityId() != 'A1MI' and GetSpellAbilityId() != 'A1Q8' and GetSpellAbilityId() != 'A1RA' and GetSpellAbilityId() != 'A1QV' then
        if F7I(GCI) == false and IsUnitEnemy(GDI, GetOwningPlayer(GCI)) == true then
            set t = CreateTrigger()
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_SPELL_ENDCAST)
            call TriggerAddCondition(t, Condition(function HA2))
            call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
            call SaveUnitHandle(hashTable, GetHandleId(t), 17, GDI)
            set t = null
        endif
    endif
    set GDI = null
    set GCI = null
    return false
endfunction

function HC2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit CP1 = GetTriggerUnit()
    if IsUnitType(CP1, UNIT_TYPE_HERO) == true and GetUnitTypeId(CP1) != 'H00J' and IsUnitIllusion(CP1) == false and IsUnitInRange(GCI, CP1, 950) and isUnitUnavailable(GCI) == false and IsUnitAlly(GCI, GetOwningPlayer(CP1)) == false then
        set U50[GetPlayerId(GetOwningPlayer(GCI))] = U50[GetPlayerId(GetOwningPlayer(GCI))] + 1
        call ZKI("+1 " + GetObjectName('n0JP'), 3, GCI, 0.023, 0, 255, 0, 230)
        call ZKI("-1 " + GetObjectName('n0JP'), 3, CP1, 0.023, 255, 0, 0, 230)
        call SetHeroInt(CP1, GetHeroInt(CP1, false) - 1, true)
        call SetHeroInt(GCI, GetHeroInt(GCI, false) + 1, true)
    endif
    set t = null
    set GCI = null
    set CP1 = null
    return false
endfunction

function HD2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HB2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function HC2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GCI = null
    set t = null
endfunction

function HE2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0MC' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0MC') == 1 then
        call HD2()
    endif
    return false
endfunction

function HF2 takes nothing returns boolean 
    local integer HWI = U50[GetPlayerId(GetTriggerPlayer())]
    if GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())]) == 'N01A' and HWI > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, GetObjectName('n0HM') + " " + I2S(HWI))
    endif
    return false
endfunction

function RNI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function HE2))
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-int", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-int", true)
    call TriggerAddCondition(t, Condition(function HF2))
    set t = null
endfunction

function HG2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0L3'
endfunction

function HH2 takes nothing returns boolean 
    call abandonTrigger(GetTriggeringTrigger())
    call VolumeGroupReset()
    return false
endfunction

function HZ2 takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetTriggerUnit())
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, GetUnitAbilityLevel(GetTriggerUnit(), 'A0L3') + 2, false)
    call TriggerAddCondition(t, Condition(function HH2))
    call CreateNUnitsAtLoc(1, 'e00E', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
    call ShowUnitHide(bj_lastCreatedUnit)
    call UnitApplyTimedLifeBJ(5.00, 'BTLF', bj_lastCreatedUnit)
    call UnitAddAbility(bj_lastCreatedUnit, 'A0L2')
    call SetUnitAbilityLevelSwapped('A0L2', bj_lastCreatedUnit, GetUnitAbilityLevel(GetTriggerUnit(), 'A0L3'))
    call IssuePointOrderLoc(bj_lastCreatedUnit, "silence", EA1)
    call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS, .0)
    call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT, .0)
    call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS, .0)
    call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_MUSIC, .0)
    call RemoveLocation(EA1)
    set t = null
    set EA1 = null
endfunction

function GS takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HG2))
    call TriggerAddAction(t, function HZ2)
endfunction

function HV2 takes nothing returns boolean 
    local real d
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B05X') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A0LZ') > 0 and LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2) == GetEventDamageSource() then
        call UnitRemoveAbility(GetTriggerUnit(), 'B05X')
        set d = 0.15*I2R(GetUnitAbilityLevel(GetEventDamageSource(), 'A0LZ')*GetHeroInt(GetEventDamageSource(), true))
        call ZKI("+" + I2S(R2I(d)), 1, GetTriggerUnit(), 0.023, 3, 216, 216, 216)
        call DisableTrigger(GetTriggeringTrigger())
        call doDamage(GetEventDamageSource(), GetTriggerUnit(), 3, d)
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function HW2 takes nothing returns nothing
    local trigger t
    local unit GDI
    local unit GCI
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        set GDI = GetSpellTargetUnit()
        set GCI = GetTriggerUnit()
    else 
        set GDI = GetTriggerUnit()
        set GCI = GetAttacker()
    endif
    if IsUnitIllusion(GCI) == false then
        set t = CreateTrigger()
        call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function HV2))
    endif
    set t = null
    set GDI = null
    set GCI = null
endfunction

function HX2 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetUnitAbilityLevel(GetAttacker(), 'A0LZ') > 0 and LoadBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14) then
            call HW2()
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if (GetIssuedOrderId() == OrderId("poisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263, true)
        elseif (GetIssuedOrderId() == OrderId("unpoisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263, false)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0LZ' then
        call HW2()
    endif
    return false
endfunction

function HY2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function HX2))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, GetTriggerUnit())
    set t = null
endfunction

function HJ2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0LZ' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0LZ') == 1 then
        call HY2()
    endif
    return false
endfunction

function RMI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function HJ2))
    set t = null
endfunction

function HK2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    if GetTriggerEventId() != EVENT_UNIT_DEATH and GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT and DHI < (4 + FVI) then
        set DHI = DHI + 1
        call SaveInteger(hashTable, DMI, 34, DHI)
        call SetUnitState(GDI, UNIT_STATE_MANA, GetUnitState(GDI, UNIT_STATE_MANA) - 5 - 5*FVI)
        call doDamage(GCI, GDI, 1, 10 + 10*FVI)
    elseif DHI >= (2*FVI) or GetTriggerEventId() == EVENT_UNIT_DEATH or (GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() != 'A12W' and GetSpellAbilityId() != 'A0FO' and GetSpellAbilityId() != 'A1MO' and (FCI(GetSpellAbilityId()) or GetSpellAbilityId() == 'A06K')) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call UnitRemoveAbility(GDI, 'A1PS')
        call UnitRemoveAbility(GDI, 'B0CQ')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function HL2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetEnumUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A14L')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitAddAbility(GDI, 'A1PS')
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function HK2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareTarget.mdl", GDI, "overhead"))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 34, 0)
    set GCI = null
    set GDI = null
    set t = null
endfunction

function HM2 takes nothing returns nothing
    local group g = allocGroup()
    local location l = GetSpellTargetLoc()
    set myUnit = GetTriggerUnit()
    set U60 = GetTriggerUnit()
    call GroupEnumUnitsInRange(g, GetLocationX(l), GetLocationY(l), 375, Condition(function Y5I))
    call ForGroup(g, function HL2)
    call releaseGroup(g)
    call RemoveLocation(l)
    set g = null
    set l = null
endfunction

function HN2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A14L' then
        call HM2()
    endif
    return false
endfunction

function RLI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HN2))
    set t = null
endfunction

function HS2 takes nothing returns boolean 
    return GetLearnedSkill() == 'A03U'
endfunction

function HT2 takes nothing returns nothing
    call SetPlayerTechResearchedSwap('R005', GetUnitAbilityLevelSwapped('A03U', GetTriggerUnit()), GetOwningPlayer(GetLearningUnit()))
endfunction

function RRI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function HS2))
    call TriggerAddAction(t, function HT2)
endfunction

function HR2 takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false then
        call doDamage(U70, GetEnumUnit(), 1, U90)
        call IssueTargetOrder(U80, "slow", GetEnumUnit())
    else 
        call doDamage(U70, GetEnumUnit(), 1, U90/3)
        call IssueTargetOrder(U80, "slow", GetEnumUnit())
    endif
endfunction

function HP2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local group g = allocGroup()
    local real d
    local real a
    local real x2
    local real y2
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x, y, 350, Condition(function XUI))
    set U70 = GCI
    set U90 = FVI*10
    set U80 = YVI
    call ForGroup(g, function HR2)
    call releaseGroup(g)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 309) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 177) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 178) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 179) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 180) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 330) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 331) )
    if GetTriggerEvalCount(t) == 8 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set d = 0
        set a = 0
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 309, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
        set d = 150
        set a = 45
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
        set d = 275
        set a = 90
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
        set d = 150
        set a = 135
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 177, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
        set d = 275
        set a = 180
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 178, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
        set d = 150
        set a = 225
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 179, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
        set d = 275
        set a = 270
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 180, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
        set d = 150
        set a = 305
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 330, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
        set d = 275
        set a = 360
        set x2 = x + d*Cos(a*bj_DEGTORAD)
        set y2 = y + d*Sin(a*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, 331, AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl", x2, y2))
    endif
    set t = null
    set GCI = null
    set YVI = null
    set g = null
    return false
endfunction

function HQ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A064')
    local real x1 = LoadReal(hashTable, DMI, 6)
    local real y1 = LoadReal(hashTable, DMI, 7)
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x1, y1, 0)
    local real x2
    local real y2
    local real d
    local real a
    local integer i
    call UnitAddAbility(YVI, 'A19F')
    call SetUnitAbilityLevel(YVI, 'A19F', FVI)
    if GetTriggerEvalCount(t) == 1 then
        set i = 1
        loop
            exitwhen i > 10
            set d = GetRandomReal(0, 450)
            set a = GetRandomReal(0, 360)
            set x2 = x1 + d*Cos(a*bj_DEGTORAD)
            set y2 = y1 + d*Sin(a*bj_DEGTORAD)
            set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00J', GetUnitX(GCI), GetUnitY(GCI), 90)
            call IssuePointOrder(YVI, "attackground", x2, y2)
            call UnitApplyTimedLife(YVI, 'BTLF', 0.5)
            set i = i + 1
        endloop
    else 
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 19, YVI)
        call SaveReal(hashTable, DMI, 6, (x1*1.0))
        call SaveReal(hashTable, DMI, 7, (y1*1.0))
        call SaveInteger(hashTable, DMI, 5, FVI)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function HP2))
        call TriggerEvaluate(t)
    endif
    set GCI = null
    set YVI = null
    set t = null
    return false
endfunction

function HU2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    call TriggerRegisterTimerEvent(t, 0.4, true)
    call TriggerAddCondition(t, Condition(function HQ2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call RemoveLocation(l)
    set t = null
    set GCI = null
    set l = null
endfunction

function Z02 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A064' then
        call HU2()
    endif
    return false
endfunction

function RSI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z02))
    call preloadAblility('A19F')
    set t = null
endfunction

function ZI2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local effect FX = LoadEffectHandle(hashTable, DMI, 32)
    local player p = GetOwningPlayer(E1I)
    call UnitShareVision(GDI, p, false)
    call DestroyEffect(FX)
    call RemoveUnit(YVI)
    call UnitRemoveAbility(GDI, 'B06H')
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    set YVI = null
    set GDI = null
    set FX = null
    set p = null
    return false
endfunction

function Z12 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local player p = GetOwningPlayer(E1I)
    local unit YVI
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local string s = "effects\\Snipe Target.mdx"
    if IsPlayerAlly(GetLocalPlayer(), p) == false then
        set s = ""
    endif
    call UnitShareVision(GDI, p, true)
    set YVI = CreateUnit(GetOwningPlayer(GDI), 'e01R', 0, 0, 0)
    call UnitAddAbility(YVI, 'A0NI')
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget(s, GDI, "overhead"))
    call TriggerRegisterTimerEvent(t, 4, false)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function ZI2))
    set t = null
    set E1I = null
    set GDI = null
    set YVI = null
    set p = null
endfunction

function ZO2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A04P' or GetSpellAbilityId() == 'A1AU' then
        call Z12()
    endif
    return false
endfunction

function RTI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call TriggerAddCondition(t, Condition(function ZO2))
    set t = null
endfunction

function Z22 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e003', x, y, 0)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0RG')
    local real Z32 = (83 + 17*FVI)*0.01
    call SetUnitVertexColor(YVI, 255, 255, 255, 150)
    call UnitApplyTimedLife(YVI, 'BTLF', 6)
    call SetUnitScale(YVI, Z32, Z32, Z32)
    if isPlayerScourge(GetOwningPlayer(E1I)) then
        call UnitAddAbility(YVI, 'A019')
        call SetUnitAbilityLevel(YVI, 'A019', FVI)
    else 
        call UnitAddAbility(YVI, 'A0E7')
        call SetUnitAbilityLevel(YVI, 'A0E7', FVI)
    endif
    call IssuePointOrder(YVI, "cloudoffog", x, y)
    call RemoveLocation(l)
    set E1I = null
    set l = null
    set YVI = null
endfunction

function Z42 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0RG' then
        call Z22()
    endif
    return false
endfunction

function RQI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z42))
endfunction

function Z52 takes nothing returns boolean 
    return GetLearnedSkill() == 'A00J' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function Z62 takes nothing returns nothing
    if (GetUnitAbilityLevel(GetTriggerUnit(), 'A0MB') == 0) then
        call UnitAddAbility(GetTriggerUnit(), 'A0MB')
    endif
    call SetUnitAbilityLevel(GetTriggerUnit(), 'A0MB', GetUnitAbilityLevel(GetTriggerUnit(), 'A00J'))
endfunction

function II takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function Z52))
    call TriggerAddAction(t, function Z62)
endfunction

function Z72 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real GFI = 30*GetUnitAbilityLevel(GCI, 'A0K9')
    local trigger t
    local integer DMI
    call SetUnitX(GCI, GetUnitX(GDI) - 75*Cos(GetUnitFacing(GDI)*bj_DEGTORAD))
    call SetUnitY(GCI, GetUnitY(GDI) - 75*Sin(GetUnitFacing(GDI)*bj_DEGTORAD))
    call SetUnitFacing(GCI, GetUnitFacing(GDI))
    if IsUnitEnemy(GDI, GetOwningPlayer(GCI)) then
        call doDamage(GCI, GDI, 1, GFI)
        call SaveBoolean(hashTable, GetHandleId(GCI), 332, true)
        call IssueTargetOrder(GCI, "attack", GDI)
    endif
    set GCI = null
    set GDI = null
    set t = null
endfunction

function Z82 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0K9' then
        call Z72()
    endif
    return false
endfunction

function RUI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z82))
    set t = null
endfunction

function Z92 takes nothing returns nothing
    local unit GCI = GetAttacker()
    local unit GDI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0DZ')
    local boolean ZA2 = LoadBoolean(hashTable, GetHandleId(GCI), 332)
    local real d = RAbsBJ(GetUnitFacing(GDI) - GetUnitFacing(GCI))
    if d > 180 then
        set d = 360 - d
    endif
    if d <= 105 or ZA2 then
        call SaveBoolean(hashTable, GetHandleId(GCI), 332, false)
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GDI, "chest") )
        call doDamage(GCI, GDI, 2, GetHeroAgi(GCI, true)*0.25*FVI)
    endif
    set GCI = null
    set GDI = null
endfunction

function ZB2 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetAttacker(), 'A0DZ') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) == false then
        call Z92()
    endif
    return false
endfunction

function RPI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function ZB2))
    set t = null
endfunction

function ZC2 takes nothing returns nothing
    if JCI(GetEnumUnit()) then
        return
    endif
    call XCI(GetEnumUnit(), UA0, 1, 6, 'B0BV')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), UA0, false)
endfunction

function ZD2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1A5')
    local group g = allocGroup()
    if FVI == 1 then
        set UA0 = 'A1F6'
    elseif FVI == 2 then
        set UA0 = 'A1F7'
    elseif FVI == 3 then
        set UA0 = 'A1F3'
    elseif FVI == 4 then
        set UA0 = 'A1F5'
    endif
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 475, Condition(function Y0I))
    call ForGroup(g, function ZC2)
    call releaseGroup(g)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl", GCI, "overhead") )
    set GCI = null
    set g = null
endfunction

function ZE2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1A5' then
        call ZD2()
    endif
    return false
endfunction

function A31 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZE2))
    set t = null
endfunction

function ZF2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT or (GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and JWI(GetSpellAbilityId()) and GetSpellTargetUnit() == E1I) then
        if isUnitUnavailable(E1I) == false then
            call UnitRemoveAbility(E1I, 'A0WO')
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function ZG2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 25, false)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZF2))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call DestroyEffect( AddSpecialEffectTarget("war3mapImported\\BattleCryCaster.mdx", E1I, "overhead") )
    call UnitAddAbility(E1I, 'A0WO')
    call SetUnitAbilityLevel(E1I, 'A0WO', GetUnitAbilityLevel(E1I, 'A0WP'))
    call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A0WO', false)
endfunction

function ZH2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0WP' then
        call ZG2()
    endif
    return false
endfunction

function A41 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZH2))
    set t = null
endfunction

function ZZ2 takes nothing returns nothing
    call IssueTargetOrder(UB0, "thunderbolt", GetEnumUnit())
endfunction

function ZV2 takes player p, unit GDI, integer FVI returns nothing
    local unit YVI = CreateUnit(p, 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    local integer JXI
    local group g = allocGroup()
    call UnitAddAbility(YVI, 'A0RZ')
    call SetUnitAbilityLevel(YVI, 'A0RZ', FVI)
    set myUnit = playerHero[GetPlayerId(p)]
    call GroupEnumUnitsInRange(g, GetUnitX(GDI), GetUnitY(GDI), 280, Condition(function filterUnitInjurable))
    call GroupAddUnit(g, GDI)
    set UB0 = YVI
    call ForGroup(g, function ZZ2)
    call releaseGroup(g)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl", GDI, "origin") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl", GDI, "origin") )
    set YVI = null
    set g = null
endfunction

function ZW2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real x = GetUnitX(VDI)
    local real y = GetUnitY(VDI)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    local real VEI = 1000*0.035
    local real VFI = getAngle(x, y, HMI, HNI)
    local real VGI = x + VEI*Cos(VFI*bj_DEGTORAD)
    local real VHI = y + VEI*Sin(VFI*bj_DEGTORAD)
    local boolean VM1 = LoadBoolean(hashTable, DMI, 249)
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    call SetUnitFacing(VDI, VFI)
    if ZPI(HMI, HNI, VGI, VHI) <= VEI then
        if VM1 then
            call ZV2(p, GDI, FVI)
        endif
        call KillUnit(VDI)
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set VDI = null
    return false
endfunction

function ZX2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A190')
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = CreateUnit(GetOwningPlayer(GCI), 'h07Q', GetUnitX(GCI), GetUnitY(GCI), getAngle(GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI)))
    local boolean VM1 = (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
    call SaveBoolean(hashTable, DMI, 249, VM1)
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(GCI))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call TriggerRegisterTimerEvent(t, 0.035, true)
    call TriggerAddCondition(t, Condition(function ZW2))
    set t = null
    set GCI = null
    set GDI = null
    set VDI = null
endfunction

function ZY2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A190' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl", GetTriggerUnit(), "weapon") )
        else 
            call ZX2()
        endif
    endif
    return false
endfunction

function A21 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function ZY2))
    set t = null
endfunction

function ZJ2 takes nothing returns boolean 
    if (GetUnitTypeId(GetFilterUnit()) == 'n01G') then
        return true
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'n01C') then
        return true
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'n018') then
        return true
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'n004') then
        return true
    endif
    return false
endfunction

function ZK2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit VH1
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GCI), GetUnitY(GCI), 0)
    local integer FVI = GetUnitAbilityLevel(GCI, GetSpellAbilityId())
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(GCI), Condition(function ZJ2))
    set VH1 = FirstOfGroup(g)
    call releaseGroup(g)
    if GetSpellAbilityId() == 'A1EF' then
        call UnitAddAbility(YVI, 'A0AA')
        call SetUnitAbilityLevel(YVI, 'A0AA', FVI)
    elseif GetSpellAbilityId() == 'A1EE' then
        call UnitAddAbility(YVI, 'A0AB')
        call SetUnitAbilityLevel(YVI, 'A0AB', FVI)
    elseif GetSpellAbilityId() == 'A1EH' then
        call UnitAddAbility(YVI, 'A0AC')
        call SetUnitAbilityLevel(YVI, 'A0AC', FVI)
    elseif GetSpellAbilityId() == 'A1EI' then
        call UnitAddAbility(YVI, 'A0AD')
        call SetUnitAbilityLevel(YVI, 'A0AD', FVI)
    elseif GetSpellAbilityId() == 'A1EG' then
        call UnitAddAbility(YVI, 'A0AE')
        call SetUnitAbilityLevel(YVI, 'A0AE', FVI)
    endif
    call IssueTargetOrder(YVI, "bloodlust", GCI)
    if VH1 != null and isUnitUnavailable(VH1) == false then
        call IssueTargetOrder(YVI, "bloodlust", VH1)
    endif
    set g = null
    set GCI = null
    set VH1 = null
    set YVI = null
endfunction

function ZL2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1EF' or GetSpellAbilityId() == 'A1EE' or GetSpellAbilityId() == 'A1EH' or GetSpellAbilityId() == 'A1EI' or GetSpellAbilityId() == 'A1EG' then
        call ZK2()
    endif
    return false
endfunction

function P0I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZL2))
    set t = null
endfunction

function ZM2 takes nothing returns boolean 
    return (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and GetUnitAbilityLevel(GetFilterUnit(), 'B0C1') > 0
endfunction

function ZN2 takes nothing returns nothing
    call doDamage(UC0, GetEnumUnit(), 2, 30)
endfunction

function ZS2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit VH1 = LoadUnitHandle(hashTable, DMI, 53)
    local group g = allocGroup()
    set myUnit = VH1
    set UC0 = VH1
    call GroupEnumUnitsInRange(g, GetUnitX(VH1), GetUnitY(VH1), 2000, Condition(function ZM2))
    call ForGroup(g, function ZN2)
    call releaseGroup(g)
    set t = null
    set g = null
    set VH1 = null
    return false
endfunction

function ZT2 takes nothing returns nothing
    local unit VH1 = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function ZS2))
    call SaveUnitHandle(hashTable, DMI, 53, VH1)
    set VH1 = null
    set t = null
endfunction

function ZR2 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0A5' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function ZP2 takes nothing returns boolean 
    if (GetUnitTypeId(GetFilterUnit()) == 'n01C') then
        return true
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'n018') then
        return true
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'n004') then
        return true
    endif
    return false
endfunction

function ZQ2 takes nothing returns nothing
    local integer DMI = GetHandleId(GetOwningPlayer(GetTriggerUnit()))
    local unit ZU2 = LoadUnitHandle(hashTable, DMI, 334)
    local unit VH1 = LoadUnitHandle(hashTable, DMI, 333)
    if ZU2 != null and deathMatchMode == false then
        call UnitAddItem(VH1, UnitRemoveItemFromSlot(ZU2, 0))
        call UnitAddItem(VH1, UnitRemoveItemFromSlot(ZU2, 1))
        call UnitAddItem(VH1, UnitRemoveItemFromSlot(ZU2, 2))
        call UnitAddItem(VH1, UnitRemoveItemFromSlot(ZU2, 3))
        call UnitAddItem(VH1, UnitRemoveItemFromSlot(ZU2, 4))
        call UnitAddItem(VH1, UnitRemoveItemFromSlot(ZU2, 5))
    endif
endfunction

function V02 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local player EYI = GetOwningPlayer(GTI)
    local location EA1 = GetUnitLoc(GTI)
    local boolexpr BH1 = Condition(function ZP2)
    local group MNI = allocGroup()
    local integer FVI = GetUnitAbilityLevel(GTI, 'A0A5')
    local integer DMI = GetHandleId(EYI)
    local integer VI2
    local unit VH1
    local real AI2
    call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(GTI), BH1)
    call DestroyBoolExpr(BH1)
    if (FVI == 1) then
        call ZT2()
    endif
    set VI2 = CountUnitsInGroup(MNI)
    if (VI2 == 1) then
        set VH1 = FirstOfGroup(MNI)
        set AI2 = GetUnitLifePercent(VH1)
        set EA1 = GetUnitLoc(VH1)
        call ShowUnit(VH1, false)
        call KillUnit(VH1)
        if (FVI == 2) then
            call CreateNUnitsAtLoc(1, 'n018', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
            call AddSpecialEffectTargetUnitBJ("chest", bj_lastCreatedUnit, "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
        elseif (FVI == 3) then
            call CreateNUnitsAtLoc(1, 'n01C', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
            call AddSpecialEffectTargetUnitBJ("chest", bj_lastCreatedUnit, "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
        elseif (FVI == 4) then
            call CreateNUnitsAtLoc(1, 'n01G', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
            call AddSpecialEffectTargetUnitBJ("chest", bj_lastCreatedUnit, "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
        endif
        call SetUnitLifePercentBJ(bj_lastCreatedUnit, AI2)
        call SaveUnitHandle(hashTable, DMI, 333, bj_lastCreatedUnit)
        call ZQ2()
    endif
    call releaseGroup(MNI)
endfunction

function P2I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function ZR2))
    call TriggerAddAction(t, function V02)
endfunction

function V12 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0A8' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function VO2 takes nothing returns nothing
    call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'R000', GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()), 'R000', true) + 1)
    call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'R001', GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()), 'R001', true) + 1)
endfunction

function P3I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function V12))
    call TriggerAddAction(t, function VO2)
endfunction

function V22 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0A5'
endfunction

function V32 takes nothing returns boolean 
    if (GetUnitTypeId(GetFilterUnit()) == 'n01G') then
        return true
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'n01C') then
        return true
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'n018') then
        return true
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'n004') then
        return true
    endif
    return false
endfunction

function V42 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local player EYI = GetOwningPlayer(GTI)
    local location EA1 = GetUnitLoc(GTI)
    local boolexpr BH1 = Condition(function V32)
    local group MNI = allocGroup()
    local integer FVI = GetUnitAbilityLevel(GTI, 'A0A5')
    local integer DMI = GetHandleId(EYI)
    local boolean V52
    call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(GTI), BH1)
    set V52 = CountUnitsInGroup(MNI) == 0
    if (FVI == 1 and V52) then
        call CreateNUnitsAtLoc(1, 'n004', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
        call SaveUnitHandle(hashTable, DMI, 333, bj_lastCreatedUnit)
        call ZQ2()
        call AddSpecialEffectTargetUnitBJ("chest", bj_lastCreatedUnit, "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
    elseif (FVI == 2 and V52) then
        call CreateNUnitsAtLoc(1, 'n018', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
        call SaveUnitHandle(hashTable, DMI, 333, bj_lastCreatedUnit)
        call ZQ2()
        call AddSpecialEffectTargetUnitBJ("chest", bj_lastCreatedUnit, "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
    elseif (FVI == 3 and V52) then
        call CreateNUnitsAtLoc(1, 'n01C', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
        call SaveUnitHandle(hashTable, DMI, 333, bj_lastCreatedUnit)
        call ZQ2()
        call AddSpecialEffectTargetUnitBJ("chest", bj_lastCreatedUnit, "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
    elseif (FVI == 4 and V52) then
        call CreateNUnitsAtLoc(1, 'n01G', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
        call SaveUnitHandle(hashTable, DMI, 333, bj_lastCreatedUnit)
        call ZQ2()
        call AddSpecialEffectTargetUnitBJ("chest", bj_lastCreatedUnit, "Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
    endif
    call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A09Y', FVI)
    call releaseGroup(MNI)
    call RemoveLocation(EA1)
    set GTI = null
    set EYI = null
    set EA1 = null
    set MNI = null
endfunction

function V62 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local player EYI = GetOwningPlayer(GTI)
    local location EA1 = GetUnitLoc(GTI)
    local boolexpr BH1 = Condition(function V32)
    local group MNI = allocGroup()
    local integer FVI = GetUnitAbilityLevel(GTI, 'A0A5')
    local integer DMI = GetHandleId(EYI)
    local boolean V52
    call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(GTI), BH1)
    set V52 = CountUnitsInGroup(MNI) == 0
    if V52 == false then
        call GSI(GTI)
        call displayErrorMessage(EYI, GetObjectName('n03M'))
    endif
    call releaseGroup(MNI)
    call RemoveLocation(EA1)
endfunction

function P1I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V22))
    call TriggerAddAction(t, function V42)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function V22))
    call TriggerAddAction(t, function V62)
endfunction

function V72 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0A7'
endfunction

function V82 takes nothing returns nothing
    local unit VH1 = GetTriggerUnit()
    local unit VZ1 = playerHero[GetPlayerId(GetOwningPlayer(VH1))]
    call SetUnitX(VH1, GetUnitX(VZ1) + GetRandomReal(25, 50)*Cos( GetRandomReal(0, 360) ))
    call SetUnitY(VH1, GetUnitY(VZ1) + GetRandomReal(25, 50)*Sin( GetRandomReal(0, 360) ))
endfunction

function POI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V72))
    call TriggerAddAction(t, function V82)
endfunction

function V92 takes nothing returns boolean 
    return (GetUnitTypeId(GetTriggerUnit()) == 'N013' or GetUnitTypeId(GetTriggerUnit()) == 'N01O' or GetUnitTypeId(GetTriggerUnit()) == 'N015' or GetUnitTypeId(GetTriggerUnit()) == 'N014') and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function VA2 takes nothing returns nothing
    local unit VH1 = LoadUnitHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 333)
    call KillUnit(VH1)
endfunction

function P5I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function V92))
    call TriggerAddAction(t, function VA2)
endfunction

function VB2 takes nothing returns boolean 
    return GetUnitTypeId(GetAttacker()) == 'n01G' or GetUnitTypeId(GetAttacker()) == 'n01C' or GetUnitTypeId(GetAttacker()) == 'n018' or GetUnitTypeId(GetAttacker()) == 'n004'
endfunction

function VC2 takes nothing returns nothing
    local unit VH1 = GetAttacker()
    local unit VZ1 = playerHero[GetPlayerId(GetOwningPlayer(VH1))]
    if ((GetUnitX(VZ1) - GetUnitX(VH1))*(GetUnitX(VZ1) - GetUnitX(VH1)) + (GetUnitY(VZ1) - GetUnitY(VH1))*(GetUnitY(VZ1) - GetUnitY(VH1)) >= 855625) then
        call IssueImmediateOrder(VH1, "stop")
    endif
endfunction

function PII takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function VB2))
    call TriggerAddAction(t, function VC2)
endfunction

function VD2 takes nothing returns boolean 
    return (GetUnitTypeId(GetTriggerUnit()) == 'n01G' or GetUnitTypeId(GetTriggerUnit()) == 'n01C' or GetUnitTypeId(GetTriggerUnit()) == 'n018' or GetUnitTypeId(GetTriggerUnit()) == 'n004') and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function VE2 takes nothing returns nothing
    local location CY1
    if isPlayerSentinel(GetOwningPlayer(GetTriggerUnit())) then
        set CY1 = GetRectCenter(B4)
    else 
        set CY1 = GetRectCenter(R3)
    endif
    if KVI(GetEnumItem()) == false then
        call SetItemPositionLoc(GetEnumItem(), CY1)
    endif
    call RemoveLocation(CY1)
    set CY1 = null
endfunction

function VF2 takes nothing returns nothing
    local integer DMI = GetHandleId(GetOwningPlayer(GetTriggerUnit()))
    local unit ZU2 = LoadUnitHandle(hashTable, DMI, 334)
    local unit VH1 = LoadUnitHandle(hashTable, DMI, 333)
    local integer x
    local integer y
    if ZU2 == null then
        if isPlayerSentinel(GetOwningPlayer(VH1)) then
            set x = -6390
            set y = -5615
        else 
            set x = 5875
            set y = 5000
        endif
        set ZU2 = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e01F', x, y, 0)
        call SaveUnitHandle(hashTable, DMI, 334, ZU2)
    endif
    if KVI(GetEnumItem()) == false then
        call UnitAddItem(ZU2, GetEnumItem())
    endif
    call ShowUnit(ZU2, true)
endfunction

function VG2 takes nothing returns nothing
    if GetWidgetLife(GetEnumItem()) > 0 then
        if deathMatchMode == true then
            call VE2()
        else 
            call VF2()
        endif
    else 
    endif
endfunction

function VH2 takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetTriggerUnit())
    local rect VZ2 = RectFromCenterSizeBJ(EA1, 300.00, 300.00)
    local unit VZ1 = playerHero[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]
    call SetHeroXP(VZ1, (GetHeroXP(VZ1) - (GetHeroXP(VZ1)/(125 - (25*GetUnitAbilityLevel(VZ1, 'A0A5'))))), false)
    call UnitDamageTargetBJ(GetKillingUnit(), VZ1, (100.00*I2R( GetUnitAbilityLevel(VZ1, 'A0A5') )), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL)
    call EnumItemsInRectBJ(VZ2, function VG2)
    call RemoveLocation(EA1)
    call RemoveRect(VZ2)
endfunction

function P4I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function VD2))
    call TriggerAddAction(t, function VH2)
endfunction

function VV2 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if isPlayer(GetOwningPlayer(GetEventDamageSource())) and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) == true and US0 == false then
            if UT0 == false then
                call UnitRemoveAbility(GetTriggerUnit(), 'B0BM')
                call abandonTrigger(GetTriggeringTrigger())
            endif
        endif
        if UT0 == true then
            set UT0 = false
        endif
        if US0 == true then
            set US0 = false
        endif
    else 
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function VW2 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 6, false)
    call TriggerAddCondition(t, Condition(function VV2))
    set GDI = null
    set t = null
endfunction

function VX2 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'B0BM') > 0 and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0
endfunction

function VY2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, x, y, 1000, Condition(function VX2))
    call ForGroup(g, function VW2)
    call releaseGroup(g)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set g = null
    return false
endfunction

function VJ2 takes nothing returns nothing
    if UD0 == 1 or UD0 == 2 then
        call doDamage(GetTriggerUnit(), GetEnumUnit(), 2, 80)
    endif
    if UD0 == 1 or UD0 == 3 then
        call doDamage(GetTriggerUnit(), GetEnumUnit(), 1, 80)
    endif
endfunction

function VK2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'h07Z', x, y, 0)
    local group g = allocGroup()
    local unit u
    if (LoadInteger(hashTable, GetHandleId(GCI), 4270) == 1) == false then
        call SetUnitTimeScale(YVI, 2.5)
        call UnitApplyTimedLife(YVI, 'BTLF', 2)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
        call UnitAddAbility(YVI, 'A1A9')
        call SetUnitAbilityLevel(YVI, 'A1A9', GetUnitAbilityLevel(GCI, 'A1AA'))
        call IssueImmediateOrder(YVI, "stomp")
        call GroupEnumUnitsInRange(g, x, y, 500, Condition(function XKI))
        set UD0 = 1
        call ForGroup(g, function VJ2)
        call TriggerRegisterTimerEvent(t, 0.65, false)
        call TriggerAddCondition(t, Condition(function VY2))
        call SaveReal(hashTable, DMI, 6, (x*1.0))
        call SaveReal(hashTable, DMI, 7, (y*1.0))
    else 
        call SetUnitTimeScale(YVI, 2.5)
        call UnitApplyTimedLife(YVI, 'BTLF', 2)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
        call UnitAddAbility(YVI, 'A1A9')
        call SetUnitAbilityLevel(YVI, 'A1A9', GetUnitAbilityLevel(GCI, 'A1AA'))
        call IssueImmediateOrder(YVI, "stomp")
        call GroupEnumUnitsInRange(g, x, y, 500, Condition(function XKI))
        set UD0 = 2
        call ForGroup(g, function VJ2)
        call TriggerRegisterTimerEvent(t, 0.65, false)
        call TriggerAddCondition(t, Condition(function VY2))
        call SaveReal(hashTable, DMI, 6, (x*1.0))
        call SaveReal(hashTable, DMI, 7, (y*1.0))
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        set u = UN0[GetPlayerId(GetOwningPlayer(GCI))]
        set x = GetUnitX(u)
        set y = GetUnitY(u)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'h07Z', x, y, 0)
        call SetUnitTimeScale(YVI, 2.5)
        call UnitApplyTimedLife(YVI, 'BTLF', 2)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
        call UnitAddAbility(YVI, 'A1A9')
        call SetUnitAbilityLevel(YVI, 'A1A9', GetUnitAbilityLevel(GCI, 'A1AA'))
        call IssueImmediateOrder(YVI, "stomp")
        call GroupEnumUnitsInRange(g, x, y, 500, Condition(function XKI))
        set UD0 = 3
        call ForGroup(g, function VJ2)
        call TriggerRegisterTimerEvent(t, 0.65, false)
        call TriggerAddCondition(t, Condition(function VY2))
        call SaveReal(hashTable, DMI, 6, (x*1.0))
        call SaveReal(hashTable, DMI, 7, (y*1.0))
        call SetUnitAnimationByIndex(u, 3)
    endif
    set t = null
    set GCI = null
    set YVI = null
endfunction

function VL2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit G32 = LoadUnitHandle(hashTable, DMI, 335)
    local boolean VM2 = LoadBoolean(hashTable, DMI, 336)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call SaveInteger(hashTable, GetHandleId(GCI), 4269, 2)
        call SaveBoolean(hashTable, GetHandleId(G32), 337, true)
        if VM2 then
            call ShowUnit(G32, false)
            call KillUnit(G32)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if VM2 then
            call SetUnitFacing(G32, GetUnitFacing(GCI))
        endif
    endif
    set t = null
    set G32 = null
    return false
endfunction

function VN2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit G32
    local boolean KillImage
    call SaveBoolean(hashTable, DMI, 336, false)
    if (LoadInteger(hashTable, GetHandleId(GCI), 4270) == 1) == false then
        call SaveBoolean(hashTable, DMI, 336, true)
        set G32 = CreateUnit(GetOwningPlayer(GCI), 'h07U', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
        call UnitAddAbility(G32, 'Aloc')
        call UnitAddAbility(G32, 'Aetl')
        call SetUnitPosition(G32, GetUnitX(GCI), GetUnitY(GCI))
        call SetUnitScale(G32, 1.4, 1.4, 1.4)
    else 
        set G32 = UN0[GetPlayerId(GetOwningPlayer(GCI))]
    endif
    call IssueImmediateOrder(G32, "stop")
    call SaveInteger(hashTable, GetHandleId(GCI), 4269, 1)
    call SetUnitAnimation(G32, "spell slam")
    call QueueUnitAnimation(G32, "spell slam")
    call SaveUnitHandle(hashTable, DMI, 335, G32)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function VL2))
    call SaveUnitHandle(hashTable, DMI, 335, G32)
    set t = null
    set GCI = null
    set G32 = null
endfunction

function VS2 takes nothing returns boolean 
    local integer FO1
    if GetSpellAbilityId() == 'A1AA' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_FINISH then
            call VK2()
        endif
        call VN2()
    endif
    return false
endfunction

function AU1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function VS2))
    set t = null
endfunction

function VT2 takes nothing returns nothing
    if JCI(GetEnumUnit()) then
        return
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1CA') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1CA')
        call UnitRemoveAbility(GetEnumUnit(), 'B0BP')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1C9') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1C9')
        call UnitRemoveAbility(GetEnumUnit(), 'B0BP')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1CB') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1CB')
        call UnitRemoveAbility(GetEnumUnit(), 'B0BP')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1CC') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1CC')
        call UnitRemoveAbility(GetEnumUnit(), 'B0BP')
    endif
    call LVI(GetEnumUnit(), 0)
endfunction

function VR2 takes nothing returns nothing
    if JCI(GetEnumUnit()) then
        return
    endif
    if UE0 == 1 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A1CA') == 0 then
            call UnitAddAbility(GetEnumUnit(), 'A1CA')
        endif
    elseif UE0 == 2 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A1C9') == 0 then
            call UnitAddAbility(GetEnumUnit(), 'A1C9')
        endif
    elseif UE0 == 3 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A1CB') == 0 then
            call UnitAddAbility(GetEnumUnit(), 'A1CB')
        endif
    elseif UE0 == 4 then
        if GetUnitAbilityLevel(GetEnumUnit(), 'A1CC') == 0 then
            call UnitAddAbility(GetEnumUnit(), 'A1CC')
        endif
    endif
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
        call LVI(GetEnumUnit(), R2I((I2R( GetHeroAgi(GetEnumUnit(), true) )/7)*I2R(UE0)/5))
    endif
endfunction

function VP2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local group VQ2 = LoadGroupHandle(hashTable, DMI, 340)
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local group g = allocGroup()
    local group g2
    if GCI == null or GetUnitTypeId(GCI) != 'O015' then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call releaseGroup(VQ2)
        call releaseGroup(g)
        return false
    endif
    set myUnit = GCI
    set UE0 = GetUnitAbilityLevel(GCI, 'A1CD')
    call GroupEnumUnitsInRange(g, x, y, 275, Condition(function filterUnitInjurable))
    if (LoadInteger(hashTable, GetHandleId(GCI), 4270) == 1) == true then
        set g2 = allocGroup()
        call GroupEnumUnitsInRange(g2, GetUnitX(UN0[GetPlayerId(GetOwningPlayer(GCI))]), GetUnitY(UN0[GetPlayerId(GetOwningPlayer(GCI))]), 250, Condition(function filterUnitInjurable))
        call GroupAddGroup(g2, g)
        call releaseGroup(g2)
        set g2 = null
    endif
    call GroupRemoveGroup(g, VQ2)
    call ForGroup(VQ2, function VT2)
    if isUnitUnavailable(GCI) == false then
        call ForGroup(g, function VR2)
    endif
    call SaveGroupHandle(hashTable, DMI, 340, g)
    call releaseGroup(VQ2)
    set t = null
    set GCI = null
    set VQ2 = null
    return false
endfunction

function VU2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local integer i
    local player p
    call UnitAddAbility(GCI, 'A1CQ')
    call TriggerRegisterTimerEvent(t, 0.3, true)
    call TriggerAddCondition(t, Condition(function VP2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveGroupHandle(hashTable, DMI, 340, allocGroup())
    call SaveTriggerHandle(hashTable, GetHandleId(GCI), 338, t)
    call SaveBoolean(hashTable, GetHandleId(GCI), 339, true)
    set i = 0
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        call SetPlayerAbilityAvailable(p, 'A1CA', false)
        call SetPlayerAbilityAvailable(p, 'A1C9', false)
        call SetPlayerAbilityAvailable(p, 'A1CB', false)
        call SetPlayerAbilityAvailable(p, 'A1CC', false)
        set p = scourgePlayers[i]
        call SetPlayerAbilityAvailable(p, 'A1CA', false)
        call SetPlayerAbilityAvailable(p, 'A1C9', false)
        call SetPlayerAbilityAvailable(p, 'A1CB', false)
        call SetPlayerAbilityAvailable(p, 'A1CC', false)
        set i = i + 1
    endloop
    set t = null
    set GCI = null
endfunction

function W02 takes nothing returns boolean 
    if GetLearnedSkill() == 'A1CD' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1CD') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call VU2()
    endif
    return false
endfunction

function AQ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function W02))
    set t = null
endfunction

function WI2 takes nothing returns nothing
    local real x1 = UH0
    local real y1 = UZ0
    local real x2 = UV0
    local real y2 = UW0
    local real x3 = GetUnitX(GetEnumUnit())
    local real y3 = GetUnitY(GetEnumUnit())
    local real u = ((x3 - x1)*(x2 - x1) + (y3 - y1)*(y2 - y1))/((x1 - x2)*(x1 - x2) + (y1 - y2)*(y1 - y2))
    local real x4 = x1 + u*(x2 - x1)
    local real y4 = y1 + u*(y2 - y1)
    local real BG2 = GetUnitState(GetEnumUnit(), UNIT_STATE_MAX_LIFE)*0.35/2
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
        call SetUnitPosition(GetEnumUnit(), x4, y4)
    else 
        call SetUnitX(GetEnumUnit(), x4)
        call SetUnitY(GetEnumUnit(), y4)
    endif
    call IssueTargetOrder(UF0, "slow", GetEnumUnit())
    call doDamage(UG0, GetEnumUnit(), 1, BG2)
    call doDamage(UG0, GetEnumUnit(), 2, BG2)
endfunction

function W12 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real x0 = LoadReal(hashTable, DMI, 282)
    local real y0 = LoadReal(hashTable, DMI, 283)
    local real a0 = LoadReal(hashTable, DMI, 341)
    local integer i = 0
    local real x
    local real y
    local group g = allocGroup()
    local group LQO = allocGroup()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1A1')
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set myUnit = GCI
    set UG0 = GCI
    set UF0 = CreateUnit(GetOwningPlayer(GCI), 'e00E', x0, y0, 0)
    call UnitAddAbility(UF0, 'A1CE')
    call SetUnitAbilityLevel(UF0, 'A1CE', FVI)
    loop
        exitwhen i > 11
        set x = x0 + i*200*Cos(a0)
        set y = y0 + i*200*Sin(a0)
        call Z8I("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl", x, y, 1.6)
        call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", x, y - 250) )
        call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", x, y) )
        call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", x + 250, y) )
        call killDestructables(x, y, 300)
        call GroupEnumUnitsInRange(g, x, y, 325, Condition(function filterUnitInjurable))
        call GroupAddGroup(g, LQO)
        call GroupClear(g)
        set i = i + 1
    endloop
    set UH0 = x0
    set UZ0 = y0
    set UV0 = x
    set UW0 = y
    call ForGroup(LQO, function WI2)
    call releaseGroup(LQO)
    call releaseGroup(g)
    set t = null
    set GCI = null
    return false
endfunction

function WO2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real a = LoadReal(hashTable, DMI, 137)
    local real x0 = LoadReal(hashTable, DMI, 282)
    local real y0 = LoadReal(hashTable, DMI, 283)
    local real a0
    local real W22
    local real W32
    local real W42
    local real W52
    local real W62
    local real W72
    local real W82
    local real W92
    local real WA2
    local real WB2
    local real WC2
    local real WD2
    local real x
    local real y
    local ubersplat Y21
    local integer DHI = GetTriggerEvalCount(t)
    set x = x0 + 200*DHI*Cos(a)
    set y = y0 + 200*DHI*Sin(a)
    set Y21 = CreateUbersplat(x, y, "THNE", 255, 255, 255, 255, false, false)
    call SetUbersplatRenderAlways(Y21, true)
    set W22 = x + 250*Cos(bj_DEGTORAD*(a*bj_RADTODEG - 45))
    set W32 = y + 250*Sin(bj_DEGTORAD*(a*bj_RADTODEG - 45))
    set W42 = x + 250*Cos(bj_DEGTORAD*(a*bj_RADTODEG + 45))
    set W52 = y + 250*Sin(bj_DEGTORAD*(a*bj_RADTODEG + 45))
    set W62 = x - 125*Cos(bj_DEGTORAD*(a*bj_RADTODEG - 45))
    set W72 = y - 125*Sin(bj_DEGTORAD*(a*bj_RADTODEG - 45))
    set W82 = x - 125*Cos(bj_DEGTORAD*(a*bj_RADTODEG + 45))
    set W92 = y - 125*Sin(bj_DEGTORAD*(a*bj_RADTODEG + 45))
    set WA2 = x
    set WB2 = y
    set WC2 = x
    set WD2 = y
    call V3I(GetOwningPlayer(GCI), 4, x, y, 500)
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", W22, W32) )
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", W42, W52) )
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", W62, W72) )
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", W82, W92) )
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", WA2, WB2) )
    call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", WC2, WD2) )
    if GetTriggerEvalCount(t) > 11 then
        set x0 = LoadReal(hashTable, DMI, 282)
        set y0 = LoadReal(hashTable, DMI, 283)
        set a0 = LoadReal(hashTable, DMI, 341)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0.5, false)
        call TriggerAddCondition(t, Condition(function W12))
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveReal(hashTable, DMI, 282, (x0*1.0))
        call SaveReal(hashTable, DMI, 283, (y0*1.0))
        call SaveReal(hashTable, DMI, 341, (a0*1.0))
    endif
    set t = null
    set GCI = null
    return false
endfunction

function WE2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    call TriggerRegisterTimerEvent(t, 0.22, true)
    call TriggerAddCondition(t, Condition(function WO2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 6, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(GCI)*1.0))
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call SaveReal(hashTable, DMI, 282, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 283, (GetUnitY(GCI)*1.0))
    call SaveReal(hashTable, DMI, 341, (a*1.0))
    set t = null
    set GCI = null
endfunction

function WF2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1A1' then
        call WE2()
    endif
    return false
endfunction

function AR1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WF2))
    set t = null
endfunction

function WG2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call LDI(GCI, 0)
    set t = null
    set GCI = null
    return false
endfunction

function WH2 takes unit GCI, unit G32, integer WZ2, integer WV2 returns nothing
    local trigger t
    local integer DMI
    local unit YVI
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", G32, "chest") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", GCI, "chest") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", GCI, "origin") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", GCI, "hand,left") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", GCI, "hand,right") )
    call ShowUnit(G32, false)
    call KillUnit(G32)
    call SaveInteger(hashTable, GetHandleId(GCI), 4270, 2)
    if WV2 > 0 or WZ2 > 0 then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 9.1, false)
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function WG2))
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GCI), GetUnitY(GCI), 0)
        call UnitAddAbility(YVI, 'A1G9')
        call SetUnitAbilityLevel(YVI, 'A1G9', WV2)
        call IssueTargetOrder(YVI, "bloodlust", GCI)
        call LDI(GCI, WZ2)
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\RadianceHands.mdx", GCI, "weapon"))
    endif
    set t = null
    set YVI = null
endfunction

function WW2 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), UX0) == false then
        if IsUnitIllusion(GetEnumUnit()) == false then
            if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
                set UL0 = UL0 + (UK0*10)
                set UM0 = UM0 + 5
            else 
                set UL0 = UL0 + (UK0*3)
                set UM0 = UM0 + 1
            endif
        endif
        call GroupAddUnit(UX0, GetEnumUnit())
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", GetEnumUnit(), "chest") )
        set US0 = true
        set UT0 = true
        call doDamage(UY0, GetEnumUnit(), 1, UJ0)
        set US0 = false
        set UT0 = false
    endif
endfunction

function WX2 takes real WY2, real WJ2, real WK2, real WL2, real WM2, real WN2 returns real 
    local real WS2
    local real WT2
    local real WR2
    local real WP2
    local real WQ2
    local real WU2
    local real X02
    local real REFLECTED_SCALED_V_X
    local real REFLECTED_SCALED_V_Y
    local real XI2
    local real X12
    local real XO2
    local real X22
    local real X32
    local real X42
    local real X52
    local real X62
    set XO2 = WK2 - WM2
    set X22 = WL2 - WN2
    set X32 = -1*X22
    set X42 = XO2
    set X52 = SquareRoot(X32*X32 + X42*X42)
    set X32 = X32/X52
    set X42 = X42/X52
    set WS2 = WY2 - WK2
    set WT2 = WJ2 - WL2
    set WR2 = SquareRoot(WS2*WS2 + WT2*WT2)
    set WP2 = WS2/WR2
    set WQ2 = WT2/WR2
    set X62 = WS2*X32 + WT2*X42
    set WU2 = -1*WY2 + 2*WK2 + 2*X32*X62
    set X02 = -1*WJ2 + 2*WL2 + 2*X42*X62
    set XI2 = WM2 + WK2 - WU2
    set X12 = WN2 + WL2 - X02
    return XI2
endfunction

function X72 takes real WY2, real WJ2, real WK2, real WL2, real WM2, real WN2 returns real 
    local real WS2
    local real WT2
    local real WR2
    local real WP2
    local real WQ2
    local real WU2
    local real X02
    local real REFLECTED_SCALED_V_X
    local real REFLECTED_SCALED_V_Y
    local real XI2
    local real X12
    local real XO2
    local real X22
    local real X32
    local real X42
    local real X52
    local real X62
    set XO2 = WK2 - WM2
    set X22 = WL2 - WN2
    set X32 = -1*X22
    set X42 = XO2
    set X52 = SquareRoot(X32*X32 + X42*X42)
    set X32 = X32/X52
    set X42 = X42/X52
    set WS2 = WY2 - WK2
    set WT2 = WJ2 - WL2
    set WR2 = SquareRoot(WS2*WS2 + WT2*WT2)
    set WP2 = WS2/WR2
    set WQ2 = WT2/WR2
    set X62 = WS2*X32 + WT2*X42
    set WU2 = -1*WY2 + 2*WK2 + 2*X32*X62
    set X02 = -1*WJ2 + 2*WL2 + 2*X42*X62
    set XI2 = WM2 + WK2 - WU2
    set X12 = WN2 + WL2 - X02
    return X12
endfunction

function X82 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit G32 = LoadUnitHandle(hashTable, DMI, 335)
    local real x0 = LoadReal(hashTable, DMI, 282)
    local real y0 = LoadReal(hashTable, DMI, 283)
    local real x1 = GetUnitX(GCI)
    local real y1 = GetUnitY(GCI)
    local real x2 = GetUnitX(G32)
    local real y2 = GetUnitY(G32)
    local real x3
    local real y3
    local real a
    local group LQO = LoadGroupHandle(hashTable, DMI, 187)
    local group g
    local real d
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1A8')
    local real X92 = LoadReal(hashTable, DMI, 342)
    local real LLI = TimerGetElapsed(M)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call releaseGroup(LQO)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call ShowUnit(G32, false)
        call KillUnit(G32)
        call SaveInteger(hashTable, GetHandleId(GCI), 4270, 2)
    elseif getDistance(x1, y1, x2, y2) < 100 then
        call WH2(GCI, G32, LoadInteger(hashTable, DMI, 344), LoadInteger(hashTable, DMI, 345))
        call releaseGroup(LQO)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEvalCount(t) > 400 then
        if GetTriggerEvalCount(t) == 401 then
            call SetUnitAnimationByIndex(G32, 3)
        endif
        set g = allocGroup()
        set UK0 = FVI
        set UL0 = LoadInteger(hashTable, DMI, 344)
        set UM0 = LoadInteger(hashTable, DMI, 345)
        set UJ0 = 80 + 40*FVI
        set UY0 = GCI
        set myUnit = GCI
        set UX0 = LQO
        call GroupEnumUnitsInRange(g, GetUnitX(G32), GetUnitY(G32), 300, Condition(function filterUnitInjurable))
        call ForGroup(g, function WW2)
        call releaseGroup(g)
        set g = null
        call SaveInteger(hashTable, DMI, 344, UL0)
        call SaveInteger(hashTable, DMI, 345, UM0)
        if (LoadInteger(hashTable, GetHandleId(GCI), 4269) == 1) == false then
            set a = Atan2(y1 - y2, x1 - x2)
            call SetUnitFacing(G32, a*bj_RADTODEG)
            set x3 = GetUnitX(G32) + 12*Cos(a)
            set y3 = GetUnitY(G32) + 12*Sin(a)
            call SetUnitX(G32, constrainX(x3))
            call SetUnitY(G32, constrainY(y3))
            call SaveReal(hashTable, DMI, 282, (x1*1.0))
            call SaveReal(hashTable, DMI, 283, (y1*1.0))
        endif
    else 
        set g = allocGroup()
        set UK0 = FVI
        set UL0 = LoadInteger(hashTable, DMI, 344)
        set UM0 = LoadInteger(hashTable, DMI, 345)
        set UJ0 = 80 + 40*FVI
        set UY0 = GCI
        set myUnit = GCI
        set UX0 = LQO
        call GroupEnumUnitsInRange(g, GetUnitX(G32), GetUnitY(G32), 300, Condition(function filterUnitInjurable))
        call ForGroup(g, function WW2)
        call releaseGroup(g)
        set g = null
        call SaveInteger(hashTable, DMI, 344, UL0)
        call SaveInteger(hashTable, DMI, 345, UM0)
        if x0 != x1 or y0 != y1 then
            set X92 = LLI
            call SaveReal(hashTable, DMI, 342, (X92*1.0))
        endif
        if (LoadInteger(hashTable, GetHandleId(GCI), 4269) == 1) == false then
            if X92 == LLI then
                set x3 = WX2(x0, y0, x1, y1, x2, y2)
                set y3 = X72(x0, y0, x1, y1, x2, y2)
                set a = Atan2(y3 - y2, x3 - x2)*bj_RADTODEG
                call SetUnitFacing(G32, a)
                call SetUnitX(G32, constrainX(x3))
                call SetUnitY(G32, constrainY(y3))
                call SaveReal(hashTable, DMI, 282, (x1*1.0))
                call SaveReal(hashTable, DMI, 283, (y1*1.0))
            endif
            if (X92 + 0.3) < LLI then
                call SaveInteger(hashTable, DMI, 343, 1)
                call SetUnitAnimationByIndex(G32, 2)
            elseif (X92 + 0.3) > LLI and LoadInteger(hashTable, DMI, 343) == 1 then
                call SaveInteger(hashTable, DMI, 343, 2)
                call SetUnitAnimationByIndex(G32, 3)
            elseif LoadInteger(hashTable, DMI, 343) == 3 then
                call SetUnitAnimationByIndex(G32, 2)
                call SaveInteger(hashTable, DMI, 343, 1)
            endif
        else 
            call SaveInteger(hashTable, DMI, 343, 3)
        endif
    endif
    set t = null
    set GCI = null
    set G32 = null
    set LQO = null
    return false
endfunction

function XA2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local real x0 = GetUnitX(GCI)
    local real y0 = GetUnitY(GCI)
    local location l = GetSpellTargetLoc()
    local real lx = GetLocationX(l)
    local real ly = GetLocationY(l)
    local real a = Atan2(ly - y0, lx - x0)
    local real d = HGI(getDistance(x0, y0, lx, ly), 300)
    local real x1 = constrainX(x0 + d*Cos(a))
    local real y1 = constrainY(y0 + d*Sin(a))
    local unit G32 = CreateUnit(GetOwningPlayer(GCI), 'h07U', x1, y1, (a*bj_RADTODEG) - 180)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", G32, "chest") )
    if GetUnitAbilityLevel(GCI, 'A1CD') > 0 then
        call UnitAddAbility(G32, 'A1CQ')
    endif
    call RemoveLocation(l)
    set UN0[GetPlayerId(GetOwningPlayer(GCI))] = G32
    call SaveInteger(hashTable, GetHandleId(GCI), 4270, 1)
    call UnitAddAbility(G32, 'Aloc')
    call UnitAddAbility(G32, 'Aetl')
    if LoadBoolean(hashTable, GetHandleId(GCI), 339) == true then
        call TriggerEvaluate( LoadTriggerHandle(hashTable, DMI, 338) )
    endif
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function X82))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 335, G32)
    call SaveReal(hashTable, DMI, 282, (x0*1.0))
    call SaveReal(hashTable, DMI, 283, (y0*1.0))
    call SaveGroupHandle(hashTable, DMI, 187, allocGroup())
    call SaveInteger(hashTable, DMI, 343, 2)
    call SaveReal(hashTable, DMI, 342, ((TimerGetElapsed(M) - 5)*1.0))
    set t = null
    set GCI = null
    set G32 = null
endfunction

function XB2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1A8' then
        call XA2()
    endif
    return false
endfunction

function AP1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XB2))
    call preloadAblility('A1G9')
    set t = null
endfunction

function XC2 takes nothing returns nothing
    local unit GDI = GetOrderTargetUnit()
    local real x
    local real y
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER then
        set x = GetUnitX(GetOrderTargetUnit())
        set y = GetUnitY(GetOrderTargetUnit())
    else 
        set x = GetOrderPointX()
        set y = GetOrderPointY()
    endif
    if getDistance(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), x, y) < 700 then
        call playSoundAt(RF, x, y)
    endif
endfunction

function XD2 takes nothing returns boolean 
    if GetIssuedOrderId() == 852040 then
        call XC2()
    endif
    return false
endfunction

function XE2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(t, GetOwningPlayer(GetTriggerUnit()), EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER, Condition(function returnTrue))
    call TriggerRegisterPlayerUnitEvent(t, GetOwningPlayer(GetTriggerUnit()), EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function XD2))
    set t = null
endfunction

function XF2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A06B' and GetUnitAbilityLevel(GetTriggerUnit(), 'A06B') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call XE2()
    endif
    return false
endfunction

function P9I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function XF2))
    set t = null
endfunction

function XG2 takes nothing returns boolean 
    return (GetLearnedSkill() == 'A0AK' or GetLearnedSkill() == 'A1FY') and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function XH2 takes nothing returns nothing
    if (GetUnitAbilityLevel(GetTriggerUnit(), 'A0AK') == 1 or GetUnitAbilityLevel(GetTriggerUnit(), 'A1FY') == 1) then
        call UnitAddAbility(GetTriggerUnit(), 'A02T')
    endif
endfunction

function P6I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function XG2))
    call TriggerAddAction(t, function XH2)
endfunction

function XZ2 takes nothing returns boolean 
    if (GetSpellAbilityId() == 'A0AM' or GetSpellAbilityId() == 'A0A3' or GetSpellAbilityId() == 'A0A4' or GetSpellAbilityId() == 'A02T' or GetSpellAbilityId() == 'A1FZ') then
        return true
    endif
    return false
endfunction

function XV2 takes nothing returns boolean 
    if (IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true) then
        if (IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false) then
            if (GetUnitAbilityLevelSwapped('A04R', GetFilterUnit()) == 0) then
                return true
            endif
        endif
    endif
    return false
endfunction

function XW2 takes nothing returns nothing
    call IssueImmediateOrder(GetEnumUnit(), "locustswarm")
endfunction

function XX2 takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 300.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE)
endfunction

function XY2 takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 450.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE)
endfunction

function XJ2 takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 600.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE)
endfunction

function XK2 takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetEnumUnit(), 750.00, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE)
endfunction

function XL2 takes nothing returns nothing
    local real x = GetUnitX(GetTriggerUnit())
    local real y = GetUnitY(GetTriggerUnit())
    local group MNI
    set ZN = true
    if (GetSpellAbilityId() == 'A0AM') then
        call Z8I("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, x, y, 425, Condition(function XV2))
        call ForGroup(MNI, function XX2)
        call RemoveUnit(GetTriggerUnit())
        call releaseGroup(MNI)
    endif
    if (GetSpellAbilityId() == 'A0A3') then
        call Z8I("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, x, y, 435, Condition(function XV2))
        call ForGroup(MNI, function XY2)
        call RemoveUnit(GetTriggerUnit())
        call releaseGroup(MNI)
    endif
    if (GetSpellAbilityId() == 'A0A4') then
        call Z8I("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, x, y, 450, Condition(function XV2))
        call ForGroup(MNI, function XJ2)
        call RemoveUnit(GetTriggerUnit())
        call releaseGroup(MNI)
    endif
    if (GetSpellAbilityId() == 'A1FZ') then
        call Z8I("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl", x, y, 5)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, x, y, 450, Condition(function XV2))
        call ForGroup(MNI, function XK2)
        call RemoveUnit(GetTriggerUnit())
        call releaseGroup(MNI)
    endif
    if (GetSpellAbilityId() == 'A02T') then
        set MNI = allocGroup()
        set bj_groupEnumTypeId = 'o018'
        call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(GetTriggerUnit()), filterGetUnitsOfPlayerAndTypeId)
        call ForGroup(MNI, function XW2)
        call releaseGroup(MNI)
        set MNI = allocGroup()
        set bj_groupEnumTypeId = 'o002'
        call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(GetTriggerUnit()), filterGetUnitsOfPlayerAndTypeId)
        call ForGroup(MNI, function XW2)
        call releaseGroup(MNI)
        set MNI = allocGroup()
        set bj_groupEnumTypeId = 'o00B'
        call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(GetTriggerUnit()), filterGetUnitsOfPlayerAndTypeId)
        call ForGroup(MNI, function XW2)
        call releaseGroup(MNI)
        set MNI = allocGroup()
        set bj_groupEnumTypeId = 'o01B'
        call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(GetTriggerUnit()), filterGetUnitsOfPlayerAndTypeId)
        call ForGroup(MNI, function XW2)
        call releaseGroup(MNI)
    endif
    set ZN = false
endfunction

function P7I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddAction(t, function XL2)
    call TriggerAddCondition(t, Condition(function XZ2))
    call XHI("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav")
endfunction

function XM2 takes nothing returns boolean 
    if GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 0.5 and (GetUnitTypeId(GetFilterUnit()) == 'n00O' or GetUnitTypeId(GetFilterUnit()) == 'n00P' or GetUnitTypeId(GetFilterUnit()) == 'n00Q' or GetUnitTypeId(GetFilterUnit()) == 'n00N') then
        set UR0 = UR0 + 1
    endif
    return false
endfunction

function XN2 takes nothing returns boolean 
    local group g = allocGroup()
    set UR0 = 0
    call GroupEnumUnitsOfPlayer(g, GetTriggerPlayer(), Condition(function XM2))
    if UR0 > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, GetObjectName('n0FC') + ": " + I2S(UR0))
    endif
    call releaseGroup(g)
    set g = null
    return false
endfunction

function XS2 takes nothing returns boolean 
    if (GetUnitTypeId(GetTriggerUnit()) == 'n00O') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'n00P') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'n00Q') then
        return true
    endif
    if (GetUnitTypeId(GetTriggerUnit()) == 'n00N') then
        return true
    endif
    if GetUnitTypeId(GetTriggerUnit()) == 'o018' or GetUnitTypeId(GetTriggerUnit()) == 'o002' or GetUnitTypeId(GetTriggerUnit()) == 'o00B' or GetUnitTypeId(GetTriggerUnit()) == 'o01B' then
        if MT0[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))] then
            call SelectUnitAddForPlayer(GetTriggerUnit(), GetOwningPlayer(GetTriggerUnit()))
        endif
    endif
    return false
endfunction

function XT2 takes nothing returns boolean 
    if GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit()) then
        if (GetUnitTypeId(GetFilterUnit()) == 'n00O') then
            return true
        endif
        if (GetUnitTypeId(GetFilterUnit()) == 'n00P') then
            return true
        endif
        if (GetUnitTypeId(GetFilterUnit()) == 'n00Q') then
            return true
        endif
        if (GetUnitTypeId(GetFilterUnit()) == 'n00N') then
            return true
        endif
    endif
    return false
endfunction

function XR2 takes nothing returns boolean 
    return (GetUnitTypeId(GetFilterUnit()) == 'H00E' or GetUnitTypeId(GetFilterUnit()) == 'H00G' or GetUnitTypeId(GetFilterUnit()) == 'H00F' or GetUnitTypeId(GetFilterUnit()) == 'E00P' or GetUnitTypeId(GetFilterUnit()) == 'N00B' or GetUnitTypeId(GetFilterUnit()) == 'UC60' or GetUnitTypeId(GetFilterUnit()) == 'EC77' or GetUnitTypeId(GetFilterUnit()) == 'U00P') and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(myUnit))
endfunction

function XP2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit XQ2 = LoadUnitHandle(hashTable, DMI, 347)
    local group g
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect( AddSpecialEffect("war3mapImported\\NewGroundEX.mdx", GetUnitX(XQ2), GetUnitY(XQ2)) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set g = allocGroup()
        set myUnit = XQ2
        call GroupEnumUnitsInRange(g, GetUnitX(XQ2), GetUnitY(XQ2), 200, Condition(function XR2))
        if FirstOfGroup(g) != null then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call SetUnitExploded(XQ2, true)
            call KillUnit(XQ2)
        endif
        call releaseGroup(g)
    endif
    set t = null
    set XQ2 = null
    set g = null
    return false
endfunction

function XU2 takes nothing returns nothing
    local integer DMI = GetHandleId(GetOwningPlayer(GetTriggerUnit()))
    local group MNI = allocGroup()
    local integer Y02 = LoadInteger(hashTable, DMI, 346)
    local integer YI2 = 0
    local unit Y12
    local integer YO2
    local unit SNI
    local integer Y22
    local integer EUI
    local integer F0I
    local trigger t = CreateTrigger()
    call GroupEnumUnitsInRect(MNI, bj_mapInitialPlayableArea, Condition(function XT2))
    call TriggerRegisterTimerEvent(t, 0.4, true)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function XP2))
    call SaveUnitHandle(hashTable, GetHandleId(t), 347, GetTriggerUnit())
    set Y02 = (Y02 + 1)
    call StartTimerBJ(LoadTimerHandle(hashTable, DMI, (1500 + Y02)), false, 15000.00)
    call SaveUnitHandle(hashTable, DMI, (1600 + Y02), GetTriggerUnit())
    set YI2 = CountUnitsInGroup(MNI)
    if (YI2 > 15) then
        set YO2 = 99999
        set EUI = 1
        set F0I = Y02
        loop
            exitwhen EUI > F0I
            set SNI = LoadUnitHandle(hashTable, DMI, (1600 + EUI))
            set Y22 = R2I(TimerGetRemaining( LoadTimerHandle(hashTable, DMI, (1500 + EUI)) ))
            if (GetUnitState(SNI, UNIT_STATE_LIFE) > 0 and Y22 < YO2) then
                set Y12 = SNI
                set YO2 = Y22
            endif
            set EUI = EUI + 1
        endloop
        call ExplodeUnitBJ(Y12)
    endif
    call SaveInteger(hashTable, DMI, 346, Y02)
    call releaseGroup(MNI)
endfunction

function P8I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-mines", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-mines", true)
    call TriggerAddCondition(t, Condition(function XN2))
    set t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, GetWorldBounds())
    call TriggerAddCondition(t, Condition(function XS2))
    call TriggerAddAction(t, function XU2)
    set t = null
endfunction

function Y32 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A065'
endfunction

function Y42 takes nothing returns nothing
    local integer EUI = 0
    local integer F0I = 5
    local integer array Y52
    local player array Y62
    local integer JMI
    local item KTI
    set Y52[0] = 0
    set Y52[1] = 0
    set Y52[2] = 0
    set Y52[3] = 0
    set Y52[4] = 0
    set Y52[5] = 0
    call DisableTrigger(trigItemActions)
    loop
        exitwhen EUI > F0I
        set JMI = KEI( UnitItemInSlot(GetTriggerUnit(), EUI) )
        if JMI == Z80 or JMI == Z90 or JMI == ZA0 or JMI == ZB0 or JMI == ZC0 or JMI == ZD0 or JMI == Z00 or JMI == ZY0 or JMI == ZJ0 or JMI == ZK0 or JMI == HV0 or JMI == V40 or JMI == V80 then
            set Y52[EUI] = GetItemTypeId( UnitItemInSlot(GetTriggerUnit(), EUI) )
            set Y62[EUI] = GetItemPlayer( UnitItemInSlot(GetTriggerUnit(), EUI) )
            call RemoveItem( UnitItemInSlot(GetTriggerUnit(), EUI) )
        endif
        set EUI = EUI + 1
    endloop
    call UnitResetCooldown(GetTriggerUnit())
    set EUI = 0
    set F0I = 5
    loop
        exitwhen EUI > F0I
        if Y52[EUI] > 0 then
            set KTI = CreateItem(Y52[EUI], 0, 0)
            call SetItemPlayer(KTI, Y62[EUI], false)
            call SetItemUserData(KTI, 1)
            call UnitAddItem(GetTriggerUnit(), KTI)
        endif
        set EUI = EUI + 1
    endloop
    call EnableTrigger(trigItemActions)
    set KTI = null
endfunction

function PCI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function Y32))
    call TriggerAddAction(t, function Y42)
endfunction

function Y72 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local integer i = 0
    local real a = 0
    local real r = 0
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0BQ')
    call UnitAddAbility(YVI, 'A05F')
    call SetUnitAbilityLevel(YVI, 'A05F', FVI)
    loop
        exitwhen i > 40
        exitwhen IssuePointOrder(YVI, "stampede", x + r*Cos(a), y + r*Sin(a))
        set i = i + 1
        set a = a + 0.4
        set r = r + 10
    endloop
    call RemoveLocation(l)
    set E1I = null
    set YVI = null
    set l = null
endfunction

function Y82 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0BQ' then
        call Y72()
    endif
    return false
endfunction

function PAI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Y82))
    set t = null
endfunction

function Y92 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A049'
endfunction

function YA2 takes nothing returns nothing
    call UnitDamageTarget(GetTriggerUnit(), GetSpellTargetUnit(), GetUnitAbilityLevel(GetTriggerUnit(), 'A049')*80, true, false, ATTACK_TYPE_HERO, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
endfunction

function PBI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Y92))
    call TriggerAddAction(t, function YA2)
endfunction

function YB2 takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == true then
        call doDamage(UP0, GetEnumUnit(), 1, UQ0/3)
    else 
        call doDamage(UP0, GetEnumUnit(), 1, UQ0)
    endif
endfunction

function YC2 takes unit GCI, real x, real y, real r, real d returns nothing
    local group g = allocGroup()
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function XUI))
    set UP0 = GCI
    set UQ0 = d
    call ForGroup(g, function YB2)
    call releaseGroup(g)
    set g = null
endfunction

function YD2 takes nothing returns boolean 
    if ((GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))) and GII(GetFilterUnit()) == false and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit())) then
        return true
    endif
    return false
endfunction

function YE2 takes unit E1I returns unit 
    local unit GCI = null
    local group g = allocGroup()
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 275, Condition(function YD2))
    call GroupRemoveUnit(g, E1I)
    set GCI = GroupPickRandomUnit(g)
    call releaseGroup(g)
    set myUnit = GCI
    set GCI = null
    set g = null
    return myUnit
endfunction

function YF2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = GetTriggerEvalCount(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local real x0 = LoadReal(hashTable, DMI, 282)
    local real y0 = LoadReal(hashTable, DMI, 283)
    local real x1 = GetUnitX(GCI)
    local real y1 = GetUnitY(GCI)
    local real x2 = GetUnitX(GDI)
    local real y2 = GetUnitY(GDI)
    local real LPO
    local real YG2
    local real RMO
    local real L6O
    local real VGI
    local real VHI
    local location l
    if getDistance(x0, y0, x2, y2) > 1000 then
        set x2 = x0
        set y2 = y0
    endif
    set LPO = getAngle(x1, y1, x2, y2)
    set YG2 = getDistance(x1, y1, x2, y2)
    set RMO = YG2/IMaxBJ((51 - DHI), 1)
    set L6O = (DHI - 25)*(DHI - 25)
    set VGI = x1 + RMO*Cos(LPO*bj_DEGTORAD)
    set VHI = y1 + RMO*Sin(LPO*bj_DEGTORAD)
    if DHI < 51 then
        if G4I(GCI) == false then
            call SetUnitFlyHeight(GCI, 775 - L6O, 0)
        endif
        call SetUnitPosition(GCI, VGI, VHI)
    else 
        if G4I(GCI) == false then
            call SetUnitFlyHeight(GCI, GetUnitDefaultFlyHeight(GCI), 0)
        endif
        call PauseUnit(GCI, false)
        call SetUnitPathing(GCI, true)
        call SetUnitPosition(GCI, x2, y2)
        call SaveInteger(hashTable, GetHandleId(GCI), 4268, 2)
        set l = Location(x2, y2)
        call TerrainDeformationRippleBJ(0.2, true, l, 1.00, 300.00, 96.00, 1, 64.00)
        call RemoveLocation(l)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl", GetUnitX(GCI), GetUnitY(GCI)) )
        if IsUnitAlly(GCI, GetOwningPlayer(E1I)) then
            call doDamage(E1I, GCI, 1, 0.2*75*GetUnitAbilityLevel(E1I, 'A0BZ'))
        else 
            call doDamage(E1I, GCI, 1, (0.2 + 0.15*GetUnitAbilityLevel(E1I, 'A0CY'))*75*GetUnitAbilityLevel(E1I, 'A0BZ'))
        endif
        call killDestructables(x2, y2, 300)
        call YC2(E1I, x2, y2, 300, 75*GetUnitAbilityLevel(E1I, 'A0BZ'))
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    set GCI = null
    set GDI = null
    set l = null
    return false
endfunction

function YH2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GCI = YE2(E1I)
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SetUnitAnimationByIndex(E1I, 4)
    call PauseUnit(GCI, true)
    call SetUnitPathing(GCI, false)
    if G4I(GCI) == false then
        call UnitAddAbility(GCI, 'Amrf')
        call UnitRemoveAbility(GCI, 'Amrf')
    endif
    call SaveInteger(hashTable, GetHandleId(GCI), 4268, 1)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", GCI, "origin"))
    call SaveReal(hashTable, DMI, 282, (GetUnitX(GDI)*1.0))
    call SaveReal(hashTable, DMI, 283, (GetUnitY(GDI)*1.0))
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function YF2))
    set E1I = null
    set GCI = null
    set GDI = null
    set t = null
endfunction

function YZ2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GCI = YE2(E1I)
    local unit GDI = GetSpellTargetUnit()
    if GCI == null then
        call GSI(E1I)
        call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n0DA'))
    elseif GetOwningPlayer(GDI) == GetOwningPlayer(E1I) then
        call GSI(E1I)
        call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n0CY'))
    endif
    set E1I = null
    set GCI = null
    set GDI = null
endfunction

function YV2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0BZ' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call YZ2()
        else 
            call YH2()
        endif
    endif
    return false
endfunction

function PFI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YV2))
    set t = null
endfunction

function D6O takes nothing returns nothing
    local unit GCI = WM
    local unit GDI = XM
    local unit YVI = LoadUnitHandle(hashTable, GetHandleId(GCI), 297)
    call SaveUnitHandle(hashTable, GetHandleId(GDI), 297, YVI)
    call SetUnitOwner(YVI, GetOwningPlayer(GDI), true)
    set GCI = null
    set GDI = null
    set YVI = null
endfunction

function DR1 takes nothing returns nothing
    local unit E1I = MK
    local unit YVI = LoadUnitHandle(hashTable, GetHandleId(E1I), 297)
    if YVI != null and GetUnitTypeId(YVI) == 'e01V' then
        call RemoveUnit(YVI)
    endif
endfunction

function YW2 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0CY' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function YX2 takes nothing returns nothing
    local unit YY2 = LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 298)
    local integer FVI = GetUnitAbilityLevel(YY2, 'A0CY')
    if GetUnitState(YY2, UNIT_STATE_LIFE) > 1 then
        call SetUnitScale(YY2, 0.5 + 0.25*FVI, 0.5 + 0.25*FVI, 0.5 + 0.25*FVI)
    endif
endfunction

function YJ2 takes nothing returns boolean 
    local integer FVI
    if IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit()) == 'Ucrl' then
        set FVI = GetUnitAbilityLevel(LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 298), 'A0CY')
        call SetUnitScale(GetTriggerUnit(), 0.5 + 0.25*FVI, 0.5 + 0.25*FVI, 0.5 + 0.25*FVI)
    endif
    return false
endfunction

function YK2 takes nothing returns nothing
    local trigger t
    local unit YY2 = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(YY2, 'A0CY')
    local unit YVI
    local unit E1I = GetTriggerUnit()
    local region LV1
    if FVI == 1 then
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e01V', 0, 0, 0)
        call UnitAddAbility(YVI, 'A10B')
        call SaveUnitHandle(hashTable, GetHandleId(E1I), 297, YVI)
    else 
        set YVI = LoadUnitHandle(hashTable, GetHandleId(E1I), 297)
    endif
    if FVI == 2 then
        call UnitRemoveAbility(YVI, 'A10B')
        call UnitAddAbility(YVI, 'A10A')
    elseif FVI == 3 then
        call UnitRemoveAbility(YVI, 'A10B')
        call UnitRemoveAbility(YVI, 'A10A')
        call UnitAddAbility(YVI, 'A0ZS')
    endif
    call SetPlayerTechResearched(GetOwningPlayer(YY2), 'R00E', FVI)
    if FVI == 1 then
        set t = CreateTrigger()
        call TriggerAddAction(t, function YX2)
        call TriggerRegisterTimerEvent(t, 2.00, true)
        call SaveUnitHandle(hashTable, GetHandleId(t), 298, YY2)
        call SetUnitScale(YY2, 0.5 + 0.25*FVI, 0.5 + 0.25*FVI, 0.5 + 0.25*FVI)
        set t = CreateTrigger()
        set LV1 = CreateRegion()
        call RegionAddRect(LV1, GetWorldBounds())
        call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
        call TriggerAddCondition(t, Condition(function YJ2))
        call SaveUnitHandle(hashTable, GetHandleId(t), 298, YY2)
        set t = null
        set LV1 = null
    endif
    set E1I = null
    set YVI = null
endfunction

function PDI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function YW2))
    call TriggerAddAction(t, function YK2)
endfunction

function YL2 takes nothing returns boolean 
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetAttacker()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A19Q')
    local unit YVI
    if GetRandomInt(1, 100) <= FVI*6 and getUnitDistance(GCI, GDI) < 325 then
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
        call UnitAddAbility(YVI, 'A0BV')
        call SetUnitAbilityLevel(YVI, 'A0BV', FVI)
        call IssueTargetOrder(YVI, "thunderbolt", GDI)
        set YVI = null
    endif
    set GCI = null
    set GDI = null
    return false
endfunction

function YM2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit GCI = GetTriggerUnit()
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function YL2))
    set t = null
    set GCI = null
endfunction

function YN2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A19Q' and GetUnitAbilityLevel(GetTriggerUnit(), 'A19Q') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call YM2()
    endif
    return false
endfunction

function PGI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function YN2))
    set t = null
endfunction

function YS2 takes nothing returns boolean 
    if (LoadInteger(hashTable, GetHandleId(GetFilterUnit()), 4268) == 1) and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(UU0)) == true then
        call doDamage(UU0, GetFilterUnit(), 1, I0I)
    endif
    return false
endfunction

function YT2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', x, y, 0)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0LL')
    local group g = allocGroup()
    call UnitAddAbility(YVI, 'A10J')
    call SetUnitAbilityLevel(YVI, 'A10J', FVI)
    set UU0 = E1I
    if FVI == 1 then
        set I0I = 25
    elseif FVI == 2 then
        set I0I = 45
    elseif FVI == 3 then
        set I0I = 65
    elseif FVI == 4 then
        set I0I = 75
    endif
    call GroupEnumUnitsInRange(g, x, y, 275 + 24, Condition(function YS2))
    call releaseGroup(g)
    if GetTriggerEvalCount(t) > 6 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    set YVI = null
    set g = null
    return false
endfunction

function YR2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local location l = GetSpellTargetLoc()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0LL')
    call UnitAddAbility(YVI, 'A10M')
    call SetUnitAbilityLevel(YVI, 'A10M', FVI)
    call IssuePointOrder(YVI, "clusterrockets", GetLocationX(l), GetLocationY(l))
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerAddCondition(t, Condition(function YT2))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 6, (GetLocationX(l)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetLocationY(l)*1.0))
    call TriggerEvaluate(t)
    call RemoveLocation(l)
    set E1I = null
    set l = null
    set t = null
    set YVI = null
endfunction

function YP2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0LL' then
        call YR2()
    endif
    return false
endfunction

function PEI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YP2))
    set t = null
endfunction

function YQ2 takes nothing returns nothing
    if GetEnumUnit() == GetTriggerUnit() then
        call XCI(GetEnumUnit(), 'A0XE', I1I, III + 3, 'B00B')
    else 
        call XCI(GetEnumUnit(), 'A0XE', I1I, III, 'B00B')
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()), 'A0XE', false)
endfunction

function YU2 takes nothing returns nothing
    local group g = allocGroup()
    set I1I = GetUnitAbilityLevel(GetTriggerUnit(), 'A1EJ')
    set III = 5
    call GroupEnumUnitsInRange(g, 0, 0, 9999, Condition(function Y2I))
    call ForGroup(g, function YQ2)
    call releaseGroup(g)
    set g = null
endfunction

function J02 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1EJ' then
        call YU2()
    endif
    return false
endfunction

function PTI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J02))
    set t = null
endfunction

function JI2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0BE'
endfunction

function J12 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    call SetUnitAbilityLevel(E1I, 'A09E', GetUnitAbilityLevel(E1I, 'A0BE'))
    set E1I = null
endfunction

function PMI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JI2))
    call TriggerAddAction(t, function J12)
endfunction

function JO2 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0BE' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function J22 takes nothing returns nothing
    call SetUnitAbilityLevel(GetTriggerUnit(), 'A09E', GetUnitAbilityLevel(GetTriggerUnit(), 'A0BE'))
endfunction

function PNI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function JO2))
    call TriggerAddAction(t, function J22)
endfunction

constant function BeastRage_AbilityCode takes nothing returns integer 
    return 'A0O0'
endfunction

constant function BeastRage_EffectCode takes nothing returns integer 
    return 'A0NZ'
endfunction

function J32 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetAttacker(), 'A0O0') > 0 and (LoadInteger(hashTable, GetHandleId(GetAttacker()), 4271) == 1) == false and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction

function J42 takes nothing returns nothing
    local unit VW1 = GetAttacker()
    local unit GDI = GetTriggerUnit()
    local integer DMI = GetHandleId(VW1)
    local integer J52 = LoadInteger(hashTable, DMI, 237)
    local unit J62 = D9I(J52)
    local integer MXO = HDI(LoadInteger(hashTable, DMI, 236), 0)
    local integer FVI = GetUnitAbilityLevel(VW1, 'A0O0')
    if J62 != GDI then
        set MXO = MXO/2
    else 
        set MXO = HCI(MXO + 1, 21)
    endif
    call H9I(VW1, 'A0NZ', MXO*FVI)
    call SaveInteger(hashTable, DMI, 236, MXO)
    if J62 != GDI then
        call D8I(J52)
        set J52 = DBI(GDI)
        call SaveInteger(hashTable, DMI, 237, J52)
    endif
    call DUI(VW1, 4271, 0.4)
endfunction

function PSI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function J32))
    call TriggerAddAction(t, function J42)
    call preloadAblility('A0NZ')
endfunction

function J72 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    local integer PZO = 2 + FVI
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(GCI, 'A1N3')
        call UnitRemoveAbility(GCI, 'A1N6')
        call UnitRemoveAbility(GCI, 'A1N7')
        call UnitRemoveAbility(GCI, 'B0CH')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetAttacker() == GCI then
            set DHI = DHI + 1
            call SaveInteger(hashTable, DMI, 34, DHI)
            if DHI >= PZO then
                call UnitRemoveAbility(GCI, 'A1N3')
                call UnitRemoveAbility(GCI, 'A1N6')
                call UnitRemoveAbility(GCI, 'A1N7')
                call UnitRemoveAbility(GCI, 'B0CH')
                call FlushChildHashtable(hashTable, DMI)
                call abandonTrigger(t)
            endif
        endif
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if GetTriggerUnit() == GCI and GetSpellAbilityId() == 'A1P9' and TimerGetElapsed(M) > LoadReal(hashTable, DMI, 442) then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        elseif JWI(GetSpellAbilityId()) and GCI == GetSpellTargetUnit() then
            call UnitRemoveAbility(GCI, 'A1N3')
            call UnitRemoveAbility(GCI, 'A1N6')
            call UnitRemoveAbility(GCI, 'A1N7')
            call UnitRemoveAbility(GCI, 'B0CH')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call UnitRemoveAbility(GCI, 'A1N3')
        call UnitRemoveAbility(GCI, 'A1N6')
        call UnitRemoveAbility(GCI, 'A1N7')
        call UnitRemoveAbility(GCI, 'B0CH')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function J82 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1P9')
    call UnitAddAbility(GCI, 'A1N3')
    call UnitAddAbility(GCI, 'A1N6')
    call UnitAddAbility(GCI, 'A1N7')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1N6', false)
    call TriggerRegisterTimerEvent(t, 15, false)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J72))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 34, 0)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 442, ((TimerGetElapsed(M) + 1)*1.0))
    set t = null
    set GCI = null
endfunction

function J92 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1P9' then
        call J82()
    endif
    return false
endfunction

function PHI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J92))
    call preloadAblility('A1N3')
    set t = null
endfunction

function JA2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0LC')
    local integer B6O
    local integer JB2
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetUnitAbilityLevel(GCI, 'B02H') == 0 or (GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and GCI == GetSpellTargetUnit() and JWI(GetSpellAbilityId())) then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call UnitRemoveAbility(GCI, 'B02H')
        call LDI(GCI, 0)
    else 
        set B6O = R2I(GetUnitState(GCI, UNIT_STATE_LIFE)*(0.03 + 0.01*FVI))
        set JB2 = LoadInteger(hashTable, DMI, 238)
        if B6O != JB2 then
            call SaveInteger(hashTable, DMI, 238, B6O)
            call LDI(GCI, B6O)
        endif
    endif
    set t = null
    set GCI = null
    return false
endfunction

function JC2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DEATH)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JA2))
    call SaveUnitHandle(hashTable, DMI, 2, GetTriggerUnit())
    call SaveInteger(hashTable, DMI, 238, 0)
    set t = null
endfunction

function JD2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0LC' then
        call JC2()
    endif
    return false
endfunction

function JE2 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetAttacker(), 'B02H') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) == false then
        call UnitDamageTargetBJ(GetAttacker(), GetTriggerUnit(), 1, ATTACK_TYPE_HERO, DAMAGE_TYPE_ENHANCED)
    endif
    return false
endfunction

function PZI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JD2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function JE2))
    set t = null
endfunction

function JF2 takes unit YVI, real x, real y, integer FVI returns nothing
    call SetUnitPosition(YVI, x, y)
    call IssueImmediateOrder(YVI, "howlofterror")
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl", x, y) )
    set YVI = null
endfunction

function JG2 takes nothing returns boolean 
    if (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and IsUnitInGroup(GetFilterUnit(), IOI) == false then
        call GroupAddUnit(IOI, GetFilterUnit())
        if GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > I3I then
            call SetUnitState(GetFilterUnit(), UNIT_STATE_LIFE, GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) - (I3I*0.75))
        else 
            call doDamage(I2I, GetFilterUnit(), 1, I3I)
        endif
    endif
    return false
endfunction

function JH2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local group JO1 = LoadGroupHandle(hashTable, DMI, 133)
    local group g
    if GetTriggerEvalCount(t) > 10 then
        call releaseGroup(JO1)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set IOI = JO1
        set I2I = GCI
        set I3I = FVI*25
        set myUnit = GCI
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, x, y, 325, Condition(function JG2))
        call releaseGroup(g)
        set g = null
        call JF2(YVI, x, y, FVI)
        if ModuloInteger(GetTriggerEvalCount(t), 2) == 0 then
            call KillUnit( CreateUnit(GetOwningPlayer(GCI), 'e02A', x, y, 0) )
        endif
        set x = constrainX(x + 200*Cos(LPO*bj_DEGTORAD))
        set y = constrainY(y + 200*Sin(LPO*bj_DEGTORAD))
        call SaveReal(hashTable, DMI, 6, (x*1.0))
        call SaveReal(hashTable, DMI, 7, (y*1.0))
    endif
    set t = null
    set GCI = null
    set YVI = null
    set JO1 = null
    return false
endfunction

function JZ2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x1 = GetUnitX(GCI)
    local real y1 = GetUnitY(GCI)
    local real x2 = GetLocationX(l)
    local real y2 = GetLocationY(l)
    local real LPO = getAngle(x1, y1, x2, y2)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A17O')
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x1, y1, 0)
    call UnitAddAbility(YVI, 'A0AP')
    call SetUnitAbilityLevel(YVI, 'A0AP', FVI)
    call RemoveLocation(l)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 6, (x1*1.0))
    call SaveReal(hashTable, DMI, 7, (y1*1.0))
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveGroupHandle(hashTable, DMI, 133, allocGroup())
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function JH2))
    set t = null
    set GCI = null
    set l = null
    set YVI = null
endfunction

function JV2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A17O' then
        call JZ2()
    endif
    return false
endfunction

function PWI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JV2))
    set t = null
endfunction

function JW2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real x1 = LoadReal(hashTable, DMI, 64)
    local real x2 = LoadReal(hashTable, DMI, 66)
    local real y1 = LoadReal(hashTable, DMI, 65)
    local real y2 = LoadReal(hashTable, DMI, 67)
    call SetUnitPosition(GCI, x2, y2)
    call SetUnitPosition(GDI, x1, y1)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function JX2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real x1 = GetUnitX(GCI)
    local real y1 = GetUnitY(GCI)
    local real x2 = GetUnitX(GDI)
    local real y2 = GetUnitY(GDI)
    local trigger t
    local integer DMI
    if IsUnitAlly(GCI, GetOwningPlayer(GDI)) == true or (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveReal(hashTable, DMI, 64, (x1*1.0))
        call SaveReal(hashTable, DMI, 66, (x2*1.0))
        call SaveReal(hashTable, DMI, 65, (y1*1.0))
        call SaveReal(hashTable, DMI, 67, (y2*1.0))
        call TriggerRegisterTimerEvent(t, 0, false)
        call TriggerAddCondition(t, Condition(function JW2))
        call ZHI("SPLK", x1, y1, x2, y2, 0.5, 0, 1, 1, 0.3)
        call killDestructables(x1, y1, 300)
        call killDestructables(x2, y2, 300)
    endif
    set GCI = null
    set GDI = null
    set t = null
endfunction

function JY2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0IN' or GetSpellAbilityId() == 'A1AW' then
        call JX2()
    endif
    return false
endfunction

function JJ2 takes nothing returns nothing
    if IsTerrainPathable(GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), PATHING_TYPE_WALKABILITY) then
        call GSI(GetTriggerUnit())
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n03B'))
    endif
endfunction

function JK2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0IN' or GetSpellAbilityId() == 'A1AW' then
        call JJ2()
    endif
    return false
endfunction

function PXI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JY2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function JK2))
    set t = null
endfunction

function MagicMissle takes nothing returns nothing
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl", GetTriggerUnit(), "weapon") )
endfunction

function JL2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A02A' then
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl", GetTriggerUnit(), "weapon") )
    endif
    return false
endfunction

function PVI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function JL2))
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    set t = null
endfunction

function JM2 takes unit u returns nothing
    local unit E1I = playerHero[GetPlayerId(GetOwningPlayer(u))]
    local integer DMI = GetHandleId(E1I)
    local integer JN2
    local integer i
    local integer x
    local integer JS2
    local unit JT2
    if GetUnitTypeId(E1I) != 'E01Y' then
        return
    endif
    set JN2 = LoadInteger(hashTable, DMI, 348)
    set i = 1
    loop
        exitwhen i > JN2
        set JS2 = LoadInteger(hashTable, DMI, (7000 + i))
        set JT2 = D9I(JS2)
        if JT2 == u then
            set x = i
            loop
                exitwhen x == JN2
                call SaveInteger(hashTable, DMI, (7000 + x), LoadInteger(hashTable, DMI, (7000 + x + 1)))
                set x = x + 1
            endloop
            set i = JN2
        endif
        set i = i + 1
    endloop
    call SaveInteger(hashTable, DMI, 348, (JN2 - 1))
    set JT2 = null
    set E1I = null
endfunction

function JR2 takes unit u returns nothing
    local unit E1I = playerHero[GetPlayerId(GetOwningPlayer(u))]
    local integer DMI = GetHandleId(E1I)
    local integer JN2 = LoadInteger(hashTable, DMI, 348)
    set JN2 = JN2 + 1
    call SaveInteger(hashTable, DMI, (7000 + JN2), DBI(u))
    call SaveInteger(hashTable, DMI, 348, JN2)
    if MT0[GetPlayerId(GetOwningPlayer(E1I))] then
        call SelectUnitAddForPlayer(u, GetOwningPlayer(E1I))
    endif
    set E1I = null
endfunction

function WardenTrap_DeathMain takes nothing returns nothing
    call JM2(GetTriggerUnit())
endfunction

function JP2 takes unit u returns nothing
    local integer JQ2 = GetUnitAbilityLevel(u, 'A0RP')*3 + 2
    local integer DMI = GetHandleId(u)
    local integer JN2 = LoadInteger(hashTable, DMI, 348)
    local integer JS2 = LoadInteger(hashTable, DMI, (7000 + 1))
    local unit JT2 = D9I(JS2)
    if JN2 >= JQ2 then
        call JM2(JT2)
        call RemoveUnit(JT2)
    endif
    set JT2 = null
endfunction

function JU2 takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call UnitAddAbility(YVI, 'A0RU')
    call IssueTargetOrder(YVI, "slow", GetEnumUnit())
    call UnitAddAbility(YVI, 'A0S7')
    set YVI = null
endfunction

function K02 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local group g = allocGroup()
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl", x, y) )
    call GroupEnumUnitsInRange(g, x, y, 400, Condition(function XKI))
    call ForGroup(g, function JU2)
    call releaseGroup(g)
    call JM2(GCI)
    call RemoveUnit(GCI)
    set g = null
    set GCI = null
endfunction

function KI2 takes nothing returns boolean 
    return GetOwningPlayer(GetFilterUnit()) == YK and GetUnitTypeId(GetFilterUnit()) == 'e020'
endfunction

function K12 takes nothing returns nothing
    local real KO2 = ZPI(GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), OK, AK)
    local real K22 = ZPI(GetUnitX(myUnit), GetUnitY(myUnit), OK, AK)
    if KO2 < K22 then
        set myUnit = GetEnumUnit()
    endif
endfunction

function K32 takes nothing returns nothing
    local group g = allocGroup()
    set YK = GetOwningPlayer(GetTriggerUnit())
    call GroupEnumUnitsInRange(g, GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 9000, Condition(function KI2))
    set myUnit = FirstOfGroup(g)
    set OK = GetUnitX(GetTriggerUnit())
    set AK = GetUnitY(GetTriggerUnit())
    call ForGroup(g, function K12)
    call IssueImmediateOrder(myUnit, "locustswarm")
    call releaseGroup(g)
    set g = null
endfunction

function WardenTrap_LearnMain takes nothing returns nothing
    call UnitAddAbility(GetTriggerUnit(), 'A0RT')
endfunction

function K42 takes nothing returns nothing
    local location l = GetSpellTargetLoc()
    call JP2(GetTriggerUnit())
    call JR2( CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e020', GetLocationX(l), GetLocationY(l), 0) )
    call RemoveLocation(l)
    set l = null
endfunction

function K52 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0RP' then
        call K42()
    endif
    if GetSpellAbilityId() == 'A0RT' then
        call K32()
    endif
    return false
endfunction

function K62 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0RQ' then
        call K02()
    endif
    return false
endfunction

function K72 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0RP' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0RP') == 1 then
        call UnitAddAbility(GetTriggerUnit(), 'A0RT')
    endif
    return false
endfunction

function K82 takes nothing returns boolean 
    if GetUnitTypeId(GetDyingUnit()) == 'e020' then
        call JM2(GetTriggerUnit())
    endif
    return false
endfunction

function OS1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function K52))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function K82))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function K62))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function K72))
    set t = null
endfunction

function K92 takes unit u, real KA2, real KB2, real KC2, real KD2, real KE2 returns boolean 
    local real KF2 = KC2 - KA2
    local real KG2 = KD2 - KB2
    local real KH2 = GetUnitX(u) - KA2
    local real KZ2 = GetUnitY(u) - KB2
    return KE2 >= RAbsBJ(KF2*KZ2 - KG2*KH2)/RAbsBJ( Pow(Pow(KF2, 2) + Pow(KG2, 2), 0.5) )
endfunction

function KV2 takes unit GCI, unit GDI, real GFI, real InitX, real InitY returns nothing
    local real KW2 = 160*4
    local real KX2 = 190/2
    local unit KY2
    local real dx
    local real dy
    local real KJ2
    local real x
    local real y
    local group g = allocGroup()
    local boolean KK2
    local boolean KL2
    set dx = GetUnitX(GDI) - GetUnitX(GCI)
    set dy = GetUnitY(GDI) - GetUnitY(GCI)
    set KJ2 = Pow(Pow(dx, 2) + Pow(dy, 2), 0.5)
    set x = GetUnitX(GDI) + (KW2/2)*(dx/KJ2)
    set y = GetUnitY(GDI) + (KW2/2)*(dy/KJ2)
    set myUnit = GCI
    set OK = GFI
    call GroupEnumUnitsInRange(g, x, y, Pow(Pow(KW2/2, 2) + Pow(KX2/2, 2), 0.5), Condition(function filterUnitInjurable))
    call GroupRemoveUnit(g, GDI)
    set KY2 = FirstOfGroup(g)
    loop
        exitwhen KY2 == null
        set KK2 = K92(KY2, GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI), KX2/2)
        set KL2 = K92(KY2, x, y, x - 100, y + 100*x*Pow(y, -1), 0.01 + KW2/2)
        if KK2 and KL2 then
            call doDamage(GCI, KY2, 3, GFI)
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl", KY2, "chest") )
        endif
        call GroupRemoveUnit(g, KY2)
        set KY2 = FirstOfGroup(g)
    endloop
    call releaseGroup(g)
    set KY2 = null
    set g = null
endfunction

function KM2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI and GetEventDamage() > 1 then
            call DisableTrigger(t)
            call KV2(GCI, GDI, GetEventDamage(), LoadReal(hashTable, DMI, 349), LoadReal(hashTable, DMI, 350))
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function KN2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit GDI = GetTriggerUnit()
    local unit GCI = GetAttacker()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 2.0, false)
    call TriggerAddCondition(t, Condition(function KM2))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 349, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 350, (GetUnitY(GCI)*1.0))
    set GDI = null
    set GCI = null
    set t = null
endfunction

function KS2 takes nothing returns nothing
    local unit GCI = GetAttacker()
    if (LoadInteger(hashTable, GetHandleId(GCI), 4272) == 1) == false then
        call DUI(GCI, 4272, 0.4)
        call KN2()
    endif
endfunction

function KT2 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetAttacker(), 'A0RO') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14) then
        call KS2()
    endif
    return false
endfunction

function KR2 takes nothing returns nothing
    local trigger t
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0RO') == 1 then
        set t = CreateTrigger()
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerAddCondition(t, Condition(function KT2))
        call SaveUnitHandle(hashTable, GetHandleId(t), 14, GetTriggerUnit())
    endif
    call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()), 'Repb', GetUnitAbilityLevel(GetTriggerUnit(), 'A0RO'))
    set t = null
endfunction

function KP2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0RO' and IsUnitIllusion(GetTriggerUnit()) == false then
        call KR2()
    endif
    return false
endfunction

function ON1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function KP2))
    set t = null
endfunction

function KQ2 takes nothing returns boolean 
    local unit E1I = GetTriggerUnit()
    local integer DMI = GetHandleId(E1I)
    local integer Q11 = LoadInteger(hashTable, DMI, 352)
    if Q11 > 0 and GetTriggerEventId() != EVENT_UNIT_DEATH then
        if GetEventDamage() > 5 then
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl", E1I, "right hand") )
            call HVI(E1I, GetEventDamage())
            call SaveInteger(hashTable, DMI, 352, (Q11 - 1))
        endif
    else 
        call UnitRemoveAbility(E1I, 'A0RN')
        call UnitRemoveAbility(E1I, 'B08J')
        call SaveInteger(hashTable, DMI, 352, 0)
    endif
    set E1I = null
    return false
endfunction

function KU2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local unit E1I = LoadUnitHandle(hashTable, GetHandleId(t), 14)
    local integer DMI = GetHandleId(E1I)
    local integer Q11 = LoadInteger(hashTable, DMI, 351)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or (GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED and GetAttacker() == E1I and IsUnitAlly(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) == false) then
        if GetTriggerEventId() != EVENT_UNIT_DEATH and Q11 > 0 and GetEventDamage() > 0 then
            call SaveInteger(hashTable, DMI, 351, (Q11 - 1))
        else 
            call UnitRemoveAbility(E1I, 'A0RF')
            call UnitRemoveAbility(E1I, 'A0RM')
            call SaveInteger(hashTable, DMI, 351, 0)
        endif
    endif
    set t = null
    set E1I = null
    return false
endfunction

function L02 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local unit E1I = LoadUnitHandle(hashTable, GetHandleId(t), 14)
    local integer DMI = GetHandleId(E1I)
    call SaveInteger(hashTable, DMI, 352, 0)
    call SaveInteger(hashTable, DMI, 351, 0)
    call UnitRemoveAbility(E1I, 'A0RF')
    call UnitRemoveAbility(E1I, 'A0RM')
    call UnitRemoveAbility(E1I, 'A0RN')
    call FlushChildHashtable(hashTable, GetHandleId(t))
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function LI2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer DMI = GetHandleId(E1I)
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 17, false)
    call TriggerAddCondition(t, Condition(function L02))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, E1I)
    call playSoundAt(XF, GetUnitX(E1I), GetUnitY(E1I))
    call UnitAddAbility(E1I, 'A0RN')
    call SaveInteger(hashTable, DMI, 352, (GetUnitAbilityLevel(E1I, 'A1EA') + 1))
    call UnitAddAbility(E1I, 'A0RF')
    call SetUnitAbilityLevel(E1I, 'A0RF', GetUnitAbilityLevel(E1I, 'A1EA'))
    call UnitAddAbility(E1I, 'A0RM')
    call SaveInteger(hashTable, DMI, 351, (GetUnitAbilityLevel(E1I, 'A1EA') + 1))
    set E1I = null
endfunction

function L12 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function KQ2))
    call SaveInteger(hashTable, GetHandleId(E1I), 352, 0)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function KU2))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, E1I)
    call SaveInteger(hashTable, GetHandleId(E1I), 351, 0)
    set t = null
    set E1I = null
endfunction

function LO2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A1EA' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A1EA') == 1 then
        call L12()
    endif
    return false
endfunction

function L22 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1EA' then
        call LI2()
    endif
    return false
endfunction

function OM1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function L22))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function LO2))
    set t = null
endfunction

function L32 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    call UnitRemoveAbility(LoadUnitHandle(hashTable, GetHandleId(t), 14), 'A0RC')
    call FlushChildHashtable(hashTable, GetHandleId(t))
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function L42 takes unit GCI, unit GDI returns nothing
    local trigger t = CreateTrigger()
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, GDI)
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function L32))
    call UnitAddAbility(GDI, 'A0RC')
    call SetUnitAbilityLevel(GDI, 'A0RC', GetUnitAbilityLevel(GCI, 'A0RV'))
    call doDamage(GCI, GDI, 2, 50*GetUnitAbilityLevel(GCI, 'A0RV'))
    call ZJI(I2S(50*GetUnitAbilityLevel(GCI, 'A0RV')), 1, GDI, 255, 0, 0)
    call UnitRemoveAbility(GCI, 'B08K')
    set t = null
endfunction

function L52 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local trigger L62 = LoadTriggerHandle(hashTable, DMI, 353)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI then
            call DisableTrigger(t)
            call FlushChildHashtable(hashTable, GetHandleId(L62))
            call abandonTrigger(L62)
            call L42(GCI, GDI)
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set GCI = null
    set L62 = null
    return false
endfunction

function L72 takes unit GCI, unit GDI, trigger L62 returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 2.0, false)
    call TriggerAddCondition(t, Condition(function L52))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveTriggerHandle(hashTable, DMI, 353, L62)
    set t = null
endfunction

function L82 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEventId() == EVENT_UNIT_SPELL_CAST or (GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED and GetAttacker() == E1I and IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(E1I)) == false) then
        if GetTriggerEventId() != EVENT_UNIT_DEATH and GetTriggerEventId() != EVENT_UNIT_SPELL_CAST and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false then
            call L72(E1I, GetTriggerUnit(), t)
            call UnitRemoveAbility(E1I, 'B08K')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
        if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEventId() == EVENT_UNIT_SPELL_CAST then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    elseif GetTriggerEventId() != EVENT_PLAYER_UNIT_ATTACKED then
        if x != GetUnitX(E1I) or y != GetUnitY(E1I) then
            call UnitRemoveAbility(E1I, 'B08K')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    endif
    set t = null
    set E1I = null
    return false
endfunction

function L92 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call DestroyEffect( AddSpecialEffectTarget("effects\\PurpleAura.mdx", E1I, "origin") )
    call playSoundAt(VD, GetUnitX(E1I), GetUnitY(E1I))
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_SPELL_CAST)
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddCondition(t, Condition(function L82))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 6, (GetUnitX(E1I)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(E1I)*1.0))
    call IssueImmediateOrder(E1I, "holdposition")
    set t = null
    set E1I = null
endfunction

function LA2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0RV' then
        call L92()
    endif
    return false
endfunction

function OL1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LA2))
    set t = null
endfunction

function LB2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer LC2 = LoadInteger(hashTable, DMI, 247)
    call DestroyEffect( AddSpecialEffect("effects\\Tornado.mdx", GetUnitX(GCI), GetUnitY(GCI)) )
    if GetTriggerEvalCount(t) > 10*(2 + 0.75*FVI) or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(GCI, LC2)
        call UnitRemoveAbility(GCI, 'B09W')
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function LD2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A14I')
    local integer LC2
    if FVI == 1 then
        set LC2 = 'A135'
    elseif FVI == 2 then
        set LC2 = 'A12O'
    elseif FVI == 3 then
        set LC2 = 'A134'
    elseif FVI == 4 then
        set LC2 = 'A139'
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), LC2, false)
    call unitAddTimedAbility(GCI, LC2, 1, 2 + 0.75*FVI)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function LB2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 247, LC2)
    call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffectTarget("effects\\Tornado.mdx", GCI, "hand,left"))
    call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffectTarget("effects\\Tornado.mdx", GCI, "hand,right"))
    set GCI = null
    set t = null
endfunction

function LE2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A14I' then
        call LD2()
    endif
    return false
endfunction

function AY1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LE2))
    set t = null
endfunction

function LF2 takes nothing returns nothing
    local destructable GDI = GetEnumDestructable()
    local real a = Atan2(GetDestructableY(GDI) - GetUnitY(myUnit), GetDestructableX(GDI) - GetUnitX(myUnit))
    local real LO1 = RAbsBJ((OK - a)*bj_RADTODEG)
    if (G1I(GDI) or GetDestructableTypeId(GDI) == 'B005') and GetDestructableLife(GDI) > 1 and LO1 < I6I and LO1 < (I7I - 5) then
        set I6I = LO1
        set I4I = GDI
    endif
    set GDI = null
endfunction

function LG2 takes unit VDI, unit GCI, real LPO returns destructable 
    local real x = GetUnitX(VDI)
    local real y = GetUnitY(VDI)
    local rect r = Rect(x - I9I, y - I9I, x + I9I, y + I9I)
    set I6I = 9999
    set myUnit = VDI
    set I4I = null
    call EnumDestructablesInRect(r, Condition(function returnTrue1), function LF2)
    call RemoveRect(r)
    set r = null
    return I4I
endfunction

function LH2 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local real a = Atan2(GetUnitY(GDI) - GetUnitY(myUnit), GetUnitX(GDI) - GetUnitX(myUnit))
    local real LO1 = RAbsBJ((OK - a)*bj_RADTODEG)
    if LO1 < I6I and LO1 < I7I and GDI != GK then
        set I6I = LO1
        set I5I = GDI
    endif
    set GDI = null
endfunction

function LZ2 takes unit VDI, unit GCI, real LPO returns unit 
    local group g = allocGroup()
    set I5I = null
    set I6I = 9999
    set myUnit = VDI
    set OK = LPO
    set GK = GCI
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), I8I, Condition(function XRI))
    call ForGroup(g, function LH2)
    call releaseGroup(g)
    set g = null
    return I5I
endfunction

function LV2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    if LoadLightningHandle(hashTable, DMI, 196) != null then
        call DestroyLightning( LoadLightningHandle(hashTable, DMI, 196) )
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function LW2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real LX2 = LoadReal(hashTable, DMI, 248)
    local real LPO = Atan2(GetUnitY(GDI) - GetUnitY(VDI), GetUnitX(GDI) - GetUnitX(VDI))
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real x = GetUnitX(VDI) + 50*Cos(LPO)
    local real y = GetUnitY(VDI) + 50*Sin(LPO)
    local unit LY2
    local destructable d
    local lightning ZVI
    local unit YVI
    local boolean VM1 = LoadBoolean(hashTable, DMI, 249)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call KillUnit(VDI)
    else 
        call SetUnitX(VDI, x)
        call SetUnitY(VDI, y)
        call SetUnitFacing(VDI, LPO*bj_RADTODEG)
        if getDistance(x, y, GetUnitX(GDI), GetUnitY(GDI)) < 45 then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            if GetUnitTypeId(GDI) != 'n00L' and VM1 then
                set LY2 = LZ2(VDI, GDI, LX2)
                set d = LG2(VDI, GDI, LX2)
                if LY2 != null then
                    set t = CreateTrigger()
                    set DMI = GetHandleId(t)
                    set YVI = CreateUnit(GetOwningPlayer(VDI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
                    call UnitAddAbility(YVI, 'A12I')
                    call SetUnitAbilityLevel(YVI, 'A12I', FVI + 1)
                    call IssueTargetOrder(YVI, "thunderbolt", GDI)
                    set YVI = CreateUnit(GetOwningPlayer(VDI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
                    call UnitAddAbility(YVI, 'A12I')
                    call SetUnitAbilityLevel(YVI, 'A12I', FVI + 1)
                    call IssueTargetOrder(YVI, "thunderbolt", LY2)
                    call TriggerRegisterTimerEvent(t, 0.25 + FVI*0.75, false)
                    call TriggerAddCondition(t, Condition(function LV2))
                    set ZVI = AddLightning("MFPB", true, GetUnitX(GDI), GetUnitY(GDI), GetUnitX(LY2), GetUnitY(LY2))
                    call SetLightningColor(ZVI, 0.5, 0.5, 1, 1)
                    call SaveLightningHandle(hashTable, DMI, 196, ZVI)
                elseif d != null then
                    set t = CreateTrigger()
                    set DMI = GetHandleId(t)
                    set YVI = CreateUnit(GetOwningPlayer(VDI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
                    call UnitAddAbility(YVI, 'A12I')
                    call SetUnitAbilityLevel(YVI, 'A12I', FVI + 1)
                    call IssueTargetOrder(YVI, "thunderbolt", GDI)
                    call TriggerRegisterTimerEvent(t, 0.25 + FVI*0.75, false)
                    call TriggerAddCondition(t, Condition(function LV2))
                    set ZVI = AddLightning("MFPB", true, GetUnitX(GDI), GetUnitY(GDI), GetDestructableX(d), GetDestructableY(d))
                    call SetLightningColor(ZVI, 0.5, 0.5, 1, 1)
                    call SaveLightningHandle(hashTable, DMI, 196, ZVI)
                    call SetDestructableAnimation(d, "stand hit")
                else 
                    set YVI = CreateUnit(GetOwningPlayer(VDI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
                    call UnitAddAbility(YVI, 'A12I')
                    call SetUnitAbilityLevel(YVI, 'A12I', 1)
                    call IssueTargetOrder(YVI, "thunderbolt", GDI)
                endif
            endif
            call KillUnit(VDI)
        endif
    endif
    set t = null
    set VDI = null
    set GDI = null
    set ZVI = null
    set LY2 = null
    set d = null
    set YVI = null
    return false
endfunction

function LJ2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real LPO = Atan2(GetUnitY(GDI) - GetUnitY(GCI), GetUnitX(GDI) - GetUnitX(GCI))
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = CreateUnit(GetOwningPlayer(GCI), 'h077', GetUnitX(GCI), GetUnitY(GCI), LPO*bj_RADTODEG)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A12J')
    local boolean VM1 = (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 248, (LPO*1.0))
    call SaveBoolean(hashTable, DMI, 249, VM1)
    call TriggerRegisterTimerEvent(t, 0.033, true)
    call TriggerAddCondition(t, Condition(function LW2))
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    set GCI = null
    set GDI = null
    set t = null
endfunction

function LK2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A12J' then
        call LJ2()
    endif
    return false
endfunction

function AX1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LK2))
    set t = null
endfunction

function windrunnerPowershotDoDamage takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), windrunnerPowershotDamagedUnits) == false and GetUnitAbilityLevel(GetEnumUnit(), 'Bcyc') == 0 then
        call doDamage(windrunnerPowershotArrow, GetEnumUnit(), 1, (windrunnerPowershotInitialDamage*1.0)*Pow(0.9, windrunnerPowershotDamagedUnitCount)*Pow(0.99, windrunnerPowershotDamagedDestructableCount))
        call GroupAddUnit(windrunnerPowershotDamagedUnits, GetEnumUnit())
        set windrunnerPowershotDamagedUnitCount = windrunnerPowershotDamagedUnitCount + 1
    endif
endfunction

function windrunnerPowershotLoop takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer hTrig = GetHandleId(t)
    local unit unitPowershotArrow = LoadUnitHandle(hashTable, hTrig, 45)
    local real HMI = LoadReal(hashTable, hTrig, 47)
    local real HNI = LoadReal(hashTable, hTrig, 48)
    local real LPO = LoadReal(hashTable, hTrig, 13)
    local real GFI = LoadReal(hashTable, hTrig, 20)
    local integer LN2 = LoadInteger(hashTable, hTrig, 354)
    local integer LS2 = LoadInteger(hashTable, hTrig, 355)
    local group LQO = LoadGroupHandle(hashTable, hTrig, 187)
    local real x = constrainX(GetUnitX(unitPowershotArrow) + (60*Pow(0.9, LS2)*Pow(0.99, LN2))*Cos(LPO))
    local real y = constrainY(GetUnitY(unitPowershotArrow) + (60*Pow(0.9, LS2)*Pow(0.99, LN2))*Sin(LPO))
    local group g = allocGroup()
    local real d
    if GetTriggerEvalCount(t) > 2 then
        set d = 150
    else 
        set d = 75
    endif
    call DestroyEffect( AddSpecialEffect("effects\\Tornado.mdx", x, y) )
    set LN2 = LN2 + killDestructables(x, y, 75)
    call SaveInteger(hashTable, hTrig, 354, LN2)
    set windrunnerPowershotDamagedUnits = LQO
    set windrunnerPowershotArrow = unitPowershotArrow
    set windrunnerPowershotInitialDamage = GFI
    set windrunnerPowershotDamagedDestructableCount = LN2
    set windrunnerPowershotDamagedUnitCount = LS2
    set myUnit = unitPowershotArrow
    call GroupEnumUnitsInRange(g, x, y, d, Condition(function filterUnitInjurable))
    call ForGroup(g, function windrunnerPowershotDoDamage)
    call releaseGroup(g)
    call SaveInteger(hashTable, hTrig, 355, windrunnerPowershotDamagedUnitCount)
    call SetUnitX(unitPowershotArrow, x)
    call SetUnitY(unitPowershotArrow, y)
    if GetTriggerEvalCount(t) > 29 then
        call KillUnit(unitPowershotArrow)
        call releaseGroup(LQO)
        call FlushChildHashtable(hashTable, hTrig)
        call abandonTrigger(t)
    endif
    set t = null
    set unitPowershotArrow = null
    set LQO = null
    set g = null
    return false
endfunction

function windrunnerPowershotStart takes nothing returns nothing
    local unit u = GetTriggerUnit()
    local real x2 = LoadReal(hashTable, GetHandleId(u), 356)
    local real y2 = LoadReal(hashTable, GetHandleId(u), 357)
    local real damageFactor = rMin(TimerGetElapsed(M) - LoadReal(hashTable, GetHandleId(u), 358), 1.0)
    local real angle = Atan2(y2 - GetUnitY(u), x2 - GetUnitX(u))
    local trigger t
    local integer hTrig
    local unit VDI
    local integer lvl = GetUnitAbilityLevel(u, 'A12K')
    local real initialDamage = (40 + 80*lvl)*damageFactor
    set t = CreateTrigger()
    set hTrig = GetHandleId(t)
    set VDI = CreateUnit(GetOwningPlayer(u), 'h078', GetUnitX(u), GetUnitY(u), angle*bj_RADTODEG)
    set x2 = GetUnitX(u) + 1700*Cos(angle)
    set y2 = GetUnitY(u) + 1700*Sin(angle)
    call SaveUnitHandle(hashTable, hTrig, 45, VDI)
    call SaveReal(hashTable, hTrig, 47, (x2*1.0))
    call SaveReal(hashTable, hTrig, 48, (y2*1.0))
    call SaveReal(hashTable, hTrig, 13, (angle*1.0))
    call SaveReal(hashTable, hTrig, 20, (initialDamage*1.0))
    call SaveInteger(hashTable, hTrig, 354, 0)
    call SaveInteger(hashTable, hTrig, 355, 0)
    call SaveGroupHandle(hashTable, hTrig, 187, allocGroup())
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function windrunnerPowershotLoop))
    set u = null
    set t = null
    set VDI = null
endfunction

function windrunnerPowershotPrepareFinish takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    call SetUnitTimeScale(E1I, 1)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function windrunnerPowershotPrepare takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    call RemoveLocation(l)
    call SaveReal(hashTable, GetHandleId(E1I), 356, (x*1.0))
    call SaveReal(hashTable, GetHandleId(E1I), 357, (y*1.0))
    call SaveReal(hashTable, GetHandleId(E1I), 358, (TimerGetElapsed(M)*1.0))
    call SetUnitTimeScale(E1I, 0.75)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0.75, false)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function windrunnerPowershotPrepareFinish))
    set t = null
    set E1I = null
endfunction

function windrunnerPowershot takes nothing returns boolean 
    if GetSpellAbilityId() == 'A12K' then
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0.0, 0.0, 5.0, I2S(GetHandleId(GetTriggerEventId())))
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call SaveBoolean(hashTable, GetHandleId(GetTriggerUnit()), 360, false)
            call windrunnerPowershotPrepare()
        elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
            call SaveBoolean(hashTable, GetHandleId(GetTriggerUnit()), 360, true)
        elseif LoadBoolean(hashTable, GetHandleId(GetTriggerUnit()), 360) == true then
            call windrunnerPowershotStart()
        endif
    endif
    return false
endfunction

function windrunnerPowershotRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_ENDCAST)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function windrunnerPowershot))
    set t = null
endfunction

// bossl's huiji!huiji!
function bosslHuijiDoDamage takes nothing returns nothing
    if GetUnitAbilityLevel(GetEnumUnit(), 'Bcyc') == 0 then
        call doDamage(windrunnerPowershotArrow, GetEnumUnit(), 1, windrunnerPowershotInitialDamage)
    endif
endfunction

function bosslHuijiLoop takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer hTrig = GetHandleId(t)
    local unit unitArrow = LoadUnitHandle(hashTable, hTrig, 45)
    local real angle = LoadReal(hashTable, hTrig, 13)
    local real initialDamage = LoadReal(hashTable, hTrig, 20)
    local real x = constrainX(GetUnitX(unitArrow) + 60*Cos(angle*bj_DEGTORAD))
    local real y = constrainY(GetUnitY(unitArrow) + 60*Sin(angle*bj_DEGTORAD))
    local group g = allocGroup()
    local real d
    if GetTriggerEvalCount(t) > 2 then
        set d = 150
    else 
        set d = 75
    endif
    set windrunnerPowershotArrow = unitArrow
    set windrunnerPowershotInitialDamage = initialDamage
    set myUnit = unitArrow
    call GroupEnumUnitsInRange(g, x, y, d, Filter(function filterUnitInjurable))
    call ForGroup(g, function bosslHuijiDoDamage)
    call releaseGroup(g)
    call SetUnitX(unitArrow, x)
    call SetUnitY(unitArrow, y)
    if GetTriggerEvalCount(t) > 49 then
        call KillUnit(unitArrow)
        call FlushChildHashtable(hashTable, hTrig)
        call abandonTrigger(t)
    endif
    set t = null
    set unitArrow = null
    set g = null
    return false
endfunction

function bosslHuijiRoundStart takes nothing returns boolean 
    local trigger thisTrigger = GetTriggeringTrigger()
    local unit u = LoadUnitHandle(hashTable, GetHandleId(thisTrigger), 'unit')
    local real angle = GetUnitFacing(u)
    local trigger t
    local integer hTrig
    local unit unitArrow
    local integer lvl = GetUnitAbilityLevel(u, 'APR0')
    local real initialDamage = 25*lvl - 10
    if IsUnitDeadBJ(u) or GetUnitTypeId(u) != 'OPR7' then
        call abandonTrigger(thisTrigger)
        set thisTrigger = null
        return false
    endif
    set t = CreateTrigger()
    set hTrig = GetHandleId(t)
    set unitArrow = CreateUnit(GetOwningPlayer(u), 'uPR0', GetUnitX(u), GetUnitY(u), angle)
    call SaveUnitHandle(hashTable, hTrig, 45, unitArrow)
    call SaveReal(hashTable, hTrig, 13, (angle*1.0))
    call SaveReal(hashTable, hTrig, 20, (initialDamage*1.0))
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function bosslHuijiLoop))
    set u = null
    set t = null
    set unitArrow = null
    set thisTrigger = null
    return false
endfunction

function bosslHuijiStart takes nothing returns nothing
    local trigger t = CreateTrigger()
    call SaveUnitHandle(hashTable, GetHandleId(t), 'unit', GetTriggerUnit())
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function bosslHuijiRoundStart))
    set t = null
endfunction

function bosslHuiji takes nothing returns boolean 
    local unit u
    local integer i
    if GetSpellAbilityId() == 'APR0' then
        set u = GetTriggerUnit()
        set i = GetUnitTypeId(u)
        if i == 'OPR3' then
            // call DisplayTimedTextToPlayer(GetLocalPlayer(), 0.0, 0.0, 60.0, "BEGIN!")
            call bosslHuijiStart()
        elseif i == 'OPR7' then
            // call DisplayTimedTextToPlayer(GetLocalPlayer(), 0.0, 0.0, 60.0, "END")
            // call bosslHuijiStop()
        else 
            call DisplayTimedTextToPlayer(GetLocalPlayer(), 0.0, 0.0, 60.0, "Something wrong with bossl's huiji, report this to proton!!!")
        endif
    endif
    return false
endfunction

function bosslHuijiRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function bosslHuiji))
    set t = null
endfunction

// end of bossl's huiji!huiji!

// start of bossl's stink feet
function bosslStinkFeetEffect takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer hTrig = GetHandleId(t)
    local integer e = LoadInteger(hashTable, hTrig, 'e')
    local unit u = LoadUnitHandle(hashTable, hTrig, 'unit')
    local unit ud = GetTriggerUnit()
    local unit mj
    
    if GetTriggerEventId() == EVENT_GAME_TIMER_EXPIRED or GetUnitAbilityLevel(ud, 'BPR3')>0 then
        call abandonTrigger(t)
        call FlushChildHashtable(hashTable, hTrig)
    elseif GetEventDamageSource() == u then
        // call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 60, "ENERGY: " + I2S(e))
        set mj = CreateUnit(GetOwningPlayer(u), 'e00E', GetUnitX(ud), GetUnitY(ud), 0.0)
        call UnitAddAbility(mj, 'AMJ1')
        call SetUnitAbilityLevel(mj, 'AMJ1', e)
        call IssueImmediateOrder(mj, "thunderclap")
        call abandonTrigger(t)
        call FlushChildHashtable(hashTable, hTrig)        
    endif
    
    set mj = null
    set u = null
    set t = null
    return false
endfunction

function bosslStinkFeetAttack takes nothing returns boolean
    local trigger t
    local integer e
    local integer hTrig
    local unit u = GetAttacker()
    local unit ud = GetTriggerUnit()
    if GetUnitTypeId(u) == 'OPR3' and IsUnitEnemy(ud, GetOwningPlayer(u)) and (not IsUnitType(ud, UNIT_TYPE_STRUCTURE)) and (not IsUnitType(ud, UNIT_TYPE_MECHANICAL)) and (not IsUnitType(ud, UNIT_TYPE_ANCIENT)) then
        set e = GetUnitAbilityLevel(u, 'AMJ2')
        call SetUnitAbilityLevel(u, 'AMJ2', 1)
        set t = CreateTrigger()
        set hTrig = GetHandleId(t)
        call SaveInteger(hashTable, hTrig, 'e', e)
        call SaveUnitHandle(hashTable, hTrig, 'unit', u)
        call TriggerRegisterUnitEvent(t, ud, EVENT_UNIT_DAMAGED)
        call TriggerRegisterTimerEvent(t, 2.5, false)
        call TriggerAddCondition(t, Condition(function bosslStinkFeetEffect))
        set t = null
        set u = null
        set ud = null
    endif
            set u = null
        set ud = null
    return false
endfunction

function bosslStinkFeetCharge takes nothing returns boolean
    local trigger t = GetTriggeringTrigger()
    local integer hTrig = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, hTrig, 'unit')
    local real x = LoadReal(hashTable, hTrig, 'x')
    local real y = LoadReal(hashTable, hTrig, 'y')
    local real dist = LoadReal(hashTable, hTrig, 'dist')
    local real nx = GetUnitX(u)
    local real ny = GetUnitY(u)
    local integer lvl = GetUnitAbilityLevel(u, 'APR8')
    local integer energy = GetUnitAbilityLevel(u, 'AMJ2')
    
    set dist = dist + getDistance(x, y, nx, ny)
    loop
        exitwhen dist < 600.0
        set dist = dist - 600.0
        set energy = energy + 1
    endloop
    // call DisplayTimedTextToPlayer(GetLocalPlayer(), 0, 0, 60, "dist: " + R2S(dist)+" energy: " + I2S(energy))
    
    if energy > 5*lvl then
        set energy = 5*lvl
    endif
    
    call SaveReal(hashTable, hTrig, 'x', nx)
    call SaveReal(hashTable, hTrig, 'y', ny)
    call SaveReal(hashTable, hTrig, 'dist', dist)
    
    call SetUnitAbilityLevel(u, 'AMJ2', energy)
   
    return false
endfunction

function bosslStinkFeetInit takes nothing returns boolean
    local trigger t
    local unit u
    local integer hTrig
    if GetLearnedSkill() == 'APR8' then
        call abandonTrigger(GetTriggeringTrigger())
        set u = GetTriggerUnit()
        call UnitAddAbility(u, 'AMJ2')
        call SetUnitAbilityLevel(u, 'AMJ2', 1)
        call UnitMakeAbilityPermanent(u, true, 'AMJ2')
        
        set t = CreateTrigger()
        set hTrig = GetHandleId(t)

        call SaveUnitHandle(hashTable, hTrig, 'unit', u)
        call SaveReal(hashTable, hTrig, 'x', GetUnitX(u))
        call SaveReal(hashTable, hTrig, 'y', GetUnitY(u))
        call SaveReal(hashTable, hTrig, 'dist', 0.0)
        
        call TriggerRegisterTimerEvent(t, 0.5, true)
        call TriggerAddCondition(t, Condition(function bosslStinkFeetCharge))
        set t = CreateTrigger()
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerAddCondition(t, Condition(function bosslStinkFeetAttack))
        
    endif
    set t = null
    set u = null
    return false
endfunction

function bosslStinkFeetRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function bosslStinkFeetInit))
    set t = null
endfunction
// end of bossl's stink feet

// copystyle's domineering
function copystyleDomineeringAoeDamage takes nothing returns boolean 
    local group g = allocGroup()
    local integer hTrig = GetHandleId(GetTriggeringTrigger())
    local unit u
    local unit caster = LoadUnitHandle(hashTable, hTrig, 'unit')
    local real damage = LoadReal(hashTable, hTrig, 'damg')
    local real x = LoadReal(hashTable, hTrig, 'x')
    local real y = LoadReal(hashTable, hTrig, 'y')
    set myUnit = caster
    call GroupEnumUnitsInRange(g, x, y, 250, Filter(function filterUnitInjurable))
    loop
        set u = FirstOfGroup(g)
        exitwhen u == null
        call doDamage(caster, u, 3, damage)
        call GroupRemoveUnit(g, u)
    endloop
    call killDestructables(x, y, 250)
    call abandonTrigger(GetTriggeringTrigger())
    call releaseGroup(g)
    call FlushChildHashtable(hashTable, hTrig)
    set g = null
    set u = null
    set caster = null
    return false
endfunction

function copystyleDomineeringAoe takes unit attacker, real damage returns nothing
    local trigger t
    local integer hTrig
    local real x
    local real y
    local integer n
    local real tmp
    local unit u
    local group g = allocGroup()
    set tmp = GetUnitFacing(attacker)
    set x = GetUnitX(attacker) + 200*Cos(tmp*bj_DEGTORAD)
    set y = GetUnitY(attacker) + 200*Sin(tmp*bj_DEGTORAD)
    set myUnit = attacker
    call GroupEnumUnitsInRange(g, x, y, 600, Filter(function filterUnitInjurable))
    set x = 0.0
    set y = 0.0
    set n = 0
    loop
        set u = FirstOfGroup(g)
        exitwhen u == null
        set x = x + GetUnitX(u)
        set y = y + GetUnitY(u)
        set n = n + 1
        call GroupRemoveUnit(g, u)
    endloop
    set x = x/n
    set y = y/n
    call releaseGroup(g)
    call DestroyEffect( AddSpecialEffect("ProtonModels\\zhanshen\\cannon.mdl", x, y) )
    set t = CreateTrigger()
    set hTrig = GetHandleId(t)
    call SaveUnitHandle(hashTable, hTrig, 'unit', attacker)
    call SaveReal(hashTable, hTrig, 'x', x)
    call SaveReal(hashTable, hTrig, 'y', y)
    call SaveReal(hashTable, hTrig, 'damg', damage)
    call TriggerRegisterTimerEvent(t, 3.0, false)
    call TriggerAddCondition(t, Condition(function copystyleDomineeringAoeDamage))
    set g = null
    set t = null
endfunction

function copystyleDomineeringSingle takes unit attacker, real damage returns nothing
    local group g = allocGroup()
    local real x
    local real y
    local unit u = null
    local unit uchosen = null
    local real tmp
    set tmp = GetUnitFacing(attacker)
    set x = GetUnitX(attacker) + 200*Cos(tmp*bj_DEGTORAD)
    set y = GetUnitY(attacker) + 200*Sin(tmp*bj_DEGTORAD)
    set myUnit = attacker
    call GroupEnumUnitsInRange(g, x, y, 400, Filter(function filterUnitInjurable))
    set x = -1.0
    loop
        set u = FirstOfGroup(g)
        exitwhen u == null
        set y = GetRandomReal(0.0, 10000.0)
        if y > x then
            set uchosen = u
            set x = y
        endif
        call GroupRemoveUnit(g, u)
    endloop
    call DestroyEffect( AddSpecialEffectTarget("ProtonModels\\zhanshen\\ray.mdl", uchosen, "origin") )
    call doDamage(attacker, uchosen, 3, damage)
    call releaseGroup(g)
    set u = null
    set uchosen = null
endfunction

function copystyleDomineering takes nothing returns boolean 
    local unit attacker = GetAttacker()
    local integer lvl
    local integer damage
    if GetUnitTypeId(attacker) == 'OPR4' then
        set lvl = GetUnitAbilityLevel(attacker, 'APR1')
        if lvl < 1 then
            return false
        endif
        if GetRandomInt(0, 100) <= 10 then
            call copystyleDomineeringAoe(attacker, 20 + lvl*30)
        endif
        if GetRandomInt(0, 100) <= 25 then
            call copystyleDomineeringSingle(attacker, 20 + lvl*30)
        endif
    endif
    set attacker = null
    return false
endfunction

function copystyleDomineeringRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function copystyleDomineering))
    set t = null
endfunction

// end of copystyle's domineering

// begin of copystyle's grand blast wave
function copystyleGrandBlastWaveDamage takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer hTrig = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, hTrig, 'play')
    local real x = LoadReal(hashTable, hTrig, 'x')
    local real y = LoadReal(hashTable, hTrig, 'y')
    local integer lvl = LoadInteger(hashTable, hTrig, 'alvl')
    local unit u
    if GetTriggerEvalCount(t) > 4 then
        set u = LoadUnitHandle(hashTable, hTrig, 'unit')
        call RemoveUnit(u)
        call FlushChildHashtable(hashTable, hTrig)
        call abandonTrigger(t)
    elseif GetTriggerEvalCount(t) == 1 then
        set u = CreateUnit(p, 'e00E', x, y, 0.0)
        call UnitAddAbility(u, 'AMJ0')
        call SetUnitAbilityLevel(u, 'AMJ0', lvl)
        call IssueImmediateOrder(u, "thunderclap")
        call killDestructables(x, y, 600)
        call RemoveUnit(u)
    endif
    set u = null
    set p = null
    set t = null
endfunction

function copystyleGrandBlastWave takes nothing returns boolean 
    local unit u
    local unit caster
    local player p
    local real x
    local real y
    local trigger t
    local integer hTrig
    if GetSpellAbilityId() == 'APR2' then
        set x = GetSpellTargetX()
        set y = GetSpellTargetY()
        set caster = GetTriggerUnit()
        set p = GetOwningPlayer(caster)
        set t = CreateTrigger()
        set hTrig = GetHandleId(t)
        call SaveReal(hashTable, hTrig, 'x', x)
        call SaveReal(hashTable, hTrig, 'y', y)
        call SaveInteger(hashTable, hTrig, 'alvl', GetUnitAbilityLevel(caster, 'APR2'))
        set u = CreateUnit(p, 'uPR1', x, y, 0.0)
        // call UnitAddAbility(u, 'Amrf')
        // call UnitRemoveAbility(u, 'Amrf')
        // call SetUnitFlyHeight(u, 200.0, 200.0)
        call SetUnitAnimation(u, "birth")
        call SaveUnitHandle(hashTable, hTrig, 'unit', u)
        call SavePlayerHandle(hashTable, hTrig, 'play', p)
        call TriggerRegisterTimerEvent(t, 1.5, true)
        call TriggerAddCondition(t, Condition(function copystyleGrandBlastWaveDamage))
    endif
    set u = null
    set p = null
    set caster = null
    set t = null
    return false
endfunction

function copystyleGrandBlastWaveRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function copystyleGrandBlastWave))
    set t = null
endfunction

// end of copystyle's grand blast wave

// begin of Gwinnett's fart
function gwinnettFartLoop takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer hTrig = GetHandleId(t)
    local group damaged = LoadGroupHandle(hashTable, hTrig, 'dmgd')
    local real tgx = LoadReal(hashTable, hTrig, 'x')
    local real tgy = LoadReal(hashTable, hTrig, 'y')
    local real facing = LoadReal(hashTable, hTrig, 'face')
    local unit mj = LoadUnitHandle(hashTable, hTrig, 'm')
    local unit caster = LoadUnitHandle(hashTable, hTrig, 'unit')
    local unit u
    local group g = allocGroup()
    local real d = getDistance(tgx, tgy, GetUnitX(caster), GetUnitY(caster))*0.333333
    local real x = constrainX(GetUnitX(caster) + rMin(50.0, d)*Cos(facing))
    local real y = constrainY(GetUnitY(caster) + rMin(50.0, d)*Sin(facing))
    if GetTriggerEvalCount(t) > 20 or d < 2.0 then
        call releaseGroup(damaged)
        call FlushChildHashtable(hashTable, hTrig)
        call abandonTrigger(t)
    else 
        call SetUnitFacing(caster, facing*bj_RADTODEG)
        call SetUnitX(caster, x)
        call SetUnitY(caster, y)
        set myUnit = caster
        call GroupEnumUnitsInRange(g, x + 250*Cos(facing + bj_PI), y + 250*Sin(facing + bj_PI), 250, Filter(function filterUnitInjurable))
        loop
            set u = FirstOfGroup(g)
            exitwhen u == null
            if not IsUnitInGroup(u, damaged) then
                call SetUnitX(mj, GetUnitX(u))
                call SetUnitY(mj, GetUnitY(u))
                call IssueTargetOrder(mj, "shadowstrike", u)
                call GroupAddUnit(damaged, u)
            endif
            call GroupRemoveUnit(g, u)
        endloop
        set u = CreateUnit(GetOwningPlayer(caster), 'uPR2', x + 250*Cos(facing + bj_PI), y + 250*Sin(facing + bj_PI), 270.0)
        call SetUnitAnimation(u, "birth")
        call UnitApplyTimedLife(u, 'BTLF', 4.0)
    endif
    call releaseGroup(g)
    set g = null
    set mj = null
    set caster = null
    set u = null
    set damaged = null
    set t = null
    return false
endfunction

function gwinnettFart takes nothing returns boolean 
    local unit mj
    local unit caster
    local real tgx
    local real tgy
    local real x
    local real y
    local trigger t
    local integer hTrig
    if GetSpellAbilityId() == 'APR4' then
        set caster = GetTriggerUnit()
        set tgx = GetSpellTargetX()
        set tgy = GetSpellTargetY()
        set x = GetUnitX(caster)
        set y = GetUnitY(caster)
        set mj = CreateUnit(GetOwningPlayer(caster), 'e00E', x, y, 270.0)
        call UnitAddAbility(mj, 'A17N')
        call SetUnitAbilityLevel(mj, 'A17N', GetUnitAbilityLevel(caster, 'APR4'))
        set t = CreateTrigger()
        set hTrig = GetHandleId(t)
        call SaveUnitHandle(hashTable, hTrig, 'm', mj)
        call SaveUnitHandle(hashTable, hTrig, 'unit', caster)
        call SaveReal(hashTable, hTrig, 'x', tgx)
        call SaveReal(hashTable, hTrig, 'y', tgy)
        call SaveReal(hashTable, hTrig, 'face', Atan2(tgy - y, tgx - x))
        call SaveGroupHandle(hashTable, hTrig, 'dmgd', allocGroup())
        call TriggerRegisterTimerEvent(t, 0.025, true)
        call TriggerAddCondition(t, Condition(function gwinnettFartLoop))
    endif
    set mj = null
    set caster = null
    set t = null
    return false
endfunction

function gwinnettFartRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function gwinnettFart))
    set t = null
endfunction

// end of Gwinnett's fart

// begin of Gwinnett's pro fucking resistance
function gwinnettProFuckingResistance takes nothing returns boolean 
    local unit u
    local integer lvl
    set u = GetTriggerUnit()
    if GetUnitTypeId(u) == 'OPR2' then
        set lvl = GetUnitAbilityLevel(u, 'APR3')
        if lvl > 0 and IsUnitType(GetKillingUnit(), UNIT_TYPE_HERO) then
            call displayErrorMessage(GetOwningPlayer(u), GetObjectName('nST0') + I2S(lvl + 1) + GetObjectName('nST1'))
            call SetHeroStr(u, GetHeroStr(u, false) + lvl + 1, true)
        endif
    endif
    set u = null
    return false
endfunction

function gwinnettProFuckingResistanceRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function gwinnettProFuckingResistance))
    set t = null
endfunction

// end of Gwinnett's pro fucking resistance

// begin of Gwinnett's Sun
function gwinnettSunFilter takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false
endfunction

function gwinnettSunLoop takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer hTrig = GetHandleId(t)
    local unit u = LoadUnitHandle(hashTable, hTrig, 'm')
    local player p = GetOwningPlayer(u)
    local integer time = LoadInteger(hashTable, hTrig, 'l') + 2
    local group g = allocGroup()
    local real hp
    local real maxhp
    if GetTriggerEvalCount(t) > time then
        call KillUnit(u)
        call abandonTrigger(t)
        call FlushChildHashtable(hashTable, hTrig)
        set t = null
        set u = null
        call releaseGroup(g)
        set g = null
        set p = null
        return
    endif
    call GroupEnumUnitsInRange(g, GetUnitX(u), GetUnitY(u), 600, Filter(function gwinnettSunFilter))
    loop
        set u = FirstOfGroup(g)
        exitwhen u == null
        set maxhp = GetUnitState(u, UNIT_STATE_MAX_LIFE)
        if IsUnitEnemy(u, p) then
            call SetUnitState(u, UNIT_STATE_LIFE, rMin(maxhp, GetUnitState(u, UNIT_STATE_LIFE) + 0.05*maxhp))
        else 
            call SetUnitState(u, UNIT_STATE_LIFE, rMin(maxhp, GetUnitState(u, UNIT_STATE_LIFE) + 0.1*maxhp))
        endif
        call GroupRemoveUnit(g, u)
    endloop
    set t = null
    set u = null
    call releaseGroup(g)
    set g = null
    set p = null
endfunction

function gwinnettSun takes nothing returns boolean 
    local trigger t
    local integer hTrig
    local unit u
    local unit caster
    if GetSpellAbilityId() == 'APR6' then
        set caster = GetTriggerUnit()
        set u = CreateUnit(GetOwningPlayer(caster), 'uPR3', GetUnitX(caster), GetUnitY(caster), 0.0)
        call SetUnitVertexColor(u, 255, 255, 100, 30)
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 1.0, true)
        call TriggerAddCondition(t, Condition(function gwinnettSunLoop))
        set hTrig = GetHandleId(t)
        call SaveUnitHandle(hashTable, hTrig, 'm', u)
        call SaveInteger(hashTable, hTrig, 'l', GetUnitAbilityLevel(caster, 'APR6'))
    endif
    set t = null
    set u = null
    set caster = null
    return false
endfunction

function gwinnettSunRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function gwinnettSun))
    set t = null
endfunction

// end of Gwinnett's Sun

// begin of Proton's holy shit aura, and there is code not here
function protonHolyShitAuraFarmPenalty takes nothing returns nothing
    local unit hero = GetKillingUnit()
    local player p = GetOwningPlayer(hero)
    local unit u = GetTriggerUnit()
    local integer a
    local texttag t
    if IsUnitType(hero, UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(), p) and GetUnitAbilityLevel(hero, 'BPR2') > 0 and not IsUnitType(u, UNIT_TYPE_STRUCTURE) then
        set a = GetUnitAbilityLevel(uProton, 'APR5')*10
        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - a)
        set t = CreateTextTag()
        call SetTextTagText(t, "-" + I2S(a), 0.025)
        call SetTextTagPosUnit(t, u, 0.25)
        call SetTextTagColor(t, 255, 0, 0, 255)
        call SetTextTagVelocity(t, 0, 0.03)
        call SetTextTagVisibility(t, true)
        call SetTextTagFadepoint(t, 2)
        call SetTextTagLifespan(t, 3)
        call SetTextTagPermanent(t, false)
    endif
    set hero = null
    set p = null
    set t = null
endfunction

function protonHolyShitAuraInit takes nothing returns nothing
    local trigger t
    if GetLearnedSkill() == 'APR5' then
        set uProton = GetTriggerUnit()
        call abandonTrigger(GetTriggeringTrigger())
        set t = CreateTrigger()
        call TriggerRegisterPlayerUnitEvent(t, playerNeutrals, EVENT_PLAYER_UNIT_DEATH, Filter(function returnTrue))
        if isPlayerSentinel(GetOwningPlayer(uProton)) then
            call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[0], EVENT_PLAYER_UNIT_DEATH, Filter(function returnTrue))
        else 
            call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[0], EVENT_PLAYER_UNIT_DEATH, Filter(function returnTrue))
        endif
        call TriggerAddCondition(t, Condition(function protonHolyShitAuraFarmPenalty))
    endif
    set t = null
endfunction

function test takes nothing returns nothing
    if playerHero[GetPlayerId(sentinelPlayers[1])] != null then
        call AddHeroXP(playerHero[GetPlayerId(sentinelPlayers[1])], 1000, true)
    endif
    if playerHero[GetPlayerId(scourgePlayers[1])] != null then
        call AddHeroXP(playerHero[GetPlayerId(scourgePlayers[1])], 1000, true)
    endif
endfunction

function protonHolyShitAuraRegister takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function protonHolyShitAuraInit))
    // set t = CreateTrigger()
    // call TriggerRegisterPlayerEvent(t, sentinelPlayers[1], EVENT_PLAYER_END_CINEMATIC)
    // call TriggerRegisterPlayerEvent(t, scourgePlayers[1], EVENT_PLAYER_END_CINEMATIC)
    // call TriggerAddCondition(t, Condition(function test))
    set t = null
endfunction

// end of Proton's holy shit aura

function M02 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local real RMO = LoadReal(hashTable, DMI, 193)
    local boolean PVO = LoadBoolean(hashTable, DMI, 15)
    if GetTriggerEvalCount(t) == 1 then
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    endif
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetAttacker() == GCI and GetTriggerUnit() == GDI then
            call DestroyEffect( AddSpecialEffectTarget("effects\\Tornado.mdx", GCI, "hand,left") )
            call DestroyEffect( AddSpecialEffectTarget("effects\\Tornado.mdx", GCI, "hand,right") )
        elseif GetAttacker() == GCI and GetTriggerUnit() != GDI then
            call UnitRemoveAbility(GCI, 'A12R')
            call UnitRemoveAbility(GCI, 'B09X')
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call UnitRemoveAbility(GCI, 'A1FK')
            call UnitRemoveAbility(GCI, 'A1FL')
            call UnitRemoveAbility(GCI, 'A1FJ')
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI and PVO == false then
            call SetUnitState(GDI, UNIT_STATE_LIFE, GetUnitState(GDI, UNIT_STATE_LIFE) + RMO*GetEventDamage())
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A12P' or GetSpellAbilityId() == 'A1D6' then
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call UnitRemoveAbility(GCI, 'A12R')
        call UnitRemoveAbility(GCI, 'B09X')
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call UnitRemoveAbility(GCI, 'A1FK')
        call UnitRemoveAbility(GCI, 'A1FL')
        call UnitRemoveAbility(GCI, 'A1FJ')
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function MI2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A12P')
    local real RMO = 0.6 - FVI*0.1
    local boolean PVO = false
    call UnitRemoveAbility(GCI, 'A12R')
    call UnitRemoveAbility(GCI, 'B09X')
    if FVI == 0 then
        call UnitRemoveAbility(GCI, 'A1FK')
        call UnitRemoveAbility(GCI, 'A1FL')
        call UnitRemoveAbility(GCI, 'A1FJ')
        set PVO = true
        set FVI = GetUnitAbilityLevel(GCI, 'A1D6')
        set RMO = 0.6 - FVI*0.15
        if FVI == 1 then
            call UnitAddAbility(GCI, 'A1FK')
            call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1FK', false)
        elseif FVI == 2 then
            call UnitAddAbility(GCI, 'A1FL')
            call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1FL', false)
        elseif FVI == 3 then
            call UnitAddAbility(GCI, 'A1FJ')
            call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1FJ', false)
        endif
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A12R', false)
    call UnitAddAbility(GCI, 'A12R')
    call IssueTargetOrder(GCI, "attack", GDI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveBoolean(hashTable, DMI, 15, PVO)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveReal(hashTable, DMI, 193, (RMO*1.0))
    call SaveInteger(hashTable, DMI, 361, 0)
    call TriggerRegisterTimerEvent(t, 20, false)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M02))
    set GCI = null
    set GDI = null
    set t = null
endfunction

function M12 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A12P' or GetSpellAbilityId() == 'A1D6' then
        call MI2()
    endif
    return false
endfunction

function AK1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M12))
    set t = null
endfunction

function MO2 takes nothing returns boolean 
    if (GetSpellAbilityId() == 'A07C') then
        return true
    endif
    if (GetSpellAbilityId() == 'A06L') then
        return true
    endif
    return false
endfunction

function M22 takes nothing returns boolean 
    if (not MO2()) then
        return false
    endif
    return true
endfunction

function Trig_Wrath_of_Zeus_Copy_Func003001002001 takes nothing returns boolean 
    return (IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true) and GetUnitTypeId(GetFilterUnit()) != 'H00J'
endfunction

function Trig_Wrath_of_Zeus_Copy_Func003001002002 takes nothing returns boolean 
    return (IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true)
endfunction

function M32 takes nothing returns boolean 
    return GetBooleanAnd(((IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true) and GetUnitTypeId(GetFilterUnit()) != 'H00J'), (IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == true))
endfunction

function M42 takes nothing returns boolean 
    if (not (GetSpellAbilityId() == 'A07C')) then
        return false
    endif
    return true
endfunction

function M52 takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetEnumUnit())
    if M42() then
        call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 'A05S')
        call SetUnitAbilityLevelSwapped('A05S', bj_lastCreatedUnit, (4 + GetUnitAbilityLevelSwapped('A07C', GetTriggerUnit())))
        call IssueTargetOrder(bj_lastCreatedUnit, "chainlightning", GetEnumUnit())
        call UnitApplyTimedLifeBJ(3.00, 'BTLF', bj_lastCreatedUnit)
        call SetUnitPathing(bj_lastCreatedUnit, false)
        call SetUnitInvulnerable(bj_lastCreatedUnit, true)
        call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
    else 
        call CreateNUnitsAtLoc(1, 'e000', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 'A05S')
        call SetUnitAbilityLevelSwapped('A05S', bj_lastCreatedUnit, (5 + GetUnitAbilityLevelSwapped('A06L', GetTriggerUnit())))
        call IssueTargetOrder(bj_lastCreatedUnit, "chainlightning", GetEnumUnit())
        call UnitApplyTimedLifeBJ(3.00, 'BTLF', bj_lastCreatedUnit)
        call SetUnitPathing(bj_lastCreatedUnit, false)
        call SetUnitInvulnerable(bj_lastCreatedUnit, true)
        call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
    endif
    call RemoveLocation(EA1)
endfunction

function M62 takes nothing returns nothing
    local group MNI = allocGroup()
    call GroupEnumUnitsInRect(MNI, bj_mapInitialPlayableArea, Condition(function M32))
    call ForGroupBJ(MNI, function M52)
    call releaseGroup(MNI)
endfunction

function PJI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M22))
    call TriggerAddAction(t, function M62)
endfunction

constant function StaticField_RawCode takes nothing returns integer 
    return 'A0N5'
endfunction

constant function StaticField_LightningCode takes nothing returns integer 
    return 'A0JC'
endfunction

constant function StaticField_ArcLightningCode takes nothing returns integer 
    return 'A020'
endfunction

constant function StaticField_WrathOfGodCode takes nothing returns integer 
    return 'A07C'
endfunction

constant function StaticField_WrathOfGod2Code takes nothing returns integer 
    return 'A06L'
endfunction

function M72 takes nothing returns boolean 
    return (GetSpellAbilityId() == 'A0JC' or GetSpellAbilityId() == 'A020' or GetSpellAbilityId() == 'A07C' or GetSpellAbilityId() == 'A06L') and GetUnitAbilityLevel(GetTriggerUnit(), 'A0N5') > 0
endfunction

function M82 takes nothing returns nothing
    local real M92 = GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE)
    local real MA2 = 0.03 + 0.02*GetUnitAbilityLevel(GetTriggerUnit(), 'A0N5')
    local real GFI = M92*MA2
    call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), GFI, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl", GetEnumUnit(), "overhead") )
endfunction

function MB2 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction

function MC2 takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetTriggerUnit())
    local group MNI = allocGroup()
    local real x = GetLocationX(EA1)
    local real y = GetLocationY(EA1)
    local boolexpr BH1 = Condition(function MB2)
    call GroupEnumUnitsInRange(MNI, x, y, 925, BH1)
    call ForGroup(MNI, function M82)
    call RemoveLocation(EA1)
    call releaseGroup(MNI)
endfunction

function PYI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M72))
    call TriggerAddAction(t, function MC2)
endfunction

constant function LightningBolt_RawCode takes nothing returns integer 
    return 'A0JC'
endfunction

constant function LightningBolt_CasterUnit takes nothing returns integer 
    return 'e000'
endfunction

constant function LightningBolt_EffectCode takes nothing returns integer 
    return 'A05S'
endfunction

function MD2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0JC' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
endfunction

function ME2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e000', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A05S')
    call SetUnitAbilityLevel(YVI, 'A05S', GetUnitAbilityLevel(E1I, 'A0JC'))
    call IssueTargetOrder(YVI, "chainlightning", GDI)
    call UnitApplyTimedLife(YVI, 'BTLF', 3)
    call SetUnitPathing(YVI, false)
    call UnitAddAbility(YVI, 'Aloc')
endfunction

function PKI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MD2))
    call TriggerAddAction(t, function ME2)
endfunction

function MF2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    call SetUnitX(YVI, GetUnitX(GCI))
    call SetUnitY(YVI, GetUnitY(GCI))
    if GetTriggerEvalCount(t) > 80 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set YVI = null
    return false
endfunction

function MG2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e02C', GetUnitX(GCI), GetUnitY(GCI), 0)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitAddAbility(YVI, 'A1FM')
    call SetUnitAbilityLevel(YVI, 'A1FM', GetUnitAbilityLevel(GCI, 'A020'))
    call IssueTargetOrder(YVI, "chainlightning", GDI)
    call UnitApplyTimedLife(YVI, 'BTLF', 10)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function MF2))
    set GCI = null
    set GDI = null
    set YVI = null
    set t = null
endfunction

function MH2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A020' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call MG2()
    endif
    return false
endfunction

function PLI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function MH2))
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    set t = null
endfunction

constant function DeathCoil_AbilityCode takes nothing returns integer 
    return 'A0I3'
endfunction

function MZ2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0I3' and (IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) or (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false)
endfunction

function MV2 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real GFI = LoadReal(hashTable, DMI, 20)
    call UnitDamageTarget(E1I, E1I, GFI, false, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call FlushChildHashtable(hashTable, DMI)
    call PauseTimer(t)
    call DestroyTimer(t)
endfunction

function MW2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real GFI = 25 + 25*GetUnitAbilityLevel(E1I, 'A0I3')
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl", GDI, "origin") )
    if IsUnitAlly(GDI, GetOwningPlayer(E1I)) and GetUnitState(GDI, UNIT_STATE_LIFE) > 1.00 then
        call SetUnitState(GDI, UNIT_STATE_LIFE, GetUnitState(GDI, UNIT_STATE_LIFE) + 2*GFI)
    else 
        call UnitDamageTarget(E1I, GDI, 2*GFI, false, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    endif
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 20, (GFI*1.0))
    call TimerStart(t, 0, false, function MV2)
endfunction

function I11 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MZ2))
    call TriggerAddAction(t, function MW2)
endfunction

function MX2 takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(IFI), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call UnitAddAbility(YVI, 'A0MJ')
    call SetUnitAbilityLevel(YVI, 'A0MJ', IGI)
    call IssueTargetOrder(YVI, "forkedlightning", GetEnumUnit())
    set YVI = null
endfunction

function MY2 takes unit GCI, unit GDI, integer FVI returns nothing
    local group g = allocGroup()
    set myUnit = GCI
    set IGI = FVI
    set IFI = GCI
    call GroupEnumUnitsInRange(g, GetUnitX(GDI), GetUnitY(GDI), 700, Condition(function XNI))
    call ForGroup(g, function MX2)
    call releaseGroup(g)
    set g = null
endfunction

function MJ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real MK2 = LoadReal(hashTable, DMI, 362)
    local unit GCI
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local integer FVI
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if (LoadInteger(hashTable, GetHandleId(GetTriggerUnit()), 4250) == 1) == false then
            if MK2 < GetEventDamage() then
                set GCI = LoadUnitHandle(hashTable, DMI, 2)
                set FVI = LoadInteger(hashTable, DMI, 5)
                call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
                call SaveBoolean(hashTable, GetHandleId(GDI), 363, false)
                call D8I(GHI)
                call FlushChildHashtable(hashTable, DMI)
                call abandonTrigger(t)
                call HVI(GetTriggerUnit(), MK2)
                call MY2(GCI, GetTriggerUnit(), FVI)
            elseif GetEventDamage() > 0 then
                call HVI(GetTriggerUnit(), GetEventDamage())
                call SaveReal(hashTable, DMI, 362, ((MK2 - GetEventDamage())*1.0))
            endif
        endif
    else 
        call SaveBoolean(hashTable, GetHandleId(GDI), 363, false)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    return false
endfunction

function ML2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = GetSpellTargetUnit()
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0MF')
    local integer KI1 = GetHandleId(GDI)
    local real MK2
    if LoadBoolean(hashTable, KI1, 363) == true then
        call TriggerEvaluate( LoadTriggerHandle(hashTable, KI1, 364) )
    endif
    call UnitRemoveBuffs(GDI, false, true)
    if FVI == 1 then
        set MK2 = 110
    elseif FVI == 2 then
        set MK2 = 140
    elseif FVI == 3 then
        set MK2 = 170
    else 
        set MK2 = 200
    endif
    call SaveReal(hashTable, DMI, 362, (MK2*1.0))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\Defensive Barrier big.mdx", GDI, "chest"))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 15, false)
    call TriggerAddCondition(t, Condition(function MJ2))
    call SaveTriggerHandle(hashTable, KI1, 364, t)
    call SaveBoolean(hashTable, KI1, 363, true)
    set t = null
    set GDI = null
    set GCI = null
endfunction

function MM2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0MF' then
        call ML2()
    endif
    return false
endfunction

function MN2 takes nothing returns nothing
    if GetUnitAbilityLevel(GetSpellTargetUnit(), 'BNdo') > 0 then
        call GSI(GetTriggerUnit())
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n03I'))
    endif
endfunction

function MS2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0MF' then
        call MN2()
    endif
    return false
endfunction

function I21 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function MS2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MM2))
    set t = null
endfunction

function MT2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or IssueImmediateOrder(E1I, "windwalk") then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function MR2 takes unit E1I returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MT2))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
endfunction

function MP2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0NS')
    local integer YHI
    local real QD1
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A1DA') + 2
    endif
    set YHI = 2 + FVI
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED and (LoadInteger(hashTable, GetHandleId(E1I), 4250) == 1) then
        call HVI(E1I, GetEventDamage())
        call HVI(E1I, GetEventDamage())
    elseif (GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and (GetSpellAbilityId() == 'A0NS' or GetSpellAbilityId() == 'A1DA')) or (GetTriggerEventId() == EVENT_UNIT_DAMAGED and (LoadInteger(hashTable, GetHandleId(E1I), 4251) == 1) == false and GetUnitState(E1I, UNIT_STATE_LIFE) < 400) then
        call UnitRemoveBuffs(E1I, false, true)
        if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
            call DisableTrigger(t)
            if IssueImmediateOrder(E1I, "windwalk") == false then
                call MR2(E1I)
            endif
            call EnableTrigger(t)
        endif
        call TimerStart(EB0[GetPlayerId(GetOwningPlayer(E1I))], 60, false, null)
        call DUI(E1I, 4250, YHI)
        call DUI(E1I, 4251, 60)
        call Z4I("Abilities\\Spells\\Undead\\Unsummon\\UnsummonTarget.mdl", E1I, "origin", YHI)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function MQ2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MP2))
    set t = null
endfunction

function MU2 takes nothing returns boolean 
    if (GetLearnedSkill() == 'A0NS' or GetLearnedSkill() == 'A1DA') and IsUnitIllusion(GetTriggerUnit()) == false and (GetUnitAbilityLevel(GetTriggerUnit(), 'A0NS') == 1 or GetUnitAbilityLevel(GetTriggerUnit(), 'A1DA') == 1) then
        call MQ2()
    endif
    return false
endfunction

function I31 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function MU2))
    set t = null
endfunction

constant function MarkOfTheAbyss_AttackBuff takes nothing returns integer 
    return 'B066'
endfunction

constant function MarkOfTheAbyss_EffectCode takes nothing returns integer 
    return 'A0MH'
endfunction

constant function MarkOfTheAbyss_FrostmourneCode takes nothing returns integer 
    return 'A0MG'
endfunction

function N02 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetTriggerUnit(), 'B066') > 0 or GetUnitAbilityLevel(GetAttacker(), 'A0MG') > 0
endfunction

function NI2 takes nothing returns nothing
    local unit VW1 = GetAttacker()
    local unit GDI = GetTriggerUnit()
    local unit SourceHero
    local integer FVI = GetUnitAbilityLevel(VW1, 'A0MG')
    local unit YVI = CreateUnit(GetOwningPlayer(VW1), 'e00E', GetUnitX(VW1), GetUnitY(VW1), 0)
    if FVI > 0 then
        call SaveInteger(hashTable, GetHandleId(GDI), 203, FVI)
    else 
        set FVI = LoadInteger(hashTable, GetHandleId(GDI), 203)
    endif
    call UnitAddAbility(YVI, 'A0MH')
    call SetUnitAbilityLevel(YVI, 'A0MH', FVI)
    call IssueTargetOrder(YVI, "bloodlust", VW1)
endfunction

function IO1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function N02))
    call TriggerAddAction(t, function NI2)
endfunction

function N12 takes integer i returns nothing
    call DestroyEffect(ILI[i])
    set ILI[i] = null
    set IJI[i] = null
    set IKI[i] = null
    set IMI[i] = 0
    set INI[i] = 0
    set ISI[i] = 0
    if i != IYI then
        set ILI[i] = ILI[IYI]
        set IJI[i] = IJI[IYI]
        set IKI[i] = IKI[IYI]
        set IMI[i] = IMI[IYI]
        set INI[i] = INI[IYI]
        set ISI[i] = ISI[IYI]
        set ILI[IYI] = null
        set IJI[IYI] = null
        set IKI[IYI] = null
        set IMI[IYI] = 0
        set INI[IYI] = 0
        set ISI[IYI] = 0
    endif
    set IYI = IYI - 1
endfunction

function NO2 takes nothing returns boolean 
    local integer i = 1
    local real H7I = TimerGetElapsed(M)
    loop
        exitwhen i > IYI
        if H7I > IMI[i] then
            if GetUnitAbilityLevel(IJI[i], EN) > 0 then
                call UnitRemoveAbility(IJI[i], EN)
                call UnitRemoveAbility(IJI[i], IHI)
            endif
            if GetUnitAbilityLevel(IJI[i], FN) > 0 then
                call UnitRemoveAbility(IJI[i], FN)
                call UnitRemoveAbility(IJI[i], IZI)
            endif
            if GetUnitAbilityLevel(IJI[i], GN) > 0 then
                call UnitRemoveAbility(IJI[i], GN)
                call UnitRemoveAbility(IJI[i], IVI)
            endif
            if GetUnitAbilityLevel(IJI[i], HN) > 0 then
                call UnitRemoveAbility(IJI[i], HN)
                call UnitRemoveAbility(IJI[i], IWI)
            endif
            call N12(i)
        elseif (H7I - INI[i]) > 1 then
            if IKI[i] != null then
                call doDamage(IKI[i], IJI[i], 1, ISI[i])
                call doDamage(IKI[i], IJI[i], 2, 0.01)
            endif
            set INI[i] = INI[i] + 1
            set i = i + 1
        else 
            set i = i + 1
        endif
    endloop
    return false
endfunction

function N22 takes nothing returns boolean 
    local unit C61 = GetTriggerUnit()
    local unit N32 = GetKillingUnit()
    local integer i = 1
    loop
        exitwhen i > IYI
        if IJI[i] == C61 then
            call N12(i)
        endif
        set i = i + 1
    endloop
    if N32 == null then
        set C61 = null
        set N32 = null
        return false
    endif
    if G2I(N32) then
        set N32 = playerHero[GetPlayerId(GetOwningPlayer(N32))]
    endif
    set i = 1
    loop
        exitwhen i > IYI
        if (N32 == IJI[i]) then
            if GetUnitAbilityLevel(IJI[i], EN) > 0 then
                call UnitRemoveAbility(IJI[i], EN)
                call UnitRemoveAbility(IJI[i], IHI)
            endif
            if GetUnitAbilityLevel(IJI[i], FN) > 0 then
                call UnitRemoveAbility(IJI[i], FN)
                call UnitRemoveAbility(IJI[i], IZI)
            endif
            if GetUnitAbilityLevel(IJI[i], GN) > 0 then
                call UnitRemoveAbility(IJI[i], GN)
                call UnitRemoveAbility(IJI[i], IVI)
            endif
            if GetUnitAbilityLevel(IJI[i], HN) > 0 then
                call UnitRemoveAbility(IJI[i], HN)
                call UnitRemoveAbility(IJI[i], IWI)
            endif
            call N12(i)
        else 
            set i = i + 1
        endif
    endloop
    set C61 = null
    set N32 = null
    return false
endfunction

function N42 takes unit GDI returns integer 
    local integer i = 1
    loop
        exitwhen i > IYI
        if IJI[i] == GDI then
            return i
        endif
        set i = i + 1
    endloop
    return -1
endfunction

function N52 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real GFI
    local integer FVI = GetUnitAbilityLevel(GCI, IXI)
    local real YHI
    local integer i
    if FVI == 1 then
        set GFI = 15
        set YHI = 10
    elseif FVI == 2 then
        set GFI = 17
        set YHI = 13
    elseif FVI == 3 then
        set GFI = 25
        set YHI = 16
    elseif FVI == 4 then
        set GFI = 33
        set YHI = 19
    endif
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl", GDI, "overhead") )
    if FVI == 1 then
        call UnitAddAbility(GDI, EN)
    elseif FVI == 2 then
        call UnitAddAbility(GDI, FN)
    elseif FVI == 3 then
        call UnitAddAbility(GDI, GN)
    elseif FVI == 4 then
        call UnitAddAbility(GDI, HN)
    endif
    set i = N42(GDI)
    if i == -1 then
        set IYI = IYI + 1
        set IJI[IYI] = GDI
        set IKI[IYI] = GCI
        set IMI[IYI] = YHI + TimerGetElapsed(M) + 1
        set INI[IYI] = TimerGetElapsed(M)
        set ISI[IYI] = GFI
        set ILI[IYI] = AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl", GDI, "overhead")
    else 
        set IKI[i] = GCI
        set IMI[i] = YHI + TimerGetElapsed(M) + 1
        set ISI[i] = GFI
    endif
    set GCI = null
    set GDI = null
endfunction

function N62 takes nothing returns boolean 
    if GetSpellAbilityId() == IXI and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call N52()
    endif
    return false
endfunction

function PRI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerAddCondition(t, Condition(function NO2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function N62))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function N22))
    set t = null
endfunction

function N72 takes nothing returns boolean 
    return (IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and GetUnitAbilityLevel(GetFilterUnit(), 'B008') == 0 and GetUnitAbilityLevel(GetFilterUnit(), 'Bcyc') == 0
endfunction

function N82 takes integer DMI, integer N92 returns nothing
    local integer i = 1
    loop
        exitwhen i > N92
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, (2700 + i)) )
        set i = i + 1
    endloop
endfunction

function NA2 takes nothing returns nothing
    call UnitWakeUp(GetEnumUnit())
    call IssueTargetOrder(GetEnumUnit(), "attack", ITI)
endfunction

function NB2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local group g = LoadGroupHandle(hashTable, DMI, 220)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer N92 = LoadInteger(hashTable, DMI, 365)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId() != EVENT_PLAYER_UNIT_ISSUED_ORDER then
        set DHI = DHI + 1
        call SaveInteger(hashTable, DMI, 34, DHI)
        if DHI == (4 + 2*FVI) then
            call UnitRemoveAbility(E1I, 'A0I5')
            call releaseGroup(g)
            call N82(DMI, N92)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        else 
            call DisableTrigger(t)
            set ITI = E1I
            call ForGroup(g, function NA2)
            call EnableTrigger(t)
        endif
    else 
        if IsUnitInGroup(GetTriggerUnit(), g) == true and UnitIsSleeping(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'B008') == 0 and GetIssuedOrderId() != 851973 then
            call DisableTrigger(t)
            call IssueTargetOrder(GetTriggerUnit(), "attack", E1I)
            call EnableTrigger(t)
        endif
    endif
    set t = null
    set g = null
    set E1I = null
    return false
endfunction

function NC2 takes nothing returns nothing
    set QJ = QJ + 1
    call SaveEffectHandle(hashTable, NK, (2700 + QJ), AddSpecialEffectTarget("Abilities\\Weapons\\LavaSpawnMissile\\LavaSpawnBirthMissile.mdl", GetEnumUnit(), "chest"))
endfunction

function ND2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0I6')
    local group g = allocGroup()
    call UnitAddAbility(E1I, 'A0I5')
    call SetUnitAbilityLevel(E1I, 'A0I5', FVI)
    set myUnit = E1I
    set ITI = E1I
    set QJ = 0
    set NK = DMI
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 300, Condition(function N72))
    call ForGroup(g, function NC2)
    call ForGroup(g, function NA2)
    call SaveInteger(hashTable, DMI, 365, QJ)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveGroupHandle(hashTable, DMI, 220, g)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 34, 0)
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function NB2))
    set t = null
    set g = null
    set E1I = null
endfunction

function NE2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0I6' then
        call ND2()
    endif
    return false
endfunction

function PQI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NE2))
    set t = null
endfunction

function NF2 takes nothing returns nothing
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl", GetEnumUnit(), "origin") )
    call doDamage(GetTriggerUnit(), GetEnumUnit(), 2, GetUnitAbilityLevel(GetTriggerUnit(), 'A0C6')*25 + 75)
endfunction

function NG2 takes nothing returns nothing
    local group g = allocGroup()
    local unit E1I = GetTriggerUnit()
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 300, Condition(function XMI))
    call ForGroup(g, function NF2)
    call SetUnitAnimation(E1I, "spin")
    call W8I(E1I, 0.6)
    call DUI(E1I, 4267, 0.75 - 0.05*GetUnitAbilityLevel(GetTriggerUnit(), 'A0C6'))
    call releaseGroup(g)
    set g = null
    set E1I = null
endfunction

function NH2 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B03P') > 0 and IsUnitType(GetAttacker(), UNIT_TYPE_STRUCTURE) == false and IsUnitType(GetAttacker(), UNIT_TYPE_MECHANICAL) == false and GetUnitAbilityLevel(GetAttacker(), 'A04R') == 0 and IsUnitAlly(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) == false and GetRandomReal(0, 100) < 17 and (LoadInteger(hashTable, GetHandleId(GetTriggerUnit()), 4267) == 1) == false then
        call NG2()
    endif
    return false
endfunction

function PPI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function NH2))
    set t = null
endfunction

constant function CullingBlade_RawCode takes nothing returns integer 
    return 'A0E2'
endfunction

function NZ2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0E2' or GetSpellAbilityId() == 'A1MR'
endfunction

function NV2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real MK2 = GetUnitState(GDI, UNIT_STATE_LIFE)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0E2')
    local unit YVI
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A1MR')
    endif
    if (MK2 <= 300 and FVI == 1) or (MK2 <= 450 and FVI == 2) or (MK2 <= 625 and FVI == 3) then
        call PlaySoundOnUnitBJ(CC, 100, GDI)
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl", GDI, "overhead") )
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', 0, 0, 0)
        call UnitRemoveBuffs(GDI, true, true)
        call UnitDamageTarget(YVI, GDI, 100000000.00, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    endif
endfunction

function PUI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NZ2))
    call TriggerAddAction(t, function NV2)
endfunction

function NW2 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0GK' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
endfunction

function NX2 takes nothing returns nothing
    call UnitDamageTargetBJ(GetTriggerUnit(), GetSpellTargetUnit(), 75*GetUnitAbilityLevel(GetTriggerUnit(), 'A0GK'), ATTACK_TYPE_HERO, DAMAGE_TYPE_MAGIC)
    if GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) > 1 then
        call SetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) + 75*GetUnitAbilityLevel(GetTriggerUnit(), 'A0GK'))
    endif
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", GetSpellTargetUnit(), "origin") )
endfunction

function NY2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit YVI
    if GetUnitAbilityLevel(GDI, 'B02F') == 0 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED and GetTriggerUnit() == GDI then
        call UnitRemoveAbility(GDI, 'B02F')
        set YVI = CreateUnit(p, 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
        call UnitAddAbility(YVI, 'A04Y')
        call SetUnitAbilityLevel(YVI, 'A04Y', FVI)
        call IssueTargetOrder(YVI, "sleep", GetAttacker())
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() != EVENT_PLAYER_UNIT_ATTACKED then
        if GetUnitState(GDI, UNIT_STATE_LIFE) > 21 then
            call SetUnitState(GDI, UNIT_STATE_LIFE, GetUnitState(GDI, UNIT_STATE_LIFE) - 20)
        else 
            call UnitRemoveAbility(GDI, 'B02F')
            call doDamage(GCI, GDI, 1, 50)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    endif
    set t = null
    set p = null
    set YVI = null
    set GDI = null
    set GCI = null
    return false
endfunction

function NJ2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    set DMI = GetHandleId(t)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(GCI))
    call SaveInteger(hashTable, DMI, 5, GetUnitAbilityLevel(GCI, 'A04Y'))
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function NY2))
    call doDamage(GCI, GDI, 1, 5)
    set GCI = null
    set GDI = null
    set t = null
endfunction

function NK2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A04Y' and GII(GetSpellTargetUnit()) == false then
        call NJ2()
    endif
    return false
endfunction

function Q0I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NK2))
endfunction

function NL2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real QD1
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEvalCount(t) > 6 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call GSI(GCI)
    else 
        set QD1 = RMinBJ(0.05*GetUnitState(GDI, UNIT_STATE_MAX_MANA), GetUnitState(GDI, UNIT_STATE_MANA))
        if QD1 > 0 then
            call SetUnitState(GCI, UNIT_STATE_MANA, GetUnitState(GCI, UNIT_STATE_MANA) + QD1)
            call SetUnitState(GDI, UNIT_STATE_MANA, GetUnitState(GDI, UNIT_STATE_MANA) - QD1)
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function NM2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitRemoveAbility(GDI, 'B02F')
    call UnitRemoveAbility(GDI, 'BUsp')
    call UnitRemoveAbility(GDI, 'Bust')
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function NL2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    set GCI = null
    set GDI = null
    set t = null
endfunction

function NN2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A02Q' or GetSpellAbilityId() == 'A1D9' then
        call NM2()
    endif
    return false
endfunction

function QII takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NN2))
    set t = null
endfunction

function NS2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer DHI
    local boolean NT2 = LoadBoolean(hashTable, DMI, 280)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SetUnitTurnSpeed(GDI, GetUnitDefaultTurnSpeed(GDI))
        call SaveInteger(hashTable, GetHandleId(GDI), 281, 0)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call UnitRemoveAbility(GDI, 'B0BS')
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED and NT2 == false then
        if GetUnitAbilityLevel(GetTriggerUnit(), 'B0BS') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A1EL') > 0 and LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2) == GetEventDamageSource() then
            set DHI = LoadInteger(hashTable, GetHandleId(GDI), 281)
            call SaveBoolean(hashTable, DMI, 280, true)
            if O3I then
                call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl", GDI, "chest") )
                call doDamage(GCI, GDI, 1, 0.5*(5 + 5*GetUnitAbilityLevel(GCI, 'A1EL'))*DHI)
            elseif (GetEventDamage() > 33 and IsUnitType(GDI, UNIT_TYPE_HERO) == true) or (GetEventDamage() > 40 and IsUnitType(GDI, UNIT_TYPE_HERO) == false) then
                call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl", GDI, "chest") )
                call doDamage(GCI, GDI, 1, (5 + 5*GetUnitAbilityLevel(GCI, 'A1EL'))*DHI)
            endif
            call SaveBoolean(hashTable, DMI, 280, false)
        endif
    elseif GetUnitAbilityLevel(GDI, 'B0BS') == 0 then
        call SetUnitTurnSpeed(GDI, GetUnitDefaultTurnSpeed(GDI))
        call SaveInteger(hashTable, GetHandleId(GDI), 281, 0)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitTurnSpeed(GDI, GetUnitDefaultTurnSpeed(GDI)*0.3)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function NR2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetEnumUnit()
    local trigger t
    local integer DMI
    local integer DHI = IMinBJ(LoadInteger(hashTable, GetHandleId(GDI), 281) + 1, 10)
    call UnitRemoveAbility(GDI, 'B0BS')
    call SetUnitAbilityLevel(IRI, IPI, DHI)
    call IssueTargetOrder(IRI, "slow", GDI)
    call SaveInteger(hashTable, GetHandleId(GDI), 281, DHI)
    call SetUnitTurnSpeed(GDI, GetUnitDefaultTurnSpeed(GDI)*0.3)
    if DHI == 1 then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveBoolean(hashTable, DMI, 280, false)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function NS2))
    endif
    set t = null
    set GCI = null
    set GDI = null
endfunction

function NP2 takes nothing returns nothing
    local group g = allocGroup()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1EL')
    set IRI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    if FVI == 1 then
        set IPI = 'A1EO'
    elseif FVI == 2 then
        set IPI = 'A1EN'
    elseif FVI == 3 then
        set IPI = 'A1EM'
    elseif FVI == 4 then
        set IPI = 'A1EP'
    endif
    call UnitAddAbility(IRI, IPI)
    call GroupEnumUnitsInRange(g, x, y, 400, Condition(function XKI))
    call ForGroup(g, function NR2)
    call V3I(GetOwningPlayer(GCI), 2, x, y, 500)
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x, y) )
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x, y + 130) )
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x, y - 130) )
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x + 130, y) )
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x + 130, y + 130) )
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x + 130, y - 130) )
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x - 130, y) )
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x - 130, y + 130) )
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl", x - 130, y - 130) )
    call RemoveLocation(l)
    call releaseGroup(g)
    set g = null
    set l = null
    set GCI = null
endfunction

function NQ2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1EL' then
        call NP2()
    endif
    return false
endfunction

function AM1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NQ2))
    call preloadAblility('A1EO')
    call preloadAblility('A1EN')
    call preloadAblility('A1EM')
    call preloadAblility('A1EP')
    set t = null
endfunction

function NU2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real a = LoadReal(hashTable, DMI, 137)
    local real d = LoadReal(hashTable, DMI, 138)
    local real x1 = LoadReal(hashTable, DMI, 6)
    local real y1 = LoadReal(hashTable, DMI, 7)
    local real x2
    local real y2
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > 10 then
        call killDestructables(GetUnitX(GDI), GetUnitY(GDI), 200)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set x2 = x1 + d*Cos(a)
        set y2 = y1 + d*Sin(a)
        if IsPointInRegion(KN, (x2*1.0), (y2*1.0)) == false then
            call SaveReal(hashTable, DMI, 6, (x2*1.0))
            call SaveReal(hashTable, DMI, 7, (y2*1.0))
            call SetUnitX(GDI, x2)
            call SetUnitY(GDI, y2)
        else 
            call SetUnitX(GDI, x1)
            call SetUnitY(GDI, y1)
        endif
    endif
    set t = null
    set GDI = null
    return false
endfunction

function S02 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetEnumUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A19V')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function NU2))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 137, (Atan2(GetUnitY(GDI) - O1I, GetUnitX(GDI) - OII)*1.0))
    call SaveReal(hashTable, DMI, 138, ((HGI((400 - getDistance(OII, O1I, GetUnitX(GDI), GetUnitY(GDI))), 10)/10)*1.0))
    call SaveReal(hashTable, DMI, 6, (GetUnitX(GDI)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(GDI)*1.0))
    set GCI = null
    set GDI = null
    set t = null
    call doDamage(IQI, GetEnumUnit(), 1, O0I*75)
endfunction

function SI2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real a = LoadReal(hashTable, DMI, 137)
    local group g = allocGroup()
    local unit GDI
    local real x = GetUnitX(YVI)
    local real y = GetUnitY(YVI)
    set x = constrainX(x + 30*Cos(a))
    set y = constrainY(y + 30*Sin(a))
    call SetUnitX(YVI, x)
    call SetUnitY(YVI, y)
    set myUnit = YVI
    call GroupEnumUnitsInRange(g, x, y, 125, Condition(function filterUnitInjurable))
    set GDI = FirstOfGroup(g)
    call releaseGroup(g)
    if GetTriggerEvalCount(t) > 55 or GDI != null then
        set IQI = GCI
        set O0I = LoadInteger(hashTable, DMI, 5)
        set IUI = GDI
        if GDI == null then
            set OII = x
            set O1I = y
        else 
            set OII = GetUnitX(GDI)
            set O1I = GetUnitY(GDI)
        endif
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, x, y, 400, Condition(function filterUnitInjurable))
        if GDI != null then
            call GroupRemoveUnit(g, GDI)
            call YZI(GCI, GDI, 0.3)
            call doDamage(IQI, GDI, 1, O0I*75)
        endif
        call ForGroup(g, function S02)
        call SetUnitScale(YVI, 7, 7, 7)
        call KillUnit(YVI)
        call releaseGroup(g)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set YVI = null
    set GCI = null
    set g = null
    return false
endfunction

function S12 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A19V')
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'h08Y', GetUnitX(GCI), GetUnitY(GCI), a*bj_RADTODEG)
    call RemoveLocation(l)
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call TriggerRegisterTimerEvent(t, 0.04, true)
    call TriggerAddCondition(t, Condition(function SI2))
    set GCI = null
    set YVI = null
    set l = null
    set t = null
endfunction

function SO2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A19V' then
        call S12()
    endif
    return false
endfunction

function AN1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SO2))
    set t = null
endfunction

function S22 takes nothing returns nothing
    call doDamage(OOI, GetEnumUnit(), 1, O4I*10)
endfunction

function S32 takes unit GCI, integer DMI, integer DHI returns nothing
    local group g1 = allocGroup()
    local group g2 = allocGroup()
    local integer i = 0
    set myUnit = GCI
    loop
        exitwhen i > DHI
        call GroupEnumUnitsInRange(g2, LoadReal(hashTable, DMI, (2300 + i)), LoadReal(hashTable, DMI, (2500 + i)), 225, Condition(function filterUnitInjurable))
        call GroupAddGroup(g2, g1)
        call GroupClear(g2)
        set i = i + 1
    endloop
    call releaseGroup(g2)
    if FirstOfGroup(g1) != null then
        set OOI = GCI
        set O4I = GetUnitAbilityLevel(GCI, 'A19Z')
        set O2I = CreateUnit(GetOwningPlayer(GCI), 'e00E', 0, 0, 0)
        call UnitAddAbility(O2I, 'A19U')
        call SetUnitAbilityLevel(O2I, 'A19U', O4I)
        call ForGroup(g1, function S22)
    endif
    call releaseGroup(g1)
    set g1 = null
    set g2 = null
endfunction

function S42 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real CI2 = LoadReal(hashTable, DMI, 23)
    local real C12 = LoadReal(hashTable, DMI, 24)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    local integer i
    local real x
    local real y
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > 300 then
        set i = 0
        loop
            exitwhen i > DHI
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, (2700 + i)) )
            set i = i + 1
        endloop
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set x = GetUnitX(GCI)
        set y = GetUnitY(GCI)
        if getDistance(x, y, CI2, C12) > 125 then
            set DHI = DHI + 1
            call SaveInteger(hashTable, DMI, 34, DHI)
            call SaveReal(hashTable, DMI, 23, (x*1.0))
            call SaveReal(hashTable, DMI, 24, (y*1.0))
            call SaveEffectHandle(hashTable, DMI, (2700 + DHI), AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", x, y))
            call SaveReal(hashTable, DMI, (2300 + DHI), (x*1.0))
            call SaveReal(hashTable, DMI, (2500 + DHI), (y*1.0))
        endif
        if ModuloInteger(GetTriggerEvalCount(t), 10) == 0 then
            set O3I = true
            call S32(GCI, DMI, DHI)
            set O3I = false
        endif
        call killDestructables(GetUnitX(GCI), GetUnitY(GCI), 100)
    endif
    return false
endfunction

function S52 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function S42))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveEffectHandle(hashTable, DMI, 2700, AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl", GetUnitX(GCI), GetUnitY(GCI)))
    call SaveReal(hashTable, DMI, 23, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 24, (GetUnitY(GCI)*1.0))
    call SaveReal(hashTable, DMI, 2300, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 2500, (GetUnitY(GCI)*1.0))
    set GCI = null
    set t = null
endfunction

function S62 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if isUnitUnavailable(GCI) then
        return false
    endif
    if GetUnitTypeId(GCI) == 'O016' then
        call SetUnitFlyHeight(GCI, 170, 0)
    elseif GetUnitTypeId(GCI) == 'O017' then
        call SetUnitFlyHeight(GCI, 220, 0)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function S72 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 2, true)
    call TriggerAddCondition(t, Condition(function S62))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set t = null
    set GCI = null
endfunction

function S82 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT then
        if GetSpellAbilityId() == 'A19Z' then
            if GetUnitTypeId(GetTriggerUnit()) == 'O016' then
                call S52()
            endif
        endif
    else 
        if GetLearnedSkill() == 'A19Z' and GetUnitAbilityLevel(GetTriggerUnit(), 'A19Z') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
            call S72()
        endif
    endif
    return false
endfunction

function AS1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function S82))
    set t = null
endfunction

function S92 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local real d = getDistance(GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI))
    local real a
    local real YHI = LoadReal(hashTable, DMI, 57)
    local real x0 = LoadReal(hashTable, DMI, 282)
    local real y0 = LoadReal(hashTable, DMI, 283)
    local real x1
    local real y1
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > R2I(20*YHI) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call KillUnit(YVI)
        call SetUnitPathing(GDI, true)
        call killDestructables(GetUnitX(GDI), GetUnitY(GDI), 175)
    else 
        call SetUnitX(YVI, GetUnitX(GCI))
        call SetUnitY(YVI, GetUnitY(GCI))
        if getDistance(x0, y0, GetUnitX(GCI), GetUnitY(GCI)) > 400 then
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call KillUnit(YVI)
            call SetUnitPathing(GDI, true)
            call killDestructables(GetUnitX(GDI), GetUnitY(GDI), 175)
        else 
            call SaveReal(hashTable, DMI, 282, (GetUnitX(GCI)*1.0))
            call SaveReal(hashTable, DMI, 283, (GetUnitY(GCI)*1.0))
            if d > 300 then
                set a = Atan2(GetUnitY(GDI) - GetUnitY(GCI), GetUnitX(GDI) - GetUnitX(GCI))
                set x1 = GetUnitX(GCI) + 300*Cos(a)
                set y1 = GetUnitY(GCI) + 300*Sin(a)
                if IsPointInRegion(KN, (x1*1.0), (y1*1.0)) == false then
                    call SetUnitX(GDI, x1)
                    call SetUnitY(GDI, y1)
                endif
            endif
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
    return false
endfunction

function SA2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'u00Y', GetUnitX(GCI), GetUnitY(GCI), 0)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A19O')
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(GCI, 'A1MV') + 2
    endif
    call UnitAddAbility(YVI, 'A19N')
    call SetUnitAbilityLevel(YVI, 'A19N', GetUnitAbilityLevel(GCI, 'A19O'))
    call IssueTargetOrder(YVI, "magicleash", GDI)
    call SetUnitPathing(YVI, false)
    call SetUnitPathing(GDI, false)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function S92))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveReal(hashTable, DMI, 57, ((2.5 + FVI*0.5)*1.0))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl", GDI, "chest"))
    call SaveReal(hashTable, DMI, 282, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 283, (GetUnitY(GCI)*1.0))
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
endfunction

function SB2 takes nothing returns boolean 
    if (GetSpellAbilityId() == 'A19O' or GetSpellAbilityId() == 'A1MV') and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' then
        call SA2()
    endif
    return false
endfunction

function AT1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SB2))
    set t = null
endfunction

function SC2 takes nothing returns boolean 
    if (GetUnitTypeId(GetDyingUnit()) == 'n00L') then
        return false
    endif
    if (IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) == true) then
        return false
    endif
    if (GetUnitAbilityLevel(GetKillingUnit(), 'A0LE') > 0) then
        return true
    endif
    return false
endfunction

function SD2 takes nothing returns nothing
    local real G7O = 0.05
    local real SE2
    if IsUnitIllusion(GetDyingUnit()) == true then
        return
    endif
    if (IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) == true) then
        set SE2 = (GetUnitAbilityLevel(GetKillingUnit(), 'A0LE')*0.1)*GetUnitState(GetDyingUnit(), UNIT_STATE_MAX_LIFE)
    else 
        set SE2 = (GetUnitAbilityLevel(GetKillingUnit(), 'A0LE')*0.05 + 0.05)*GetUnitState(GetDyingUnit(), UNIT_STATE_MAX_LIFE)
    endif
    if GetUnitState(GetKillingUnit(), UNIT_STATE_LIFE) > 1 then
        call SetWidgetLife(GetKillingUnit(), GetUnitState(GetKillingUnit(), UNIT_STATE_LIFE) + SE2)
    endif
    call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl", GetKillingUnit(), "overhead") )
endfunction

function Q1I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function SC2))
    call TriggerAddAction(t, function SD2)
endfunction

function SF2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real CI2 = LoadReal(hashTable, DMI, 23)
    local real C12 = LoadReal(hashTable, DMI, 24)
    local real x = GetUnitX(GDI)
    local real y = GetUnitY(GDI)
    local real BG2 = 0.2*FVI*SquareRoot((CI2 - x)*(CI2 - x) + (C12 - y)*(C12 - y))
    local integer VXO = LoadInteger(hashTable, DMI, 25)
    if BG2 > 200 then
        set BG2 = 0
    endif
    if BG2 > 5 then
        call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", GDI, "origin") )
    endif
    if BG2 > 0 and isUnitUnavailable(GDI) == false then
        call doDamage(GCI, GDI, 3, BG2)
    endif
    call SaveReal(hashTable, DMI, 23, (x*1.0))
    call SaveReal(hashTable, DMI, 24, (y*1.0))
    call SaveInteger(hashTable, DMI, 25, (VXO + 1))
    if isUnitUnavailable(GDI) then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif VXO > 4*(3 + 2*FVI) then
        call UnitRemoveAbility(GDI, 'A0IH')
        call UnitRemoveAbility(GDI, 'B08L')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function SG2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0LH')
    call UnitAddAbility(GDI, 'A0IH')
    call SetUnitAbilityLevel(GDI, 'A0IH', FVI)
    call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", GDI, "chest") )
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 23, (GetUnitX(GDI)*1.0))
    call SaveReal(hashTable, DMI, 24, (GetUnitY(GDI)*1.0))
    call SaveInteger(hashTable, DMI, 25, 0)
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerAddCondition(t, Condition(function SF2))
    call doDamage(GCI, GDI, 3, 50 + 100*FVI)
    set GCI = null
    set GDI = null
    set t = null
endfunction

function SH2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0LH' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call SG2()
    endif
    return false
endfunction

function QOI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function SH2))
    set t = null
endfunction

constant function Thirst_RawCode takes nothing returns integer 
    return 'A0I8'
endfunction

constant function Thirst_EffectCode takes nothing returns integer 
    return 'A0LG'
endfunction

constant function Thirst_BuffCode takes nothing returns integer 
    return 'B05R'
endfunction

function SZ2 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0I8' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0I8') == 1
endfunction

function SV2 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(YO))
endfunction

function SW2 takes nothing returns nothing
    local real HJI = getUnitDistance(GetEnumUnit(), YO)
    if JO == 0 or GetUnitState(YO, UNIT_STATE_LIFE) < 1 then
        call UnitShareVision(GetEnumUnit(), GetOwningPlayer(YO), false)
    else 
        if HJI >= JO*1500 or (HJI < JO*1500 and GetUnitStatePercent(GetEnumUnit(), UNIT_STATE_LIFE, UNIT_STATE_MAX_LIFE) > 40) then
            call UnitShareVision(GetEnumUnit(), GetOwningPlayer(YO), false)
        endif
        if HJI < JO*1500 and GetUnitLifePercent(GetEnumUnit()) <= 40 then
            call UnitShareVision(GetEnumUnit(), GetOwningPlayer(YO), true)
            set I2 = true
        endif
    endif
endfunction

function SX2 takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(YO), 'e00E', GetUnitX(YO), GetUnitY(YO), 0)
    call UnitAddAbility(YVI, 'A0LG')
    call SetUnitAbilityLevel(YVI, 'A0LG', JO)
    call IssueTargetOrder(YVI, "bloodlust", YO)
endfunction

function Thirst_RemoveBuff takes nothing returns nothing
    call UnitRemoveAbility(YO, 'B05R')
endfunction

function SY2 takes nothing returns nothing
    local unit E1I = LoadUnitHandle(hashTable, GetHandleId(GetExpiredTimer()), 14)
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function SV2)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0I8')
    set YO = E1I
    set JO = FVI
    set I2 = false
    call GroupEnumUnitsInRect(MNI, GetWorldBounds(), BH1)
    call ForGroup(MNI, function SW2)
    if I2 then
        call SX2()
    else 
        call UnitRemoveAbility(YO, 'B05R')
    endif
    call releaseGroup(MNI)
endfunction

function SJ2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local timer t = CreateTimer()
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, E1I)
    call TimerStart(t, 0.5, true, function SY2)
endfunction

function Q2I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function SZ2))
    call TriggerAddAction(t, function SJ2)
endfunction

function SK2 takes nothing returns boolean 
    return GetUnitTypeId(GetSummonedUnit()) == 'o003'
endfunction

function SL2 takes nothing returns nothing
    local unit SM2 = GetSummonedUnit()
    local unit SN2 = GetSummoningUnit()
    local integer DMI = GetHandleId(SN2)
    local integer FVI = GetUnitAbilityLevel(SN2, 'A0BG')
    local integer SS2 = LoadInteger(hashTable, DMI, 279)
    local unit ST2 = LoadUnitHandle(hashTable, DMI, (1400 + 1))
    local integer x = 1
    set SS2 = SS2 + 1
    call SetUnitVertexColorBJ(SM2, 100, 100, 100, 80)
    call UnitAddAbility(SM2, 'Aloc')
    call SaveUnitHandle(hashTable, DMI, (1400 + SS2), SM2)
    if (SS2 > FVI*2) then
        call KillUnit(ST2)
        loop
            exitwhen x == SS2
            call SaveUnitHandle(hashTable, DMI, (1400 + x), LoadUnitHandle(hashTable, DMI, (1400 + x + 1)))
            set x = x + 1
        endloop
        set SS2 = SS2 - 1
    endif
    call SaveInteger(hashTable, DMI, 279, SS2)
    call SetUnitAbilityLevel(SM2, 'A0BF', FVI)
endfunction

function Q3I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function SK2))
    call TriggerAddAction(t, function SL2)
endfunction

function SR2 takes unit SN2 returns nothing
    local integer DMI = GetHandleId(SN2)
    local integer FVI = GetUnitAbilityLevel(SN2, 'A0BG')
    local integer SS2 = LoadInteger(hashTable, DMI, 279)
    local integer x = 1
    local unit SP2
    loop
        exitwhen x > SS2
        set SP2 = LoadUnitHandle(hashTable, DMI, (1400 + x))
        call SetUnitAbilityLevel(SP2, 'A0BF', FVI)
        set x = x + 1
    endloop
endfunction

function SQ2 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0BG' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function SU2 takes nothing returns nothing
    local unit SN2 = LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 366)
    if GetUnitAbilityLevel(SN2, 'B01C') > 0 then
        call UnitAddAbility(SN2, 'A021')
    else 
        call UnitRemoveAbility(SN2, 'A021')
    endif
endfunction

function T02 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local trigger t
    if (GetUnitAbilityLevel(GTI, 'A0BG') == 1) then
        set t = CreateTrigger()
        call TriggerRegisterTimerEventPeriodic(t, 1.50)
        call TriggerAddAction(t, function SU2)
        call SaveUnitHandle(hashTable, GetHandleId(t), 366, GTI)
    else 
        call SR2(GTI)
    endif
endfunction

function Q4I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function SQ2))
    call TriggerAddAction(t, function T02)
endfunction

function TI2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_SPELL_EFFECT or (GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and JWI(GetSpellAbilityId()) and GetSpellTargetUnit() == E1I) then
        if isUnitUnavailable(E1I) == false then
            call UnitRemoveAbility(E1I, 'A0WR')
        endif
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function T12 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    call TriggerRegisterTimerEvent(t, 14, false)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TI2))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl", E1I, "origin"))
    call UnitAddAbility(E1I, 'A0WR')
    call SetUnitAbilityLevel(E1I, 'A0WR', GetUnitAbilityLevel(E1I, 'A0WQ'))
    call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A0WR', false)
endfunction

function TO2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0WQ' then
        call T12()
    endif
    return false
endfunction

function Q5I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TO2))
    set t = null
endfunction

function T22 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A055'
endfunction

function T32 takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetSpellTargetUnit())
    local integer FVI = GetUnitAbilityLevel(GetTriggerUnit(), 'A055')
    local integer T42 = GetRandomInt(1, FVI + 1)
    local unit GTI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real GFI = GetRandomReal(1, 200)
    if (FVI == 4) then
        set T42 = GetRandomInt(2, 4)
    endif
    call CreateNUnitsAtLoc(1, 'e00E', GetOwningPlayer(GTI), EA1, bj_UNIT_FACING)
    call UnitAddAbility(bj_lastCreatedUnit, 'A04U')
    call SetUnitAbilityLevel(bj_lastCreatedUnit, 'A04U', T42)
    call IssueTargetOrder(bj_lastCreatedUnit, "thunderbolt", GDI)
    call UnitDamageTargetBJ(GTI, GDI, GFI, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC)
    call ZJI(I2S(T42), T42, GDI, 50, 50, 255)
endfunction

function Q7I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function T22))
    call TriggerAddAction(t, function T32)
endfunction

function T52 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call LDI(GCI, 0)
    set t = null
    set GCI = null
    return false
endfunction

function T62 takes nothing returns boolean 
    if GetUnitTypeId(GetFilterUnit()) == GetUnitTypeId(O8I) and GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(O8I) and IsUnitIllusion(GetFilterUnit()) == true then
        call SetUnitX(GetFilterUnit(), O6I)
        call SetUnitY(GetFilterUnit(), O7I)
        call IssueTargetOrder(GetFilterUnit(), "attack", O9I)
    endif
    return false
endfunction

function T72 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    local real LPO = getAngle(HKI, HLI, HMI, HNI)
    local real HJI = getDistance(HKI, HLI, HMI, HNI)
    local real d = GetRandomReal(HJI*0.3, HJI*0.8)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0RW')
    local real VGI = HKI + d*Cos(LPO*bj_DEGTORAD)
    local real VHI = HLI + d*Sin(LPO*bj_DEGTORAD)
    local unit u = CreateUnit(GetOwningPlayer(GCI), O5I, VGI, VHI, 0)
    local unit u2
    local group g
    local trigger t
    local integer DMI
    call SetUnitX(GCI, VGI)
    call SetUnitY(GCI, VHI)
    call SetUnitFacing(GCI, -LPO)
    call PlaySoundOnUnitBJ(OC, 100, GDI)
    if IsUnitEnemy(GDI, GetOwningPlayer(GCI)) and GetUnitTypeId(GDI) != 'n00L' then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 1.2, false)
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function T52))
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        set t = null
        call LDI(GCI, 25*FVI)
        set VGI = HKI + (d - 25)*Cos(LPO*bj_DEGTORAD)
        set VHI = HLI + (d - 25)*Sin(LPO*bj_DEGTORAD)
        call SetUnitX(GDI, VGI)
        call SetUnitY(GDI, VHI)
        call SetUnitFacing(GDI, LPO)
        call IssueTargetOrder(GCI, "attack", GDI)
        set g = allocGroup()
        set O6I = VGI
        set O7I = VHI
        set O8I = GCI
        set O9I = GDI
        call GroupEnumUnitsInRange(g, HKI, HLI, 1400, Condition(function T62))
        call releaseGroup(g)
        set u2 = CreateUnit(GetOwningPlayer(GCI), O5I, VGI, VHI, 0)
        call KillUnit(u2)
    endif
    call KillUnit(u)
    set GCI = null
    set GDI = null
    set u = null
    set u2 = null
    set g = null
endfunction

function T82 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0RW' then
        call T72()
    endif
    return false
endfunction

function T92 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit u = CreateUnit(GetOwningPlayer(E1I), O5I, GetUnitX(E1I), GetUnitY(E1I), 0)
    call PlaySoundOnUnitBJ(OC, 100, E1I)
    call KillUnit(u)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set u = null
    set t = null
    set E1I = null
    return false
endfunction

function TA2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerAddCondition(t, Condition(function T92))
    call TriggerRegisterTimerEvent(t, 0.3, false)
    call SaveUnitHandle(hashTable, DMI, 14, GetTriggerUnit())
    set t = null
endfunction

function TB2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0RW' then
        call TA2()
    endif
    return false
endfunction

function Q6I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function T82))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function TB2))
    set t = null
endfunction

function TC2 takes nothing returns boolean 
    return GetLearnedSkill() == 'AHfa' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function TD2 takes nothing returns nothing
    if UnitHasBuffBJ(GetTriggerUnit(), 'BOwk') then
        call UnitRemoveAbility(GetTriggerUnit(), 'BOwk')
    endif
    call DisableTrigger(GetTriggeringTrigger())
endfunction

function I01 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function TC2))
    call TriggerAddAction(t, function TD2)
endfunction

function TE2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real TF2 = GetUnitState(GCI, UNIT_STATE_LIFE)
    call UnitRemoveAbility(GCI, 'A1R0')
    call UnitRemoveAbility(GCI, 'B0D5')
    call LDI(GCI, 0)
    call LFI(GCI, 0)
    call SetUnitState(GCI, UNIT_STATE_LIFE, TF2)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function TG2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A04Q')
    local real TH2 = GetUnitState(GDI, UNIT_STATE_LIFE)
    local real TF2 = GetUnitState(GCI, UNIT_STATE_LIFE)
    local integer TZ2 = R2I((0.05 + 0.01*FVI)*TH2)
    local integer TV2 = R2I((0.4 + 0.1*FVI)*TH2)
    call LDI(GCI, TZ2)
    call LFI(GCI, TV2)
    call UnitAddAbility(GCI, 'A1R0')
    call SetUnitState(GDI, UNIT_STATE_LIFE, 1)
    call doDamage(GCI, GDI, 2, 20)
    call doDamage(GCI, GDI, 1, 20)
    call doDamage(GCI, GDI, 3, 20)
    call SetUnitState(GCI, UNIT_STATE_LIFE, TF2 + TV2)
    call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", GDI, "chest") )
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 35, false)
    call TriggerAddCondition(t, Condition(function TE2))
    set GCI = null
    set GDI = null
    set t = null
endfunction

function TW2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A04Q' and GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE) > 0.5 and GII(GetSpellTargetUnit()) == false then
        call TG2()
    endif
    return false
endfunction

function II1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function TW2))
    set t = null
endfunction

function TX2 takes integer x returns boolean 
    return x == 'A06X' or x == 'A0AQ' or x == 'A14O' or x == 'A0NE' or x == 'A14O' or x == 'A1C0'
endfunction

function TY2 takes nothing returns boolean 
    return (GetLearnedSkill() == 'A0IF') and (IsUnitIllusion(GetTriggerUnit()) == false)
endfunction

function TJ2 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetTriggerUnit(), 'B06X') > 0 and (FCI(GetSpellAbilityId()) or GetSpellAbilityId() == 'A0OI') and TX2(GetSpellAbilityId()) == false
endfunction

function TK2 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GTI = GetTriggerUnit()
    local unit TL2 = LoadUnitHandle(hashTable, DMI, 254)
    local integer TYO = GetUnitAbilityLevel(TL2, 'A0IF')
    if GetRandomInt(1, 100) <= TYO*10 and isUnitCloserThan(GTI, TL2, 1400) then
        call SetUnitState(GTI, UNIT_STATE_MANA, GetUnitState(GTI, UNIT_STATE_MANA) + 0.25*GetUnitState(GTI, UNIT_STATE_MAX_MANA))
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl", GTI, "overhead") )
    endif
endfunction

function TM2 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local integer TYO = GetUnitAbilityLevel(GTI, 'A0IF')
    local trigger t
    if (TYO == 1) then
        set t = CreateTrigger()
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
        call TriggerAddCondition(t, Condition(function TJ2))
        call TriggerAddAction(t, function TK2)
        call SaveUnitHandle(hashTable, GetHandleId(t), 254, GTI)
    endif
    if (TYO == 1) then
        call UnitAddAbility(GTI, 'A0OL')
    elseif (TYO == 2) then
        call UnitAddAbility(GTI, 'A0OM')
    elseif (TYO == 3) then
        call UnitAddAbility(GTI, 'A0ON')
    elseif (TYO == 4) then
        call UnitAddAbility(GTI, 'A0OH')
    endif
endfunction

function ID1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function TY2))
    call TriggerAddAction(t, function TM2)
endfunction

function TN2 takes nothing returns boolean 
    local real d
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B06Y') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A0OI') > 0 and LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2) == GetEventDamageSource() then
        call UnitRemoveAbility(GetTriggerUnit(), 'B06Y')
        set d = 0.01*(5 + GetUnitAbilityLevel(GetEventDamageSource(), 'A0OI'))*(GetUnitState(GetEventDamageSource(), UNIT_STATE_MANA) + 100)
        if (IsUnitType(GetTriggerUnit(), UNIT_TYPE_SUMMONED) == true or IsUnitIllusion(GetTriggerUnit())) and GetUnitTypeId(GetTriggerUnit()) != 'n004' and GetUnitTypeId(GetTriggerUnit()) != 'n018' and GetUnitTypeId(GetTriggerUnit()) != 'n01C' and GetUnitTypeId(GetTriggerUnit()) != 'n01G' and GetUnitTypeId(GetTriggerUnit()) != 'n00U' and GetUnitTypeId(GetTriggerUnit()) != 'n00Y' and GetUnitTypeId(GetTriggerUnit()) != 'n00Z' then
            set d = d + 100*GetUnitAbilityLevel(GetEventDamageSource(), 'A0OI')
        endif
        call ZKI("+" + I2S(R2I(d)), 1, GetTriggerUnit(), 0.023, 191, 64, 255, 216)
        if (GetRandomInt(1, 100) <= GetUnitAbilityLevel(GetEventDamageSource(), 'A0IF')*10) and (LoadBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 264) == false) then
            call SetUnitState(GetEventDamageSource(), UNIT_STATE_MANA, GetUnitState(GetEventDamageSource(), UNIT_STATE_MANA) + 0.25*GetUnitState(GetEventDamageSource(), UNIT_STATE_MAX_MANA))
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl", GetEventDamageSource(), "overhead") )
        endif
        call DisableTrigger(GetTriggeringTrigger())
        call doDamage(GetEventDamageSource(), GetTriggerUnit(), 3, d)
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function TS2 takes nothing returns nothing
    local trigger t
    local unit GDI
    local unit GCI
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        set GDI = GetSpellTargetUnit()
        set GCI = GetTriggerUnit()
    else 
        set GDI = GetTriggerUnit()
        set GCI = GetAttacker()
    endif
    if IsUnitIllusion(GCI) == false then
        set t = CreateTrigger()
        if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
            call SaveBoolean(hashTable, GetHandleId(t), 264, true)
        else 
            call SaveBoolean(hashTable, GetHandleId(t), 264, false)
        endif
        call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function TN2))
    endif
    set t = null
    set GDI = null
    set GCI = null
endfunction

function TT2 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetUnitAbilityLevel(GetAttacker(), 'A0OI') > 0 and LoadBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14) then
            call TS2()
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if (GetIssuedOrderId() == OrderId("poisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263, true)
        elseif (GetIssuedOrderId() == OrderId("unpoisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 263, false)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0OI' then
        call TS2()
    endif
    return false
endfunction

function TR2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function TT2))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, GetTriggerUnit())
    set t = null
endfunction

function TP2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0OI' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0OI') == 1 then
        call TR2()
    endif
    return false
endfunction

function IE1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function TP2))
    set t = null
endfunction

function TQ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer TU2 = LoadInteger(hashTable, DMI, 262)
    call SetHeroInt(GDI, GetHeroInt(GDI, false) + TU2, true)
    call SetHeroInt(GCI, GetHeroInt(GCI, false) - TU2, true)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function R02 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    call SetUnitInvulnerable(GDI, false)
    call PauseUnit(GDI, false)
    call ShowUnit(GDI, true)
    call ClearSelectionForPlayer(GetOwningPlayer(GDI))
    call SelectUnitAddForPlayer(GDI, GetOwningPlayer(GDI))
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function RI2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0OJ')
    local integer TU2 = HCI(GetHeroInt(GDI, false), FVI*2)
    local trigger t
    local integer DMI
    local unit YVI
    if IsUnitEnemy(GDI, GetOwningPlayer(GCI)) == false or (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SelectUnitRemoveForPlayer(GDI, GetOwningPlayer(GDI))
        call SetUnitInvulnerable(GDI, true)
        call PauseUnit(GDI, true)
        call ShowUnit(GDI, false)
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl", GetUnitX(GDI), GetUnitY(GDI)))
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call TriggerRegisterTimerEvent(t, FVI, false)
        call TriggerAddCondition(t, Condition(function R02))
        if IsUnitEnemy(GDI, GetOwningPlayer(GCI)) == true then
            call SetHeroInt(GDI, GetHeroInt(GDI, false) - TU2, true)
            call SetHeroInt(GCI, GetHeroInt(GCI, false) + TU2, true)
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            call SaveUnitHandle(hashTable, DMI, 17, GDI)
            call SaveInteger(hashTable, DMI, 262, TU2)
            call TriggerRegisterTimerEvent(t, 60, false)
            call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
            call TriggerAddCondition(t, Condition(function TQ2))
        else 
            set YVI = CreateUnit(GetOwningPlayer(GCI), 'o019', GetUnitX(GCI), GetUnitY(GCI), 0)
            call UnitApplyTimedLife(YVI, 'BTLF', FVI + 1)
            set YVI = null
        endif
    endif
    set GCI = null
    set GDI = null
    set t = null
endfunction

function R12 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0OJ' then
        call RI2()
    endif
    return false
endfunction

function RO2 takes nothing returns nothing
    if IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) and LoadBoolean(hashTable, GetHandleId(GetOwningPlayer(GetSpellTargetUnit())), 139) and GetSpellTargetUnit() != GetTriggerUnit() then
        call GSI(GetTriggerUnit())
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n038'))
    endif
endfunction

function R22 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0OJ' then
        call RO2()
    endif
    return false
endfunction

function IF1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function R12))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function R22))
    set t = null
endfunction

function R32 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0OK'
endfunction

function R42 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local unit TL2 = GetTriggerUnit()
    local integer R52 = GetHeroInt(TL2, true) - GetHeroInt(GDI, true)
    local integer array R62
    local integer R72 = 7 + 1*GetUnitAbilityLevel(TL2, 'A0OK')
    set R62[1] = 10
    set R62[2] = 30
    set R62[3] = 50
    if (R52 > 0) then
        call UnitDamageTarget(TL2, GDI, R52*R72, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
        call ZKI(I2S(R2I(R52*R72)), 3, GDI, 0.023, 216, 30, 30, 216)
        if (R52 < R62[GetUnitAbilityLevel(TL2, 'A0OK')]) then
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl", GDI, "overhead") )
            call SetUnitState(GDI, UNIT_STATE_MANA, GetUnitState(GDI, UNIT_STATE_MANA)*.25)
        endif
    endif
endfunction

function R82 takes nothing returns boolean 
    if (IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true) then
        if IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) then
            return true
        endif
    endif
    return false
endfunction

function R92 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local integer TYO = GetUnitAbilityLevel(GTI, 'A0OK')
    local real x = GetLocationX(GetSpellTargetLoc())
    local real y = GetLocationY(GetSpellTargetLoc())
    local group MNI = allocGroup()
    local integer YTI = 0
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl", x, y) )
    loop
        exitwhen YTI >= 360
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl", x + (200 + TYO*50)*Cos(YTI*bj_DEGTORAD), y + (200 + TYO*50)*Sin(YTI*bj_DEGTORAD)) )
        set YTI = YTI + 45
    endloop
    call GroupEnumUnitsInRange(MNI, x, y, 300 + TYO*100, Condition(function R82))
    call ForGroup(MNI, function R42)
    call releaseGroup(MNI)
endfunction

function IG1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function R32))
    call TriggerAddAction(t, function R92)
endfunction

function RA2 takes nothing returns nothing
    call doDamage(OAI, GetEnumUnit(), 1, OBI)
endfunction

function RB2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local group g
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    if GetTriggerEvalCount(t) > 150 or GetTriggerEventId() == EVENT_UNIT_DEATH or (GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0QG' and GetSpellTargetUnit() == GDI) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 31) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set DHI = DHI + 1
        call SaveInteger(hashTable, DMI, 34, DHI)
        set g = allocGroup()
        set myUnit = GCI
        set OAI = GCI
        set OBI = 1.5 + 1.5*GetUnitAbilityLevel(GCI, 'A0QG')
        call GroupEnumUnitsInRange(g, GetUnitX(GDI), GetUnitY(GDI), 250, Condition(function filterUnitInjurable))
        call GroupRemoveUnit(g, GDI)
        call ForGroup(g, function RA2)
        call releaseGroup(g)
        set GDI = null
    endif
    set t = null
    set GCI = null
    set g = null
    return false
endfunction

function RC2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local effect fx = AddSpecialEffectTarget("war3mapImported\\NewSoulArmor.mdx", GetSpellTargetUnit(), "chest")
    local integer DMI = GetHandleId(t)
    call playSoundAt(FD, GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()))
    call SaveUnitHandle(hashTable, DMI, 2, GetTriggerUnit())
    call SaveUnitHandle(hashTable, DMI, 17, GetSpellTargetUnit())
    call SaveEffectHandle(hashTable, DMI, 31, fx)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GetSpellTargetUnit(), EVENT_UNIT_DEATH)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RB2))
    set t = null
    set fx = null
endfunction

function RD2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0QG' then
        call RC2()
    endif
    return false
endfunction

function O51 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RD2))
    set t = null
endfunction

function RE2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local integer FVI
    local unit GCI
    local unit GDI
    local real x1
    local real y1
    local real d
    local real a
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set GDI = LoadUnitHandle(hashTable, DMI, 17)
        set d = LoadReal(hashTable, DMI, 138)
        set x = LoadReal(hashTable, DMI, 6)
        set y = LoadReal(hashTable, DMI, 7)
        set a = LoadReal(hashTable, DMI, 137)
        set x1 = GetUnitX(GDI) + d/15*Cos(a)
        set y1 = GetUnitY(GDI) + d/15*Sin(a)
        if IsUnitType(GDI, UNIT_TYPE_HERO) == true then
            call SetUnitPosition(GDI, x1, y1)
        else 
            call SetUnitX(GDI, x1)
            call SetUnitY(GDI, y1)
        endif
        if GetTriggerEvalCount(t) > 15 then
            set GCI = LoadUnitHandle(hashTable, DMI, 2)
            set FVI = LoadInteger(hashTable, DMI, 5)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call doDamage(GCI, GDI, 1, FVI*40)
            set GCI = null
        endif
        set GDI = null
    endif
    set t = null
    return false
endfunction

function RF2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetEnumUnit()
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function RE2))
    call SaveReal(hashTable, DMI, 6, (OCI*1.0))
    call SaveReal(hashTable, DMI, 7, (ODI*1.0))
    call SaveReal(hashTable, DMI, 138, (getDistance(OCI, ODI, GetUnitX(GDI), GetUnitY(GDI))*1.0))
    call SaveReal(hashTable, DMI, 137, (Atan2(ODI - GetUnitY(GDI), OCI - GetUnitX(GDI))*1.0))
    call SaveInteger(hashTable, DMI, 5, OEI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    set t = null
    set GCI = null
    set GDI = null
endfunction

function RG2 takes nothing returns nothing
    local group g = allocGroup()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local integer FVI = GetUnitAbilityLevel(GetTriggerUnit(), 'A0QE')
    local real r = 200 + 100*FVI
    set myUnit = GetTriggerUnit()
    call playSoundAt(XF, x, y)
    call DestroyEffect( AddSpecialEffect("war3mapImported\\Star Aura.mdx", x, y) )
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function XRI))
    set OCI = x
    set ODI = y
    set OEI = FVI
    call ForGroup(g, function RF2)
    call killDestructables(x, y, 200)
    call RemoveLocation(l)
    call releaseGroup(g)
    set l = null
    set g = null
endfunction

function RH2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0QE' then
        call RG2()
    endif
    return false
endfunction

function RZ2 takes nothing returns nothing
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    if V0I(x, y) == false or IsPointInRegion(KN, (x*1.0), (y*1.0)) then
        call GSI(GetTriggerUnit())
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n03K'))
    endif
    call RemoveLocation(l)
    set l = null
endfunction

function RV2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0QE' then
        call RZ2()
    endif
    return false
endfunction

function O41 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RH2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function RV2))
    set t = null
endfunction

function RW2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call UnitRemoveAbility(GDI, 'B07W')
    call UnitRemoveAbility(GDI, 'Bblo')
    call UnitRemoveAbility(GDI, 'B062')
    call UnitRemoveAbility(GDI, 'B065')
    call UnitRemoveAbility(GDI, 'Bcrs')
    call UnitRemoveAbility(GDI, 'B016')
    call UnitRemoveAbility(GDI, 'B05R')
    return false
endfunction

function RX2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, GetUnitAbilityLevel(GetTriggerUnit(), 'A0R7')*1.5 + 1.5, false)
    call TriggerAddCondition(t, Condition(function RW2))
    call SaveUnitHandle(hashTable, GetHandleId(t), 17, GetSpellTargetUnit())
    call playSoundAt(DF, GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()))
    call DestroyEffect( AddSpecialEffectTarget("effects\\Surge.mdx", GetSpellTargetUnit(), "origin") )
endfunction

function RY2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0R7' then
        call RX2()
    endif
    return false
endfunction

function O61 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RY2))
    set t = null
endfunction

function RJ2 takes nothing returns boolean 
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit RK2 = LoadUnitHandle(hashTable, DMI, 259)
    local unit GDI = GetTriggerUnit()
    local unit RL2 = CreateUnit(GetOwningPlayer(RK2), 'e01S', GetUnitX(GDI), GetUnitY(GDI), 0)
    set OFI = GetUnitX(GDI)
    set OGI = GetUnitY(GDI)
    set OHI = GDI
    call IssueTargetOrderById(RK2, 852274, GDI)
    call doDamage(RK2, GDI, 1, 150)
    call UnitApplyTimedLife(RL2, 'BTLF', 0.5)
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl", GetUnitX(GDI), GetUnitY(GDI)) )
    set RK2 = null
    set GDI = null
    return false
endfunction

function RM2 takes nothing returns boolean 
    local group g
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer( LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 259) )) and (GetUnitTypeId(GetFilterUnit()) == 'H00J') == false then
        set g = LoadGroupHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 257)
        if IsUnitInGroup(GetFilterUnit(), g) == false then
            call GroupAddUnit(g, GetFilterUnit())
            call RJ2()
        endif
    endif
    set g = null
    return false
endfunction

function WallOfReplica_FindSource takes nothing returns nothing
    if GetPlayerId(GetOwningPlayer(GetEnumUnit())) == QJ then
        call GroupAddUnit(WK, GetEnumUnit())
    endif
endfunction

function RN2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call GroupRemoveUnit(LoadGroupHandle(hashTable, DMI, 257), LoadUnitHandle(hashTable, DMI, 261))
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())) )
    call FlushChildHashtable(hashTable, DMI)
    call DisableTrigger(t)
    set t = null
    return false
endfunction

function RS2 takes nothing returns boolean 
    local unit RK2 = GetSummoningUnit()
    local unit G32 = GetSummonedUnit()
    local integer DMI = GetHandleId(RK2)
    local integer RT2 = LoadInteger(hashTable, DMI, 260)
    local trigger t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, G32, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function RN2))
    call SaveGroupHandle(hashTable, GetHandleId(t), 257, LoadGroupHandle(hashTable, DMI, 257))
    call SaveUnitHandle(hashTable, GetHandleId(t), 261, OHI)
    set RT2 = RT2 + 1
    call SaveInteger(hashTable, DMI, 260, RT2)
    call SaveInteger(hashTable, DMI, (2800 + RT2), DBI(G32))
    call SaveTriggerHandle(hashTable, DMI, (2900 + RT2), t)
    call SetUnitX(G32, OFI)
    call SetUnitY(G32, OGI)
    set RK2 = null
    set G32 = null
    return false
endfunction

function RR2 takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction

function RP2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer Q8O = GetHandleId(t)
    local trigger RQ2 = LoadTriggerHandle(hashTable, Q8O, 255)
    local integer KI1 = GetHandleId(RQ2)
    local trigger RU2 = LoadTriggerHandle(hashTable, KI1, 256)
    local group P02 = LoadGroupHandle(hashTable, KI1, 257)
    local group PI2 = LoadGroupHandle(hashTable, KI1, 258)
    local unit RK2 = LoadUnitHandle(hashTable, KI1, 259)
    local integer P12 = GetHandleId(RK2)
    local integer RT2 = LoadInteger(hashTable, P12, 260)
    local integer PO2
    local integer i
    local unit u
    call ForGroup(PI2, function RR2)
    set i = 1
    loop
        exitwhen i > RT2
        set PO2 = LoadInteger(hashTable, P12, (2800 + i))
        set u = D9I(PO2)
        call FlushChildHashtable(hashTable, GetHandleId( LoadTriggerHandle(hashTable, P12, (2900 + i)) ))
        call abandonTrigger( LoadTriggerHandle(hashTable, P12, (2900 + i)) )
        if IsUnitIllusion(u) then
            call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl", GetUnitX(u), GetUnitY(u)) )
            call RemoveUnit(u)
            call D8I(PO2)
        endif
        set i = i + 1
    endloop
    call FlushChildHashtable(hashTable, Q8O)
    call FlushChildHashtable(hashTable, KI1)
    call FlushChildHashtable(hashTable, P12)
    call RemoveUnit(RK2)
    call releaseGroup(P02)
    call releaseGroup(PI2)
    call abandonTrigger(RQ2)
    call abandonTrigger(RU2)
    call abandonTrigger(t)
    set t = null
    set RQ2 = null
    set RU2 = null
    set P02 = null
    set PI2 = null
    set RK2 = null
    set u = null
    return false
endfunction

function P22 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real P32 = GetUnitFacing(E1I) - 45
    local unit RK2 = CreateUnit(GetOwningPlayer(E1I), 'h00O', x, y, P32)
    local unit u
    local real NDO
    local real NEO
    local integer i
    local real YTI
    local trigger t = CreateTrigger()
    local group g1 = allocGroup()
    local integer DMI = GetHandleId(t)
    local group g2 = allocGroup()
    local trigger RQ2 = t
    call playSoundAt(YF, x, y)
    call SaveGroupHandle(hashTable, DMI, 257, g1)
    call SaveGroupHandle(hashTable, GetHandleId(RK2), 257, g1)
    call SaveGroupHandle(hashTable, DMI, 258, g2)
    call SaveUnitHandle(hashTable, DMI, 259, RK2)
    call SaveInteger(hashTable, GetHandleId(RK2), 260, 0)
    set i = 0
    loop
        exitwhen i > 39
        set NDO = x + (500 - 25*i)*Cos((P32 - 45)*bj_DEGTORAD)
        set NEO = y + (500 - 25*i)*Sin((P32 - 45)*bj_DEGTORAD)
        set u = CreateUnit(GetOwningPlayer(E1I), 'h00P', NDO, NEO, P32)
        call GroupAddUnit(g2, u)
        call TriggerRegisterUnitInRange(t, u, 17, Condition(function returnTrue1))
        set i = i + 1
    endloop
    call TriggerAddCondition(t, Condition(function RM2))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, RK2, EVENT_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function RS2))
    call SaveTriggerHandle(hashTable, DMI, 256, t)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15*GetUnitAbilityLevel(E1I, 'A0QK'), false)
    call TriggerAddCondition(t, Condition(function RP2))
    call SaveTriggerHandle(hashTable, GetHandleId(t), 255, RQ2)
    call RemoveLocation(l)
    set E1I = null
    set l = null
    set u = null
    set t = null
    set RQ2 = null
    set g1 = null
    set g2 = null
    set RK2 = null
endfunction

function P42 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0QK' then
        call P22()
    endif
    return false
endfunction

function O71 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P42))
    set t = null
endfunction

function P52 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer P62 = LoadInteger(hashTable, DMI, 29)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if LoadBoolean(hashTable, DMI, 276) == false and GetTriggerUnit() == LoadUnitHandle(hashTable, DMI, 2) then
            call SaveBoolean(hashTable, DMI, 276, true)
            call SetHeroStr(LoadUnitHandle(hashTable, DMI, 2), GetHeroStr(LoadUnitHandle(hashTable, DMI, 2), false) - P62, true)
        elseif LoadBoolean(hashTable, DMI, 277) == false and GetTriggerUnit() == LoadUnitHandle(hashTable, DMI, 17) then
            call SaveBoolean(hashTable, DMI, 277, true)
            call SetHeroStr(LoadUnitHandle(hashTable, DMI, 17), GetHeroStr(LoadUnitHandle(hashTable, DMI, 17), false) + P62, true)
        endif
    else 
        if LoadBoolean(hashTable, DMI, 276) == false then
            call SaveBoolean(hashTable, DMI, 276, true)
            call SetHeroStr(LoadUnitHandle(hashTable, DMI, 2), GetHeroStr(LoadUnitHandle(hashTable, DMI, 2), false) - P62, true)
        endif
        if LoadBoolean(hashTable, DMI, 277) == false then
            call SaveBoolean(hashTable, DMI, 277, true)
            call SetHeroStr(LoadUnitHandle(hashTable, DMI, 17), GetHeroStr(LoadUnitHandle(hashTable, DMI, 17), false) + P62, true)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    return false
endfunction

function P72 takes nothing returns nothing
    local unit GCI = OZI
    local unit GDI = GetEnumUnit()
    local integer P62
    local integer FVI = OVI
    local trigger t
    local integer DMI
    if IsUnitType(GDI, UNIT_TYPE_HERO) == true and GetUnitTypeId(GDI) != 'H00J' then
        set P62 = IMinBJ(GetHeroStr(GDI, false) - 1, 4)
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SetHeroStr(GCI, GetHeroStr(GCI, false) + P62, true)
        call SetHeroStr(GDI, GetHeroStr(GDI, false) - P62, true)
        call TriggerRegisterTimerEvent(t, 18 + 3*FVI, false)
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function P52))
        call SaveBoolean(hashTable, DMI, 276, false)
        call SaveBoolean(hashTable, DMI, 277, false)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveInteger(hashTable, DMI, 29, P62)
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", GCI, "origin") )
    endif
    call doDamage(GCI, GDI, 1, 30*FVI)
    set GCI = null
    set GDI = null
    set t = null
endfunction

function P82 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local group g = allocGroup()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A15S')
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'h07J', x, y, 0)
    call DestroyEffect( AddSpecialEffect("effects\\DecayGreen_Groundonly_1.mdx", x, y) )
    call RemoveLocation(l)
    set myUnit = GCI
    set OZI = GCI
    set OVI = FVI
    call GroupEnumUnitsInRange(g, x, y, 325, Condition(function XRI))
    call ForGroup(g, function P72)
    call releaseGroup(g)
    call KillUnit(YVI)
    set GCI = null
    set l = null
    set g = null
    set t = null
    set YVI = null
endfunction

function P92 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A15S' then
        call P82()
    endif
    return false
endfunction

function OG1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function P92))
    set t = null
endfunction

function PA2 takes nothing returns nothing
    if OJI <= OKI then
        set OJI = OJI + 1
        call GroupAddUnit(OWI, GetEnumUnit())
    endif
endfunction

function PB2 takes unit GCI, unit GDI returns nothing
    call ZHI("SPLK", GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI), 0.1, 0.6, 0.44, .9, 0.6)
endfunction

function PC2 takes nothing returns nothing
    call SetUnitState(OYI, UNIT_STATE_LIFE, GetUnitState(OYI, UNIT_STATE_LIFE) + 25)
    if GetUnitTypeId(GetEnumUnit()) != 'n0F5' then
        call WPI(GetEnumUnit(), 25)
    endif
    call PB2(GetEnumUnit(), OYI)
endfunction

function PD2 takes nothing returns nothing
    call doDamage(OXI, OYI, 1, 25)
    if GetUnitTypeId(GetEnumUnit()) != 'n0F5' then
        call WPI(GetEnumUnit(), 25)
    endif
    call PB2(GetEnumUnit(), OYI)
endfunction

function PE2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local group g = allocGroup()
    local integer PF2 = GetUnitAbilityLevel(E1I, 'A0R5')*5
    set OWI = allocGroup()
    set OJI = 0
    set OKI = PF2
    set myUnit = E1I
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 1000, Condition(function YCI))
    call GroupRemoveUnit(g, E1I)
    call GroupRemoveUnit(g, GetSpellTargetUnit())
    call ForGroup(g, function PA2)
    call releaseGroup(g)
    set g = OWI
    set OYI = GetSpellTargetUnit()
    set OXI = E1I
    if IsUnitAlly(OYI, GetOwningPlayer(E1I)) then
        call ForGroup(g, function PC2)
    else 
        call ForGroup(g, function PD2)
    endif
    call releaseGroup(g)
    set E1I = null
    set g = null
endfunction

function PG2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0R5' and (IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_STRUCTURE) == false or GetOwningPlayer(GetSpellTargetUnit()) == GetOwningPlayer(GetTriggerUnit())) then
        call PE2()
    endif
    return false
endfunction

function OZ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PG2))
    set t = null
endfunction

function PH2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit PZ2 = LoadUnitHandle(hashTable, DMI, 269)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if GetTriggerUnit() == GDI then
            call KillUnit(PZ2)
        endif
    elseif gameEnded == true then
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call PauseUnit(PZ2, true)
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER then
        call DisableTrigger(t)
        call IssueTargetOrder(PZ2, "attack", GDI)
        call EnableTrigger(t)
    elseif GetUnitState(GDI, UNIT_STATE_LIFE) < (100*OMI) and GetUnitAbilityLevel(PZ2, 'B0AN') == 0 then
        call IssueTargetOrder(ONI[GetPlayerId(GetOwningPlayer(PZ2))], "bloodlust", PZ2)
    elseif IsUnitVisible(GDI, GetOwningPlayer(PZ2)) == false then
        if LoadBoolean(hashTable, DMI, 270) == true then
            if LoadBoolean(hashTable, DMI, 271) == true then
                if LoadBoolean(hashTable, DMI, 272) == true then
                    call FlushChildHashtable(hashTable, DMI)
                    call abandonTrigger(t)
                    call KillUnit(PZ2)
                else 
                    call SaveBoolean(hashTable, DMI, 272, true)
                endif
            else 
                call SaveBoolean(hashTable, DMI, 271, true)
            endif
        else 
            call SaveBoolean(hashTable, DMI, 270, true)
        endif
    else 
        call SaveBoolean(hashTable, DMI, 270, false)
        call SaveBoolean(hashTable, DMI, 271, false)
        call SaveBoolean(hashTable, DMI, 272, false)
    endif
    set t = null
    set GDI = null
    set PZ2 = null
    return false
endfunction

function PV2 takes nothing returns boolean 
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = GetEnumUnit()
    local unit PZ2 = CreateUnit(OLI, 'n0F5', GetUnitX(GDI), GetUnitY(GDI), 0)
    call IssueTargetOrder(PZ2, "attack", GDI)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, PZ2, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, PZ2, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, PZ2, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, PZ2, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function PH2))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 269, PZ2)
    call SaveInteger(hashTable, DMI, 5, OMI)
    set t = null
    set GDI = null
    set PZ2 = null
    return false
endfunction

function PW2 takes nothing returns boolean 
    if GetUnitTypeId(GetFilterUnit()) == 'n0F5' and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1 then
        call KillUnit(GetFilterUnit())
    endif
    return false
endfunction

function PX2 takes player p returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, p, Condition(function PW2))
    call releaseGroup(g)
    set g = null
endfunction

function PY2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit PJ2 = LoadUnitHandle(hashTable, DMI, 266)
    local unit PK2 = LoadUnitHandle(hashTable, DMI, 267)
    local unit PL2 = LoadUnitHandle(hashTable, DMI, 268)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local group g
    local player FQO
    if isPlayerSentinel(GetOwningPlayer(GCI)) then
        set FQO = scourgePlayers[0]
    else 
        set FQO = sentinelPlayers[0]
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if LoadBoolean(hashTable, DMI, 265) then
            call V3I(FQO, .4, GetUnitX(GCI), GetUnitY(GCI), 600)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call ShowUnit(GCI, false)
        call RemoveUnit(PJ2)
        call RemoveUnit(PK2)
        call RemoveUnit(PL2)
        call PX2(GetOwningPlayer(GCI))
    else 
        if IsUnitVisible(GCI, FQO) then
            call SaveBoolean(hashTable, DMI, 265, true)
        endif
        set g = allocGroup()
        set myUnit = GCI
        set OLI = GetOwningPlayer(GCI)
        set OMI = FVI
        call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 25 + 200 + 200*FVI, Condition(function XNI))
        if gameEnded == false then
            call ForGroup(g, function PV2)
        endif
        call releaseGroup(g)
        set g = null
    endif
    set t = null
    set GCI = null
    set PJ2 = null
    set PK2 = null
    set PL2 = null
    return false
endfunction

function PM2 takes nothing returns nothing
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local unit GCI
    local real NDO
    local real NEO
    local real PN2
    local unit PJ2
    local unit PK2
    local unit PL2
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GetTriggerUnit(), 'A15V')
    local integer id
    if FVI == 1 then
        set GCI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n0FJ', x, y, 0)
    elseif FVI == 2 then
        set GCI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n0FI', x, y, 0)
    elseif FVI == 3 then
        set GCI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n0F6', x, y, 0)
    else 
        set GCI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'n0FH', x, y, 0)
    endif
    set id = GetPlayerId(GetOwningPlayer(GCI))
    if ONI[id] == null then
        set ONI[id] = CreateUnit(GetOwningPlayer(GCI), 'e01V', x, y, 0)
        call UnitAddAbility(ONI[id], 'A176')
    endif
    call SetUnitPosition(GCI, constrainX(x), constrainY(y))
    call UnitApplyTimedLife(GCI, 'BTLF', 10 + 5*FVI)
    call RemoveLocation(l)
    call killDestructables(x, y, 300)
    set NDO = x + 200*Cos(0*bj_DEGTORAD)
    set NEO = y + 200*Sin(0*bj_DEGTORAD)
    set PN2 = getAngle(NDO, NEO, x, y)
    set PJ2 = CreateUnit(GetOwningPlayer(GCI), 'h07H', NDO, NEO, PN2)
    call SetUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    call QueueUnitAnimation(PJ2, "Stand Work Gold")
    set NDO = x + 200*Cos(120*bj_DEGTORAD)
    set NEO = y + 200*Sin(120*bj_DEGTORAD)
    set PN2 = getAngle(NDO, NEO, x, y)
    set PK2 = CreateUnit(GetOwningPlayer(GCI), 'h07H', NDO, NEO, PN2)
    call SetUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    call QueueUnitAnimation(PK2, "Stand Work Gold")
    set NDO = x + 200*Cos(240*bj_DEGTORAD)
    set NEO = y + 200*Sin(240*bj_DEGTORAD)
    set PN2 = getAngle(NDO, NEO, x, y)
    set PL2 = CreateUnit(GetOwningPlayer(GCI), 'h07H', NDO, NEO, PN2)
    call SetUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call QueueUnitAnimation(PL2, "Stand Work Gold")
    call SetUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call QueueUnitAnimation(GCI, "Stand Work")
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 3, true)
    call TriggerAddCondition(t, Condition(function PY2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 266, PJ2)
    call SaveUnitHandle(hashTable, DMI, 267, PK2)
    call SaveUnitHandle(hashTable, DMI, 268, PL2)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveBoolean(hashTable, DMI, 265, false)
    call TriggerEvaluate(t)
    set GCI = null
    set PJ2 = null
    set PK2 = null
    set PL2 = null
    set l = null
endfunction

function PS2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A15V' then
        call PM2()
    endif
    return false
endfunction

function OH1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function PS2))
    set t = null
endfunction

function PT2 takes unit E4I returns boolean 
    if getSpecificItem(E4I, itemId[XL0]) != null then
        return true
    endif
    return false
endfunction

function FleshGolem_ValidCorpse takes nothing returns boolean 
    if GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == true then
        set OSI = OSI + 1
    endif
    return false
endfunction

function PR2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A15J')
    call SetUnitAbilityLevel(GCI, 'A15K', FVI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function PP2 takes nothing returns nothing
    if IsUnitType(myUnit, UNIT_TYPE_HERO) == true then
        if PT2(GK) then
            call SetUnitState(GK, UNIT_STATE_LIFE, GetUnitState(GK, UNIT_STATE_LIFE) + GetUnitState(GK, UNIT_STATE_MAX_LIFE)*0.10)
        else 
            call SetUnitState(GK, UNIT_STATE_LIFE, GetUnitState(GK, UNIT_STATE_LIFE) + GetUnitState(GK, UNIT_STATE_MAX_LIFE)*0.06)
        endif
    else 
        if PT2(GK) then
            call SetUnitState(GK, UNIT_STATE_LIFE, GetUnitState(GK, UNIT_STATE_LIFE) + GetUnitState(GK, UNIT_STATE_MAX_LIFE)*0.03)
        else 
            call SetUnitState(GK, UNIT_STATE_LIFE, GetUnitState(GK, UNIT_STATE_LIFE) + GetUnitState(GK, UNIT_STATE_MAX_LIFE)*0.02)
        endif
    endif
endfunction

function PQ2 takes nothing returns boolean 
    local trigger t2 = GetTriggeringTrigger()
    local integer KI1 = GetHandleId(t2)
    local trigger t1 = LoadTriggerHandle(hashTable, KI1, 274)
    local integer Q8O = GetHandleId(t1)
    local unit GCI = LoadUnitHandle(hashTable, KI1, 2)
    local unit GDI
    local real d
    local real a
    local boolean PU2 = LoadBoolean(hashTable, KI1, 273)
    if (GetTriggerEventId() == EVENT_UNIT_DEATH and GetTriggerUnit() == GCI) or (GetTriggerEventId() != EVENT_UNIT_DAMAGED and GetTriggerEventId() != EVENT_UNIT_DEATH) then
        call FlushChildHashtable(hashTable, Q8O)
        call FlushChildHashtable(hashTable, KI1)
        call abandonTrigger(t1)
        call abandonTrigger(t2)
    elseif GetTriggerEventId() == EVENT_UNIT_DEATH then
        if IsUnitIllusion(GetDyingUnit()) == false then
            call VZI(GetDyingUnit(), GCI, 'h07Y', "PP2", 600)
        endif
    elseif PU2 == false then
        set GDI = GetTriggerUnit()
        set d = getUnitDistance(GCI, GDI)
        if d < 775 and GetEventDamage() > 4 then
            if PT2(GCI) then
                set a = 20 + 5*OTI
            else 
                set a = 15 + 5*OTI
            endif
            if d > 200 then
                set a = a - 15*((d - 150)/(775 - 150))
            endif
            call SaveBoolean(hashTable, KI1, 273, true)
            call doDamage(GetEventDamageSource(), GetTriggerUnit(), 3, GetEventDamage()*a/100)
            call SaveBoolean(hashTable, KI1, 273, false)
        endif
    endif
    set t2 = null
    set t1 = null
    set GCI = null
    set GDI = null
    return false
endfunction

function Q02 takes nothing returns boolean 
    local trigger t1 = GetTriggeringTrigger()
    local integer Q8O = GetHandleId(t1)
    local trigger t2 = LoadTriggerHandle(hashTable, Q8O, 275)
    local integer KI1 = GetHandleId(t2)
    local unit GDI = GetTriggerUnit()
    local unit GCI = LoadUnitHandle(hashTable, Q8O, 2)
    if IsUnitEnemy(GCI, GetOwningPlayer(GDI)) == true and IsUnitType(GDI, UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GDI, 'A04R') == 0 then
        if LoadBoolean(hashTable, KI1, GetHandleId(GDI)) == false then
            call TriggerRegisterUnitEvent(t2, GDI, EVENT_UNIT_DAMAGED)
            call TriggerRegisterUnitEvent(t2, GDI, EVENT_UNIT_DEATH)
            call SaveBoolean(hashTable, KI1, GetHandleId(GDI), true)
        endif
    endif
    set t1 = null
    set t2 = null
    set GDI = null
    set GCI = null
    return false
endfunction

function QI2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t1 = CreateTrigger()
    local integer Q8O = GetHandleId(t1)
    local trigger t2 = CreateTrigger()
    local integer KI1 = GetHandleId(t2)
    local trigger t3 = CreateTrigger()
    local integer P12 = GetHandleId(t3)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A15J')
    set OTI = FVI
    call TriggerRegisterUnitInRange(t1, GCI, 750, Condition(function returnTrue1))
    call TriggerAddCondition(t1, Condition(function Q02))
    call SaveTriggerHandle(hashTable, Q8O, 275, t2)
    call SaveUnitHandle(hashTable, Q8O, 2, GCI)
    call TriggerRegisterTimerEvent(t2, 30, false)
    call TriggerRegisterUnitEvent(t2, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t2, Condition(function PQ2))
    call SaveTriggerHandle(hashTable, KI1, 274, t1)
    call SaveUnitHandle(hashTable, KI1, 2, GCI)
    call SaveBoolean(hashTable, KI1, 273, false)
    call TriggerRegisterTimerEvent(t3, 0.01, false)
    call TriggerAddCondition(t3, Condition(function PR2))
    call SaveUnitHandle(hashTable, P12, 2, GCI)
    set GCI = null
    set t1 = null
    set t2 = null
    set t3 = null
endfunction

function Q12 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A15J' and GetUnitTypeId(GetTriggerUnit()) == 'H00R' then
        call QI2()
    endif
    return false
endfunction

function OV1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Q12))
    call preloadAblility('A15K')
    set t = null
endfunction

function QO2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x2 = LoadReal(hashTable, DMI, 66)
    local real y2 = LoadReal(hashTable, DMI, 67)
    local real a = LoadReal(hashTable, DMI, 137)
    local integer DHI = GetTriggerEvalCount(t)
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local unit YVI
    if getDistance(x, y, x2, y2) <= ORI then
        set x = x2
        set y = y2
    else 
        set x = x + 65*Cos(a*bj_DEGTORAD)
        set y = y + 65*Sin(a*bj_DEGTORAD)
    endif
    call SetUnitPosition(E1I, x, y)
    if (x == x2 and y == y2) or DHI > 40 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', x, y, 0)
        call UnitAddAbility(YVI, 'A0LA')
        call SetUnitAbilityLevel(YVI, 'A0LA', GetUnitAbilityLevel(E1I, 'A0LK'))
        call IssueImmediateOrder(YVI, "thunderclap")
        call SetUnitAnimation(E1I, "stand")
        call SetUnitPathing(E1I, true)
        call SetUnitInvulnerable(E1I, false)
        call SetUnitVertexColor(E1I, 0, 255, 150, 255)
        call SaveInteger(hashTable, GetHandleId(E1I), 4261, 2)
    endif
    set t = null
    set E1I = null
    set YVI = null
    return false
endfunction

function Q22 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real x1 = GetUnitX(E1I)
    local real y1 = GetUnitY(E1I)
    local real x2
    local real y2
    local real a
    if GetSpellTargetUnit() == null then
        set l = GetSpellTargetLoc()
    else 
        set l = GetUnitLoc(GetSpellTargetUnit())
    endif
    set x2 = GetLocationX(l)
    set y2 = GetLocationY(l)
    set a = getAngle(x1, y1, x2, y2)
    call RemoveLocation(l)
    call SetUnitAnimationByIndex(E1I, 0)
    call SetUnitPathing(E1I, false)
    call SetUnitInvulnerable(E1I, true)
    call SetUnitVertexColor(E1I, 0, 0, 0, 255)
    call SaveInteger(hashTable, GetHandleId(E1I), 4261, 1)
    call SaveReal(hashTable, DMI, 66, (x2*1.0))
    call SaveReal(hashTable, DMI, 67, (y2*1.0))
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function QO2))
    set E1I = null
    set l = null
    set t = null
endfunction

function Q32 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0LK' then
        call Q22()
    endif
    return false
endfunction

function Q8I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Q32))
    set t = null
endfunction

function Q42 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0CZ' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function Q52 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local real GFI = GetEventDamage()
    if (GFI > 0) and GetUnitState(GTI, UNIT_STATE_LIFE) > 1 then
        if (GetRandomInt(1, 100) <= (5 + (5*GetUnitAbilityLevel(GTI, 'A0CZ')))) then
            call SetUnitState(GTI, UNIT_STATE_LIFE, GetUnitState(GTI, UNIT_STATE_LIFE) + GFI)
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl", GTI, "hand,left") )
        endif
    endif
endfunction

function Q62 takes nothing returns nothing
    local trigger t
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0CZ') == 1 then
        set t = CreateTrigger()
        call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
        call TriggerAddAction(t, function Q52)
    endif
endfunction

function QAI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function Q42))
    call TriggerAddAction(t, function Q62)
endfunction

constant function Chronosphere_RawCode takes nothing returns integer 
    return 'A0J1'
endfunction

constant function Chronosphere_SphereCode takes nothing returns integer 
    return 'u00L'
endfunction

function Q72 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0J1' or GetSpellAbilityId() == 'A1D7'
endfunction

function Q82 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit Q92 = LoadUnitHandle(hashTable, DMI, 19)
    call PauseTimer(t)
    call FlushChildHashtable(hashTable, DMI)
    call DestroyTimer(t)
endfunction

function QA2 takes unit E4I returns boolean 
    local integer ID = GetUnitTypeId(E4I)
    return ID == 'osp4' or ID == 'o008' or ID == 'o009' or ID == 'ebal' or ID == 'e026' or ID == 'umtw' or ID == 'u00R'
endfunction

function QB2 takes nothing returns boolean 
    return GetOwningPlayer(GetFilterUnit()) != GetOwningPlayer(YO) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 or QA2(GetFilterUnit()))
endfunction

function QC2 takes nothing returns nothing
    call PauseUnit(GetEnumUnit(), true)
    call SetUnitTimeScale(GetEnumUnit(), 0)
    call UnitRemoveAbility(GetEnumUnit(), 'BUsl')
    call UnitRemoveAbility(GetEnumUnit(), 'BUsp')
    call UnitRemoveAbility(GetEnumUnit(), 'BUst')
endfunction

function QD2 takes nothing returns nothing
    call PauseUnit(GetEnumUnit(), false)
    call SetUnitTimeScale(GetEnumUnit(), 1)
endfunction

function QE2 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit Q92 = LoadUnitHandle(hashTable, DMI, 19)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local group QF2 = LoadGroupHandle(hashTable, DMI, 220)
    local integer MXO = LoadInteger(hashTable, DMI, 28)
    local real HMI = GetUnitX(Q92)
    local real HNI = GetUnitY(Q92)
    local boolexpr BH1 = Condition(function QB2)
    local group O12 = allocGroup()
    call ForGroup(QF2, function QD2)
    set YO = E1I
    call GroupEnumUnitsInRange(O12, HMI, HNI, 425, BH1)
    call GroupClear(QF2)
    call GroupAddGroup(O12, QF2)
    call ForGroup(O12, function QC2)
    call releaseGroup(O12)
    set MXO = MXO + 1
    call SaveInteger(hashTable, DMI, 28, MXO)
    if MXO > 20 + FVI*10 then
        if gameEnded == false then
            call ForGroup(QF2, function QD2)
        endif
        call RemoveUnit(Q92)
        call releaseGroup(QF2)
        call PauseTimer(t)
        call FlushChildHashtable(hashTable, DMI)
        call DestroyTimer(t)
    endif
endfunction

function QG2 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0J1')
    local location GDI = GetSpellTargetLoc()
    local real HMI = GetLocationX(GDI)
    local real HNI = GetLocationY(GDI)
    local unit Q92 = CreateUnit(GetOwningPlayer(E1I), 'u00L', HMI, HNI, 0)
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    local group QF2 = allocGroup()
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A1D7') + 1
    endif
    call SetUnitVertexColor(Q92, 255, 255, 120, 160)
    call SaveUnitHandle(hashTable, GetHandleId(t), 19, Q92)
    call TimerStart(t, 0.8, false, function Q82)
    set t = CreateTimer()
    set DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 19, Q92)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveGroupHandle(hashTable, DMI, 220, QF2)
    call SaveInteger(hashTable, DMI, 28, 0)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call TimerStart(t, 0.1, true, function QE2)
    call RemoveLocation(GDI)
endfunction

function QBI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Q72))
    call TriggerAddAction(t, function QG2)
endfunction

function QH2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetUnitAbilityLevel(GCI, 'B0C2') == 0 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call SetUnitTimeScale(GCI, 1)
        call SaveInteger(hashTable, GetHandleId(GCI), 4280, 2)
    else 
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl", GCI, "origin") )
    endif
    set t = null
    set GCI = null
    return false
endfunction

function QZ2 takes unit GCI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SetUnitTimeScale(GCI, 0)
    call SaveInteger(hashTable, GetHandleId(GCI), 4280, 1)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function QH2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set t = null
endfunction

function QV2 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetFilterUnit(), 'B0C2') > 0 and (LoadInteger(hashTable, GetHandleId(GetFilterUnit()), 4280) == 1) == false then
        call QZ2(GetFilterUnit())
    endif
    return false
endfunction

function QW2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local group g = allocGroup()
    set OPI = GCI
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 450, Condition(function QV2))
    call releaseGroup(g)
    set t = null
    set GCI = null
    set g = null
    return false
endfunction

function QX2 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerAddCondition(t, Condition(function QW2))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set t = null
    set GCI = null
endfunction

function QY2 takes nothing returns boolean 
    if GetLearnedSkill() == 'A081' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A081') == 1 then
        call QX2()
    endif
    return false
endfunction

function Q9I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function QY2))
    set t = null
endfunction

function QJ2 takes nothing returns nothing
    local real QK2 = HGI(rMin(GetUnitState(GetEnumUnit(), UNIT_STATE_MANA), AII), 0)
    local real QL2 = QK2*0.5
    if GOI(GetEnumUnit()) == false and QK2 > 0 then
        if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > QL2 then
            call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) - QL2)
        else 
            call SetUnitState(GetEnumUnit(), UNIT_STATE_LIFE, 1)
            call doDamage(A1I, GetEnumUnit(), 1, QL2)
        endif
        call SetUnitState(GetEnumUnit(), UNIT_STATE_MANA, GetUnitState(GetEnumUnit(), UNIT_STATE_MANA) - QK2)
    endif
endfunction

function QM2 takes unit GCI, integer QN2, integer QS2 returns nothing
    local group g = allocGroup()
    set A1I = GCI
    set myUnit = GCI
    set AII = QN2*50 + 50
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 700, Condition(function filterUnitInjurable))
    call ForGroup(g, function QJ2)
    call releaseGroup(g)
    set g = null
endfunction

function QT2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = GetTriggerEvalCount(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit QR2
    local real QP2 = A0I - 0.28*LoadInteger(hashTable, DMI, 3000)
    local real QQ2 = OQI + (OUI - OQI)*DHI/(QP2/0.05)
    call SetUnitScale(YVI, QQ2, QQ2, QQ2)
    if DHI > (QP2/0.05) then
        call QM2(YVI, LoadInteger(hashTable, DMI, 3000), LoadInteger(hashTable, DMI, 3002))
        set QR2 = CreateUnit(GetOwningPlayer(YVI), 'e01O', GetUnitX(YVI), GetUnitY(YVI), 0)
        call SetUnitTimeScale(QR2, 0.3)
        call RemoveUnit(YVI)
        call KillUnit(QR2)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set YVI = null
    set QR2 = null
    return false
endfunction

function QU2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local location l = GetSpellTargetLoc()
    local unit GCI = GetTriggerUnit()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e01M', x, y, a*bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function QT2))
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveInteger(hashTable, DMI, 3000, GetUnitAbilityLevel(GCI, 'A0VA'))
    call SaveInteger(hashTable, DMI, 3001, GetUnitAbilityLevel(GCI, 'A0VB'))
    call SaveInteger(hashTable, DMI, 3002, GetUnitAbilityLevel(GCI, 'A0V9'))
    call RemoveLocation(l)
    set t = null
    set l = null
    set GCI = null
endfunction

function UI2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VS' then
        call QU2()
    endif
    return false
endfunction

function U12 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UI2))
    set t = null
endfunction

function UO2 takes unit GCI, unit GDI, integer QN2, integer U22 returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    local unit U32 = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    local real U42 = 0.5 + 0.3*U22
    if U22 == 7 then
        set U42 = 2.5
    endif
    call UnitAddAbility(YVI, 'A0XK')
    call SetUnitAbilityLevel(YVI, 'A0XK', U22)
    call IssueTargetOrder(YVI, "cyclone", GDI)
    call GZI(U32, GDI, 1, 77.5 + (QN2 + U22)*23.0, U42)
    set YVI = null
    set U32 = null
endfunction

function U52 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), WK) == false then
        call GroupAddUnit(WK, GetEnumUnit())
        call UO2(myUnit, GetEnumUnit(), QJ, UJ)
    endif
endfunction

function U62 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local real x2 = LoadReal(hashTable, DMI, 66)
    local real y2 = LoadReal(hashTable, DMI, 67)
    local real a = LoadReal(hashTable, DMI, 137)
    local integer QN2 = LoadInteger(hashTable, DMI, 3000)
    local integer U22 = LoadInteger(hashTable, DMI, 3001)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    local real x = GetUnitX(YVI) + 25*Cos(a)
    local real y = GetUnitY(YVI) + 25*Sin(a)
    local group U72 = allocGroup()
    local real HJI = getDistance(x, y, x2, y2)
    if HJI <= 30 then
        set x = x2
        set y = y2
    endif
    call SetUnitX(YVI, constrainX(x))
    call SetUnitY(YVI, constrainX(y))
    set myUnit = YVI
    set WK = g
    set QJ = QN2
    set UJ = U22
    call GroupEnumUnitsInRange(U72, x, y, 200, Condition(function filterUnitInjurable))
    call ForGroup(U72, function U52)
    call releaseGroup(U72)
    if HJI <= 30 or GetTriggerEvalCount(t) > 125 then
        call releaseGroup(g)
        call KillUnit(YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set YVI = null
    set g = null
    set U72 = null
    return false
endfunction

function U82 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local location l = GetSpellTargetLoc()
    local unit GCI = GetTriggerUnit()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    local unit YVI
    set x = GetUnitX(GCI)
    set y = GetUnitY(GCI)
    set YVI = CreateUnit(GetOwningPlayer(GCI), 'n01U', x, y, a*bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function U62))
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveReal(hashTable, DMI, 66, ((x + (400 + 400.0*GetUnitAbilityLevel(GCI, 'A0VA'))*Cos(a))*1.0))
    call SaveReal(hashTable, DMI, 67, ((y + (400 + 400.0*GetUnitAbilityLevel(GCI, 'A0VA'))*Sin(a))*1.0))
    call SaveInteger(hashTable, DMI, 3000, GetUnitAbilityLevel(GCI, 'A0VA'))
    call SaveInteger(hashTable, DMI, 3001, GetUnitAbilityLevel(GCI, 'A0VB'))
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call SaveGroupHandle(hashTable, DMI, 22, allocGroup())
    call RemoveLocation(l)
    set t = null
    set l = null
    set GCI = null
endfunction

function U92 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VK' then
        call U82()
    endif
    return false
endfunction

function UA2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U92))
    call H6I('A0XK', GetRandomReal(1, 25))
    set t = null
endfunction

function UB2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call UnitRemoveAbility(GDI, 'A0VJ')
    call UnitRemoveAbility(GDI, 'A109')
    if GetUnitAbilityLevel(GDI, 'A0VJ') == 0 or GetUnitAbilityLevel(GDI, 'A109') == 0 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function UC2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call UnitRemoveAbility(GDI, 'A0VJ')
    call UnitRemoveAbility(GDI, 'A109')
    if GetUnitAbilityLevel(GDI, 'A0VJ') > 0 or GetUnitAbilityLevel(GDI, 'A109') > 0 then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function UB2))
    endif
    set t = null
    set GDI = null
    return false
endfunction

function UD2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer QN2 = GetUnitAbilityLevel(E1I, 'A0VA')
    local integer QS2 = GetUnitAbilityLevel(E1I, 'A0V9')
    call UnitAddAbility(GDI, 'A0VJ')
    call SetUnitAbilityLevel(GDI, 'A0VJ', QN2)
    call UnitAddAbility(GDI, 'A109')
    call SetUnitAbilityLevel(GDI, 'A109', QS2)
    call TriggerRegisterTimerEvent(t, 9, false)
    call TriggerAddCondition(t, Condition(function UC2))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl", GDI, "origin"))
    set t = null
    set E1I = null
    set GDI = null
endfunction

function UE2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VQ' then
        call UD2()
    endif
    return false
endfunction

function UF2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UE2))
    call H6I('A0VJ', GetRandomReal(1, 25))
    call H6I('A109', GetRandomReal(1, 25))
    set t = null
endfunction

function UG2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if GetUnitAbilityLevel(E1I, 'B08X') == 0 then
        call KillUnit(YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitAbilityLevel(YVI, 'A0VH', GetUnitAbilityLevel(E1I, 'A0VB'))
        call SetUnitX(YVI, GetUnitX(E1I))
        call SetUnitY(YVI, GetUnitY(E1I))
    endif
    set t = null
    set YVI = null
    set E1I = null
    return false
endfunction

function UH2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e01V', GetUnitX(E1I), GetUnitY(E1I), 0)
    call UnitAddAbility(YVI, 'A0VH')
    call SetUnitAbilityLevel(YVI, 'A0VH', GetUnitAbilityLevel(E1I, 'A0VB'))
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function UG2))
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
    set E1I = null
endfunction

function UZ2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0XL' then
        call UH2()
    endif
    return false
endfunction

function UV2 takes unit E1I returns nothing
    if GetUnitAbilityLevel(E1I, 'A0XL') > 0 then
        call SetUnitAbilityLevel(E1I, 'A0XL', GetUnitAbilityLevel(E1I, 'A0VA'))
    endif
endfunction

function UW2 takes nothing returns boolean 
    if IsUnitIllusion(GetTriggerUnit()) == false then
        call UV2(GetTriggerUnit())
    endif
    return false
endfunction

function UX2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function UZ2))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function UW2))
    call H6I('A0VH', GetRandomReal(1, 25))
    set t = null
endfunction

function UY2 takes unit GCI, unit GDI, integer QN2 returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0VT')
    call SetUnitAbilityLevel(YVI, 'A0VT', QN2)
    call IssueTargetOrder(YVI, "drunkenhaze", GDI)
    set YVI = null
endfunction

function UJ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real RMO = LoadReal(hashTable, DMI, 193)
    local integer QN2 = LoadInteger(hashTable, DMI, 3000)
    local integer U22 = LoadInteger(hashTable, DMI, 3001)
    local integer PZO = U22*25/3
    local real x
    local real y
    local integer DHI = GetTriggerEvalCount(t)
    if DHI > PZO/3 then
        call SaveReal(hashTable, DMI, 193, ((RMO*0.98)*1.0))
    endif
    if DHI > PZO or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if GetTriggerEventId() != EVENT_UNIT_DEATH then
            call UY2(GCI, GDI, QN2)
        endif
    else 
        set x = constrainX(GetUnitX(GDI) + RMO*Cos(LPO))
        set y = constrainY(GetUnitY(GDI) + RMO*Sin(LPO))
        call killDestructables(x, y, 150)
        call SetUnitPosition(GDI, x, y)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function UK2 takes unit GCI, unit GDI, integer QN2, integer U22, integer QS2 returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real LPO = Atan2(GetUnitY(GDI) - GetUnitY(GCI), GetUnitX(GDI) - GetUnitX(GCI))
    call doDamage(GCI, GDI, 1, QS2*40)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveReal(hashTable, DMI, 193, (6*1.0))
    call SaveInteger(hashTable, DMI, 3000, QN2)
    call SaveInteger(hashTable, DMI, 3001, U22)
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function UJ2))
    set t = null
endfunction

function UL2 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), WK) == false and GOI(GetEnumUnit()) == false then
        call GroupAddUnit(WK, GetEnumUnit())
        call UK2(myUnit, GetEnumUnit(), QJ, UJ, IK)
    endif
endfunction

function UM2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local real a = LoadReal(hashTable, DMI, 137)
    local real x2 = LoadReal(hashTable, DMI, 66)
    local real y2 = LoadReal(hashTable, DMI, 67)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    local integer QN2 = LoadInteger(hashTable, DMI, 3000)
    local integer U22 = LoadInteger(hashTable, DMI, 3001)
    local integer QS2 = LoadInteger(hashTable, DMI, 3002)
    local real x = GetUnitX(YVI)
    local real y = GetUnitY(YVI)
    local group g2
    if getDistance(x, y, x2, y2) < 100 then
        set x = x2
        set y = y2
    else 
        set x = x + 33*Cos(a)
        set y = y + 33*Sin(a)
    endif
    call SetUnitX(YVI, constrainX(x))
    call SetUnitY(YVI, constrainY(y))
    set g2 = allocGroup()
    set myUnit = YVI
    set WK = g
    set QJ = QN2
    set UJ = U22
    set IK = QS2
    call GroupEnumUnitsInRange(g2, x, y, 200, Condition(function filterUnitInjurable))
    call ForGroup(g2, function UL2)
    call releaseGroup(g2)
    if (x == x2 and y == y2) or GetTriggerEvalCount(t) > 35 then
        set g2 = allocGroup()
        set myUnit = YVI
        set WK = g
        set QJ = QN2
        set UJ = U22
        set IK = QS2
        call GroupEnumUnitsInRange(g2, x, y, 250, Condition(function filterUnitInjurable))
        call ForGroup(g2, function UL2)
        call releaseGroup(g2)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call KillUnit(YVI)
        call releaseGroup(g)
    endif
    set t = null
    set YVI = null
    set g = null
    set g2 = null
    return false
endfunction

function UN2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local location l = GetSpellTargetLoc()
    local unit GCI = GetTriggerUnit()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'n01X', GetUnitX(GCI), GetUnitY(GCI), a*bj_RADTODEG)
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerAddCondition(t, Condition(function UM2))
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call SaveReal(hashTable, DMI, 66, ((GetUnitX(GCI) + 1000*Cos(a))*1.0))
    call SaveReal(hashTable, DMI, 67, ((GetUnitY(GCI) + 1000*Sin(a))*1.0))
    call SaveGroupHandle(hashTable, DMI, 22, allocGroup())
    call SaveInteger(hashTable, DMI, 3000, GetUnitAbilityLevel(GCI, 'A0VA'))
    call SaveInteger(hashTable, DMI, 3001, GetUnitAbilityLevel(GCI, 'A0VB'))
    call SaveInteger(hashTable, DMI, 3002, GetUnitAbilityLevel(GCI, 'A0V9'))
    call RemoveLocation(l)
    set t = null
    set l = null
    set GCI = null
endfunction

function US2 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VM' then
        call UN2()
    endif
    return false
endfunction

function UT2 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function US2))
    call H6I('A0VT', GetRandomReal(1, 25))
    set t = null
endfunction

function UR2 takes unit E1I returns real 
    local integer QS2 = GetUnitAbilityLevel(E1I, 'A0V9')
    return (80 + QS2*30.0)/2
endfunction

function UP2 takes unit E1I returns real 
    local integer QN2 = GetUnitAbilityLevel(E1I, 'A0VA')
    local integer U22 = GetUnitAbilityLevel(E1I, 'A0VB')
    local integer QS2 = GetUnitAbilityLevel(E1I, 'A0V9')
    return 325 + QN2*175.0
endfunction

function UQ2 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local real GFI = LoadReal(hashTable, DMI, 20)
    local effect FX = LoadEffectHandle(hashTable, DMI, 32)
    local integer DHI = GetTriggerEvalCount(t)
    call doDamage(GCI, GDI, 1, GFI)
    if DHI == 3 then
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call DestroyEffect(FX)
    endif
    set t = null
    set GCI = null
    set GDI = null
    set FX = null
    return false
endfunction

function UU2 takes unit GCI, unit GDI, real GFI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveReal(hashTable, DMI, 20, (GFI*1.0))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Environment\\SmallBuildingFire\\SmallBuildingFire2.mdl", GDI, "chest"))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function UQ2))
    set t = null
endfunction

function I03 takes nothing returns nothing
    call UU2(myUnit, GetEnumUnit(), OK/5)
    call doDamage(myUnit, GetEnumUnit(), 1, OK)
endfunction

function II3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local real a = LoadReal(hashTable, DMI, 137)
    local integer DHI = GetTriggerEvalCount(t) - 30
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real VGI
    local real VHI
    local unit YVI
    local group g
    if DHI == 1 then
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'e01L', x, y, a*bj_RADTODEG)
        call SaveUnitHandle(hashTable, DMI, 19, YVI)
    elseif DHI > 1 then
        set YVI = LoadUnitHandle(hashTable, DMI, 19)
    endif
    if DHI > 0 then
        set VGI = constrainX(GetUnitX(YVI) + 15*Cos(a))
        set VHI = constrainY(GetUnitY(YVI) + 15*Sin(a))
        call SetUnitX(YVI, VGI)
        call SetUnitY(YVI, VHI)
        if (DHI > 1 and ModuloInteger(DHI, 10) == 0) or DHI == 1 then
            set g = allocGroup()
            set myUnit = GCI
            set OK = UR2(GCI)
            call GroupEnumUnitsInRange(g, VGI, VHI, 300, Condition(function filterUnitInjurable))
            call ForGroup(g, function I03)
            call releaseGroup(g)
            call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl", VGI, VHI) )
        endif
        if DHI > UP2(GCI)/16.6 then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call KillUnit(YVI)
        endif
    endif
    set t = null
    set g = null
    set YVI = null
    set GCI = null
    return false
endfunction

function I13 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local location l = GetSpellTargetLoc()
    local unit GCI = GetTriggerUnit()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    local unit IO3 = CreateUnit(GetOwningPlayer(GCI), 'e01K', x, y, a*bj_RADTODEG)
    call SetUnitTimeScale(IO3, 0.5)
    call UnitApplyTimedLife(IO3, 'BTLF', 1.75)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function II3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call RemoveLocation(l)
    set t = null
    set l = null
    set GCI = null
endfunction

function I23 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VN' then
        call I13()
    endif
    return false
endfunction

function I33 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function I23))
    set t = null
endfunction

function I43 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local real K9O = LoadReal(hashTable, GetHandleId(GDI), 3007)
    if K9O + 5 <= TimerGetElapsed(M) then
        call UnitRemoveAbility(GDI, 'A0VW')
    endif
    call D8I(GHI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GDI = null
    return false
endfunction

function I53 takes unit GDI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GDI, 'A0VW')
    if FVI == 0 then
        call UnitAddAbility(GDI, 'A0VW')
    endif
    call SetUnitAbilityLevel(GDI, 'A0VW', FVI + 1)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveReal(hashTable, GetHandleId(GDI), 3007, (TimerGetElapsed(M)*1.0))
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerAddCondition(t, Condition(function I43))
    set t = null
endfunction

function I63 takes nothing returns boolean 
    local real d
    if GetUnitAbilityLevel(GetTriggerUnit(), 'B091') > 0 and GetUnitAbilityLevel(GetEventDamageSource(), 'A0VV') > 0 and LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2) == GetEventDamageSource() then
        call UnitRemoveAbility(GetTriggerUnit(), 'B091')
        call DisableTrigger(GetTriggeringTrigger())
        call I53(GetTriggerUnit())
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call abandonTrigger(GetTriggeringTrigger())
    endif
    return false
endfunction

function I73 takes nothing returns nothing
    local trigger t
    local unit GDI
    local unit GCI
    if GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        set GDI = GetSpellTargetUnit()
        set GCI = GetTriggerUnit()
    else 
        set GDI = GetTriggerUnit()
        set GCI = GetAttacker()
    endif
    if IsUnitIllusion(GCI) == false then
        set t = CreateTrigger()
        call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function I63))
    endif
    set t = null
    set GDI = null
    set GCI = null
endfunction

function I83 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetUnitAbilityLevel(GetAttacker(), 'A0VV') > 0 and LoadBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 3008) and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 2) then
            call I73()
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if (GetIssuedOrderId() == OrderId("poisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 3008, true)
        elseif (GetIssuedOrderId() == OrderId("unpoisonarrows")) then
            call SaveBoolean(hashTable, GetHandleId(GetTriggeringTrigger()), 3008, false)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0VV' then
        call I73()
    endif
    return false
endfunction

function I93 takes unit GCI returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function I83))
    call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
    call SaveBoolean(hashTable, GetHandleId(t), 3008, true)
    set t = null
endfunction

function IA3 takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction

function IB3 takes nothing returns boolean 
    if GetUnitTypeId(GetFilterUnit()) == 'n027' then
        return true
    endif
    return false
endfunction

function IC3 takes player p returns nothing
    local group g = allocGroup()
    call GroupEnumUnitsOfPlayer(g, p, Condition(function IB3))
    call ForGroup(g, function IA3)
    call releaseGroup(g)
    set g = null
endfunction

function ID3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit YVI
    local integer U22 = GetUnitAbilityLevel(GCI, 'A0VB')
    local integer QS2 = GetUnitAbilityLevel(GCI, 'A0V9')
    call IC3(GetOwningPlayer(GCI))
    set YVI = CreateUnit(GetOwningPlayer(GCI), 'n027', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
    call SetUnitColor(YVI, GetPlayerColor(sentinelPlayers[0]))
    call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", YVI, "chest")
    call UnitApplyTimedLife(YVI, 'BTLF', 10 + 10*U22)
    call SetUnitAbilityLevel(YVI, 'A0VV', QS2)
    call I93(YVI)
    if MT0[GetPlayerId(GetOwningPlayer(GCI))] then
        call SelectUnitAddForPlayer(YVI, GetOwningPlayer(GCI))
    endif
    if U22 > 3 and QS2 > 3 then
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'n027', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
        call SetUnitColor(YVI, GetPlayerColor(sentinelPlayers[0]))
        call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl", YVI, "chest")
        call UnitApplyTimedLife(YVI, 'BTLF', 10 + 10*U22)
        call SetUnitAbilityLevel(YVI, 'A0VV', QS2)
        call I93(YVI)
        if MT0[GetPlayerId(GetOwningPlayer(GCI))] then
            call SelectUnitAddForPlayer(YVI, GetOwningPlayer(GCI))
        endif
    endif
    call SetPlayerTechResearched(GetOwningPlayer(GCI), 'R00G', QS2)
    call SetPlayerTechResearched(GetOwningPlayer(GCI), 'R00H', U22)
    set GCI = null
    set YVI = null
endfunction

function IE3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VO' then
        call ID3()
    endif
    return false
endfunction

function IF3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IE3))
    call H6I('A0VV', GetRandomReal(1, 25))
    call H6I('A0VW', GetRandomReal(1, 25))
    set t = null
endfunction

function IG3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local real a = GetUnitFacing(GCI)
    local integer i = 1
    local unit YVI
    local real x
    local real y
    local real HKI = GetUnitX(GCI) + 225*Cos(a*bj_DEGTORAD)
    local real HLI = GetUnitY(GCI) + 225*Sin(a*bj_DEGTORAD)
    local integer U22 = GetUnitAbilityLevel(GCI, 'A0VB')
    local integer QS2 = GetUnitAbilityLevel(GCI, 'A0V9')
    local real YHI = 1.5 + 1.5*U22
    loop
        exitwhen i > 7
        set x = HKI + 80*i*Cos((a + 90)*bj_DEGTORAD)
        set y = HLI + 80*i*Sin((a + 90)*bj_DEGTORAD)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'u00O', x, y, GetRandomReal(0, 360))
        call SetUnitAbilityLevel(YVI, 'S00H', U22)
        call SetUnitAbilityLevel(YVI, 'A0XN', QS2)
        call SetUnitAnimation(YVI, "birth")
        call QueueUnitAnimation(YVI, "stand")
        call UnitApplyTimedLife(YVI, 'BTLF', YHI)
        set x = HKI + 80*i*Cos((a - 90)*bj_DEGTORAD)
        set y = HLI + 80*i*Sin((a - 90)*bj_DEGTORAD)
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'u00O', x, y, GetRandomReal(0, 360))
        call SetUnitAbilityLevel(YVI, 'S00H', U22)
        call SetUnitAbilityLevel(YVI, 'A0XN', QS2)
        call SetUnitAnimation(YVI, "birth")
        call QueueUnitAnimation(YVI, "stand")
        call UnitApplyTimedLife(YVI, 'BTLF', YHI)
        set i = i + 1
    endloop
    set YVI = null
    set GCI = null
endfunction

function IH3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VP' then
        call IG3()
    endif
    return false
endfunction

function IZ3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IH3))
    call H6I('S00H', GetRandomReal(1, 25))
    call H6I('A0XN', GetRandomReal(1, 25))
    set t = null
endfunction

function IV3 takes nothing returns nothing
    if GII(GetEnumUnit()) == false then
        call doDamage(myUnit, GetEnumUnit(), 1, OK)
    endif
endfunction

function IW3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real GFI = LoadReal(hashTable, DMI, 20)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local group g = allocGroup()
    local integer DHI
    set myUnit = E1I
    call V3I(GetOwningPlayer(E1I), 4, x, y, 400)
    call GroupEnumUnitsInRange(g, x, y, 200, Condition(function filterUnitInjurable))
    set DHI = CountUnitsInGroup(g)
    if DHI < 1 then
        set DHI = 1
    endif
    set OK = GFI/DHI
    call ForGroup(g, function IV3)
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl", x, y) )
    call releaseGroup(g)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    set g = null
    return false
endfunction

function IX3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real GFI = GetUnitAbilityLevel(E1I, 'A0V9')*62.5 + 12.5 + 25
    local string s = ""
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(E1I)) == true or (E2 and (GetLocalPlayer() == CQ0 or GetLocalPlayer() == CU0)) then
        set s = "Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl"
    endif
    call TriggerRegisterTimerEvent(t, 1.7, false)
    call TriggerAddCondition(t, Condition(function IW3))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SaveReal(hashTable, DMI, 20, (GFI*1.0))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffect(s, x, y))
    call RemoveLocation(l)
    set t = null
    set E1I = null
    set l = null
endfunction

function IY3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VG' then
        call IX3()
    endif
    return false
endfunction

function IJ3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IY3))
    set t = null
endfunction

function IK3 takes unit GCI, unit GDI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GDI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0VI')
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
    if GOI(GDI) == false then
        call doDamage(GCI, GDI, 1, 30)
    endif
    set YVI = null
endfunction

function IL3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamage() > 1 and (LoadInteger(hashTable, GetHandleId(t), 4263) == 1) == false then
            call DisableTrigger(t)
            call IK3(GCI, GDI)
            call EnableTrigger(t)
            call DNI(t, 4263, 0.8 - FVI*0.0285)
        endif
    else 
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    set GCI = null
    return false
endfunction

function IM3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0VB')
    call TriggerRegisterTimerEvent(t, 2.5 + FVI*0.5, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function IL3))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveUnitHandle(hashTable, DMI, 2, E1I)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl", GDI, "overhead"))
    call IK3(E1I, GDI)
    set t = null
    set E1I = null
    set GDI = null
endfunction

function IN3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VZ' then
        call IM3()
    endif
    return false
endfunction

function IS3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function IN3))
    call H6I('A0VI', GetRandomReal(1, 25))
    set t = null
endfunction

function IT3 takes unit E1I returns nothing
    local integer DMI = GetHandleId(E1I)
    local boolean IR3 = LoadBoolean(hashTable, DMI, 3003)
    local trigger t
    if IR3 then
        call SaveBoolean(hashTable, DMI, 3003, false)
        set t = LoadTriggerHandle(hashTable, DMI, 3006)
        call FlushChildHashtable(hashTable, GetHandleId(t))
        call abandonTrigger(t)
    endif
    set t = null
endfunction

function IP3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    call SetUnitState(E1I, UNIT_STATE_LIFE, GetUnitState(E1I, UNIT_STATE_LIFE) + FVI*1)
    return false
endfunction

function IQ3 takes unit E1I, integer FVI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(E1I)
    call SaveBoolean(hashTable, DMI, 3003, true)
    call SaveTriggerHandle(hashTable, DMI, 3006, t)
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, E1I)
    call SaveInteger(hashTable, GetHandleId(t), 5, FVI)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function IP3))
    set t = null
endfunction

function IU3 takes nothing returns nothing
    local integer O03 = 0
    local unit E1I = GetTriggerUnit()
    local integer DMI = GetHandleId(E1I)
    local integer OI3 = LoadInteger(hashTable, DMI, 3013)
    local integer O13 = LoadInteger(hashTable, DMI, 3014)
    local integer OO3 = LoadInteger(hashTable, DMI, 3015)
    local integer O23 = LoadInteger(hashTable, DMI, 3016)
    local integer O33 = LoadInteger(hashTable, DMI, 3017)
    if OI3 == 3 and O13 == 0 and OO3 == 0 then
        set O03 = 1
    elseif OI3 == 2 and O13 == 1 and OO3 == 0 then
        set O03 = 2
    elseif OI3 == 2 and O13 == 0 and OO3 == 1 then
        set O03 = 3
    elseif OI3 == 1 and O13 == 2 and OO3 == 0 then
        set O03 = 4
    elseif OI3 == 1 and O13 == 1 and OO3 == 1 then
        set O03 = 5
    elseif OI3 == 1 and O13 == 0 and OO3 == 2 then
        set O03 = 6
    elseif OI3 == 0 and O13 == 1 and OO3 == 2 then
        set O03 = 7
    elseif OI3 == 0 and O13 == 2 and OO3 == 1 then
        set O03 = 8
    elseif OI3 == 0 and O13 == 0 and OO3 == 3 then
        set O03 = 9
    elseif OI3 == 0 and O13 == 3 and OO3 == 0 then
        set O03 = 10
    endif
    if AOI[O03] == O23 or AOI[O03] == O33 then
        return
    endif
    if GetUnitAbilityLevel(E1I, 'A0VF') == 1 or GetUnitAbilityLevel(E1I, 'A1B5') == 1 then
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O33, false)
        set O33 = AOI[O03]
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O33, true)
    else 
        if O23 != 0 and O33 != 0 then
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O23, false)
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O33, false)
            set O23 = O33
            set O33 = AOI[O03]
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O23, true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O33, true)
        elseif O23 == 0 and O33 != 0 then
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O33, false)
            set O23 = O33
            set O33 = AOI[O03]
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O23, true)
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O33, true)
        else 
            set O33 = AOI[O03]
            call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), O33, true)
        endif
    endif
    call SaveInteger(hashTable, DMI, 3016, O23)
    call SaveInteger(hashTable, DMI, 3017, O33)
    call UV2(E1I)
    set E1I = null
endfunction

function O43 takes unit E1I returns nothing
    local integer DMI = GetHandleId(E1I)
    local integer OI3 = LoadInteger(hashTable, DMI, 3013)
    local integer O13 = LoadInteger(hashTable, DMI, 3014)
    local integer OO3 = LoadInteger(hashTable, DMI, 3015)
    local integer QN2 = GetUnitAbilityLevel(E1I, 'A0VA')
    local integer U22 = GetUnitAbilityLevel(E1I, 'A0VB')
    local integer QS2 = GetUnitAbilityLevel(E1I, 'A0V9')
    call UnitRemoveAbility(E1I, 'A0WD')
    call UnitRemoveAbility(E1I, 'A0VE')
    call IT3(E1I)
    call UnitRemoveAbility(E1I, 'A0V7')
    if OI3 > 0 then
        call UnitAddAbility(E1I, 'A0WD')
        call UnitAddAbility(E1I, 'A0VE')
        call SetUnitAbilityLevel(E1I, 'A0WD', OI3*QN2)
        call SetUnitAbilityLevel(E1I, 'A0VE', OI3*QN2)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A0WD', false)
    endif
    if O13 > 0 then
        call IQ3(E1I, O13*U22)
    endif
    if OO3 > 0 then
        call UnitAddAbility(E1I, 'A0V7')
        call SetUnitAbilityLevel(E1I, 'A0V7', OO3*QS2)
    endif
endfunction

function O53 takes unit E1I, integer OI3, integer O13, integer OO3 returns nothing
    local integer Orb1 = 0
    local integer Orb2 = 0
    local integer Orb3 = 0
    call UnitRemoveAbility(E1I, 'A0DN')
    call UnitRemoveAbility(E1I, 'A0DG')
    call UnitRemoveAbility(E1I, 'A0IX')
    call UnitRemoveAbility(E1I, 'A0I1')
    call UnitRemoveAbility(E1I, 'A0I0')
    call UnitRemoveAbility(E1I, 'A0HZ')
    call UnitRemoveAbility(E1I, 'A0IC')
    call UnitRemoveAbility(E1I, 'A0IB')
    call UnitRemoveAbility(E1I, 'A0ID')
    if OI3 == 1 and O13 == 0 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0DN')
    elseif OI3 == 0 and O13 == 1 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0I1')
    elseif OI3 == 0 and O13 == 0 and OO3 == 1 then
        call UnitAddAbility(E1I, 'A0IC')
    elseif OI3 == 2 and O13 == 0 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0DG')
    elseif OI3 == 1 and O13 == 1 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0I0')
    elseif OI3 == 1 and O13 == 0 and OO3 == 1 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0IB')
    elseif OI3 == 0 and O13 == 2 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0I1')
        call UnitAddAbility(E1I, 'A0I0')
    elseif OI3 == 0 and O13 == 1 and OO3 == 1 then
        call UnitAddAbility(E1I, 'A0I1')
        call UnitAddAbility(E1I, 'A0IB')
    elseif OI3 == 0 and O13 == 0 and OO3 == 2 then
        call UnitAddAbility(E1I, 'A0IC')
        call UnitAddAbility(E1I, 'A0IB')
    elseif OI3 == 3 and O13 == 0 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0DG')
        call UnitAddAbility(E1I, 'A0IX')
    elseif OI3 == 2 and O13 == 1 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0DG')
        call UnitAddAbility(E1I, 'A0HZ')
    elseif OI3 == 2 and O13 == 0 and OO3 == 1 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0DG')
        call UnitAddAbility(E1I, 'A0ID')
    elseif OI3 == 1 and O13 == 2 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0I0')
        call UnitAddAbility(E1I, 'A0HZ')
    elseif OI3 == 1 and O13 == 1 and OO3 == 1 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0I0')
        call UnitAddAbility(E1I, 'A0ID')
    elseif OI3 == 1 and O13 == 0 and OO3 == 2 then
        call UnitAddAbility(E1I, 'A0DN')
        call UnitAddAbility(E1I, 'A0IB')
        call UnitAddAbility(E1I, 'A0ID')
    elseif OI3 == 0 and O13 == 1 and OO3 == 2 then
        call UnitAddAbility(E1I, 'A0IC')
        call UnitAddAbility(E1I, 'A0IB')
        call UnitAddAbility(E1I, 'A0HZ')
    elseif OI3 == 0 and O13 == 2 and OO3 == 1 then
        call UnitAddAbility(E1I, 'A0I1')
        call UnitAddAbility(E1I, 'A0I0')
        call UnitAddAbility(E1I, 'A0ID')
    elseif OI3 == 0 and O13 == 0 and OO3 == 3 then
        call UnitAddAbility(E1I, 'A0IC')
        call UnitAddAbility(E1I, 'A0IB')
        call UnitAddAbility(E1I, 'A0ID')
    elseif OI3 == 0 and O13 == 3 and OO3 == 0 then
        call UnitAddAbility(E1I, 'A0I1')
        call UnitAddAbility(E1I, 'A0I0')
        call UnitAddAbility(E1I, 'A0HZ')
    endif
endfunction

function O63 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer DMI = GetHandleId(E1I)
    local integer O73 = GetSpellAbilityId()
    local integer O83 = LoadInteger(hashTable, DMI, 3010)
    local integer O93 = LoadInteger(hashTable, DMI, 3011)
    local integer OA3 = LoadInteger(hashTable, DMI, 3012)
    local integer OI3 = 0
    local integer O13 = 0
    local integer OO3 = 0
    set O83 = O93
    set O93 = OA3
    set OA3 = O73
    if O83 == 'A0VA' then
        set OI3 = OI3 + 1
    elseif O83 == 'A0VB' then
        set O13 = O13 + 1
    elseif O83 == 'A0V9' then
        set OO3 = OO3 + 1
    endif
    if O93 == 'A0VA' then
        set OI3 = OI3 + 1
    elseif O93 == 'A0VB' then
        set O13 = O13 + 1
    elseif O93 == 'A0V9' then
        set OO3 = OO3 + 1
    endif
    if OA3 == 'A0VA' then
        set OI3 = OI3 + 1
    elseif OA3 == 'A0VB' then
        set O13 = O13 + 1
    elseif OA3 == 'A0V9' then
        set OO3 = OO3 + 1
    endif
    call SaveInteger(hashTable, DMI, 3010, O83)
    call SaveInteger(hashTable, DMI, 3011, O93)
    call SaveInteger(hashTable, DMI, 3012, OA3)
    call SaveInteger(hashTable, DMI, 3013, OI3)
    call SaveInteger(hashTable, DMI, 3014, O13)
    call SaveInteger(hashTable, DMI, 3015, OO3)
    call O53(E1I, OI3, O13, OO3)
    call O43(E1I)
    call UV2(E1I)
endfunction

function OB3 takes nothing returns boolean 
    if IsUnitIllusion(GetTriggerUnit()) == false and (GetLearnedSkill() == 'A0VA' or GetLearnedSkill() == 'A0VB' or GetLearnedSkill() == 'A0V9') then
        call O43(GetTriggerUnit())
    endif
    return false
endfunction

function OC3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0VA' or GetSpellAbilityId() == 'A0VB' or GetSpellAbilityId() == 'A0V9' then
        call O63()
    elseif GetSpellAbilityId() == 'A0VF' or GetSpellAbilityId() == 'A1B5' then
        call IU3()
    endif
    return false
endfunction

function BL1 takes nothing returns nothing
    local unit E1I = myUnit
    local integer i = 1
    local integer VPI
    if GetUnitTypeId(E1I) != 'H00U' then
        return
    endif
    loop
        exitwhen i > 11
        set VPI = AOI[i]
        call UnitAddAbility(E1I, VPI)
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), VPI, false)
        set i = i + 1
    endloop
    set E1I = null
endfunction

function OD3 takes nothing returns boolean 
    if GetUnitTypeId(GetTriggerUnit()) == 'H00U' and IsUnitIllusion(GetTriggerUnit()) == false then
        set myUnit = GetTriggerUnit()
        call BL1()
    endif
    return false
endfunction

function AO1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call preloadAblility(AOI[1])
    call preloadAblility(AOI[2])
    call preloadAblility(AOI[3])
    call preloadAblility(AOI[4])
    call preloadAblility(AOI[5])
    call preloadAblility(AOI[6])
    call preloadAblility(AOI[7])
    call preloadAblility(AOI[8])
    call preloadAblility(AOI[9])
    call preloadAblility(AOI[10])
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OC3))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function OB3))
    set t = null
    call dispTimedTextToForce(bj_FORCE_ALL_PLAYERS, 15.00, GetObjectName('n06G'))
    call H6I('A0XO', GetRandomReal(1, 25))
    call H6I('A0WD', GetRandomReal(1, 25))
    call H6I('A0VE', GetRandomReal(1, 25))
    call H6I('A0V7', GetRandomReal(1, 25))
    call H6I('A0V9', GetRandomReal(1, 25))
    call H6I('A0VA', GetRandomReal(1, 25))
    call H6I('A0VB', GetRandomReal(1, 25))
    call U12()
    call UA2()
    call UF2()
    call UX2()
    call UT2()
    call I33()
    call IF3()
    call IZ3()
    call IJ3()
    call IS3()
endfunction

function OE3 takes nothing returns nothing
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl", GetTriggerUnit(), "weapon") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl", GetTriggerUnit(), "hand") )
endfunction

function OF3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'AHtb' then
        call OE3()
    endif
    return false
endfunction

function AC1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function OF3))
    set t = null
endfunction

constant function Poof_RawCode takes nothing returns integer 
    return 'A0N8'
endfunction

constant function Poof_PrimaryUnitCode takes nothing returns integer 
    return 'H00I'
endfunction

constant function Poof_SecondaryUnitCode takes nothing returns integer 
    return 'H00J'
endfunction

function OG3 takes unit E4I returns boolean 
    return (GetUnitTypeId(E4I) == 'H00I' or GetUnitTypeId(E4I) == 'H00J') and GetUnitState(E4I, UNIT_STATE_LIFE) > 0.5 and GetOwningPlayer(E4I) == GetOwningPlayer(GetTriggerUnit())
endfunction

function OH3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0N8'
endfunction

function OZ3 takes nothing returns boolean 
    return OG3(GetFilterUnit())
endfunction

function OV3 takes nothing returns nothing
    local unit DYO = GetEnumUnit()
    local real OW3 = getDistanceLoc(DYO, J3)
    if OW3 < KO then
        set KO = OW3
        set YO = DYO
    endif
endfunction

function OX3 takes nothing returns boolean 
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0
endfunction

function OY3 takes nothing returns nothing
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl", GetEnumUnit(), "origin") )
    call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), KO, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE, WEAPON_TYPE_WHOKNOWS)
endfunction

function OJ3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local location TKO
    local real x
    local real y
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local group MNI
    local boolexpr BH1
    local boolean OK3 = false
    if GDI != null and OG3(GDI) then
        set x = GetUnitX(GDI)
        set y = GetUnitY(GDI)
        set OK3 = true
    elseif GDI == null then
        set BH1 = Condition(function OZ3)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, 0, 0, 999999, BH1)
        set TKO = GetSpellTargetLoc()
        set YO = FirstOfGroup(MNI)
        if YO != null then
            set OK3 = true
            call GroupRemoveUnit(MNI, YO)
            set KO = getDistanceLoc(YO, TKO)
            set J3 = TKO
            call ForGroup(MNI, function OV3)
            set GDI = YO
            set x = GetUnitX(GDI)
            set y = GetUnitY(GDI)
        endif
        call releaseGroup(MNI)
        call RemoveLocation(TKO)
    endif
    if OK3 then
        call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl", HKI, HLI) )
        call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl", x, y) )
        call SetUnitX(GCI, x)
        call SetUnitY(GCI, y)
        set KO = 20 + GetUnitAbilityLevel(GetTriggerUnit(), 'A0N8')*30
        set BH1 = Condition(function OX3)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, HKI, HLI, 400, BH1)
        call ForGroup(MNI, function OY3)
        call releaseGroup(MNI)
        set MNI = allocGroup()
        call GroupEnumUnitsInRange(MNI, x, y, 400, BH1)
        call ForGroup(MNI, function OY3)
        call releaseGroup(MNI)
    endif
endfunction

function OL3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0N8'
endfunction

function OM3 takes nothing returns nothing
    call SetUnitAnimationByIndex(LoadUnitHandle(hashTable, GetHandleId(GetExpiredTimer()), 221), 2)
endfunction

function ON3 takes nothing returns nothing
    local timer t = CreateTimer()
    call SetUnitAnimationByIndex(GetTriggerUnit(), 2)
    call SaveUnitHandle(hashTable, GetHandleId(t), 221, GetTriggerUnit())
    call TimerStart(t, 1, false, function OM3)
endfunction

function IT1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call TriggerAddCondition(t, Condition(function OL3))
    call TriggerAddAction(t, function ON3)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function OH3))
    call TriggerAddAction(t, function OJ3)
endfunction

constant function Trap_CastCode takes nothing returns integer 
    return 'A0NB'
endfunction

constant function Trap_EffectCode takes nothing returns integer 
    return 'A0NC'
endfunction

constant function Trap_Projectile takes nothing returns integer 
    return 'h00C'
endfunction

constant function Trap_DummyNet takes nothing returns integer 
    return 'h009'
endfunction

constant function Trap_Radius takes nothing returns integer 
    return 245
endfunction

function OS3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0NB'
endfunction

function OT3 takes nothing returns boolean 
    return GOI(GetFilterUnit()) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(YO)) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(YO)) == true and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 0.5 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitTypeId(GetFilterUnit()) != 'n00L'
endfunction

function OR3 takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(YO), 'e00E', KO, K3, 0)
    call UnitAddAbility(YVI, 'A0NC')
    call IssueTargetOrder(YVI, "ensnare", GetEnumUnit())
endfunction

function OP3 takes unit VDI, real x, real y returns nothing
    local boolexpr BH1 = Condition(function OT3)
    local group MNI = allocGroup()
    set YO = VDI
    call GroupEnumUnitsInRange(MNI, x, y, 245, BH1)
    set KO = x
    set K3 = y
    call ForGroup(MNI, function OR3)
    call releaseGroup(MNI)
endfunction

function OQ3 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real HKI = GetUnitX(VDI)
    local real HLI = GetUnitY(VDI)
    local real VGI = GetUnitX(VDI) + 30*Cos(LPO)
    local real VHI = GetUnitY(VDI) + 30*Sin(LPO)
    if (VGI - HMI)*(VGI - HMI) + (VHI - HNI)*(VHI - HNI) < 1200 then
        call SetUnitX(VDI, HMI)
        call SetUnitY(VDI, HNI)
        call OP3(VDI, HMI, HNI)
        call PauseTimer(t)
        call FlushChildHashtable(hashTable, DMI)
        call KillUnit(VDI)
        call DestroyTimer(t)
    else 
        call SetUnitX(VDI, VGI)
        call SetUnitY(VDI, VHI)
    endif
endfunction

function OU3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location TKO = GetSpellTargetLoc()
    local real HMI = constrainX(GetLocationX(TKO))
    local real HNI = constrainY(GetLocationY(TKO))
    local real HKI = constrainX(GetUnitX(E1I))
    local real HLI = constrainY(GetUnitY(E1I))
    local unit VDI = CreateUnit(GetOwningPlayer(E1I), 'h00C', HKI, HLI, 0)
    local real LPO = Atan2(HNI - HLI, HMI - HKI)
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    call SetUnitScale(VDI, 2, 2, 2)
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call SaveReal(hashTable, DMI, 47, (HMI*1.0))
    call SaveReal(hashTable, DMI, 48, (HNI*1.0))
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call TimerStart(t, 0.035, true, function OQ3)
    call RemoveLocation(TKO)
endfunction

function IR1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(t, function OU3)
    call TriggerAddCondition(t, Condition(function OS3))
endfunction

constant function DoubleTrouble_RawCode takes nothing returns integer 
    return 'A0MW'
endfunction

constant function DoubleTrouble_PrimaryUnitCode takes nothing returns integer 
    return 'H00I'
endfunction

constant function DoubleTrouble_SecondaryUnitCode takes nothing returns integer 
    return 'H00J'
endfunction

constant function DoubleTrouble_Ability1 takes nothing returns integer 
    return 'A0N8'
endfunction

constant function DoubleTrouble_Ability2 takes nothing returns integer 
    return 'A0NB'
endfunction

constant function DoubleTrouble_Ability3 takes nothing returns integer 
    return 'A0N7'
endfunction

constant function DoubleTrouble_Item6 takes nothing returns integer 
    return itemId[itemIdPhaseBoots]
endfunction

constant function DoubleTrouble_Item5 takes nothing returns integer 
    return itemId[HG0]
endfunction

constant function DoubleTrouble_Item4 takes nothing returns integer 
    return itemId[HH0]
endfunction

constant function DoubleTrouble_Item3 takes nothing returns integer 
    return itemId[HZ0]
endfunction

constant function DoubleTrouble_Item2 takes nothing returns integer 
    return itemId[HF0]
endfunction

constant function DoubleTrouble_Item1 takes nothing returns integer 
    return itemId[FB0]
endfunction

function A03 takes unit E4I returns boolean 
    return GetUnitTypeId(E4I) == 'H00I' or GetUnitTypeId(E4I) == 'H00J'
endfunction

function DoubleTrouble_IsKoboldCondition takes nothing returns boolean 
    return GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(YO) and GetFilterUnit() != YO and (GetUnitTypeId(GetFilterUnit()) == 'H00I' or GetUnitTypeId(GetFilterUnit()) == 'H00J')
endfunction

function DoubleTrouble_UnshareXPCondition takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(YO)) == true and A03(GetFilterUnit()) == false
endfunction

function DoubleTrouble_UnshareXPGive takes nothing returns nothing
    call AddHeroXP(GetEnumUnit(), JO, true)
endfunction

function AI3 takes nothing returns nothing
    local integer A13 = GetHandleId(GetTriggeringTrigger())
    local player EYI = LoadPlayerHandle(hashTable, A13, 370)
    local integer AO3 = GetHandleId(EYI)
    local unit SFI = LoadUnitHandle(hashTable, AO3, 81)
    local unit SGI = LoadUnitHandle(hashTable, AO3, 82)
    local unit SHI = LoadUnitHandle(hashTable, AO3, 83)
    local unit SZI = LoadUnitHandle(hashTable, AO3, 84)
    local integer A23 = GetUnitAbilityLevel(SFI, 'Aamk')*2
    local integer F32 = GetHeroAgi(SFI, false)
    local integer A33 = GetHeroAgi(SFI, true) - F32 - A23
    local integer F42 = GetHeroStr(SFI, false)
    local integer A43 = GetHeroStr(SFI, true) - F42 - A23
    local integer A53 = GetHeroInt(SFI, false)
    local integer A63 = GetHeroInt(SFI, true) - A53 - A23
    local real A73 = 0.25
    local integer A83 = R2I(F32 + A33*A73)
    local integer A93 = R2I(F42 + A43*A73)
    local integer AA3 = R2I(A53 + A63*A73)
    if GetUnitState(SFI, UNIT_STATE_LIFE) > 1 then
        if SGI != null then
            call SetHeroAgi(SGI, A83, false)
            call SetHeroStr(SGI, A93, false)
            call SetHeroInt(SGI, AA3, false)
        endif
        if SHI != null then
            call SetHeroAgi(SHI, A83, false)
            call SetHeroStr(SHI, A93, false)
            call SetHeroInt(SHI, AA3, false)
        endif
        if SZI != null then
            call SetHeroAgi(SZI, A83, false)
            call SetHeroStr(SZI, A93, false)
            call SetHeroInt(SZI, AA3, false)
        endif
    endif
endfunction

function AB3 takes nothing returns nothing
    local integer A13 = GetHandleId(GetTriggeringTrigger())
    local player EYI = LoadPlayerHandle(hashTable, A13, 370)
    local integer AO3 = GetHandleId(EYI)
    local unit SFI = LoadUnitHandle(hashTable, AO3, 81)
    local unit SGI = LoadUnitHandle(hashTable, AO3, 82)
    local unit SHI = LoadUnitHandle(hashTable, AO3, 83)
    local unit SZI = LoadUnitHandle(hashTable, AO3, 84)
    local integer AC3 = GetHandleId(SFI)
    local integer AD3 = GetHandleId(SGI)
    local integer AE3 = GetHandleId(SHI)
    local integer AF3 = GetHandleId(SZI)
    local integer AG3 = LoadInteger(hashTable, AC3, 367)
    local integer AH3 = LoadInteger(hashTable, AC3, 368)
    local integer AZ3 = LoadInteger(hashTable, AD3, 367)
    local integer AV3 = LoadInteger(hashTable, AD3, 368)
    local integer AW3 = LoadInteger(hashTable, AE3, 367)
    local integer AX3 = LoadInteger(hashTable, AE3, 368)
    local integer AY3 = LoadInteger(hashTable, AF3, 367)
    local integer AJ3 = LoadInteger(hashTable, AF3, 368)
    local integer AK3 = GetHeroXP(SFI)
    local integer AL3 = GetHeroXP(SGI)
    local integer AM3 = GetHeroXP(SHI)
    local integer AN3 = GetHeroXP(SZI)
    local integer AS3 = AK3 - AG3 - AH3
    local integer AT3 = AL3 - AZ3 - AV3
    local integer AR3 = AM3 - AW3 - AX3
    local integer AP3 = AN3 - AY3 - AJ3
    if GetUnitState(SFI, UNIT_STATE_LIFE) > 1 then
        set AG3 = AG3 + AS3
        set AZ3 = AZ3 + AT3
        set AW3 = AW3 + AR3
        set AY3 = AY3 + AP3
        if SFI != null then
            call AddHeroXP(SGI, AS3, false)
            if GetHeroXP(SGI) != AL3 then
                set AV3 = AV3 + AS3
            endif
            call AddHeroXP(SHI, AS3, false)
            if GetHeroXP(SHI) != AM3 then
                set AX3 = AX3 + AS3
            endif
            call AddHeroXP(SZI, AS3, false)
            if GetHeroXP(SZI) != AN3 then
                set AJ3 = AJ3 + AS3
            endif
        endif
        if SGI != null then
            call AddHeroXP(SFI, AT3, false)
            if GetHeroXP(SFI) != AK3 then
                set AH3 = AH3 + AT3
            endif
            call AddHeroXP(SHI, AT3, false)
            if GetHeroXP(SHI) != AM3 then
                set AX3 = AX3 + AT3
            endif
            call AddHeroXP(SZI, AT3, false)
            if GetHeroXP(SZI) != AN3 then
                set AJ3 = AJ3 + AT3
            endif
        endif
        if SHI != null then
            call AddHeroXP(SGI, AR3, false)
            if GetHeroXP(SGI) != AL3 then
                set AV3 = AV3 + AR3
            endif
            call AddHeroXP(SFI, AR3, false)
            if GetHeroXP(SFI) != AK3 then
                set AH3 = AH3 + AR3
            endif
            call AddHeroXP(SZI, AR3, false)
            if GetHeroXP(SZI) != AN3 then
                set AJ3 = AJ3 + AR3
            endif
        endif
        if SZI != null then
            call AddHeroXP(SGI, AP3, false)
            if GetHeroXP(SGI) != AL3 then
                set AV3 = AV3 + AP3
            endif
            call AddHeroXP(SHI, AP3, false)
            if GetHeroXP(SHI) != AM3 then
                set AX3 = AX3 + AP3
            endif
            call AddHeroXP(SFI, AP3, false)
            if GetHeroXP(SFI) != AK3 then
                set AH3 = AH3 + AP3
            endif
        endif
        call SaveInteger(hashTable, AC3, 367, AG3)
        call SaveInteger(hashTable, AC3, 368, AH3)
        call SaveInteger(hashTable, AD3, 367, AZ3)
        call SaveInteger(hashTable, AD3, 368, AV3)
        call SaveInteger(hashTable, AE3, 367, AW3)
        call SaveInteger(hashTable, AE3, 368, AX3)
        call SaveInteger(hashTable, AF3, 367, AY3)
        call SaveInteger(hashTable, AF3, 368, AJ3)
    endif
endfunction

function AQ3 takes nothing returns boolean 
    return A03(GetTriggerUnit()) and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function AU3 takes nothing returns nothing
    local unit X4I = GetTriggerUnit()
    local integer DMI = GetHandleId(GetOwningPlayer(X4I))
    local unit SFI = LoadUnitHandle(hashTable, DMI, 81)
    local unit SGI = LoadUnitHandle(hashTable, DMI, 82)
    local unit SHI = LoadUnitHandle(hashTable, DMI, 83)
    local unit SZI = LoadUnitHandle(hashTable, DMI, 84)
    local boolean CK1 = false
    call DisableTrigger(LG)
    if SFI != null and SFI != X4I then
        call KillUnit(SFI)
    endif
    if SGI != null and SGI != X4I then
        call KillUnit(SGI)
    endif
    if SHI != null and SHI != X4I then
        call KillUnit(SHI)
    endif
    if SZI != null and SZI != X4I then
        call KillUnit(SZI)
    endif
    call EnableTrigger(LG)
endfunction

function B03 takes nothing returns boolean 
    return A03(GetTriggerUnit()) and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function BI3 takes unit B13, unit E1I returns nothing
    local trigger t = LoadTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(E1I)), 369)
    local integer i = 0
    local boolean BO3 = false
    local boolean B23 = false
    local boolean B33 = false
    local boolean B43 = false
    local boolean B53 = false
    local boolean B63 = false
    call DisableTrigger(t)
    call DisableTrigger(trigItemActions)
    loop
        exitwhen i > 5
        if GetItemTypeId( UnitItemInSlot(E1I, i) ) == itemId[FB0] then
            set BO3 = true
        endif
        if GetItemTypeId( UnitItemInSlot(E1I, i) ) == itemId[HF0] then
            set B23 = true
        endif
        if GetItemTypeId( UnitItemInSlot(E1I, i) ) == itemId[HZ0] then
            set B33 = true
        endif
        if GetItemTypeId( UnitItemInSlot(E1I, i) ) == itemId[HH0] then
            set B43 = true
        endif
        if GetItemTypeId( UnitItemInSlot(E1I, i) ) == itemId[HG0] then
            set B53 = true
        endif
        if GetItemTypeId( UnitItemInSlot(E1I, i) ) == itemId[itemIdPhaseBoots] then
            set B63 = true
        endif
        set i = i + 1
    endloop
    if B63 then
        call UnitAddItem(B13, CreateItem(itemId[itemIdPhaseBoots], 0, 0))
    elseif B53 then
        call UnitAddItem(B13, CreateItem(itemId[HG0], 0, 0))
    elseif B43 then
        call UnitAddItem(B13, CreateItem(itemId[HH0], 0, 0))
    elseif B33 then
        call UnitAddItem(B13, CreateItem(itemId[HZ0], 0, 0))
    elseif B23 then
        call UnitAddItem(B13, CreateItem(itemId[HF0], 0, 0))
    elseif BO3 then
        call UnitAddItem(B13, CreateItem(itemId[FB0], 0, 0))
    endif
    call EnableTrigger(t)
    call EnableTrigger(trigItemActions)
endfunction

function B73 takes nothing returns nothing
    local unit SVI = GetTriggerUnit()
    local integer i = 0
    local boolean BO3 = false
    local boolean B23 = false
    local boolean B33 = false
    local boolean B43 = false
    local boolean B53 = false
    local boolean B63 = false
    local integer AO3 = GetHandleId(GetOwningPlayer(SVI))
    local unit SFI = LoadUnitHandle(hashTable, AO3, 81)
    local unit SGI = LoadUnitHandle(hashTable, AO3, 82)
    local unit SHI = LoadUnitHandle(hashTable, AO3, 83)
    local unit SZI = LoadUnitHandle(hashTable, AO3, 84)
    local integer KTI
    local boolean B83 = false
    local integer B93 = 0
    local integer BA3 = 0
    local integer BB3 = 0
    local integer BC3 = 0
    local integer BD3 = 0
    local integer BE3 = 0
    call DisableTrigger(GetTriggeringTrigger())
    if GetUnitTypeId(SVI) == 'H00J' then
        call UnitRemoveItemFromSlot(SVI, 0)
        call EnableTrigger(GetTriggeringTrigger())
        return
    endif
    if not (GetItemTypeId(GetManipulatedItem()) == itemId[FB0] or GetItemTypeId(GetManipulatedItem()) == itemId[HF0] or GetItemTypeId(GetManipulatedItem()) == itemId[HZ0] or GetItemTypeId(GetManipulatedItem()) == itemId[HH0] or GetItemTypeId(GetManipulatedItem()) == itemId[HG0] or GetItemTypeId(GetManipulatedItem()) == itemId[itemIdPhaseBoots]) then
        call EnableTrigger(GetTriggeringTrigger())
        return
    endif
    call DisableTrigger(trigItemActions)
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_DROP_ITEM then
        set B83 = true
    endif
    loop
        exitwhen i > 5
        set KTI = GetItemTypeId( UnitItemInSlot(SVI, i) )
        if KTI == itemId[FB0] then
            set B93 = B93 + 1
            if (not (B83 and KTI == GetItemTypeId(GetManipulatedItem()))) or (B93 > 1 and KTI == GetItemTypeId(GetManipulatedItem())) then
                set BO3 = true
            endif
        endif
        if KTI == itemId[HF0] then
            set BA3 = BA3 + 1
            if (not (B83 and KTI == GetItemTypeId(GetManipulatedItem()))) or (BA3 > 1 and KTI == GetItemTypeId(GetManipulatedItem())) then
                set B23 = true
            endif
        endif
        if KTI == itemId[HZ0] then
            set BB3 = BB3 + 1
            if (not (B83 and KTI == GetItemTypeId(GetManipulatedItem()))) or (BB3 > 1 and KTI == GetItemTypeId(GetManipulatedItem())) then
                set B33 = true
            endif
        endif
        if KTI == itemId[HH0] then
            set BC3 = BC3 + 1
            if (not (B83 and KTI == GetItemTypeId(GetManipulatedItem()))) or (BC3 > 1 and KTI == GetItemTypeId(GetManipulatedItem())) then
                set B43 = true
            endif
        endif
        if KTI == itemId[HG0] then
            set BD3 = BD3 + 1
            if (not (B83 and KTI == GetItemTypeId(GetManipulatedItem()))) or (BD3 > 1 and KTI == GetItemTypeId(GetManipulatedItem())) then
                set B53 = true
            endif
        endif
        if KTI == itemId[itemIdPhaseBoots] then
            set BE3 = BE3 + 1
            if (not (B83 and KTI == GetItemTypeId(GetManipulatedItem()))) or (BE3 > 1 and KTI == GetItemTypeId(GetManipulatedItem())) then
                set B63 = true
            endif
        endif
        set i = i + 1
    endloop
    call RemoveItem( UnitRemoveItemFromSlot(SGI, 0) )
    if SHI != null then
        call RemoveItem( UnitRemoveItemFromSlot(SHI, 0) )
    endif
    if SHI != null then
        call RemoveItem( UnitRemoveItemFromSlot(SZI, 0) )
    endif
    if B63 then
        call UnitAddItem(SGI, CreateItem(itemId[itemIdPhaseBoots], 0, 0))
        if SHI != null then
            call UnitAddItem(SHI, CreateItem(itemId[itemIdPhaseBoots], 0, 0))
        endif
        if SZI != null then
            call UnitAddItem(SZI, CreateItem(itemId[itemIdPhaseBoots], 0, 0))
        endif
    elseif B53 then
        call UnitAddItem(SGI, CreateItem(itemId[HG0], 0, 0))
        if SHI != null then
            call UnitAddItem(SHI, CreateItem(itemId[HG0], 0, 0))
        endif
        if SZI != null then
            call UnitAddItem(SZI, CreateItem(itemId[HG0], 0, 0))
        endif
    elseif B43 then
        call UnitAddItem(SGI, CreateItem(itemId[HH0], 0, 0))
        if SHI != null then
            call UnitAddItem(SHI, CreateItem(itemId[HH0], 0, 0))
        endif
        if SZI != null then
            call UnitAddItem(SZI, CreateItem(itemId[HH0], 0, 0))
        endif
    elseif B33 then
        call UnitAddItem(SGI, CreateItem(itemId[HZ0], 0, 0))
        if SHI != null then
            call UnitAddItem(SHI, CreateItem(itemId[HZ0], 0, 0))
        endif
        if SZI != null then
            call UnitAddItem(SZI, CreateItem(itemId[HZ0], 0, 0))
        endif
    elseif B23 then
        call UnitAddItem(SGI, CreateItem(itemId[HF0], 0, 0))
        if SHI != null then
            call UnitAddItem(SHI, CreateItem(itemId[HF0], 0, 0))
        endif
        if SZI != null then
            call UnitAddItem(SZI, CreateItem(itemId[HF0], 0, 0))
        endif
    elseif BO3 then
        call UnitAddItem(SGI, CreateItem(itemId[FB0], 0, 0))
        if SHI != null then
            call UnitAddItem(SHI, CreateItem(itemId[FB0], 0, 0))
        endif
        if SZI != null then
            call UnitAddItem(SZI, CreateItem(itemId[FB0], 0, 0))
        endif
    endif
    call EnableTrigger(GetTriggeringTrigger())
    call EnableTrigger(trigItemActions)
endfunction

function BF3 takes nothing returns nothing
    local trigger t
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddAction(t, function AB3)
    call SavePlayerHandle(hashTable, GetHandleId(t), 370, GetOwningPlayer(GetTriggerUnit()))
    call SaveTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 371, t)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.3, true)
    call TriggerAddAction(t, function AI3)
    call SavePlayerHandle(hashTable, GetHandleId(t), 370, GetOwningPlayer(GetTriggerUnit()))
    call SaveTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 372, t)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function AU3)
    call TriggerAddCondition(t, Condition(function AQ3))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddAction(t, function B73)
    call TriggerAddCondition(t, Condition(function B03))
    call SaveTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 369, t)
    call ExecuteFunc("BG3")
endfunction

function BH3 takes unit BZ3, integer BV3 returns nothing
    local integer AO3 = GetHandleId(GetOwningPlayer(BZ3))
    local unit SFI = LoadUnitHandle(hashTable, AO3, 81)
    local unit SGI = LoadUnitHandle(hashTable, AO3, 82)
    local unit SHI = LoadUnitHandle(hashTable, AO3, 83)
    local unit SZI = LoadUnitHandle(hashTable, AO3, 84)
    if SFI != null and SFI != BZ3 then
        call SelectHeroSkill(SFI, BV3)
    endif
    if SGI != null and SGI != BZ3 then
        call SelectHeroSkill(SGI, BV3)
    endif
    if SHI != null and SHI != BZ3 then
        call SelectHeroSkill(SHI, BV3)
    endif
    if SZI != null and SZI != BZ3 then
        call SelectHeroSkill(SZI, BV3)
    endif
endfunction

function BW3 takes integer JXI, unit DVO, unit DWO returns nothing
    local integer EUI = 1
    local integer F0I = GetUnitAbilityLevel(DVO, JXI)
    loop
        exitwhen EUI > F0I
        call SelectHeroSkill(DWO, JXI)
        set EUI = EUI + 1
    endloop
endfunction

function BX3 takes unit B13, unit BY3 returns nothing
    call AddHeroXP(B13, GetHeroXP(BY3), false)
    call SaveInteger(hashTable, GetHandleId(B13), 368, GetHeroXP(BY3))
    call SaveInteger(hashTable, GetHandleId(B13), 367, 0)
    call BW3('A0N8', BY3, B13)
    call BW3('A0NB', BY3, B13)
    call BW3('A0N7', BY3, B13)
    call BW3('Aamk', BY3, B13)
    call BW3('A0MW', BY3, B13)
endfunction

function BJ3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local player EYI = GetOwningPlayer(E1I)
    local integer DMI = GetHandleId(EYI)
    local unit B13
    call BH3(E1I, 'A0MW')
    set B13 = CreateUnit(GetOwningPlayer(E1I), 'H00J', GetUnitX(E1I), GetUnitY(E1I), 0)
    call BX3(B13, E1I)
    call BI3(B13, E1I)
    call SaveUnitHandle(hashTable, DMI, (81 + GetUnitAbilityLevel(E1I, 'A0MW')), B13)
endfunction

function BK3 takes unit SGI, unit SHI, integer BV3, integer B93, integer BA3 returns nothing
    if B93 > BA3 then
        call SelectHeroSkill(SHI, BV3)
    elseif BA3 > B93 then
        call SelectHeroSkill(SGI, BV3)
    endif
endfunction

function BL3 takes unit SGI, unit SHI returns nothing
    local integer AL3 = GetHeroXP(SGI)
    local integer AM3 = GetHeroXP(SHI)
    local integer AD3 = GetHandleId(SGI)
    local integer AE3 = GetHandleId(SHI)
    local integer AV3 = LoadInteger(hashTable, AD3, 368)
    local integer AX3 = LoadInteger(hashTable, AE3, 368)
    local integer SP2
    if AL3 > AM3 then
        set SP2 = AL3 - AM3
        call AddHeroXP(SHI, SP2, true)
        if AM3 != GetHeroXP(SHI) then
            call SaveInteger(hashTable, AE3, 368, (AX3 + SP2))
        endif
    elseif AL3 < AM3 then
        set SP2 = AM3 - AL3
        call AddHeroXP(SGI, SP2, true)
        if AL3 != GetHeroXP(SGI) then
            call SaveInteger(hashTable, AD3, 368, (AV3 + SP2))
        endif
    endif
endfunction

function BM3 takes unit SGI, unit SHI returns nothing
    local integer BN3 = GetUnitAbilityLevel(SGI, 'A0N8')
    local integer BS3 = GetUnitAbilityLevel(SGI, 'A0NB')
    local integer BT3 = GetUnitAbilityLevel(SGI, 'A0N7')
    local integer BR3 = GetUnitAbilityLevel(SGI, 'A0MW')
    local integer BP3 = GetUnitAbilityLevel(SGI, 'Aamk')
    local integer BQ3 = GetUnitAbilityLevel(SHI, 'A0N8')
    local integer BU3 = GetUnitAbilityLevel(SHI, 'A0NB')
    local integer C03 = GetUnitAbilityLevel(SHI, 'A0N7')
    local integer CI3 = GetUnitAbilityLevel(SHI, 'A0MW')
    local integer C13 = GetUnitAbilityLevel(SHI, 'Aamk')
    call BL3(SGI, SHI)
    call BK3(SGI, SHI, 'A0N8', BN3, BQ3)
    call BK3(SGI, SHI, 'A0NB', BS3, BU3)
    call BK3(SGI, SHI, 'A0N7', BT3, C03)
    call BK3(SGI, SHI, 'A0MW', BR3, CI3)
    call BK3(SGI, SHI, 'Aamk', BP3, C13)
endfunction

function CO3 takes unit SGI, unit SHI returns nothing
    if SGI != null and SHI != null then
        call BM3(SGI, SHI)
    endif
endfunction

function C23 takes nothing returns nothing
    local integer AO3 = GetHandleId( LoadPlayerHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 370) )
    local unit SFI = LoadUnitHandle(hashTable, AO3, 81)
    local unit SGI = LoadUnitHandle(hashTable, AO3, 82)
    local unit SHI = LoadUnitHandle(hashTable, AO3, 83)
    local unit SZI = LoadUnitHandle(hashTable, AO3, 84)
    call DisableTrigger(A2I)
    call CO3(SFI, SGI)
    call CO3(SFI, SHI)
    call CO3(SFI, SZI)
    call CO3(SGI, SHI)
    call CO3(SGI, SZI)
    call CO3(SHI, SZI)
    call EnableTrigger(A2I)
endfunction

function BG3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddAction(t, function C23)
    call SavePlayerHandle(hashTable, GetHandleId(t), 370, GetOwningPlayer(GetTriggerUnit()))
endfunction

function C33 takes nothing returns nothing
    local integer BV3 = GetLearnedSkill()
    if IsUnitIllusion(GetTriggerUnit()) or A03(GetTriggerUnit()) == false then
        return
    endif
    if BV3 == 'A0MW' and GetUnitAbilityLevel(GetTriggerUnit(), BV3) == 1 then
        call TriggerExecute( LoadTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 371) )
        call TriggerExecute( LoadTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 372) )
        call SaveUnitHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 81, GetTriggerUnit())
        call SaveInteger(hashTable, GetHandleId(GetTriggerUnit()), 367, GetHeroXP(GetTriggerUnit()))
        call SaveInteger(hashTable, GetHandleId(GetTriggerUnit()), 368, 0)
        call DisableTrigger(GetTriggeringTrigger())
        call BF3()
        call EnableTrigger(GetTriggeringTrigger())
    endif
    if BV3 == 'A0MW' then
        call TriggerExecute( LoadTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 371) )
        call TriggerExecute( LoadTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 372) )
        call DisableTrigger(GetTriggeringTrigger())
        call BJ3()
        call EnableTrigger(GetTriggeringTrigger())
    endif
    if BV3 == 'A0N8' or BV3 == 'A0NB' or BV3 == 'A0N7' or BV3 == 'Aamk' then
        call TriggerExecute( LoadTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 371) )
        call TriggerExecute( LoadTriggerHandle(hashTable, GetHandleId(GetOwningPlayer(GetTriggerUnit())), 372) )
        call DisableTrigger(GetTriggeringTrigger())
        call BH3(GetTriggerUnit(), BV3)
        call EnableTrigger(GetTriggeringTrigger())
    endif
endfunction

function IP1 takes nothing returns nothing
    set A2I = CreateTrigger()
    call triggerRegisterAnyUnitEvent(A2I, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddAction(A2I, function C33)
endfunction

function C43 takes nothing returns nothing
    local location l = GetSpellTargetLoc()
    call Z8I("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl", GetLocationX(l), GetLocationY(l), 2)
    call TerrainDeformationRippleBJ(0.3, false, l, 0, 300, 100, 0.4, 20)
    call RemoveLocation(l)
    set l = null
endfunction

function C53 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A06W' then
        call C43()
    endif
    return false
endfunction

function QCI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function C53))
endfunction

function GenericCondition_BasicsAndStructureNoInvul takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == false and isUnitInvulnerable(GetFilterUnit()) == false
endfunction

function C63 takes nothing returns boolean 
    return IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == false and isUnitInvulnerable(GetFilterUnit()) == false)
endfunction

function C73 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local group g
    local unit u
    local real d
    local real a
    local real NDO
    local real NEO
    if GetTriggerEvalCount(t) > 32 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set g = allocGroup()
        set myUnit = E1I
        call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 500, Condition(function C63))
        set u = GroupPickRandomUnit(g)
        if u == null then
            set d = GetRandomReal(175, 400)
            set a = GetRandomReal(0, 6)
            set NDO = GetUnitX(E1I) + d*Cos(a)
            set NEO = GetUnitY(E1I) + d*Sin(a)
            call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl", NDO, NEO) )
        else 
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl", u, "origin") )
            call UnitDamageTarget(E1I, u, 12.50*FVI, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        endif
        call releaseGroup(g)
    endif
    set u = null
    set g = null
    set t = null
    set E1I = null
    return false
endfunction

function C83 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl", E1I, "hand right") )
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 5, GetUnitAbilityLevel(E1I, 'A035'))
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerAddCondition(t, Condition(function C73))
    set t = null
    set E1I = null
endfunction

function C93 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A035' then
        call C83()
    endif
    return false
endfunction

function QDI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function C93))
endfunction

function CA3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A06X')
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A0AQ')
        call UnitRemoveAbility(E1I, 'A0AQ')
        call UnitAddAbility(E1I, 'A0AQ')
        call SetUnitAbilityLevel(E1I, 'A0AQ', FVI)
    else 
        call UnitRemoveAbility(E1I, 'A06X')
        call UnitAddAbility(E1I, 'A06X')
        call SetUnitAbilityLevel(E1I, 'A06X', FVI)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function CB3 takes unit E1I returns nothing
    local integer FVI = GetUnitAbilityLevel(E1I, 'A06X')
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A0AQ')
    endif
    call SetUnitState(E1I, UNIT_STATE_MANA, GetUnitState(E1I, UNIT_STATE_MANA) - 20*FVI)
    if GetUnitState(E1I, UNIT_STATE_MANA) < 20*FVI then
        call IssueImmediateOrder(E1I, "unimmolation")
    endif
endfunction

function CC3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if GetIssuedOrderId() == 852178 then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call SaveUnitHandle(hashTable, DMI, 14, E1I)
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function CA3))
        endif
    else 
        call CB3(E1I)
    endif
    set t = null
    return false
endfunction

function CD3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function CC3))
    set E1I = null
    set t = null
endfunction

function CE3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A06X' or GetSpellAbilityId() == 'A0AQ' then
        call CD3()
    endif
    return false
endfunction

function QEI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CE3))
    set t = null
endfunction

function CF3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local integer CG3 = LoadInteger(hashTable, DMI, 373)
    local unit CH3 = D9I(CG3)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer CZ3 = LoadInteger(hashTable, DMI, 233)
    local integer PZO = LoadInteger(hashTable, DMI, 12)
    local unit C52 = LoadUnitHandle(hashTable, DMI, 374)
    local unit YVI = CreateUnit(p, 'e00E', GetUnitX(CH3), GetUnitY(CH3), 0)
    local group g
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call UnitAddAbility(YVI, 'A091')
    call SetUnitAbilityLevel(YVI, 'A091', FVI)
    call IssueTargetOrder(YVI, "frostnova", CH3)
    if CZ3 > PZO then
        call RemoveUnit(C52)
    else 
        set g = allocGroup()
        set myUnit = C52
        call GroupEnumUnitsInRange(g, GetUnitX(CH3), GetUnitY(CH3), 600, Condition(function XNI))
        call GroupRemoveUnit(g, CH3)
        set CH3 = GroupPickRandomUnit(g)
        call releaseGroup(g)
        if CH3 != null then
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call IssuePointOrder(C52, "move", GetUnitX(CH3), GetUnitY(CH3))
            call SavePlayerHandle(hashTable, DMI, 54, p)
            call SaveInteger(hashTable, DMI, 373, DBI(CH3))
            call SaveUnitHandle(hashTable, DMI, 374, C52)
            call SaveInteger(hashTable, DMI, 5, FVI)
            call SaveInteger(hashTable, DMI, 233, (CZ3 + 1))
            call SaveInteger(hashTable, DMI, 12, PZO)
            call TriggerRegisterTimerEvent(t, getUnitDistance(C52, CH3)/522, false)
            call TriggerAddCondition(t, Condition(function CF3))
        else 
            call RemoveUnit(C52)
        endif
    endif
    call D8I(CG3)
    set t = null
    set p = null
    set CH3 = null
    set C52 = null
    set YVI = null
    set g = null
    return false
endfunction

function CV3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A05T')
    local integer PZO = 7
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit C52
    if GetSpellAbilityId() == 'A08H' then
        set FVI = GetUnitAbilityLevel(E1I, 'A08H') + 1
        set PZO = 7
    endif
    set C52 = CreateUnit(GetOwningPlayer(E1I), 'e009', GetUnitX(E1I), GetUnitY(E1I), 0)
    call IssuePointOrder(C52, "move", GetUnitX(GDI), GetUnitY(GDI))
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(E1I))
    call SaveInteger(hashTable, DMI, 373, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 374, C52)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 233, 1)
    call SaveInteger(hashTable, DMI, 12, PZO)
    call TriggerRegisterTimerEvent(t, getUnitDistance(C52, GDI)/522, false)
    call TriggerAddCondition(t, Condition(function CF3))
    set E1I = null
    set GDI = null
    set C52 = null
    set t = null
endfunction

function CW3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A05T' or GetSpellAbilityId() == 'A08H' then
        call CV3()
    endif
    return false
endfunction

function QFI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CW3))
    set t = null
endfunction

function CX3 takes nothing returns nothing
    local location l
    local unit E1I = GetTriggerUnit()
    local real x1 = GetUnitX(E1I)
    local real y1 = GetUnitY(E1I)
    local real a
    local real x2
    local real y2
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0X5')
    local real GFI
    local real YHI
    local unit JII = null
    if GetSpellTargetUnit() != null then
        set l = GetUnitLoc(GetSpellTargetUnit())
    else 
        set l = GetSpellTargetLoc()
    endif
    set x2 = GetLocationX(l)
    set y2 = GetLocationY(l)
    set a = Atan2(y2 - y1, x2 - x1)
    set x2 = x1 + 700*Cos(a)
    set y2 = y1 + 700*Sin(a)
    if FVI == 1 then
        set GFI = 60
        set YHI = 0.5
    elseif FVI == 2 then
        set GFI = 130
        set YHI = 1
    elseif FVI == 3 then
        set GFI = 200
        set YHI = 1.5
    elseif FVI == 4 then
        set GFI = 260
        set YHI = 2
    endif
    if GetSpellTargetUnit() != null and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) then
        set JII = GetSpellTargetUnit()
    endif
    call J0I(E1I, JII, GFI, YHI, 0.52, x1, y1, x2, y2, 150, null, true, 1600)
    call RemoveLocation(l)
    set l = null
    set E1I = null
endfunction

function CY3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0X5' then
        call CX3()
    endif
    return false
endfunction

function A51 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CY3))
    call preloadAblility('A0X6')
    set t = null
endfunction

function CJ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl", E1I, "origin") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", E1I, "origin") )
    call UnitRemoveAbility(E1I, 'A0ZC')
    call UnitRemoveAbility(E1I, 'B00V')
    set t = null
    set E1I = null
    return false
endfunction

function CK3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl", E1I, "origin") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl", E1I, "origin") )
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 13 + 1*GetUnitAbilityLevel(E1I, 'A093') - 0.1, false)
    call TriggerAddCondition(t, Condition(function CJ3))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
    set E1I = null
    return false
endfunction

function CL3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e01V', 0, 0, 0)
    local real YHI = 13 + 1*GetUnitAbilityLevel(E1I, 'A093')
    call UnitAddAbility(YVI, 'A0ZC')
    call UnitApplyTimedLife(YVI, 'BTLF', YHI)
    call X1I(E1I, YHI, 175)
    call TriggerRegisterTimerEvent(t, 0.1, false)
    call TriggerAddCondition(t, Condition(function CK3))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    set t = null
    set E1I = null
endfunction

function CM3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A093' and GetUnitTypeId(GetTriggerUnit()) == 'U008' then
        call CL3()
    endif
    return false
endfunction

function A91 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CM3))
    set t = null
endfunction

function D5O takes nothing returns nothing
    local unit GCI = WM
    local unit GDI = XM
    local unit YVI = LoadUnitHandle(hashTable, GetHandleId(GCI), 219)
    call SaveUnitHandle(hashTable, GetHandleId(GCI), 219, YVI)
    call SetUnitOwner(YVI, GetOwningPlayer(GDI), true)
    set GCI = null
    set GDI = null
    set YVI = null
endfunction

function DT1 takes nothing returns nothing
    local unit E1I = MK
    local unit YVI = LoadUnitHandle(hashTable, GetHandleId(E1I), 219)
    if YVI != null and GetUnitTypeId(YVI) == 'e01V' then
        call RemoveUnit(YVI)
    endif
endfunction

function CN3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A03E')
    local unit YVI
    if FVI == 1 then
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e01V', 0, 0, 0)
        call UnitAddAbility(YVI, 'A0ZJ')
        call SaveUnitHandle(hashTable, GetHandleId(E1I), 219, YVI)
    else 
        set YVI = LoadUnitHandle(hashTable, GetHandleId(E1I), 219)
    endif
    if FVI == 2 then
        call UnitRemoveAbility(YVI, 'A0ZJ')
        call UnitAddAbility(YVI, 'A0ZI')
    elseif FVI == 3 then
        call UnitRemoveAbility(YVI, 'A0ZJ')
        call UnitRemoveAbility(YVI, 'A0ZI')
        call UnitAddAbility(YVI, 'A0ZH')
    elseif FVI == 4 then
        call UnitRemoveAbility(YVI, 'A0ZJ')
        call UnitRemoveAbility(YVI, 'A0ZI')
        call UnitRemoveAbility(YVI, 'A0ZH')
        call UnitAddAbility(YVI, 'A0ZG')
    endif
    set E1I = null
    set YVI = null
endfunction

function CS3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A03E' and IsUnitIllusion(GetTriggerUnit()) == false then
        call CN3()
    endif
    return false
endfunction

function AA1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function CS3))
    set t = null
endfunction

function CT3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit YVI
    local integer i = 1
    local boolean FUI = isPlayerSentinel(GetOwningPlayer(E1I))
    local player p
    local integer CR3
    local integer CP3
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0ZF')
    if FVI == 1 then
        set CR3 = 'A104'
        set CP3 = 'A107'
    elseif FVI == 2 then
        set CR3 = 'A101'
        set CP3 = 'A106'
    elseif FVI == 3 then
        set CR3 = 'A102'
        set CP3 = 'A105'
    elseif FVI == 4 then
        set CR3 = 'A103'
        set CP3 = 'A108'
    endif
    loop
        exitwhen i > 5
        if FUI then
            set p = sentinelPlayers[i]
        else 
            set p = scourgePlayers[i]
        endif
        set YVI = CreateUnit(p, 'e01V', 0, 0, 0)
        call UnitAddAbility(YVI, CR3)
        call UnitAddAbility(YVI, CP3)
        call UnitApplyTimedLife(YVI, 'BTLF', 12)
        set i = i + 1
    endloop
    set E1I = null
    set YVI = null
    set p = null
endfunction

function CQ3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0ZF' then
        call CT3()
    endif
    return false
endfunction

function AB1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function CQ3))
    set t = null
endfunction

function CU3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A094')
    local integer D03 = GetHeroLevel(GDI)
    if ModuloInteger(D03, 7 - FVI) == 0 or D03 == 25 then
        call doDamage(GCI, GDI, 1, 250)
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl", GDI, "chest") )
    endif
    set GCI = null
    set GDI = null
endfunction

function DI3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A094' then
        call CU3()
    endif
    return false
endfunction

function QGI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DI3))
    set t = null
endfunction

function D13 takes unit GCI returns nothing
    call UnitRemoveAbility(GCI, 'A1OQ')
    call UnitRemoveAbility(GCI, 'A1OR')
    call UnitRemoveAbility(GCI, 'A1OS')
    call UnitRemoveAbility(GCI, 'A1OT')
    call UnitRemoveAbility(GCI, 'A1OU')
    call UnitRemoveAbility(GCI, 'A1OV')
    call UnitRemoveAbility(GCI, 'A1OW')
    call UnitRemoveAbility(GCI, 'A1OX')
    call UnitRemoveAbility(GCI, 'A1OY')
    call UnitRemoveAbility(GCI, 'S00M')
    call UnitRemoveAbility(GCI, 'A1OZ')
    call UnitRemoveAbility(GCI, 'S00N')
    call UnitRemoveAbility(GCI, 'A1P0')
    call UnitRemoveAbility(GCI, 'A1P1')
    call UnitRemoveAbility(GCI, 'A1P7')
    call UnitRemoveAbility(GCI, 'A1PA')
    call UnitRemoveAbility(GCI, 'A1P3')
    call UnitRemoveAbility(GCI, 'A1P4')
    call UnitRemoveAbility(GCI, 'A1P5')
    call UnitRemoveAbility(GCI, 'A1P6')
endfunction

function DO3 takes unit GCI, unit GDI returns nothing
    local integer D23 = GetUnitTypeId(GDI)
    local integer D33 = 0
    local integer D43 = 0
    if D23 == 'n0HX' then
        set D33 = 'A1OQ'
    elseif D23 == 'nomg' then
        set D33 = 'A1OR'
    elseif D23 == 'nfpu' then
        set D33 = 'A1OS'
    elseif D23 == 'nstl' then
        set D33 = 'A1OT'
    elseif D23 == 'nsat' then
        set D33 = 'A1OU'
    elseif D23 == 'nsth' then
        set D33 = 'A1OV'
        set D43 = 'A1OW'
    elseif D23 == 'n00S' then
        set D33 = 'A1OX'
        set D43 = 'A1OY'
    elseif D23 == 'nkol' then
        set D33 = 'S00M'
    elseif D23 == 'nfsh' then
        set D33 = 'A1OZ'
    elseif D23 == 'ncnk' then
        set D33 = 'S00N'
        set D43 = 'A1P0'
    elseif D23 == 'ngns' then
        set D33 = 'A1P1'
    elseif D23 == 'ngh1' then
        set D33 = 'A1P7'
        set D43 = 'A1PA'
    elseif D23 == 'nowe' then
        set D33 = 'A1P3'
        set D43 = 'A1P4'
    elseif D23 == 'ndtw' then
        set D33 = 'A1P5'
        set D43 = 'A1P6'
    elseif D23 == 'nwlg' then
        set D33 = 'A1OY'
    endif
    if D33 != 0 then
        call D13(GCI)
        call UnitAddAbility(GCI, D33)
    endif
    if D43 != 0 then
        call UnitAddAbility(GCI, D43)
    endif
endfunction

function doomGetPromptString takes real D63 returns string 
    local string c1 = "|c00ff0303"
    local string c = "||"
    local string p = " "
    local string s = c1 + c + "|r"
    local string KJI
    if D63 > 85 then
        set KJI = s + p + s + p + s + p + s + p + s + p + s + p + s
    elseif D63 > 70 then
        set KJI = s + p + s + p + s + p + s + p + s + p + s + p + c
    elseif D63 > 55 then
        set KJI = s + p + s + p + s + p + s + p + s + p + c + p + c
    elseif D63 > 40 then
        set KJI = s + p + s + p + s + p + s + p + c + p + c + p + c
    elseif D63 > 25 then
        set KJI = s + p + s + p + s + p + c + p + c + p + c + p + c
    elseif D63 > 10 then
        set KJI = s + p + s + p + c + p + c + p + c + p + c + p + c
    elseif D63 > 0 then
        set KJI = s + p + c + p + c + p + c + p + c + p + c + p + c
    else 
        set KJI = c + p + c + p + c + p + c + p + c + p + c + p + c
    endif
    return KJI
endfunction

function D73 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer D83 = LoadInteger(hashTable, DMI, 230)
    local real HP = LoadReal(hashTable, DMI, 232)
    local texttag tt = LoadTextTagHandle(hashTable, DMI, 231)
    local integer DHI = GetTriggerEvalCount(t)
    local real D93 = HGI(HP - DHI, 0)
    local boolean DA3 = true
    call SetTextTagText(tt, doomGetPromptString(100*D93/HP), 0.018)
    call SetTextTagPosUnit(tt, E1I, 0)
    if IsUnitVisible(E1I, GetLocalPlayer()) == false then
        set DA3 = false
    endif
    call SetTextTagVisibility(tt, DA3)
    if D93 == 0 then
        call WVI(GetOwningPlayer(E1I), E1I, 20 + 20*FVI)
    endif
    if D93 == 0 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A10R', true)
        call UnitRemoveAbility(E1I, 'A10S')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call DestroyTextTag(tt)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function DB3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A10R')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real HP = GetUnitState(GDI, UNIT_STATE_LIFE)
    local integer I82 = GetUnitLevel(GDI)
    local integer D83 = GetUnitTypeId(GDI)
    local texttag tt = CreateTextTag()
    local boolean DA3 = true
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', 0, 0, 0)
    call ZHI("SPLK", GetUnitX(E1I), GetUnitY(E1I), GetUnitX(GDI), GetUnitY(GDI), 0.1, 0.1, 0.2, .9, 0.5)
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Orc\\Devour\\DevourEffectArt.mdl", GetUnitX(GDI), GetUnitY(GDI)) )
    if IsUnitVisible(E1I, GetLocalPlayer()) == false then
        set DA3 = false
    endif
    call DO3(E1I, GDI)
    call SetTextTagText(tt, doomGetPromptString(100), 0.018)
    call SetTextTagPosUnit(tt, E1I, 0)
    call SetTextTagVisibility(tt, DA3)
    call SetTextTagPermanent(tt, true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A10R', false)
    call UnitAddAbility(E1I, 'A10S')
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveTextTagHandle(hashTable, DMI, 231, tt)
    call SaveInteger(hashTable, DMI, 230, D83)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 232, (HP*1.0))
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function D73))
    call ShowUnit(GDI, false)
    call UnitRemoveBuffs(GDI, true, true)
    call UnitDamageTarget(YVI, GDI, 100000000.00, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
    set t = null
    set E1I = null
    set GDI = null
endfunction

function DC3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A10R')
    local integer I82 = GetUnitLevel(GDI)
    if (GetOwningPlayer(GDI) != sentinelPlayers[0] and GetOwningPlayer(GDI) != scourgePlayers[0]) and ((FVI == 1 and I82 > 2) or (FVI == 2 and I82 > 4) or (FVI == 3 and I82 > 5) or (FVI == 4 and I82 > 6)) then
        call GSI(E1I)
        call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n0CX'))
    endif
    set E1I = null
    set GDI = null
endfunction

function DD3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer id = LoadInteger(hashTable, DMI, 34)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function DE3 takes nothing returns nothing
    local integer id = GetSpellAbilityId()
    local trigger t
    local integer DMI
    if id == 'A1OQ' or id == 'A1OR' or id == 'A1OS' or id == 'A1OT' or id == 'A1OU' or id == 'A1OV' or id == 'A1OW' or id == 'A1OX' or id == 'A1OY' or id == 'S00M' or id == 'A1OZ' or id == 'S00N' or id == 'A1P0' or id == 'A1P1' or id == 'A1P2' or id == 'A1P3' or id == 'A1P4' or id == 'A1P5' or id == 'A1P6' then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DEATH)
        call TriggerRegisterTimerEvent(t, 1, false)
        call TriggerAddCondition(t, Condition(function DD3))
        call SaveUnitHandle(hashTable, DMI, 2, GetTriggerUnit())
        call SaveInteger(hashTable, DMI, 34, id)
        set t = null
    endif
endfunction

function DF3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A10R' then
        if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
            call DC3()
        else 
            call DB3()
        endif
    elseif GetUnitTypeId(GetTriggerUnit()) == 'UC42' then
        call DE3()
    endif
    return false
endfunction

function QHI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function DF3))
    set t = null
endfunction

function DG3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    call UnitRemoveAbility(GCI, 'A1OL')
    call UnitRemoveAbility(GCI, 'A1ON')
    call UnitRemoveAbility(GCI, 'A1OO')
    call UnitRemoveAbility(GCI, 'A1OM')
    call UnitRemoveAbility(GCI, 'B04J')
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function DH3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1OP')
    if FVI == 1 then
        call UnitAddAbility(GCI, 'A1OL')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1OL', false)
    elseif FVI == 2 then
        call UnitAddAbility(GCI, 'A1ON')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1ON', false)
    elseif FVI == 3 then
        call UnitAddAbility(GCI, 'A1OO')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1OO', false)
    elseif FVI == 4 then
        call UnitAddAbility(GCI, 'A1OM')
        call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1OM', false)
    endif
    call TriggerRegisterTimerEvent(t, 6 + 2*FVI, false)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function DG3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GCI = null
    set t = null
endfunction

function DZ3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1OP' then
        call DH3()
    endif
    return false
endfunction

function QZI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DZ3))
    set t = null
endfunction

function DV3 takes nothing returns boolean 
    local real x
    local real y
    if (IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) then
        set x = A3I + GetRandomReal(20, 70)*Cos(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
        set y = A4I + GetRandomReal(20, 70)*Sin(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)
        call SetUnitPosition(GetFilterUnit(), x, y)
    endif
    return false
endfunction

function DW3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local group g = allocGroup()
    set A3I = GetUnitX(E1I) + 100*Cos(GetUnitFacing(E1I)*bj_DEGTORAD)
    set A4I = GetUnitY(E1I) + 100*Sin(GetUnitFacing(E1I)*bj_DEGTORAD)
    call GroupEnumUnitsInRange(g, x, y, 410 + 24, Condition(function DV3))
    call releaseGroup(g)
    set E1I = null
    set g = null
endfunction

function DX3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A06F' then
        call DW3()
    endif
    return false
endfunction

function QVI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DX3))
    set t = null
endfunction

function DY3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    if GetUnitAbilityLevel(GDI, 'B00U') == 0 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(GDI, 'A1Q0')
        call UnitRemoveAbility(GDI, 'A1Q1')
        call UnitRemoveAbility(GDI, 'A1Q2')
        call UnitRemoveAbility(GDI, 'A1Q3')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function DJ3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A037')
    local integer VPI
    if FVI == 1 then
        set VPI = 'A1Q0'
    elseif FVI == 2 then
        set VPI = 'A1Q1'
    elseif FVI == 3 then
        set VPI = 'A1Q2'
    elseif FVI == 4 then
        set VPI = 'A1Q3'
    endif
    call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), VPI, false)
    call UnitAddAbility(GDI, VPI)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function DY3))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    set t = null
    set GCI = null
    set GDI = null
endfunction

function DK3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A037' then
        call DJ3()
    endif
    return false
endfunction

function QWI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DK3))
    set t = null
endfunction

function DL3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call UnitRemoveAbility(GDI, 'A1Q6')
    call UnitRemoveAbility(GDI, 'B0CX')
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GDI = null
    return false
endfunction

function DM3 takes unit GCI, unit GDI, integer FVI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SetUnitPathing(GDI, true)
    call TriggerRegisterTimerEvent(t, 2, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function DL3))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call UnitAddAbility(GDI, 'A1Q6')
    call UnitMakeAbilityPermanent(GDI, true, 'A1Q6')
    call SetPlayerAbilityAvailable(GetOwningPlayer(GDI), 'A1Q6', false)
    call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl", GDI, "chest") )
    call doDamage(GCI, GDI, 1, 50*FVI)
    set t = null
endfunction

function DN3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit DS3 = LoadUnitHandle(hashTable, DMI, 393)
    local unit DT3 = LoadUnitHandle(hashTable, DMI, 394)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real QTO = LoadReal(hashTable, DMI, 6)
    local real QRO = LoadReal(hashTable, DMI, 7)
    local real VGI = QTO + 19*Cos(LPO)
    local real VHI = QRO + 19*Sin(LPO)
    local group g
    local integer DR3 = LoadInteger(hashTable, DMI, 12)
    local location l
    call SetUnitPosition(GCI, VGI, VHI)
    call SetUnitFacing(GCI, LPO*bj_RADTODEG)
    call SaveReal(hashTable, DMI, 6, (VGI*1.0))
    call SaveReal(hashTable, DMI, 7, (VHI*1.0))
    if ModuloInteger(GetTriggerEvalCount(t), 4) == 0 then
        call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl", VGI, VHI) )
    endif
    if GetTriggerEvalCount(t) == 2 then
        call SetUnitAnimationByIndex(GCI, 3)
    endif
    if DS3 == null or DT3 == null then
        set myUnit = GCI
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, VGI, VHI, 120, Condition(function filterUnitInjurable))
        if FirstOfGroup(g) != null then
            if DS3 != null then
                call GroupRemoveUnit(g, DS3)
            endif
            if FirstOfGroup(g) != null then
                if DS3 == null then
                    set DS3 = FirstOfGroup(g)
                    call SetUnitPathing(DS3, false)
                elseif DT3 == null then
                    set DT3 = FirstOfGroup(g)
                    call SetUnitPathing(DT3, false)
                endif
            endif
        endif
        call releaseGroup(g)
        set g = null
    endif
    call SaveUnitHandle(hashTable, DMI, 393, DS3)
    call SaveUnitHandle(hashTable, DMI, 394, DT3)
    if DS3 != null then
        call SetUnitPosition(DS3, VGI, VHI)
    endif
    if DT3 != null then
        call SetUnitPosition(DT3, VGI, VHI)
    endif
    if ModuloInteger(GetTriggerEvalCount(t), 3) == 0 then
        call killDestructables(VGI, VHI, 200)
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > DR3 then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
        call SetUnitAnimationByIndex(GCI, 0)
        call SetUnitTimeScale(GCI, 1.0)
        call SetUnitPathing(GCI, true)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if DS3 != null then
            if IsPointInRegion(KN, GetUnitX(DS3), GetUnitY(DS3)) == true then
                set l = JFI(GetUnitX(DS3), GetUnitY(DS3))
                call SetUnitX(DS3, GetLocationX(l))
                call SetUnitY(DS3, GetLocationY(l))
                call RemoveLocation(l)
                set l = null
            endif
            call DM3(GCI, DS3, FVI)
            call killDestructables(GetUnitX(DS3), GetUnitY(DS3), 300)
        endif
        if DT3 != null then
            if IsPointInRegion(KN, GetUnitX(DT3), GetUnitY(DT3)) == true then
                set l = JFI(GetUnitX(DT3), GetUnitY(DT3))
                call SetUnitX(DT3, GetLocationX(l))
                call SetUnitY(DT3, GetLocationY(l))
                call RemoveLocation(l)
                set l = null
            endif
            call DM3(GCI, DT3, FVI)
            call killDestructables(GetUnitX(DT3), GetUnitY(DT3), 300)
        endif
        if DS3 != null and isUnitUnavailable(DS3) == false then
            call IssueTargetOrder(GCI, "attack", DS3)
        elseif DT3 != null and isUnitUnavailable(DT3) == false then
            call IssueTargetOrder(GCI, "attack", DT3)
        endif
        call killDestructables(VGI, VHI, 375)
        if IsPointInRegion(KN, GetUnitX(GCI), GetUnitY(GCI)) == true then
            set l = JFI(GetUnitX(GCI), GetUnitY(GCI))
            call SetUnitX(GCI, GetLocationX(l))
            call SetUnitY(GCI, GetLocationY(l))
            call RemoveLocation(l)
            set l = null
        endif
    endif
    set t = null
    set GCI = null
    return false
endfunction

function DP3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real HMI = H1I(GetSpellTargetX())
    local real HNI = H2I(GetSpellTargetY())
    local unit GCI = GetTriggerUnit()
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1RD')
    local real a = getAngle(HKI, HLI, HMI, HNI)*bj_DEGTORAD
    if getDistance(HKI, HLI, HMI, HNI) > 825 then
        set HMI = H1I(HKI + 825*Cos(a))
        set HNI = H2I(HLI + 825*Sin(a))
    endif
    call SetUnitPathing(GCI, false)
    call SetUnitAnimationByIndex(GCI, 3)
    call SetUnitTimeScale(GCI, 1.5)
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function DN3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveUnitHandle(hashTable, DMI, 393, null)
    call SaveUnitHandle(hashTable, DMI, 394, null)
    call SaveReal(hashTable, DMI, 47, (HMI*1.0))
    call SaveReal(hashTable, DMI, 48, (HNI*1.0))
    call SaveReal(hashTable, DMI, 6, (HKI*1.0))
    call SaveReal(hashTable, DMI, 7, (HLI*1.0))
    call SaveReal(hashTable, DMI, 13, (Atan2(HNI - HLI, HMI - HKI)*1.0))
    call SaveInteger(hashTable, DMI, 12, R2I(getDistance(HKI, HLI, HMI, HNI)/19.0))
    call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffectTarget("war3mapImported\\SkewerTuskGlow_1.mdx", GCI, "head"))
    set t = null
    set GCI = null
endfunction

function DQ3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1RD' then
        call DP3()
    endif
    return false
endfunction

function DU3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1RD' then
        call SetUnitAnimationByIndex(GetTriggerUnit(), 7)
    endif
    return false
endfunction

function QXI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function DQ3))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function DU3))
    set t = null
endfunction

function MysticSnake_DoNothing takes nothing returns nothing
endfunction

function E03 takes nothing returns boolean 
    local real d
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(A6I)) == true and IsUnitInGroup(GetFilterUnit(), A8I) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(A7I)) == true then
        set d = getDistance(GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()), GetUnitX(A6I), GetUnitY(A6I))
        if d < A9I then
            set A5I = GetFilterUnit()
            set A9I = d
        endif
    endif
    return false
endfunction

function EI3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local group LQO = LoadGroupHandle(hashTable, DMI, 187)
    local real E13 = LoadReal(hashTable, DMI, 222)
    local real EO3 = LoadReal(hashTable, DMI, 223)
    local real E23 = LoadReal(hashTable, DMI, 224)
    local real QD1
    local group g
    local real a
    local real x
    local real y
    set a = Atan2(GetUnitY(GDI) - GetUnitY(YVI), GetUnitX(GDI) - GetUnitX(YVI))
    if GCI == GDI then
        set x = GetUnitX(YVI) + 25*Cos(a)
        set y = GetUnitY(YVI) + 25*Sin(a)
    else 
        set x = GetUnitX(YVI) + 15*Cos(a)
        set y = GetUnitY(YVI) + 15*Sin(a)
    endif
    call SetUnitX(YVI, x)
    call SetUnitY(YVI, y)
    if getDistance(x, y, GetUnitX(GDI), GetUnitY(GDI)) < 60 then
        call SetUnitX(YVI, GetUnitX(GDI))
        call SetUnitY(YVI, GetUnitY(GDI))
        if GCI == GDI then
            call SetUnitState(GCI, UNIT_STATE_MANA, GetUnitState(GCI, UNIT_STATE_MANA) + E13)
            call KillUnit(YVI)
            call releaseGroup(LQO)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        else 
            if IsUnitVisible(GDI, GetOwningPlayer(YVI)) == true then
                call doDamage(GCI, GDI, 1, (40 + 40*FVI) + 0.2*E23*(40 + 40*FVI))
                set E23 = E23 + 1
                if GetUnitState(GDI, UNIT_STATE_MANA) > 0 then
                    set QD1 = RMinBJ(GetUnitState(GDI, UNIT_STATE_MANA), (10 + 10*FVI) + 0.2*EO3*(10 + 10*FVI))
                    call SetUnitState(GDI, UNIT_STATE_MANA, GetUnitState(GDI, UNIT_STATE_MANA) - QD1)
                    call playSoundAt(GG, GetUnitX(GDI), GetUnitY(GDI))
                    set E13 = E13 + QD1
                    set EO3 = EO3 + 1
                endif
            endif
            call SaveReal(hashTable, DMI, 222, (E13*1.0))
            call SaveReal(hashTable, DMI, 224, (E23*1.0))
            call SaveReal(hashTable, DMI, 223, (EO3*1.0))
            set g = allocGroup()
            set A5I = null
            set A6I = GDI
            set A8I = LQO
            set A9I = 99999
            set A7I = GCI
            call GroupEnumUnitsInRange(g, GetUnitX(GDI), GetUnitY(GDI), 500, Condition(function E03))
            call releaseGroup(g)
            if A5I == null or E23 == (2 + FVI) then
                call SaveInteger(hashTable, DMI, 30, DBI(GCI))
            else 
                call SaveInteger(hashTable, DMI, 30, DBI(A5I))
                call GroupAddUnit(LQO, A5I)
            endif
        endif
        call D8I(GHI)
    endif
    set t = null
    set GCI = null
    set GDI = null
    set g = null
    return false
endfunction

function E33 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0G2')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local group g = allocGroup()
    local real E23 = 0
    local real EO3 = 0
    local real QD1 = 0
    local real E13 = 0
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'h090', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
    call playSoundAt(FG, GetUnitX(GCI), GetUnitY(GCI))
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerAddCondition(t, Condition(function EI3))
    call SaveGroupHandle(hashTable, DMI, 187, g)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveInteger(hashTable, DMI, 34, 0)
    call SaveReal(hashTable, DMI, 222, (E13*1.0))
    call SaveReal(hashTable, DMI, 224, (E23*1.0))
    call SaveReal(hashTable, DMI, 223, (EO3*1.0))
    call GroupAddUnit(g, GDI)
    set GCI = null
    set GDI = null
    set t = null
    set g = null
endfunction

function E43 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0G2' then
        call E33()
    endif
    return false
endfunction

function QJI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function E43))
    set t = null
endfunction

function E53 takes nothing returns nothing
    call IssueTargetOrder(AAI, "purge", GetEnumUnit())
endfunction

function E63 takes unit GCI, unit GDI returns boolean 
    local real a = ZEI(GDI, GCI)
    local real B32 = GetUnitFacing(GDI)
    local real c1
    local real c2
    local real d1 = -1.0
    local real d2 = -1.0
    local real e1
    local real e2
    local real f1 = -1.0
    local real f2 = -1.0
    if IsUnitVisible(GCI, GetOwningPlayer(GDI)) == false then
        return false
    endif
    set c1 = RMaxBJ(B32 - 75, 0)
    set c2 = B32
    if B32 - 75 <= 0 then
        set d1 = 360 - (75 - (c2 - c1))
        set d2 = 360
    endif
    set e1 = B32
    set e2 = RMinBJ(B32 + 75, 360)
    if B32 + 75 >= 360 then
        set f1 = 0
        set f2 = 0 + (75 - (e2 - e1))
    endif
    if a < 0 then
        set a = a + 360
    elseif a > 360 then
        set a = a - 360
    endif
    if (a > c1 and a < c2) or (d1 != -1 and a > d1 and a < d2) or (a > e1 and a < e2) or (f1 != -1 and a > f1 and a < f2) then
        return true
    endif
    return false
endfunction

function E73 takes nothing returns boolean 
    return (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and E63(myUnit, GetFilterUnit()) and GetUnitAbilityLevel(GetFilterUnit(), 'B0BQ') == 0
endfunction

function E83 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1AT')
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local group g = allocGroup()
    set AAI = YVI
    set ABI = GCI
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 825, Condition(function E73))
    call ForGroup(g, function E53)
    call releaseGroup(g)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    if GetTriggerEvalCount(t) > 6 then
        call abandonTrigger(t)
        call FlushChildHashtable(hashTable, DMI)
    else 
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl", GCI, "chest"))
    endif
    set GCI = null
    set YVI = null
    set g = null
    set t = null
    return false
endfunction

function E93 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function E83))
    call SaveUnitHandle(hashTable, DMI, 2, GetTriggerUnit())
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call UnitAddAbility(YVI, 'A02V')
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl", GetTriggerUnit(), "chest"))
    call SetUnitAbilityLevel(YVI, 'A02V', GetUnitAbilityLevel(GetTriggerUnit(), 'A1AT'))
    call TriggerEvaluate(t)
    set t = null
    set YVI = null
endfunction

function EA3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1AT' then
        call E93()
    endif
    return false
endfunction

function QKI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EA3))
    set t = null
endfunction

function EB3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1C0' then
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1ET', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1ES', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1EQ', false)
        call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1ER', false)
    endif
    return false
endfunction

function QYI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EB3))
    set t = null
endfunction

function EC3 takes integer DHI, unit GCI, unit GDI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    if DHI == 0 then
        call UnitAddAbility(YVI, 'A0TH')
        call SetUnitAbilityLevel(YVI, 'A0TH', 1)
        call IssueTargetOrder(YVI, "slow", GDI)
    elseif DHI == 1 then
        call UnitAddAbility(YVI, 'A0TH')
        call SetUnitAbilityLevel(YVI, 'A0TH', 1)
        call IssueTargetOrder(YVI, "slow", GDI)
    elseif DHI == 2 then
        call UnitAddAbility(YVI, 'A0TH')
        call SetUnitAbilityLevel(YVI, 'A0TH', 2)
        call IssueTargetOrder(YVI, "slow", GDI)
    elseif DHI == 3 then
        call UnitAddAbility(YVI, 'A0TH')
        call SetUnitAbilityLevel(YVI, 'A0TH', 3)
        call IssueTargetOrder(YVI, "slow", GDI)
    elseif DHI == 4 then
        call UnitAddAbility(YVI, 'A0TH')
        call SetUnitAbilityLevel(YVI, 'A0TH', 4)
        call IssueTargetOrder(YVI, "slow", GDI)
    elseif DHI == 5 then
        call UnitAddAbility(YVI, 'A0TH')
        call SetUnitAbilityLevel(YVI, 'A0TH', 5)
        call IssueTargetOrder(YVI, "slow", GDI)
    endif
    set YVI = null
endfunction

function ED3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local real OF2 = (5.0 + FVI*5.0)/100.0
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        set DHI = DHI + 1
        call EC3(DHI, GCI, GDI)
        if DHI == 8 then
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        else 
            call SaveInteger(hashTable, DMI, 34, DHI)
        endif
    elseif G5I(GetEventDamage()) and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetEventDamageSource())) and IsUnitType(GetEventDamageSource(), UNIT_TYPE_STRUCTURE) == false then
        if IsUnitType(GetEventDamageSource(), UNIT_TYPE_HERO) or GetUnitAbilityLevel(GetEventDamageSource(), 'A04R') == 0 then
            call SetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE, GetUnitState(GetEventDamageSource(), UNIT_STATE_LIFE) + GetEventDamage()*OF2)
        else 
            call SetUnitState(playerHero[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))], UNIT_STATE_LIFE, GetUnitState(playerHero[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))], UNIT_STATE_LIFE) + GetEventDamage()*OF2)
        endif
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", GetEventDamageSource(), "origin") )
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function EE3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call EC3(0, GCI, GDI)
    call SaveInteger(hashTable, DMI, 375, 0)
    call SaveInteger(hashTable, DMI, 5, GetUnitAbilityLevel(GCI, 'A194'))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function ED3))
endfunction

function EF3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A194' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call EE3()
    endif
    return false
endfunction

function A11 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EF3))
    set t = null
    call preloadAblility('A0TH')
endfunction

function EG3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call SetUnitPosition(E1I, GetUnitX(GDI), GetUnitY(GDI))
        call PauseUnit(E1I, false)
        call ShowUnit(E1I, true)
        call SetUnitPathing(E1I, true)
        call ClearSelectionForPlayer(GetOwningPlayer(E1I))
        call SelectUnitForPlayerSingle(E1I, GetOwningPlayer(E1I))
        call SetUnitInvulnerable(E1I, false)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 177) )
        call RemoveUnit(YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A0SX' then
        call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl", GetUnitX(GDI), GetUnitY(GDI)) )
        if GetUnitAbilityLevel(E1I, 'A0SW') == 3 then
            call SetUnitState(E1I, UNIT_STATE_LIFE, GetUnitState(E1I, UNIT_STATE_LIFE) + GetUnitState(GDI, UNIT_STATE_MAX_LIFE))
        else 
            call SetUnitState(E1I, UNIT_STATE_LIFE, GetUnitState(E1I, UNIT_STATE_LIFE) + GetUnitState(GDI, UNIT_STATE_LIFE))
        endif
        call SetUnitPosition(E1I, GetUnitX(GDI), GetUnitY(GDI))
        call PauseUnit(E1I, false)
        call ShowUnit(E1I, true)
        call SetUnitPathing(E1I, true)
        call SetUnitAnimation(E1I, "Stand Victory")
        call W8I(E1I, 1.5)
        call ClearSelectionForPlayer(GetOwningPlayer(E1I))
        call SelectUnitForPlayerSingle(E1I, GetOwningPlayer(E1I))
        call SetUnitInvulnerable(E1I, false)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 177) )
        call RemoveUnit(YVI)
        call UnitRemoveBuffs(GDI, true, true)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call doDamage(E1I, GDI, 1, 100000)
        call doDamage(E1I, GDI, 2, 100000)
        call doDamage(E1I, GDI, 3, 100000)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_SELECTED and GetTriggerUnit() == GDI then
        call ClearSelectionForPlayer(GetOwningPlayer(E1I))
        call SelectUnitAddForPlayer(YVI, GetOwningPlayer(E1I))
    else 
        call SetUnitPosition(E1I, GetUnitX(GDI), GetUnitY(GDI))
    endif
    set t = null
    set GDI = null
    set E1I = null
    return false
endfunction

function EH3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e010', 7260, -7732, 0)
    local string EZ3 = "Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"
    local string EV3 = "Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"
    local string EW3 = "Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"
    if IsPlayerEnemy(GetLocalPlayer(), GetOwningPlayer(E1I)) then
        set EZ3 = ""
        set EV3 = ""
        set EW3 = ""
    endif
    call UnitRemoveBuffs(E1I, true, true)
    call SetUnitInvulnerable(YVI, true)
    call UnitAddAbility(YVI, 'A0SX')
    call ClearSelectionForPlayer(GetOwningPlayer(E1I))
    call SelectUnitForPlayerSingle(YVI, GetOwningPlayer(E1I))
    call UnitShareVision(GDI, GetOwningPlayer(E1I), true)
    call SetUnitInvulnerable(E1I, true)
    call ShowUnit(E1I, false)
    call PauseUnit(E1I, true)
    call SetUnitPathing(E1I, false)
    call DestroyEffect( AddSpecialEffectTarget(EZ3, GDI, "overhead") )
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget(EV3, GDI, "overhead"))
    call SaveEffectHandle(hashTable, DMI, 177, AddSpecialEffectTarget(EW3, GDI, "overhead"))
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterPlayerUnitEvent(t, GetOwningPlayer(E1I), EVENT_PLAYER_UNIT_SELECTED, Condition(function returnTrue1))
    call TriggerRegisterUnitEvent(t, YVI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddCondition(t, Condition(function EG3))
    set t = null
    set E1I = null
    set GDI = null
endfunction

function EX3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0SW' then
        call EH3()
    endif
    return false
endfunction

function EY3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0SW' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0SW') == 1 and IsUnitEnemy(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) and (GetOwningPlayer(GetSpellTargetUnit()) == playerNeutrals) == false then
        call GSI(GetTriggerUnit())
        call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n03E'))
    endif
    return false
endfunction

function AI1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EX3))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function EY3))
    set t = null
endfunction

function EJ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    call SetUnitVertexColor(E1I, 100, 100, 100, 255)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
    call UnitRemoveAbility(E1I, 'A0SR')
    call UnitRemoveAbility(E1I, 'A0ST')
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function EK3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0T2')
    call SetUnitVertexColor(E1I, 0, 0, 0, 255)
    call SetPlayerAbilityAvailable(GetOwningPlayer(E1I), 'A0ST', false)
    call UnitAddAbility(E1I, 'A0ST')
    call UnitAddAbility(E1I, 'A0SR')
    call SetUnitAbilityLevel(E1I, 'A0SR', FVI)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl", E1I, "right hand"))
    call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl", E1I, "left hand"))
    call TriggerRegisterTimerEvent(t, 1.75 + 0.75*FVI, false)
    call TriggerAddCondition(t, Condition(function EJ3))
    set E1I = null
    set t = null
endfunction

function EL3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0T2' then
        call EK3()
    endif
    return false
endfunction

function A01 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function EL3))
    set t = null
endfunction

function EM3 takes unit GCI, unit GDI returns nothing
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0SS')
    local real GFI = (0.03 + 0.01*FVI)*GetUnitState(GDI, UNIT_STATE_LIFE)
    call doDamage(GCI, GDI, 2, GFI)
    call SetUnitState(GCI, UNIT_STATE_LIFE, GFI + GetUnitState(GCI, UNIT_STATE_LIFE))
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl", GCI, "origin") )
endfunction

function EN3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI then
            call DisableTrigger(t)
            call EM3(GCI, GDI)
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function ES3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit GDI = GetTriggerUnit()
    local unit GCI = GetAttacker()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 1, false)
    call TriggerAddCondition(t, Condition(function EN3))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GDI = null
    set GCI = null
    set t = null
endfunction

function ET3 takes nothing returns nothing
    local unit GCI = GetAttacker()
    if (LoadInteger(hashTable, GetHandleId(GCI), 4274) == 1) == false then
        call DUI(GCI, 4274, 0.4)
        call ES3()
    endif
endfunction

function ER3 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetAttacker(), 'A0SS') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14) and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) then
        call ET3()
    endif
    return false
endfunction

function EP3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function ER3))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, GetTriggerUnit())
    set t = null
endfunction

function EQ3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0SS' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0SS') == 1 then
        call EP3()
    endif
    return false
endfunction

function OU1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function EQ3))
    set t = null
endfunction

function EU3 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local unit GCI = ACI
    local real KC1 = GetUnitState(GDI, UNIT_STATE_LIFE)
    local real F03 = GetUnitState(GDI, UNIT_STATE_MAX_LIFE)
    local real FI3 = ((0.002 + 0.002*ADI)*F03)/2
    if KC1 < FI3 then
        call SetUnitState(GDI, UNIT_STATE_LIFE, 1)
        call doDamage(GCI, GDI, 3, 100)
        call doDamage(GCI, GDI, 1, 100)
        call doDamage(GCI, GDI, 2, 100)
    else 
        call SetUnitState(GDI, UNIT_STATE_LIFE, HGI(GetUnitState(GDI, UNIT_STATE_LIFE) - FI3, 1))
    endif
    set GDI = null
    set GCI = null
endfunction

function F13 takes nothing returns boolean 
    return (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and GetUnitAbilityLevel(GetFilterUnit(), 'B084') > 0
endfunction

function FO3 takes nothing returns boolean 
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local group g
    if isUnitUnavailable(GCI) == false then
        set g = allocGroup()
        set myUnit = GCI
        set ACI = GCI
        set ADI = GetUnitAbilityLevel(GCI, 'A01N')
        call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 1025, Condition(function F13))
        call ForGroup(g, function EU3)
        call releaseGroup(g)
    endif
    set g = null
    set GCI = null
    return false
endfunction

function F23 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function FO3))
    call SaveUnitHandle(hashTable, GetHandleId(t), 2, GetTriggerUnit())
    set t = null
endfunction

function F33 takes nothing returns boolean 
    if GetLearnedSkill() == 'A01N' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A01N') == 1 then
        call F23()
    endif
    return false
endfunction

function QSI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function F33))
    set t = null
endfunction

function F43 takes nothing returns boolean 
    if (not (UnitHasBuffBJ(GetKillingUnit(), 'B02R') == true)) then
        return false
    endif
    return true
endfunction

function F53 takes nothing returns nothing
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl", GetKillingUnit(), "origin") )
    call SetUnitManaBJ(GetKillingUnit(), (GetUnitStateSwap(UNIT_STATE_MANA, GetKillingUnit()) + (12.00*I2R( GetUnitAbilityLevelSwapped('A060', GetKillingUnit()) ))))
endfunction

function QLI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function F43))
    call TriggerAddAction(t, function F53)
endfunction

function F63 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GCI = myUnit
    local unit GDI = GK
    local real GFI = LoadReal(hashTable, DMI, 20)
    local real F73 = LoadReal(hashTable, DMI, 21)
    if IsUnitAlly(GDI, GetOwningPlayer(GCI)) then
        call SetUnitState(GDI, UNIT_STATE_LIFE, GetUnitState(GDI, UNIT_STATE_LIFE) + F73)
    else 
        call doDamage(GCI, GDI, 1, GFI)
    endif
    set GCI = null
    set GDI = null
endfunction

function F83 takes nothing returns nothing
    local trigger t = VZI(myUnit, GetEnumUnit(), 'h00W', "F63", 400)
    local integer DMI = GetHandleId(t)
    call SaveReal(hashTable, DMI, 20, (OK*1.0))
    call SaveReal(hashTable, DMI, 21, (AK*1.0))
    set t = null
endfunction

function F93 takes nothing returns nothing
    if IsUnitVisible(GetEnumUnit(), GetOwningPlayer(myUnit)) then
        call F83()
    endif
endfunction

function FA3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local group g = allocGroup()
    local integer FVI = GetUnitAbilityLevel(E1I, AEI)
    local real r
    local real GFI
    local real F73
    if FVI == 1 then
        set GFI = 75
        set F73 = 50
        set r = 400
    elseif FVI == 2 then
        set GFI = 125
        set F73 = 75
        set r = 450
    elseif FVI == 3 then
        set GFI = 200
        set F73 = 100
        set r = 475
    elseif FVI == 4 then
        set GFI = 275
        set F73 = 130
        set r = 500
    endif
    set myUnit = E1I
    set OK = GFI
    set AK = F73
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), r, Condition(function Y9I))
    call GroupRemoveUnit(g, E1I)
    call ForGroup(g, function F93)
    call releaseGroup(g)
    call SetUnitState(E1I, UNIT_STATE_LIFE, GetUnitState(E1I, UNIT_STATE_LIFE) + F73)
    set E1I = null
    set g = null
endfunction

function FB3 takes nothing returns boolean 
    if GetSpellAbilityId() == AEI then
        call FA3()
    endif
    return false
endfunction

function QMI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FB3))
    set t = null
endfunction

function FC3 takes nothing returns boolean 
    return (GetSpellAbilityId() == 'A067' or GetSpellAbilityId() == 'A08P') and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
endfunction

function FD3 takes nothing returns nothing
    local integer FE3 = GetUnitAbilityLevel(GetTriggerUnit(), 'A067')
    local integer FF3 = GetUnitAbilityLevel(GetTriggerUnit(), 'A08P')
    if FE3 == 1 then
        set KO = 0.4
    endif
    if FE3 == 2 or FF3 == 1 then
        set KO = 0.6
    endif
    if FE3 == 3 or FF3 == 2 then
        set KO = 0.9
    endif
    if FF3 == 3 then
        set KO = 1.2
    endif
    call UnitDamageTargetBJ(GetTriggerUnit(), GetSpellTargetUnit(), (KO*(GetUnitStateSwap(UNIT_STATE_MAX_LIFE, GetSpellTargetUnit()) - GetUnitStateSwap(UNIT_STATE_LIFE, GetSpellTargetUnit()))), ATTACK_TYPE_NORMAL, DAMAGE_TYPE_FIRE)
endfunction

function QNI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FC3))
    call TriggerAddAction(t, function FD3)
endfunction

function FG3 takes nothing returns nothing
    local location l
    local unit E1I = GetTriggerUnit()
    local real x1 = GetUnitX(E1I)
    local real y1 = GetUnitY(E1I)
    local real a
    local real x2
    local real y2
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0X7')
    local real GFI
    local real YHI
    local unit JII = null
    if GetSpellTargetUnit() != null then
        set l = GetUnitLoc(GetSpellTargetUnit())
    else 
        set l = GetSpellTargetLoc()
    endif
    set x2 = GetLocationX(l)
    set y2 = GetLocationY(l)
    set a = Atan2(y2 - y1, x2 - x1)
    set x2 = x1 + 700*Cos(a)
    set y2 = y1 + 700*Sin(a)
    if FVI == 1 then
        set GFI = 80
        set YHI = 0.75
    elseif FVI == 2 then
        set GFI = 140
        set YHI = 1.25
    elseif FVI == 3 then
        set GFI = 200
        set YHI = 1.75
    elseif FVI == 4 then
        set GFI = 260
        set YHI = 2.25
    endif
    if GetSpellTargetUnit() != null and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) then
        set JII = GetSpellTargetUnit()
    endif
    call J0I(E1I, JII, GFI, YHI, 0.52, x1, y1, x2, y2, 150, null, true, 1600)
    call RemoveLocation(l)
    set l = null
    set E1I = null
endfunction

function FH3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0X7' then
        call FG3()
    endif
    return false
endfunction

function A61 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FH3))
    call preloadAblility('A0X6')
    set t = null
endfunction

function FZ3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real r = GetHeroInt(GDI, true)*4
    local integer FV3 = IMinBJ(R2I(r), R2I( GetUnitState(GDI, UNIT_STATE_MANA) ))
    call SetUnitState(GDI, UNIT_STATE_MANA, GetUnitState(GDI, UNIT_STATE_MANA) - FV3)
    call doDamage(GCI, GDI, 1, FV3)
    call XGI("MBUR", GCI, GDI, 1, 1, 1, 1, 0.5)
    call ZKI("-" + I2S(FV3), 3, GDI, 0.023, 82, 82, 255, 255)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl", GDI, "chest") )
    set GCI = null
    set GDI = null
endfunction

function FW3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1H5' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call FZ3()
    endif
    return false
endfunction

function A71 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FW3))
    set t = null
endfunction

function FX3 takes nothing returns nothing
    call IssueTargetOrder(AFI, "soulburn", GetEnumUnit())
endfunction

function FY3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    local group g = allocGroup()
    set AFI = YVI
    call UnitAddAbility(YVI, 'A1GG')
    call GroupEnumUnitsInRange(g, x, y, 300, Condition(function XKI))
    call ForGroup(g, function FX3)
    call releaseGroup(g)
    call KillUnit(GCI)
    call SetUnitAnimation(GCI, "death")
    call DestroyEffect( AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl", x, y) )
    set GCI = null
    set YVI = null
    set g = null
endfunction

function FJ3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1HH' then
        call FY3()
    endif
    return false
endfunction

function A81 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FJ3))
    set t = null
endfunction

function FK3 takes nothing returns nothing
    local integer FL3 = GetUnitAbilityLevel(GetKillingUnit(), 'A0CQ')
    local integer FVI = GetUnitAbilityLevel(GetKillingUnit(), 'A0BR')
    local integer FM3
    if FVI == 1 then
        set FM3 = 8
    elseif FVI == 2 then
        set FM3 = 15
    elseif FVI == 3 then
        set FM3 = 23
    else 
        set FM3 = 30
    endif
    if FL3 <= FM3 then
        call SetUnitAbilityLevel(GetKillingUnit(), 'A0CQ', FL3 + 1)
        call DestroyEffect( AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl", GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit())) )
    endif
endfunction

function Necromastry_Death takes nothing returns nothing
    call SetUnitAbilityLevel(GetTriggerUnit(), 'A0CQ', R2I(GetUnitAbilityLevel(GetTriggerUnit(), 'A0CQ')*0.5) + 1)
endfunction

function FN3 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetKillingUnit(), 'A0BR') > 0 and IsUnitIllusion(GetTriggerUnit()) == false then
        call FK3()
    endif
    if GetUnitAbilityLevel(GetTriggerUnit(), 'A0BR') > 0 and IsUnitIllusion(GetTriggerUnit()) == false then
        call SetUnitAbilityLevel(GetTriggerUnit(), 'A0CQ', R2I(GetUnitAbilityLevel(GetTriggerUnit(), 'A0CQ')*0.5) + 1)
    endif
    return false
endfunction

function QTI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function FN3))
    set t = null
endfunction

constant function Shadowraze_RawCode1 takes nothing returns integer 
    return 'A0EY'
endfunction

constant function Shadowraze_RawCode2 takes nothing returns integer 
    return 'A0FH'
endfunction

constant function Shadowraze_RawCode3 takes nothing returns integer 
    return 'A0F0'
endfunction

constant function Shadowraze_Area takes nothing returns integer 
    return 275
endfunction

function FS3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0EY' or GetSpellAbilityId() == 'A0FH' or GetSpellAbilityId() == 'A0F0'
endfunction

function FT3 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') != 1
endfunction

function FR3 takes nothing returns nothing
    call UnitDamageTarget(GetTriggerUnit(), GetEnumUnit(), 75*GetUnitAbilityLevel(GetTriggerUnit(), GetSpellAbilityId()), true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_DEATH, WEAPON_TYPE_WHOKNOWS)
endfunction

function FP3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit YVI
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function FT3)
    local real C0I = GetUnitFacing(E1I)
    local real x
    local real y
    if GetSpellAbilityId() == 'A0EY' then
        set x = GetUnitX(E1I) + 200*Cos(C0I*bj_DEGTORAD)
        set y = GetUnitY(E1I) + 200*Sin(C0I*bj_DEGTORAD)
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e006', x, y, 0)
        call UnitApplyTimedLife(YVI, 'BTLF', 2)
        call GroupEnumUnitsInRange(MNI, x, y, 275, BH1)
        call ForGroup(MNI, function FR3)
        call GroupClear(MNI)
    endif
    if GetSpellAbilityId() == 'A0FH' then
        set x = GetUnitX(E1I) + 450*Cos(C0I*bj_DEGTORAD)
        set y = GetUnitY(E1I) + 450*Sin(C0I*bj_DEGTORAD)
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e006', x, y, 0)
        call UnitApplyTimedLife(YVI, 'BTLF', 2)
        call GroupEnumUnitsInRange(MNI, x, y, 275, BH1)
        call ForGroup(MNI, function FR3)
        call GroupClear(MNI)
    endif
    if GetSpellAbilityId() == 'A0F0' then
        set x = GetUnitX(E1I) + 700*Cos(C0I*bj_DEGTORAD)
        set y = GetUnitY(E1I) + 700*Sin(C0I*bj_DEGTORAD)
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e006', x, y, 0)
        call UnitApplyTimedLife(YVI, 'BTLF', 2)
        call GroupEnumUnitsInRange(MNI, x, y, 275, BH1)
        call ForGroup(MNI, function FR3)
        call GroupClear(MNI)
    endif
    call releaseGroup(MNI)
endfunction

function QRI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(t, function FP3)
    call TriggerAddCondition(t, Condition(function FS3))
endfunction

function FQ3 takes nothing returns nothing
    if (GetLearnedSkill() == 'A0EY') then
        if (GetUnitAbilityLevelSwapped('A0EY', GetTriggerUnit()) == 1) then
            call UnitAddAbility(GetTriggerUnit(), 'A0F0')
            call UnitAddAbility(GetTriggerUnit(), 'A0FH')
        else 
            call SetUnitAbilityLevelSwapped('A0F0', GetTriggerUnit(), GetUnitAbilityLevelSwapped('A0EY', GetTriggerUnit()))
            call SetUnitAbilityLevelSwapped('A0FH', GetTriggerUnit(), GetUnitAbilityLevelSwapped('A0EY', GetTriggerUnit()))
        endif
    endif
    if (GetLearnedSkill() == 'A0BR') then
        if (GetUnitAbilityLevelSwapped('A0BR', GetTriggerUnit()) == 1) then
            call UnitAddAbility(GetTriggerUnit(), 'A0CQ')
        endif
    endif
endfunction

function NL takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddAction(t, function FQ3)
endfunction

function FU3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0HE' or GetSpellAbilityId() == 'A1MP'
endfunction

function G03 takes nothing returns nothing
    local integer FL3 = GetUnitAbilityLevelSwapped('A0CQ', GetTriggerUnit())
    local integer GI3
    local integer F0I
    local unit GTI = GetTriggerUnit()
    local location EA1 = GetUnitLoc(GetTriggerUnit())
    local location SUO
    local integer FVI = GetUnitAbilityLevelSwapped('A0HE', GetTriggerUnit())
    if FVI == 0 then
        set FVI = GetUnitAbilityLevelSwapped('A1MP', GetTriggerUnit()) + 1
    endif
    set FL3 = FL3/2
    set GI3 = 1
    set F0I = FL3
    loop
        exitwhen GI3 > F0I
        set SUO = BPI(EA1, 50.00, (I2R(GI3)*(360/FL3)))
        call CreateNUnitsAtLoc(1, 'e00C', GetOwningPlayer(GTI), EA1, bj_UNIT_FACING)
        call UnitAddAbility(bj_lastCreatedUnit, 'A0HG')
        call SetUnitAbilityLevelSwapped('A0HG', bj_lastCreatedUnit, FVI)
        call UnitApplyTimedLifeBJ(2.00, 'BTLF', bj_lastCreatedUnit)
        call IssuePointOrderLoc(bj_lastCreatedUnit, "carrionswarm", SUO)
        call SetUnitPathing(bj_lastCreatedUnit, false)
        call SetUnitInvulnerable(bj_lastCreatedUnit, true)
        call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
        call RemoveLocation(SUO)
        set GI3 = GI3 + 1
    endloop
    call RemoveLocation(EA1)
endfunction

function QPI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function FU3))
    call TriggerAddAction(t, function G03)
endfunction

function G13 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0HE' or GetSpellAbilityId() == 'A1MP'
endfunction

function GO3 takes nothing returns boolean 
    if (IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true) then
        return false
    endif
    if (GetUnitAbilityLevelSwapped('A04R', GetFilterUnit()) == 1) then
        return false
    endif
    if (IsUnitAliveBJ(GetFilterUnit()) == false) then
        return false
    endif
    if (GetUnitTypeId(GetFilterUnit()) == 'o003') then
        return false
    endif
    if (IsUnitEnemy(GetFilterUnit(), GetTriggerPlayer()) == false) then
        return false
    endif
    if (GetTriggerUnit() == GetFilterUnit()) then
        return false
    endif
    if (IsUnitVisible(GetFilterUnit(), GetTriggerPlayer()) == false) then
        return false
    endif
    return true
endfunction

function G23 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local location EA1 = GetUnitLoc(GTI)
    local integer FVI = GetUnitAbilityLevelSwapped('A0HE', GetTriggerUnit())
    if FVI == 0 then
        set FVI = GetUnitAbilityLevelSwapped('A1MP', GetTriggerUnit())
    endif
    call CreateNUnitsAtLoc(1, 'e00C', GetOwningPlayer(GTI), EA1, bj_UNIT_FACING)
    call UnitAddAbility(bj_lastCreatedUnit, 'A0HH')
    call SetUnitAbilityLevelSwapped('A0HH', bj_lastCreatedUnit, FVI)
    call UnitApplyTimedLifeBJ(2.00, 'BTLF', bj_lastCreatedUnit)
    call IssueTargetOrder(bj_lastCreatedUnit, "cripple", GetEnumUnit())
    call SetUnitPathing(bj_lastCreatedUnit, false)
    call SetUnitInvulnerable(bj_lastCreatedUnit, true)
    call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
    call RemoveLocation(EA1)
endfunction

function G33 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local location EA1 = GetUnitLoc(GTI)
    local integer FVI = GetUnitAbilityLevelSwapped('A0HE', GetTriggerUnit())
    if FVI == 0 then
        set FVI = GetUnitAbilityLevelSwapped('A1MP', GetTriggerUnit())
    endif
    call CreateNUnitsAtLoc(1, 'e00C', GetOwningPlayer(GTI), EA1, bj_UNIT_FACING)
    call UnitAddAbility(bj_lastCreatedUnit, 'A0HH')
    call SetUnitAbilityLevelSwapped('A0HH', bj_lastCreatedUnit, FVI)
    call UnitApplyTimedLifeBJ(2.00, 'BTLF', bj_lastCreatedUnit)
    call IssueTargetOrder(bj_lastCreatedUnit, "cripple", GetEnumUnit())
    call SetUnitPathing(bj_lastCreatedUnit, false)
    call SetUnitInvulnerable(bj_lastCreatedUnit, true)
    call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
    call RemoveLocation(EA1)
endfunction

function G43 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local location EA1 = GetUnitLoc(GTI)
    local integer FVI = GetUnitAbilityLevelSwapped('A0HE', GetTriggerUnit())
    if FVI == 0 then
        set FVI = GetUnitAbilityLevelSwapped('A1MP', GetTriggerUnit())
    endif
    call CreateNUnitsAtLoc(1, 'e00C', GetOwningPlayer(GTI), EA1, bj_UNIT_FACING)
    call UnitAddAbility(bj_lastCreatedUnit, 'A0HH')
    call SetUnitAbilityLevelSwapped('A0HH', bj_lastCreatedUnit, FVI)
    call UnitApplyTimedLifeBJ(2.00, 'BTLF', bj_lastCreatedUnit)
    call IssueTargetOrder(bj_lastCreatedUnit, "cripple", GetEnumUnit())
    call SetUnitPathing(bj_lastCreatedUnit, false)
    call SetUnitInvulnerable(bj_lastCreatedUnit, true)
    call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
    call RemoveLocation(EA1)
endfunction

function G53 takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetTriggerUnit())
    local unit GTI = GetTriggerUnit()
    local group MNI
    set MNI = allocGroup()
    call GroupEnumUnitsInRangeOfLoc(MNI, EA1, 700, Condition(function GO3))
    call ForGroup(MNI, function G23)
    call releaseGroup(MNI)
    set MNI = allocGroup()
    call GroupEnumUnitsInRangeOfLoc(MNI, EA1, 400, Condition(function GO3))
    call ForGroup(MNI, function G33)
    call releaseGroup(MNI)
    set MNI = allocGroup()
    call GroupEnumUnitsInRangeOfLoc(MNI, EA1, 200, Condition(function GO3))
    call ForGroup(MNI, function G43)
    call releaseGroup(MNI)
    call RemoveLocation(EA1)
endfunction

function QQI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function G13))
    call TriggerAddAction(t, function G53)
endfunction

function G63 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A02H'
endfunction

function G73 takes nothing returns nothing
    local unit YVI
    if (GRI() == false) then
        set YVI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()), bj_UNIT_FACING)
        call UnitAddAbility(YVI, 'A02R')
        call IssueTargetOrder(YVI, "slow", GetSpellTargetUnit())
    else 
        set YVI = CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'e00E', GetUnitX(GetSpellTargetUnit()), GetUnitY(GetSpellTargetUnit()), bj_UNIT_FACING)
        call UnitAddAbility(YVI, 'A1H1')
        call IssueTargetOrder(YVI, "slow", GetSpellTargetUnit())
    endif
endfunction

function U0I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function G63))
    call TriggerAddAction(t, function G73)
endfunction

function G83 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    call ResetUnitAnimation(GCI)
    call RemoveUnit(YVI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set GCI = null
    set YVI = null
    set t = null
    return false
endfunction

function G93 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'u01I', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function G83))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SetUnitVertexColorBJ(YVI, 0, 0, 0, 75)
    call SetUnitAnimation(YVI, "spell third")
    set GCI = null
    set YVI = null
    set t = null
endfunction

function GA3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A08C' and GetUnitAbilityLevel(GetTriggerUnit(), 'A08C') < 5 then
        call G93()
    endif
    return false
endfunction

function UII takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function GA3))
    set t = null
endfunction

function GB3 takes nothing returns boolean 
    return (GetLearnedSkill() == 'A086' or GetLearnedSkill() == 'A08E') and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function GC3 takes nothing returns boolean 
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GD3 = LoadUnitHandle(hashTable, DMI, 304)
    local unit GE3 = LoadUnitHandle(hashTable, DMI, 305)
    if GD3 == null or isUnitUnavailable(GD3) or GRI() or getSpecificItem(GD3, itemId[Y30]) == null then
        call SetUnitX(GE3, LoadReal(hashTable, DMI, 6))
        call SetUnitY(GE3, LoadReal(hashTable, DMI, 7))
    else 
        call SetUnitX(GE3, GetUnitX(GD3))
        call SetUnitY(GE3, GetUnitY(GD3))
    endif
    return false
endfunction

function GF3 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GD3 = LoadUnitHandle(hashTable, DMI, 304)
    if GD3 != null and GRI() and isUnitUnavailable(GD3) == false then
        call UnitRemoveAbility(GD3, 'A116')
        call UnitRemoveAbility(GD3, 'A117')
        call SetUnitAbilityLevel(GD3, 'S00A', 5)
        call SetUnitAbilityLevel(GD3, 'A08C', 5)
    elseif GD3 != null and GRI() == false and isUnitUnavailable(GD3) == false then
        call UnitAddAbility(GD3, 'A116')
        call UnitAddAbility(GD3, 'A117')
        call SetUnitAbilityLevel(GD3, 'S00A', GetUnitAbilityLevel(GD3, 'A086'))
        call SetUnitAbilityLevel(GD3, 'A08C', GetUnitAbilityLevel(GD3, 'A08E'))
    endif
endfunction

function GG3 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggerUnit())
    local trigger t
    if (LoadBoolean(hashTable, DMI, 306) == false) then
        call SaveBoolean(hashTable, DMI, 306, true)
        set t = CreateTrigger()
        call TriggerRegisterTimerEventPeriodic(t, 2.00)
        call TriggerRegisterGameStateEventTimeOfDay(t, LESS_THAN, 6.00)
        call TriggerRegisterGameStateEventTimeOfDay(t, GREATER_THAN, 18.00)
        call TriggerAddAction(t, function GF3)
        call SaveUnitHandle(hashTable, GetHandleId(t), 304, GetTriggerUnit())
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0.5, true)
        call TriggerAddCondition(t, Condition(function GC3))
        call SaveUnitHandle(hashTable, DMI, 304, GetTriggerUnit())
        call SaveUnitHandle(hashTable, DMI, 305, CreateUnit(GetOwningPlayer(GetTriggerUnit()), 'o01A', GetUnitX(GetTriggerUnit()), GetUnitY(GetTriggerUnit()), 0))
        if isPlayerSentinel(GetOwningPlayer(GetTriggerUnit())) then
            call SaveReal(hashTable, DMI, 6, (GetRectCenterX(B4)*1.0))
            call SaveReal(hashTable, DMI, 7, (GetRectCenterY(B4)*1.0))
        else 
            call SaveReal(hashTable, DMI, 6, (GetRectCenterX(R3)*1.0))
            call SaveReal(hashTable, DMI, 7, (GetRectCenterY(R3)*1.0))
        endif
    endif
    if (GetLearnedSkill() == 'A086') then
        call UnitAddAbility(GetTriggerUnit(), 'S00A')
        if GRI() then
            call SetUnitAbilityLevel(GetTriggerUnit(), 'S00A', 5)
        else 
            call SetUnitAbilityLevel(GetTriggerUnit(), 'S00A', GetUnitAbilityLevel(GetTriggerUnit(), 'A086'))
        endif
    endif
    if (GetLearnedSkill() == 'A08E') then
        call UnitAddAbility(GetTriggerUnit(), 'A08C')
        if GRI() then
            call SetUnitAbilityLevel(GetTriggerUnit(), 'A08C', 5)
        else 
            call SetUnitAbilityLevel(GetTriggerUnit(), 'A08C', GetUnitAbilityLevel(GetTriggerUnit(), 'A08E'))
        endif
    endif
endfunction

function QUI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function GB3))
    call TriggerAddAction(t, function GG3)
endfunction

function GH3 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GCI = myUnit
    local unit GDI = GK
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real GFI = FVI*40
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0YL')
    call SetUnitAbilityLevel(YVI, 'A0YL', FVI)
    call IssueTargetOrder(YVI, "slow", GDI)
    if IsUnitType(GDI, UNIT_TYPE_HERO) == true then
        set GFI = GFI/2
    endif
    call doDamage(GCI, GDI, 3, GFI)
    set GCI = null
    set GDI = null
    set YVI = null
endfunction

function GZ3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = VZI(E1I, GDI, 'h010', "GH3", 1200)
    local integer DMI = GetHandleId(t)
    call SaveInteger(hashTable, DMI, 5, GetUnitAbilityLevel(E1I, 'A0YM'))
    set E1I = null
    set GDI = null
    set t = null
endfunction

function GV3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0YM' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call GZ3()
    endif
    return false
endfunction

function UOI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GV3))
    set t = null
endfunction

function GW3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(GCI, 'A1CO')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetTriggerUnit() != GDI and GetAttacker() == GCI then
            call UnitRemoveAbility(GCI, 'A1CO')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        elseif GetTriggerUnit() == GDI and GetAttacker() == GCI then
            set DHI = DHI + 1
            call SaveInteger(hashTable, DMI, 34, DHI)
            if DHI == 4 then
                call UnitRemoveAbility(GCI, 'A1CO')
                call FlushChildHashtable(hashTable, DMI)
                call abandonTrigger(t)
            endif
        endif
    else 
        call UnitRemoveAbility(GCI, 'A1CO')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function GX3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0PL')
    local trigger t
    local integer DMI
    call SetUnitX(GCI, GetUnitX(GDI))
    call SetUnitY(GCI, GetUnitY(GDI))
    if IsUnitAlly(GCI, GetOwningPlayer(GDI)) == false then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call UnitAddAbility(GCI, 'A1CO')
        call IssueTargetOrder(GCI, "attack", GDI)
        call TriggerRegisterTimerEvent(t, 3, false)
        call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function GW3))
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    endif
    set GCI = null
    set GDI = null
    set t = null
endfunction

function GY3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0PL' then
        call GX3()
    endif
    return false
endfunction

function U2I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GY3))
    set t = null
endfunction

function GJ3 takes nothing returns boolean 
    local integer FVI
    local unit GK3
    local real t = 20
    local integer TYO
    if IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit()) == 'Ewar' then
        set GK3 = GetTriggerUnit()
        set TYO = GetUnitAbilityLevel(GK3, 'A03P')
        if IsPlayerEnemy(GetLocalPlayer(), GetOwningPlayer(GK3)) == true then
            if (TYO == 1) then
                set t = 40
            endif
            if (TYO == 2) then
                set t = 60
            endif
            if (TYO == 3) then
                set t = 80
            endif
            if (TYO == 4) then
                set t = 98
            endif
        elseif GetLocalPlayer() == GetOwningPlayer(GK3) then
            if (TYO == 1) then
                set t = 40
            endif
            if (TYO == 2) then
                set t = 60
            endif
            if (TYO == 3) then
                set t = 80
            endif
            if (TYO == 4) then
                set t = 95
            endif
        endif
        call SetUnitVertexColorBJ(GK3, 100, 100, 100, t)
    endif
    return false
endfunction

function GL3 takes nothing returns nothing
    local unit GK3 = LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 301)
    local integer TYO = GetUnitAbilityLevel(GK3, 'A03P')
    local real t = 20
    if (GetUnitState(GK3, UNIT_STATE_LIFE) > 1) then
        if IsPlayerEnemy(GetLocalPlayer(), GetOwningPlayer(GK3)) == true then
            if (TYO == 1) then
                set t = 40
            endif
            if (TYO == 2) then
                set t = 60
            endif
            if (TYO == 3) then
                set t = 80
            endif
            if (TYO == 4) then
                set t = 98
            endif
        elseif GetLocalPlayer() == GetOwningPlayer(GK3) then
            if (TYO == 1) then
                set t = 40
            endif
            if (TYO == 2) then
                set t = 60
            endif
            if (TYO == 3) then
                set t = 80
            endif
            if (TYO == 4) then
                set t = 95
            endif
        endif
        call SetUnitVertexColorBJ(GK3, 100, 100, 100, t)
    endif
    set GK3 = null
endfunction

function GM3 takes nothing returns boolean 
    return GetLearnedSkill() == 'A03P' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function GN3 takes nothing returns nothing
    local integer TYO = GetUnitAbilityLevel(GetTriggerUnit(), 'A03P')
    local trigger t
    local unit GK3 = GetTriggerUnit()
    local real XII = 0
    local region LV1
    if TYO == 1 then
        call UnitAddAbility(GK3, 'A13F')
    elseif TYO == 2 then
        call UnitRemoveAbility(GK3, 'A13F')
        call UnitAddAbility(GK3, 'A13H')
    elseif TYO == 3 then
        call UnitRemoveAbility(GK3, 'A13F')
        call UnitRemoveAbility(GK3, 'A13H')
        call UnitAddAbility(GK3, 'A13G')
    elseif TYO == 4 then
        call UnitRemoveAbility(GK3, 'A13F')
        call UnitRemoveAbility(GK3, 'A13H')
        call UnitRemoveAbility(GK3, 'A13G')
        call UnitAddAbility(GK3, 'A13I')
    endif
    if IsPlayerEnemy(GetLocalPlayer(), GetOwningPlayer(GK3)) == true then
        if (TYO == 1) then
            set XII = 40
        endif
        if (TYO == 2) then
            set XII = 60
        endif
        if (TYO == 3) then
            set XII = 80
        endif
        if (TYO == 4) then
            set XII = 98
        endif
    elseif GetLocalPlayer() == GetOwningPlayer(GK3) then
        if (TYO == 1) then
            set XII = 40
        endif
        if (TYO == 2) then
            set XII = 60
        endif
        if (TYO == 3) then
            set XII = 80
        endif
        if (TYO == 4) then
            set XII = 95
        endif
    endif
    call SetUnitVertexColorBJ(GK3, 100, 100, 100, XII)
    if (TYO == 1) then
        set t = CreateTrigger()
        call TriggerAddAction(t, function GL3)
        call TriggerRegisterTimerEventPeriodic(t, 2.00)
        call SaveUnitHandle(hashTable, GetHandleId(t), 301, GK3)
        set t = CreateTrigger()
        set LV1 = CreateRegion()
        call RegionAddRect(LV1, GetWorldBounds())
        call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
        call TriggerAddCondition(t, Condition(function GJ3))
        call SaveUnitHandle(hashTable, GetHandleId(t), 301, GK3)
        set t = null
        set LV1 = null
    endif
endfunction

function U1I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function GM3))
    call TriggerAddAction(t, function GN3)
endfunction

function GS3 takes nothing returns nothing
    local unit YVI
    if IsUnitInGroup(GetEnumUnit(), WK) == false then
        call GroupAddUnit(WK, GetEnumUnit())
        set YVI = CreateUnit(GetOwningPlayer(myUnit), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
        call UnitAddAbility(YVI, 'A0RI')
        call SetUnitAbilityLevel(YVI, 'A0RI', GetUnitAbilityLevel(myUnit, 'A0RA'))
        call IssueTargetOrder(YVI, "ensnare", GetEnumUnit())
    endif
    set YVI = null
endfunction

function GT3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer i
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local group YSI = allocGroup()
    local unit GTI = LoadUnitHandle(hashTable, DMI, 221)
    set myUnit = GTI
    call GroupEnumUnitsInRange(YSI, x, y, 300, Condition(function filterUnitInjurable))
    set WK = g
    call ForGroup(YSI, function GS3)
    call releaseGroup(YSI)
    if GetTriggerEvalCount(t) > AGI*10 then
        set i = 1
        loop
            exitwhen i > 16
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, (2700 + i)) )
            set i = i + 1
        endloop
        call releaseGroup(g)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set g = null
    set YSI = null
    set GTI = null
    return false
endfunction

function GR3 takes nothing returns nothing
    local integer i = 1
    local location l = GetSpellTargetLoc()
    local real GP3 = GetLocationX(l)
    local real GQ3 = GetLocationY(l)
    local real x
    local real y
    local integer VIO = 16
    local string fx = "Abilities\\Spells\\Undead\\Graveyard\\GraveMarker.mdl"
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local group g = allocGroup()
    call V3I(GetOwningPlayer(GetTriggerUnit()), AGI, GP3, GQ3, AHI + 500)
    call playSoundAt(BC, GP3, GQ3)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function GT3))
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call SaveUnitHandle(hashTable, DMI, 221, GetTriggerUnit())
    call SaveReal(hashTable, DMI, 6, (GP3*1.0))
    call SaveReal(hashTable, DMI, 7, (GQ3*1.0))
    loop
        exitwhen i > VIO
        set x = GP3 + AHI*Cos(i*360/VIO*bj_DEGTORAD)
        set y = GQ3 + AHI*Sin(i*360/VIO*bj_DEGTORAD)
        call SaveEffectHandle(hashTable, DMI, (2700 + i), AddSpecialEffect(fx, x, y))
        set i = i + 1
    endloop
    set t = null
    set g = null
endfunction

function GU3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0RA' then
        call GR3()
    endif
    return false
endfunction

function OE1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function GU3))
    set t = null
endfunction

function H03 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 393)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer MRO = 90
    local integer DHI = GetTriggerEvalCount(t)
    if FVI == 1 then
        set MRO = 160
    elseif FVI == 2 then
        set MRO = 120
    endif
    call SetUnitX(YVI, GetUnitX(GCI))
    call SetUnitY(YVI, GetUnitY(GCI))
    if DHI > MRO then
        call KillUnit(YVI)
        call abandonTrigger(t)
        call FlushChildHashtable(hashTable, DMI)
    elseif DHI > 30 then
        call ShowUnit(YVI, true)
    endif
    set t = null
    set YVI = null
    set GCI = null
    return false
endfunction

function HI3 takes nothing returns nothing
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())) )
    call SetUnitPosition(GetEnumUnit(), OK, AK)
    call PanCameraToTimedForPlayer(GetOwningPlayer(GetEnumUnit()), OK, AK, 0)
    call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl", GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit())) )
endfunction

function H13 takes unit GCI, unit GDI returns nothing
    local group g = allocGroup()
    call DestroyEffect( AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl", GetUnitX(GCI), GetUnitY(GCI)) )
    call DestroyEffect( AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl", GetUnitX(GDI), GetUnitY(GDI)) )
    set OK = GetUnitX(GDI)
    set AK = GetUnitY(GDI)
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 400, Condition(function Y3I))
    call ForGroup(g, function HI3)
    call releaseGroup(g)
    set g = null
endfunction

function HO3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GDI == null or isUnitUnavailable(GDI) then
        call displayErrorMessage(GetOwningPlayer(GCI), GetObjectName('n03F'))
    elseif GCI == null or isUnitUnavailable(GCI) then
        call displayErrorMessage(GetOwningPlayer(GCI), GetObjectName('n03G'))
    else 
        call H13(GCI, GDI)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function H23 takes nothing returns boolean 
    local real d
    if IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) == false or GetUnitAbilityLevel(GetFilterUnit(), 'A04R') > 0 or GetOwningPlayer(GetFilterUnit()) == Player(15) then
        return false
    endif
    if IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) or (QJ > 1 and O4O(GetFilterUnit())) then
        set d = getDistance(AK, BK, GetUnitX(GetFilterUnit()), GetUnitY(GetFilterUnit()))
        if d < OK then
            set OK = d
            set myUnit = GetFilterUnit()
        endif
    endif
    return false
endfunction

function H33 takes unit GCI returns unit 
    local location l
    local group g
    local real x
    local real y
    set l = GetSpellTargetLoc()
    set x = GetLocationX(l)
    set y = GetLocationY(l)
    set g = allocGroup()
    set QJ = GetUnitAbilityLevel(GCI, 'A0R0')
    set myUnit = null
    set OK = 9999
    set AK = x
    set BK = y
    call GroupEnumUnitsInRange(g, x, y, 4000, Condition(function H23))
    call releaseGroup(g)
    call RemoveLocation(l)
    set l = null
    set g = null
    return myUnit
endfunction

function H43 takes unit GCI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = GetSpellTargetUnit()
    local real x
    local real y
    local unit u
    if GDI == null then
        set GDI = H33(GCI)
    endif
    if GDI == null then
        call displayErrorMessage(GetOwningPlayer(GCI), GetObjectName('n03H'))
        return
    endif
    call TriggerRegisterTimerEvent(t, 6 - GetUnitAbilityLevel(GCI, 'A0R0'), false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function HO3))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\DarkHands.mdl", GDI, "overhead"))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, .03, true)
    call TriggerAddCondition(t, Condition(function H03))
    call SaveInteger(hashTable, DMI, 5, GetUnitAbilityLevel(GCI, 'A0R0'))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set u = CreateUnit(GetOwningPlayer(GCI), 'h098', GetUnitX(GCI), GetUnitY(GCI), 0)
    call SaveUnitHandle(hashTable, DMI, 393, u)
    call ShowUnit(u, false)
    set t = null
    set GDI = null
endfunction

function H53 takes nothing returns nothing
    local unit GDI = GetSpellTargetUnit()
    local unit E1I = GetTriggerUnit()
    if GDI != null then
        if IsUnitAlly(GDI, GetOwningPlayer(E1I)) == false then
            call GSI(E1I)
            call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n041'))
        elseif GetUnitAbilityLevel(E1I, 'A0R0') == 1 and IsUnitType(GDI, UNIT_TYPE_STRUCTURE) == false then
            call GSI(E1I)
            call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n03J'))
        elseif GetUnitAbilityLevel(E1I, 'A0R0') > 1 and O4O(GDI) == false then
            call GSI(E1I)
            call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n041'))
        endif
    endif
    if GDI == null then
        set GDI = H33(E1I)
    endif
    if GDI == null then
        call GSI(E1I)
        call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n040'))
    endif
    set GDI = null
    set E1I = null
endfunction

function H63 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0R0' then
        call H53()
    endif
    return false
endfunction

function H73 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0R0' then
        call H43(GetTriggerUnit())
    endif
    return false
endfunction

function OC1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function H63))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function H73))
    set t = null
    call WQI('h094')
    call WQI('h095')
    call WQI('h096')
endfunction

function H83 takes nothing returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(myUnit), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
    call UnitAddAbility(YVI, 'A0RJ')
    call IssueTargetOrder(YVI, "thunderbolt", GetEnumUnit())
    set YVI = null
    call doDamage(myUnit, GetEnumUnit(), 1, OK)
endfunction

function H93 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local group g = allocGroup()
    local real r1 = 500
    local real r2 = 400
    local unit HA3
    call GroupEnumUnitsInRange(g, x, y, r1, Condition(function YDI))
    set HA3 = FirstOfGroup(g)
    call releaseGroup(g)
    if HA3 == null then
        if LoadBoolean(hashTable, DMI, 307) == true and LoadBoolean(hashTable, DMI, 308) == true then
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        else 
            if LoadBoolean(hashTable, DMI, 307) == false then
                call SaveBoolean(hashTable, DMI, 307, true)
            else 
                call SaveBoolean(hashTable, DMI, 308, true)
            endif
        endif
    else 
        set x = GetUnitX(HA3)
        set y = GetUnitY(HA3)
        call SaveBoolean(hashTable, DMI, 307, false)
        call SaveBoolean(hashTable, DMI, 308, false)
        call FlushChildHashtable(hashTable, GetHandleId(HA3))
        call DestroyEffect( AddSpecialEffect("war3mapImported\\CorpseExplosion.mdx", x, y) )
        call RemoveUnit(HA3)
        set g = allocGroup()
        set myUnit = E1I
        call GroupEnumUnitsInRange(g, x, y, r2, Condition(function filterUnitInjurable))
        set OK = 20*GetUnitAbilityLevel(E1I, 'A0QT')
        call ForGroup(g, function H83)
        call releaseGroup(g)
    endif
    set g = null
    set E1I = null
    set HA3 = null
    set t = null
    return false
endfunction

function HB3 takes nothing returns nothing
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function H93))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffect("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTarget.mdl", x, y))
    call SaveUnitHandle(hashTable, DMI, 14, GetTriggerUnit())
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SaveBoolean(hashTable, DMI, 307, false)
    call SaveBoolean(hashTable, DMI, 308, false)
    call RemoveLocation(l)
    set l = null
    set t = null
endfunction

function HC3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0QT' then
        call HB3()
    endif
    return false
endfunction

function OD1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HC3))
    set t = null
endfunction

function HD3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A01I')
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', x, y, 0)
    call UnitAddAbility(YVI, 'A0RH')
    call SetUnitAbilityLevel(YVI, 'A0RH', FVI)
    call IssuePointOrder(YVI, "rainoffire", x, y)
    call RemoveLocation(l)
    set E1I = null
    set l = null
    set YVI = null
endfunction

function HE3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A01I' then
        call HD3()
    endif
    return false
endfunction

function OF1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HE3))
    set t = null
endfunction

function HF3 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetTriggerUnit(), 'A06K') > 0
endfunction

function HG3 takes nothing returns nothing
    if (GetIssuedOrderId() == String2OrderIdBJ("immolation")) then
        call UnitAddAbility(GetTriggerUnit(), 'A0AZ')
    endif
    if (GetIssuedOrderId() == String2OrderIdBJ("unimmolation")) then
        call UnitRemoveAbility(GetTriggerUnit(), 'A0AZ')
    endif
endfunction

function U3I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function HF3))
    call TriggerAddAction(t, function HG3)
endfunction

function HH3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEvalCount(t) == 1 then
        call ShowUnit(GCI, false)
    elseif GetTriggerEvalCount(t) > 80 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function HZ3 takes nothing returns boolean 
    local unit YVI
    local unit GCI
    local unit CP1
    local trigger t
    local integer DMI
    if GetUnitTypeId(GetTriggerUnit()) == 'U00F' then
        set GCI = GetTriggerUnit()
        set CP1 = GetKillingUnit()
        if GCI == CP1 then
            set YVI = CreateUnit(GetOwningPlayer(GCI), 'h0BB', GetUnitX(GCI), GetUnitY(GCI), GetUnitFacing(GCI))
            call SetUnitTimeScale(YVI, 0.75)
            call UnitApplyTimedLife(YVI, 'BTLF', 1.0)
            call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodAbomination.mdl", YVI, "origin") )
            set YVI = null
            call SetSoundPosition(ZG, GetUnitX(GCI), GetUnitY(GCI), 50)
            call SetSoundVolumeBJ(ZG, 100)
            call PlaySoundBJ(ZG)
            call SetSoundPosition(WG, GetUnitX(GCI), GetUnitY(GCI), 50)
            call SetSoundVolumeBJ(WG, 100)
            call PlaySoundBJ(WG)
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, .1, true)
            call TriggerAddCondition(t, Condition(function HH3))
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            set t = null
        endif
        set GCI = null
        set CP1 = null
    endif
    return false
endfunction

function HV3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local unit GCI = LoadUnitHandle(hashTable, GetHandleId(t), 2)
    local integer DMI = GetHandleId(GCI)
    local unit CP1 = GetTriggerUnit()
    local real HW3 = LoadReal(hashTable, DMI, 310)
    local real HX3 = LoadReal(hashTable, DMI, 311)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A06D')
    if IsUnitType(CP1, UNIT_TYPE_HERO) == true and GetUnitTypeId(CP1) != 'H00J' and IsUnitIllusion(CP1) == false and (IsUnitInRange(GCI, CP1, 550) or GetKillingUnit() == GCI) and isUnitUnavailable(GCI) == false and IsUnitAlly(GCI, GetOwningPlayer(CP1)) == false then
        set HW3 = HW3 + 0.6 + 0.3*FVI
        set HX3 = HX3 + 0.6 + 0.3*FVI
        if HW3 >= 2.00 and isUnitUnavailable(GCI) == false then
            set HW3 = HW3 - 2
            call ZMI(GetOwningPlayer(GCI), "+2 " + GetObjectName('n0JV'), 3, GetKillingUnit(), 0.023, 255, 0, 0, 230)
            call ModifyHeroStat(0, GCI, 0, 2)
        elseif HW3 >= 1.00 and isUnitUnavailable(GCI) == false then
            set HW3 = HW3 - 1
            call ZMI(GetOwningPlayer(GCI), "+1 " + GetObjectName('n0JV'), 3, GetKillingUnit(), 0.023, 255, 0, 0, 230)
            call ModifyHeroStat(0, GCI, 0, 1)
        endif
        call SaveReal(hashTable, DMI, 310, (HW3*1.0))
        call SaveReal(hashTable, DMI, 311, (HX3*1.0))
    endif
    set t = null
    set GCI = null
    set CP1 = null
    return false
endfunction

function HY3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function HV3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GCI = null
    set t = null
endfunction

function HJ3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A06D' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A06D') == 1 then
        call HY3()
    endif
    return false
endfunction

function HK3 takes nothing returns boolean 
    if GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())]) == 'U00F' then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, GetObjectName('n09R') + " " + R2S( LoadReal(hashTable, GetHandleId(playerHero[GetPlayerId(GetTriggerPlayer())]), 311) ) + " " + GetObjectName('n09S'))
    endif
    return false
endfunction

function U4I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function HJ3))
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-fleshstr", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-fs", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-fs", true)
    call TriggerAddCondition(t, Condition(function HK3))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function HZ3))
    set t = null
endfunction

function HL3 takes unit GCI, unit GDI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e02A', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0PZ')
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
    call UnitApplyTimedLife(YVI, 'BTLF', 1)
    set YVI = null
endfunction

function HM3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer HN3 = LoadInteger(hashTable, DMI, 376)
    local boolean HS3 = LoadBoolean(hashTable, DMI, 377)
    local unit GDI
    local unit HT3 = LoadUnitHandle(hashTable, DMI, (2100 + HN3))
    if HS3 then
        set GDI = LoadUnitHandle(hashTable, DMI, 17)
        call SetUnitX(GDI, GetUnitX(HT3))
        call SetUnitY(GDI, GetUnitY(HT3))
    endif
    call RemoveUnit(HT3)
    set HN3 = HN3 - 1
    call SaveInteger(hashTable, DMI, 376, HN3)
    if HN3 == 0 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GDI = null
    return false
endfunction

function HR3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer HN3 = LoadInteger(hashTable, DMI, 376)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local trigger PLO = LoadTriggerHandle(hashTable, DMI, 11)
    local integer PYO = GetHandleId(PLO)
    local group g
    local unit u
    local real x
    local real y
    local real z
    if HN3 < 10 + 5*FVI then
        set HN3 = HN3 + 1
        call SaveInteger(hashTable, DMI, 376, HN3)
        set x = GetUnitX(E1I) + HN3*40*Cos(LPO*bj_DEGTORAD)
        set y = GetUnitY(E1I) + HN3*40*Sin(LPO*bj_DEGTORAD)
        call SaveUnitHandle(hashTable, PYO, (2100 + HN3), CreateUnit(GetOwningPlayer(E1I), 'u00H', x, y, LPO))
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, x, y, 125, Condition(function Y8I))
        call GroupRemoveUnit(g, E1I)
        set u = GroupPickRandomUnit(g)
        call releaseGroup(g)
        if u != null then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call TriggerRegisterTimerEvent(PLO, 0.03, true)
            call TriggerAddCondition(PLO, Condition(function HM3))
            call SaveInteger(hashTable, PYO, 376, HN3)
            call SaveBoolean(hashTable, PYO, 377, true)
            call SaveUnitHandle(hashTable, PYO, 17, u)
            if IsUnitEnemy(u, GetOwningPlayer(E1I)) then
                if IsUnitType(u, UNIT_TYPE_HERO) == true then
                    set AZI[GetPlayerId(GetOwningPlayer(E1I))] = AZI[GetPlayerId(GetOwningPlayer(E1I))] + 1
                endif
                set AVI[GetPlayerId(GetOwningPlayer(E1I))] = AVI[GetPlayerId(GetOwningPlayer(E1I))] + 1
                call HL3(E1I, u)
                call doDamage(E1I, u, 2, 100*FVI)
                call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl", u, "origin") )
            endif
        endif
    else 
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        set AVI[GetPlayerId(GetOwningPlayer(E1I))] = AVI[GetPlayerId(GetOwningPlayer(E1I))] + 1
        call TriggerRegisterTimerEvent(PLO, 0.03, true)
        call TriggerAddCondition(PLO, Condition(function HM3))
        call SaveInteger(hashTable, PYO, 376, HN3)
        call SaveBoolean(hashTable, PYO, 377, false)
    endif
    set t = null
    set E1I = null
    set PLO = null
    set g = null
    set u = null
    return false
endfunction

function HP3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real LPO = getAngle(GetUnitX(E1I), GetUnitY(E1I), GetLocationX(l), GetLocationY(l))
    local integer FVI = GetUnitAbilityLevel(E1I, 'A06I')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveInteger(hashTable, DMI, 376, 0)
    call SaveTriggerHandle(hashTable, DMI, 11, CreateTrigger())
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerAddCondition(t, Condition(function HR3))
    call RemoveLocation(l)
    set E1I = null
    set l = null
    set t = null
endfunction

function HQ3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A06I' then
        call HP3()
    endif
    return false
endfunction

function HU3 takes nothing returns boolean 
    local integer EB2 = AZI[GetPlayerId(GetTriggerPlayer())]
    local integer HWI = AVI[GetPlayerId(GetTriggerPlayer())]
    if GetUnitTypeId(playerHero[GetPlayerId(GetTriggerPlayer())]) == 'U00F' and HWI > 0 then
        call DisplayTimedTextToPlayer(GetTriggerPlayer(), 0, O3, 10.00, GetObjectName('n0EL') + " " + R2S(I2R(EB2)/I2R(HWI)*100) + "% (" + I2S(EB2) + "/" + I2S(HWI) + ")")
    endif
    return false
endfunction

function U5I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function HQ3))
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-ha", true)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-ha", true)
    call TriggerAddCondition(t, Condition(function HU3))
    set t = null
endfunction

function Z03 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real GFI = (25 + 50*FVI) + 0.75*GetHeroStr(GCI, true)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        if GetTriggerEventId() == EVENT_UNIT_DEATH or (GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId() == 'A1CX') then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    elseif GetTriggerEvalCount(t) > 4 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call GSI(GCI)
    else 
        if FVI > 0 then
            set DHI = DHI + 1
            if (DHI < 4 and IsUnitType(GDI, UNIT_TYPE_HERO) == true) or (DHI < 8 and IsUnitType(GDI, UNIT_TYPE_HERO) == false) then
                call SetUnitState(GCI, UNIT_STATE_LIFE, GetUnitState(GCI, UNIT_STATE_LIFE) + GFI)
                call doDamage(GCI, GDI, 1, GFI)
            endif
            call SaveInteger(hashTable, DMI, 34, DHI)
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function ZI3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1CX')
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function Z03))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 34, 0)
    call TriggerEvaluate(t)
    set t = null
    set GCI = null
    set GDI = null
endfunction

function Z13 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1CX' or GetSpellAbilityId() == 'A0FL' then
        call ZI3()
    endif
    return false
endfunction

function U6I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z13))
    set t = null
endfunction

function ZO3 takes nothing returns boolean 
    if (GetUnitTypeId(GetSummonedUnit()) == 'o00L') then
        return true
    endif
    if (GetUnitTypeId(GetSummonedUnit()) == 'o00M') then
        return true
    endif
    if (GetUnitTypeId(GetSummonedUnit()) == 'o00N') then
        return true
    endif
    if (GetUnitTypeId(GetSummonedUnit()) == 'o00O') then
        return true
    endif
    return false
endfunction

function Z23 takes nothing returns nothing
    call SetUnitAbilityLevelSwapped('A08T', GetSummonedUnit(), GetUnitAbilityLevelSwapped('A09D', GetSummoningUnit()))
    call SetUnitAbilityLevelSwapped('A0CF', GetSummonedUnit(), GetUnitAbilityLevelSwapped('A09D', GetSummoningUnit()))
    call IssueImmediateOrder(GetSummonedUnit(), "manaflareon")
endfunction

function NW takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function ZO3))
    call TriggerAddAction(t, function Z23)
endfunction

function Z33 takes unit GCI, unit GDI returns nothing
    local real Z43 = 20 + 20*AXI
    local real KDI = 35 + 35*AXI
    local real YJI = Z43 + (KDI - Z43)*AJI/700
    call doDamage(GCI, GDI, 1, YJI)
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl", GDI, "chest") )
endfunction

function Z53 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local group JO1 = AWI
    local unit GCI = AYI
    if IsUnitInGroup(GDI, JO1) == false then
        call GroupAddUnit(JO1, GDI)
        call Z33(GCI, GDI)
    endif
    set GDI = null
    set JO1 = null
    set GCI = null
endfunction

function Z63 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local group JO1 = LoadGroupHandle(hashTable, DMI, 133)
    local effect fx
    local integer DHI = GetTriggerEvalCount(t)
    local real x
    local real x0 = GetUnitX(GCI)
    local real y
    local real y0 = GetUnitY(GCI)
    local integer i
    local integer d
    local group g = allocGroup()
    call SetUnitX(YVI, GetUnitX(GCI))
    call SetUnitY(YVI, GetUnitY(GCI))
    set AWI = JO1
    set AYI = GCI
    set AXI = GetUnitAbilityLevel(GCI, 'A1E7')
    if DHI > 20 then
        set d = 21*36 + (20 - DHI)*36
        set AJI = d
        set i = 0
        loop
            exitwhen i > 36
            set x = x0 + d*Cos(360*i/36*bj_DEGTORAD)
            set y = y0 + d*Sin(360*i/36*bj_DEGTORAD)
            set myUnit = GCI
            call GroupEnumUnitsInRange(g, x, y, 100, Condition(function XNI))
            call ForGroup(g, function Z53)
            set i = i + 1
        endloop
    else 
        set d = DHI*36
        set AJI = d
        set i = 0
        loop
            exitwhen i > 36
            set x = x0 + d*Cos(360*i/36*bj_DEGTORAD)
            set y = y0 + d*Sin(360*i/36*bj_DEGTORAD)
            set myUnit = GCI
            call GroupEnumUnitsInRange(g, x, y, 100, Condition(function XNI))
            call ForGroup(g, function Z53)
            set i = i + 1
        endloop
    endif
    call releaseGroup(g)
    if DHI == 40 then
        call KillUnit(YVI)
        call releaseGroup(JO1)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif DHI == 20 then
        call GroupClear(JO1)
        set fx = null
    endif
    set t = null
    set YVI = null
    set JO1 = null
    set GCI = null
    set g = null
    return false
endfunction

function Z73 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'h092', x, y, 0)
    local integer i = 0
    local integer FTO = 36
    local group JO1 = allocGroup()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx", E1I, "origin"))
    call SaveGroupHandle(hashTable, DMI, 133, JO1)
    call SaveUnitHandle(hashTable, DMI, 2, E1I)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call TriggerRegisterTimerEvent(t, 0.06, true)
    call TriggerAddCondition(t, Condition(function Z63))
    set t = null
    set YVI = null
    set E1I = null
endfunction

function Z83 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1E7' then
        call Z73()
    endif
    return false
endfunction

function O11 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function Z83))
    set t = null
endfunction

function Z93 takes integer ZA3 returns boolean 
    return ZA3 != 'A09V' and ZA3 != 'A026' and ZA3 != 'A0LZ' and ZA3 != 'A0QN' and ZA3 != 'A0OI' and ZA3 != 'A0DY' and ZA3 != 'AHfa'
endfunction

function ZB3 takes unit FWI, unit GCI, unit GDI, integer FVI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(FWI), 'e00E', GetUnitX(GCI), GetUnitY(GCI), 0)
    call UnitAddAbility(YVI, 'A1AK')
    call SetUnitAbilityLevel(YVI, 'A1AK', FVI)
    call IssueTargetOrder(YVI, "chainlightning", GDI)
    call UnitAddAbility(YVI, 'A18D')
    call SetUnitAbilityLevel(YVI, 'A18D', FVI)
    call IssueTargetOrder(YVI, "purge", GDI)
    set YVI = null
endfunction

function ZC3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI
    if GetSpellTargetUnit() == GCI and Z93(GetSpellAbilityId()) == true and IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GCI)) == false and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true then
        set FVI = GetUnitAbilityLevel(GCI, 'A1E6')
        call ZB3(GCI, GCI, GetTriggerUnit(), FVI)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function ZD3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZC3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GCI = null
    set t = null
endfunction

function ZE3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A1E6' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1E6') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call ZD3()
    endif
    return false
endfunction

function OO1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function ZE3))
    set t = null
endfunction

function ZF3 takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer KDI
    if d < 1 then
        call UnitRemoveAbility(u, AKI[0])
        call UnitRemoveAbility(u, AKI[1])
        call UnitRemoveAbility(u, AKI[2])
        call UnitRemoveAbility(u, AKI[3])
        call UnitRemoveAbility(u, AKI[4])
        call UnitRemoveAbility(u, AKI[5])
        call UnitRemoveAbility(u, AKI[6])
        call UnitRemoveAbility(u, AKI[7])
        return
    endif
    loop
        exitwhen c == 0
        set c = a/2
        set b[i] = a - c*2
        set a = c
        set i = i + 1
    endloop
    set KDI = i
    set i = 0
    loop
        exitwhen i > KDI
        if b[i] == 1 then
            call UnitAddAbility(u, AKI[i])
        else 
            call UnitRemoveAbility(u, AKI[i])
        endif
        set i = i + 1
    endloop
endfunction

function ZG3 takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer KDI
    if d < 1 then
        call UnitRemoveAbility(u, ALI[0])
        call UnitRemoveAbility(u, ALI[1])
        call UnitRemoveAbility(u, ALI[2])
        call UnitRemoveAbility(u, ALI[3])
        call UnitRemoveAbility(u, ALI[4])
        call UnitRemoveAbility(u, ALI[5])
        call UnitRemoveAbility(u, ALI[6])
        call UnitRemoveAbility(u, ALI[7])
        return
    endif
    loop
        exitwhen c == 0
        set c = a/2
        set b[i] = a - c*2
        set a = c
        set i = i + 1
    endloop
    set KDI = i
    set i = 0
    loop
        exitwhen i > KDI
        if b[i] == 1 then
            call UnitAddAbility(u, ALI[i])
        else 
            call UnitRemoveAbility(u, ALI[i])
        endif
        set i = i + 1
    endloop
endfunction

function ZH3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if GetTriggerUnit() == GCI then
            call ZF3(GCI, 0)
            call SaveUnitHandle(hashTable, DMI, 2, null)
        else 
            call ZG3(GDI, 0)
            call SaveUnitHandle(hashTable, DMI, 17, null)
        endif
    else 
        if GCI != null then
            call ZF3(GCI, 0)
        endif
        if GDI != null then
            call ZG3(GDI, 0)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function ZZ3 takes unit GCI, unit GDI, unit MCO returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    if MCO == null then
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
    elseif MCO == GDI then
        call ZG3(GDI, 0)
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveUnitHandle(hashTable, DMI, 17, null)
    else 
        call ZF3(GCI, 0)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
        call SaveUnitHandle(hashTable, DMI, 2, null)
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
    endif
    call TriggerRegisterTimerEvent(t, 13, false)
    call TriggerAddCondition(t, Condition(function ZH3))
endfunction

function ZV3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local lightning ZVI = LoadLightningHandle(hashTable, DMI, 196)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer DHI = GetTriggerEvalCount(t)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    call MoveLightning(ZVI, true, GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI))
    call SetUnitX(YVI, GetUnitX(GDI))
    call SetUnitY(YVI, GetUnitY(GDI))
    if getDistance(GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI)) > 700 or GetTriggerEventId() == EVENT_UNIT_DEATH or IsUnitVisible(GDI, GetOwningPlayer(GCI)) == false then
        call DestroyLightning(ZVI)
        call KillUnit(YVI)
        if GetTriggerEventId() == EVENT_UNIT_DEATH then
            call ZZ3(GCI, GDI, GetTriggerUnit())
        else 
            call ZZ3(GCI, GDI, null)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif DHI > 200 then
        call DestroyLightning(ZVI)
        call KillUnit(YVI)
        call ZZ3(GCI, GDI, null)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif ModuloInteger(DHI, 20) == 0 or DHI == 1 then
        call ZF3(GCI, (FVI*5)*R2I(DHI/20))
        call ZG3(GDI, (FVI*5)*R2I(DHI/20))
    endif
    set t = null
    set GCI = null
    set GDI = null
    set ZVI = null
    set YVI = null
    return false
endfunction

function ZW3 takes unit GCI, unit GDI, lightning ZVI, unit YVI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1DP')
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function ZV3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveLightningHandle(hashTable, DMI, 196, ZVI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    set t = null
endfunction

function ZX3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local lightning ZVI = LoadLightningHandle(hashTable, DMI, 196)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local real x0 = GetUnitX(GCI)
    local real y0 = GetUnitY(GCI)
    local real x1 = LoadReal(hashTable, DMI, 64)
    local real y1 = LoadReal(hashTable, DMI, 65)
    local real a = LoadReal(hashTable, DMI, 137)
    local unit GDI = null
    local group g = allocGroup()
    set x1 = x1 + 25*Cos(a)
    set y1 = y1 + 25*Sin(a)
    call SaveReal(hashTable, DMI, 64, (x1*1.0))
    call SaveReal(hashTable, DMI, 65, (y1*1.0))
    call MoveLightning(ZVI, true, x0, y0, x1, y1)
    call SetUnitX(YVI, x1)
    call SetUnitY(YVI, y1)
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x1, y1, 225, Condition(function Y7I))
    set GDI = FirstOfGroup(g)
    call releaseGroup(g)
    if GDI != null then
        call ZW3(GCI, GDI, ZVI, YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEvalCount(t) > 25 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyLightning(ZVI)
        call KillUnit(YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set ZVI = null
    set GDI = null
    set g = null
    set YVI = null
    return false
endfunction

function ZY3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t
    local integer DMI
    local location l
    local lightning ZVI = AddLightning("CLSB", true, GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GCI), GetUnitY(GCI))
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'h088', GetUnitX(GCI), GetUnitY(GCI), 0)
    call SetLightningColor(ZVI, 0.3, 0.5, 1, 1)
    if GDI == null then
        set l = GetSpellTargetLoc()
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 0.02, true)
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
        call TriggerAddCondition(t, Condition(function ZX3))
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveLightningHandle(hashTable, DMI, 196, ZVI)
        call SaveUnitHandle(hashTable, DMI, 19, YVI)
        call SaveReal(hashTable, DMI, 137, (Atan2(GetLocationY(l) - GetUnitY(GCI), GetLocationX(l) - GetUnitX(GCI))*1.0))
        call SaveReal(hashTable, DMI, 64, (GetUnitX(GCI)*1.0))
        call SaveReal(hashTable, DMI, 65, (GetUnitY(GCI)*1.0))
        call RemoveLocation(l)
        set l = null
        set t = null
    else 
        call ZW3(GCI, GDI, ZVI, YVI)
    endif
    set GDI = null
endfunction

function ZJ3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1DP' then
        call ZY3()
    endif
    return false
endfunction

function O21 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function ZJ3))
    set t = null
    set AKI[0] = 'A1DV'
    set AKI[1] = 'A1DQ'
    set AKI[2] = 'A1DR'
    set AKI[3] = 'A1DS'
    set AKI[4] = 'A1DT'
    set AKI[5] = 'A1DU'
    set AKI[6] = 'A1DW'
    set AKI[7] = 'A1DX'
    set ALI[0] = 'A1E4'
    set ALI[1] = 'A1E3'
    set ALI[2] = 'A1E2'
    set ALI[3] = 'A1E1'
    set ALI[4] = 'A1E0'
    set ALI[5] = 'A1E5'
    set ALI[6] = 'A1DZ'
    set ALI[7] = 'A1DY'
endfunction

function ZK3 takes integer DMI returns nothing
    local integer i = 1
    local integer LJO = LoadInteger(hashTable, DMI, 136)
    local unit GDI
    local integer GHI
    if LJO == 0 then
        return
    endif
    loop
        exitwhen i > LJO
        set GHI = LoadInteger(hashTable, DMI, (2200 + i))
        set GDI = D9I(GHI)
        call D8I(GHI)
        call UnitRemoveAbility(GDI, VN[0])
        call UnitRemoveAbility(GDI, VN[1])
        call UnitRemoveAbility(GDI, VN[2])
        call UnitRemoveAbility(GDI, VN[3])
        call UnitRemoveAbility(GDI, VN[4])
        call UnitRemoveAbility(GDI, VN[5])
        set i = i + 1
    endloop
    set GDI = null
endfunction

function ZL3 takes unit GDI, integer DMI returns nothing
    local integer GHI = DBI(GDI)
    local integer LJO = LoadInteger(hashTable, DMI, 136)
    set LJO = LJO + 1
    call SaveInteger(hashTable, DMI, 136, LJO)
    call SaveInteger(hashTable, DMI, (2200 + LJO), GHI)
endfunction

function ZM3 takes unit u returns integer 
    return GetUnitAbilityLevel(u, VN[0])*1 + GetUnitAbilityLevel(u, VN[1])*2 + GetUnitAbilityLevel(u, VN[2])*4 + GetUnitAbilityLevel(u, VN[3])*8 + GetUnitAbilityLevel(u, VN[4])*16
endfunction

function ZN3 takes unit u, integer d returns nothing
    local integer array b
    local integer a = d
    local integer c = 1
    local integer i = 0
    local integer KDI
    if d < 1 then
        call UnitRemoveAbility(u, VN[0])
        call UnitRemoveAbility(u, VN[1])
        call UnitRemoveAbility(u, VN[2])
        call UnitRemoveAbility(u, VN[3])
        call UnitRemoveAbility(u, VN[4])
        call UnitRemoveAbility(u, VN[5])
        return
    endif
    loop
        exitwhen c == 0
        set c = a/2
        set b[i] = a - c*2
        set a = c
        set i = i + 1
    endloop
    set KDI = i
    set i = 0
    loop
        exitwhen i > KDI
        if b[i] == 1 then
            call UnitAddAbility(u, VN[i])
        else 
            call UnitRemoveAbility(u, VN[i])
        endif
        set i = i + 1
    endloop
endfunction

function ZS3 takes unit u, integer d returns nothing
    call ZN3(u, d + ZM3(u))
    call ZL3(u, ARI)
endfunction

function ZT3 takes unit GCI, unit YVI, unit GDI, integer FVI returns nothing
    call IssueTargetOrder(YVI, "chainlightning", GDI)
    call GZI(GCI, GDI, 2, (50 + 25*FVI)/2, 0.3)
    call ZS3(GDI, 1)
endfunction

function ZR3 takes nothing returns boolean 
    if (GOI(GetFilterUnit()) == false and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(myUnit)) and IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) then
        if GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) < ATI then
            set ATI = GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE)
            set ASI = GetFilterUnit()
        endif
    endif
    return false
endfunction

function ZP3 takes unit GCI, unit YVI, integer FVI returns nothing
    local group g = allocGroup()
    set ASI = null
    set ATI = 999999
    set AMI = 30 + 30*FVI
    set ANI = GCI
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 525, Condition(function ZR3))
    call releaseGroup(g)
    if ASI != null then
        call ZT3(GCI, YVI, ASI, FVI)
    endif
    set g = null
endfunction

function ZQ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer DHI = GetTriggerEvalCount(t)
    local integer FI2
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call ZK3(DMI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if GetTriggerUnit() == GCI then
            call KillUnit(YVI)
        endif
    else 
        if FVI == 1 then
            set FI2 = 17
        elseif FVI == 2 then
            set FI2 = 15
        else 
            set FI2 = 12
        endif
        if ModuloInteger(DHI, FI2) == 0 or DHI == 1 then
            set ARI = DMI
            call ZP3(GCI, YVI, FVI)
        endif
        call SetUnitX(YVI, GetUnitX(GCI))
        call SetUnitY(YVI, GetUnitY(GCI))
    endif
    set t = null
    set GCI = null
    return false
endfunction

function ZU3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1AO')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'h081', GetUnitX(GCI), GetUnitY(GCI), 0)
    call UnitApplyTimedLife(YVI, 'BTLF', 15 + 5*FVI)
    call SetUnitAbilityLevel(YVI, 'A1DJ', FVI)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, YVI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function ZQ3))
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    set GCI = null
    set t = null
endfunction

function V03 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1AO' then
        call ZU3()
    endif
    return false
endfunction

function O31 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V03))
    set t = null
    set VN[0] = 'A1DK'
    set VN[1] = 'A1DL'
    set VN[2] = 'A1DN'
    set VN[3] = 'A1DM'
    set VN[4] = 'A1DO'
endfunction

function VI3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    call SetUnitPosition(E1I, x, y)
    call SetUnitAnimation(E1I, "morph ALTERNATE")
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function V13 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A06O')
    local location l
    local real LPO
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local real HMI
    local real HNI
    local real FinalX
    local real FinalY
    local real CasterX
    local real CasterY
    local integer VO3
    local unit YVI
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real GFI
    local real YHI = 1.65
    local unit JII = null
    if FVI == 1 then
        set GFI = 100
    elseif FVI == 2 then
        set GFI = 160
    elseif FVI == 3 then
        set GFI = 220
    elseif FVI == 4 then
        set GFI = 280
    endif
    if GetSpellTargetUnit() != null then
        set l = GetUnitLoc(GetSpellTargetUnit())
    else 
        set l = GetSpellTargetLoc()
    endif
    set HMI = GetLocationX(l)
    set HNI = GetLocationY(l)
    call RemoveLocation(l)
    set LPO = getAngle(x, y, HMI, HNI)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveReal(hashTable, DMI, 6, (HMI*1.0))
    call SaveReal(hashTable, DMI, 7, (HNI*1.0))
    call TriggerRegisterTimerEvent(t, getDistance(x, y, HMI, HNI)/2000, false)
    call TriggerAddCondition(t, Condition(function VI3))
    if getDistance(x, y, HMI, HNI) < 150 then
        set HMI = x + 150*Cos(LPO*bj_DEGTORAD)
        set HNI = y + 150*Sin(LPO*bj_DEGTORAD)
    endif
    if GetSpellTargetUnit() != null and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) then
        set JII = GetSpellTargetUnit()
    endif
    call J0I(E1I, JII, GFI, YHI, 0.52, x, y, HMI, HNI, 175, null, true, 1600)
    set YVI = null
    set l = null
    set E1I = null
    set t = null
endfunction

function V23 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A06O' then
        call V13()
    endif
    return false
endfunction

function U7I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function V23))
    call preloadAblility('A0X6')
    set t = null
endfunction

function V33 takes nothing returns nothing
    call doDamage(AQI, GetEnumUnit(), 1, 110)
    call IssueTargetOrder(AUI, "slow", GetEnumUnit())
endfunction

function V43 takes unit GCI, real x, real y, integer FVI, integer V53 returns nothing
    local group g = allocGroup()
    local real r
    if V53 == 8 then
        set r = 675
    elseif V53 == 9 then
        set r = 700
    elseif V53 == 10 then
        set r = 725
    else 
        set r = 250 + 50*V53
    endif
    set myUnit = GCI
    set AQI = GCI
    set AUI = API[GetPlayerId(GetOwningPlayer(GCI))]
    call GroupEnumUnitsInRange(g, x, y, r, Condition(function filterUnitInjurable))
    call ForGroup(g, function V33)
    call releaseGroup(g)
    call W9I(0.03, false, x, y, 150 + 100*V53, 150 + 100*V53, 72, 0.03, 512)
    set g = null
endfunction

function V63 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real CI2 = LoadReal(hashTable, DMI, 23)
    local real C12 = LoadReal(hashTable, DMI, 24)
    local boolean PVO = LoadBoolean(hashTable, DMI, 15)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer VXO = LoadInteger(hashTable, DMI, 25)
    local integer V73 = 4 + FVI*2
    local real x = CI2
    local real y = C12
    if PVO then
        set V73 = V73 + 1
    endif
    if VXO > V73 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if E1I != null and isUnitUnavailable(E1I) == false then
            set x = GetUnitX(E1I)
            set y = GetUnitY(E1I)
        endif
        call V43(E1I, x, y, FVI, VXO)
        call SaveInteger(hashTable, DMI, 25, (VXO + 1))
        call SaveReal(hashTable, DMI, 23, (x*1.0))
        call SaveReal(hashTable, DMI, 24, (y*1.0))
    endif
    set t = null
    set p = null
    set E1I = null
    return false
endfunction

function V83 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local player p = GetOwningPlayer(E1I)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A06R')
    local boolean PVO = false
    if FVI == 0 then
        set PVO = true
        set FVI = GetUnitAbilityLevel(E1I, 'A1B4')
    endif
    if isPlayerSentinel(p) then
        set API[GetPlayerId(p)] = CreateUnit(scourgePlayers[0], 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    else 
        set API[GetPlayerId(p)] = CreateUnit(sentinelPlayers[0], 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    endif
    call UnitAddAbility(API[GetPlayerId(p)], 'A17B')
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(E1I))
    call SaveReal(hashTable, DMI, 23, (GetUnitX(E1I)*1.0))
    call SaveReal(hashTable, DMI, 24, (GetUnitY(E1I)*1.0))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 25, 2)
    call SaveBoolean(hashTable, DMI, 15, PVO)
    call TriggerRegisterTimerEvent(t, 0.35, true)
    call TriggerAddCondition(t, Condition(function V63))
    call V43(E1I, GetUnitX(E1I), GetUnitY(E1I), FVI, 1)
    set E1I = null
    set t = null
endfunction

function V93 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A06R' or GetSpellAbilityId() == 'A1B4' then
        call V83()
    endif
    return false
endfunction

function U8I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function V93))
    set t = null
endfunction

function VA3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    call UnitRemoveAbility(E1I, 'B04R')
    call RemoveUnit( LoadUnitHandle(hashTable, DMI, 379) )
    call RemoveUnit( LoadUnitHandle(hashTable, DMI, 380) )
    call RemoveUnit( LoadUnitHandle(hashTable, DMI, 381) )
    call RemoveUnit( LoadUnitHandle(hashTable, DMI, 382) )
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function VB3 takes unit E1I, integer FVI, unit VC3, unit VD3, unit VE3, unit VF3 returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real YHI = FVI*0.3
    if FVI == 4 then
        set YHI = 1.5
    endif
    call TriggerRegisterTimerEvent(t, YHI, false)
    call TriggerAddCondition(t, Condition(function VA3))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 379, VC3)
    call SaveUnitHandle(hashTable, DMI, 380, VD3)
    call SaveUnitHandle(hashTable, DMI, 381, VE3)
    call SaveUnitHandle(hashTable, DMI, 382, VF3)
    set t = null
endfunction

function VG3 takes nothing returns boolean 
    if (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) then
        call doDamage(myUnit, GetFilterUnit(), 1, OK)
    endif
    return false
endfunction

function VH3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit VC3 = LoadUnitHandle(hashTable, DMI, 379)
    local unit VD3 = LoadUnitHandle(hashTable, DMI, 380)
    local unit VE3 = LoadUnitHandle(hashTable, DMI, 381)
    local unit VF3 = LoadUnitHandle(hashTable, DMI, 382)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0H0')
    local integer DHI = GetTriggerEvalCount(t)
    local group g
    local integer VZ3 = 250 + 50*FVI
    if FVI == 4 then
        set VZ3 = 550
    endif
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST or DHI > FVI*20 then
        call VB3(E1I, FVI, VC3, VD3, VE3, VF3)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set g = allocGroup()
        set myUnit = E1I
        set OK = FVI*20
        call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), VZ3, Condition(function VG3))
        call releaseGroup(g)
    endif
    set t = null
    set E1I = null
    set VC3 = null
    set VD3 = null
    set VE3 = null
    set VF3 = null
    set g = null
    return false
endfunction

function VV3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit VC3 = CreateUnit(GetOwningPlayer(E1I), 'e00Q', GetUnitX(E1I) + 150, GetUnitY(E1I) + 150, 0)
    local unit VD3 = CreateUnit(GetOwningPlayer(E1I), 'e00Q', GetUnitX(E1I) + 150, GetUnitY(E1I) - 150, 0)
    local unit VE3 = CreateUnit(GetOwningPlayer(E1I), 'e00Q', GetUnitX(E1I) - 150, GetUnitY(E1I) + 150, 0)
    local unit VF3 = CreateUnit(GetOwningPlayer(E1I), 'e00Q', GetUnitX(E1I) - 150, GetUnitY(E1I) - 150, 0)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0H0')
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(E1I), GetUnitY(E1I), 0)
    call UnitAddAbility(YVI, 'A0HO')
    call SetUnitAbilityLevel(YVI, 'A0HO', FVI)
    call IssueTargetOrder(YVI, "invisibility", E1I)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function VH3))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 379, VC3)
    call SaveUnitHandle(hashTable, DMI, 380, VD3)
    call SaveUnitHandle(hashTable, DMI, 381, VE3)
    call SaveUnitHandle(hashTable, DMI, 382, VF3)
    call SetUnitTimeScale(VC3, 0)
    call SetUnitTimeScale(VD3, 0)
    call SetUnitTimeScale(VE3, 0)
    call SetUnitTimeScale(VF3, 0)
    set t = null
    set E1I = null
    set YVI = null
    set VC3 = null
    set VD3 = null
    set VE3 = null
    set VF3 = null
endfunction

function VW3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0H0' then
        call VV3()
    endif
    return false
endfunction

function U9I takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VW3))
    set t = null
endfunction

function VX3 takes nothing returns nothing
    call doDamage(B0I, GetEnumUnit(), 2, 50*BII)
endfunction

function VY3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', x, y, 0)
    local group g = allocGroup()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A01W')
    call UnitAddAbility(YVI, 'A0M9')
    call SetUnitAbilityLevel(YVI, 'A0M9', FVI)
    call IssueImmediateOrder(YVI, "thunderclap")
    set B0I = GCI
    set BII = FVI
    call GroupEnumUnitsInRange(g, x, y, 350 + 25, Condition(function XKI))
    call ForGroup(g, function VX3)
    call releaseGroup(g)
    set GCI = null
    set YVI = null
    set g = null
endfunction

function VJ3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A01W' then
        call VY3()
    endif
    return false
endfunction

function UAI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function VJ3))
    set t = null
endfunction

function SpectralDagger_CastCode takes nothing returns integer 
    return 'A0HW'
endfunction

function SpectralDagger_PositiveEffect takes nothing returns integer 
    return 'A0I2'
endfunction

function SpectralDagger_NegativeEffect takes nothing returns integer 
    return 'A0HY'
endfunction

function SpectralDagger_PositiveBuff takes nothing returns integer 
    return 'B047'
endfunction

function SpectralDagger_ShadowPathUnit takes nothing returns integer 
    return 'h002'
endfunction

function SpectralDagger_DaggerUnit takes nothing returns integer 
    return 'h003'
endfunction

function VK3 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit GTI = LoadUnitHandle(hashTable, DMI, 221)
    local unit VL3 = LoadUnitHandle(hashTable, DMI, 383)
    local unit YVI
    local real YHI = LoadReal(hashTable, DMI, 57)
    local integer FVI = GetUnitAbilityLevel(VL3, 'A0HW')
    local real VM3 = LoadReal(hashTable, DMI, 6)
    local real VN3 = LoadReal(hashTable, DMI, 7)
    local real VGI = GetUnitX(GTI)
    local real VHI = GetUnitY(GTI)
    if (VGI - VM3)*(VGI - VM3) + (VHI - VN3)*(VHI - VN3) > 900 then
        set YVI = CreateUnit(GetOwningPlayer(VL3), 'h002', GetUnitX(GTI), GetUnitY(GTI), 0)
        call SetUnitAbilityLevel(YVI, 'A0I2', FVI)
        call SetUnitAbilityLevel(YVI, 'A0HY', FVI)
        call UnitApplyTimedLife(YVI, 'BTLF', 7)
        call SaveReal(hashTable, DMI, 6, (VGI*1.0))
        call SaveReal(hashTable, DMI, 7, (VHI*1.0))
    endif
    set YHI = YHI + 0.2
    call SaveReal(hashTable, DMI, 57, (YHI*1.0))
    if YHI > 7 or GetUnitState(GTI, UNIT_STATE_LIFE) < 1 then
        call PauseTimer(t)
        call FlushChildHashtable(hashTable, DMI)
    endif
endfunction

function VS3 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local sound GXI
    local timer t
    local integer DMI
    call UnitDamageTarget(YO, GDI, KO, true, true, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS)
    call GroupAddUnit(D2, GDI)
    if IsUnitType(GDI, UNIT_TYPE_HERO) == true then
        set t = CreateTimer()
        set DMI = GetHandleId(t)
        set GXI = CreateSound("Sounds\\Spectral Dagger.mp3", false, true, true, 10, 10, "DefaultEAXON")
        call SetSoundPosition(GXI, GetUnitX(GDI), GetUnitY(GDI), 0)
        call SetSoundDistanceCutoff(GXI, 700)
        call StartSound(GXI)
        call KillSoundWhenDone(GXI)
        call SaveUnitHandle(hashTable, DMI, 221, GDI)
        call SaveUnitHandle(hashTable, DMI, 383, YO)
        call SaveReal(hashTable, DMI, 6, (GetUnitX(GDI)*1.0))
        call SaveReal(hashTable, DMI, 7, (GetUnitY(GDI)*1.0))
        call TimerStart(t, 0.2, true, function VK3)
    endif
endfunction

function VT3 takes nothing returns boolean 
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(YO)) and IsUnitInGroup(GetFilterUnit(), D2) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction

function VR3 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local group JO1 = LoadGroupHandle(hashTable, DMI, 133)
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function VT3)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    local real HKI = GetUnitX(VDI)
    local real HLI = GetUnitY(VDI)
    local real LPO = Atan2(HNI - HLI, HMI - HKI)
    local real VGI = constrainX(GetUnitX(VDI) + 30*Cos(LPO))
    local real VHI = constrainY(GetUnitY(VDI) + 30*Sin(LPO))
    local unit YVI
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0HW')
    if LoadBoolean(hashTable, DMI, 384) then
        call SaveBoolean(hashTable, DMI, 384, false)
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'h002', HKI, HLI, 0)
        call SetUnitAbilityLevel(YVI, 'A0I2', FVI)
        call SetUnitAbilityLevel(YVI, 'A0HY', FVI)
        call UnitApplyTimedLife(YVI, 'BTLF', 12)
    else 
        call SaveBoolean(hashTable, DMI, 384, true)
    endif
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    call SetUnitFacing(VDI, LPO*bj_RADTODEG)
    set D2 = JO1
    set YO = E1I
    set KO = 50*GetUnitAbilityLevel(E1I, 'A0HW')
    call GroupEnumUnitsInRange(MNI, VGI, VHI, 150, BH1)
    call ForGroup(MNI, function VS3)
    call releaseGroup(MNI)
    if (VGI - HMI)*(VGI - HMI) + (VHI - HNI)*(VHI - HNI) < 1600 then
        call PauseTimer(t)
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call KillUnit(VDI)
        call releaseGroup(JO1)
    endif
endfunction

function VP3 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local group JO1 = LoadGroupHandle(hashTable, DMI, 133)
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function VT3)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local real HKI = GetUnitX(VDI)
    local real HLI = GetUnitY(VDI)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real VGI = constrainX(GetUnitX(VDI) + 30*Cos(LPO))
    local real VHI = constrainY(GetUnitY(VDI) + 30*Sin(LPO))
    local unit YVI
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0HW')
    if LoadBoolean(hashTable, DMI, 384) then
        call SaveBoolean(hashTable, DMI, 384, false)
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'h002', HKI, HLI, 0)
        call SetUnitAbilityLevel(YVI, 'A0I2', FVI)
        call SetUnitAbilityLevel(YVI, 'A0HY', FVI)
        call UnitApplyTimedLife(YVI, 'BTLF', 12)
    else 
        call SaveBoolean(hashTable, DMI, 384, true)
    endif
    call SetUnitX(VDI, VGI)
    call SetUnitY(VDI, VHI)
    set D2 = JO1
    set YO = E1I
    set KO = 50*GetUnitAbilityLevel(E1I, 'A0HW')
    call GroupEnumUnitsInRange(MNI, VGI, VHI, 150, BH1)
    call ForGroup(MNI, function VS3)
    call releaseGroup(MNI)
    if (VGI - HMI)*(VGI - HMI) + (VHI - HNI)*(VHI - HNI) < 1600 then
        call PauseTimer(t)
        call FlushChildHashtable(hashTable, DMI)
        call KillUnit(VDI)
        call releaseGroup(JO1)
    endif
endfunction

function VQ3 takes unit GTI, integer CDI returns boolean 
    if (GetItemTypeId( UnitItemInSlot(GTI, CDI) ) == 'pspd') then
        return true
    endif
    if (GetItemTypeId( UnitItemInSlot(GTI, CDI) ) == 'oflg') then
        return true
    endif
    return false
endfunction

function VU3 takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local real YHI = LoadReal(hashTable, DMI, 57)
    local integer EUI = 0
    loop
        exitwhen EUI > 5
        if VQ3(E1I, EUI) then
            if GetUnitAbilityLevel(E1I, 'B047') == 0 then
                call SetItemDropOnDeath(UnitItemInSlot(E1I, EUI), true)
                if GetItemTypeId( UnitItemInSlot(E1I, EUI) ) == 'oflg' then
                    call SetItemDroppable(UnitItemInSlot(E1I, EUI), true)
                endif
            else 
                call SetItemDropOnDeath(UnitItemInSlot(E1I, EUI), false)
                if GetItemTypeId( UnitItemInSlot(E1I, EUI) ) == 'oflg' then
                    call SetItemDroppable(UnitItemInSlot(E1I, EUI), false)
                endif
            endif
        endif
        set EUI = EUI + 1
    endloop
    set YHI = YHI + 0.2
    call SaveReal(hashTable, DMI, 57, (YHI*1.0))
    if GetUnitAbilityLevel(E1I, 'B047') == 0 then
        call SetUnitPathing(E1I, true)
    else 
        call SetUnitPathing(E1I, false)
    endif
    if YHI > 20 then
        call PauseTimer(t)
        call FlushChildHashtable(hashTable, DMI)
        call SetUnitPathing(E1I, true)
        set EUI = 0
        loop
            exitwhen EUI > 5
            if VQ3(E1I, EUI) then
                call SetItemDropOnDeath(UnitItemInSlot(E1I, EUI), true)
                if GetItemTypeId( UnitItemInSlot(E1I, EUI) ) == 'oflg' then
                    call SetItemDroppable(UnitItemInSlot(E1I, EUI), true)
                endif
            endif
            set EUI = EUI + 1
        endloop
    endif
endfunction

function W03 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0HW'
endfunction

function WI3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local real HKI = constrainX(GetUnitX(E1I))
    local real HLI = constrainY(GetUnitY(E1I))
    local unit VDI = CreateUnit(GetOwningPlayer(E1I), 'h003', HKI, HLI, 0)
    local timer t = CreateTimer()
    local integer DMI = GetHandleId(t)
    local group JO1 = allocGroup()
    local location TKO
    local real LPO
    local real HMI
    local real HNI
    call SetUnitPathing(VDI, false)
    call SaveGroupHandle(hashTable, DMI, 133, JO1)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    if GDI != null then
        call SaveInteger(hashTable, DMI, 30, DBI(GDI))
        call TimerStart(t, 0.035, true, function VR3)
    else 
        set TKO = GetSpellTargetLoc()
        set HMI = GetLocationX(TKO)
        set HNI = GetLocationY(TKO)
        set LPO = Atan2(HNI - HLI, HMI - HKI)
        call SetUnitFacing(VDI, LPO*bj_RADTODEG)
        set HMI = constrainX(HKI + 2100*Cos(LPO))
        set HNI = constrainY(HLI + 2100*Sin(LPO))
        call SaveReal(hashTable, DMI, 47, (HMI*1.0))
        call SaveReal(hashTable, DMI, 48, (HNI*1.0))
        call SaveReal(hashTable, DMI, 13, (LPO*1.0))
        call TimerStart(t, 0.035, true, function VP3)
    endif
    set t = CreateTimer()
    set DMI = GetHandleId(t)
    call SetUnitPathing(E1I, false)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TimerStart(t, 3 + 0.2, true, function VU3)
endfunction

function I41 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W03))
    call TriggerAddAction(t, function WI3)
    call CreateSound("Sounds\\Spectral Dagger.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call preloadAblility('A0I2')
    call preloadAblility('A0HY')
endfunction

constant function Desolate_AbilityId takes nothing returns integer 
    return 'A0FX'
endfunction

function W13 takes nothing returns boolean 
    return IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and GetUnitAbilityLevel(GetAttacker(), 'A0FX') > 0
endfunction

function WO3 takes nothing returns boolean 
    return IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false
endfunction

function W23 takes nothing returns nothing
    local unit VW1 = GetAttacker()
    local unit T5O = GetTriggerUnit()
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function WO3)
    local integer DMI
    call GroupEnumUnitsInRange(MNI, GetUnitX(T5O), GetUnitY(T5O), 350, BH1)
    call GroupRemoveUnit(MNI, T5O)
    if FirstOfGroup(MNI) == null then
        set DMI = GetHandleId(VW1)
        if (LoadInteger(hashTable, GetHandleId(VW1), 4275) == 1) == false then
            call UnitDamageTarget(VW1, T5O, 15 + 10*GetUnitAbilityLevel(VW1, 'A0FX'), true, true, ATTACK_TYPE_HERO, DAMAGE_TYPE_DIVINE, WEAPON_TYPE_WHOKNOWS)
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl", T5O, "overhead") )
            call DUI(VW1, 4275, 0.3)
        endif
    endif
    call releaseGroup(MNI)
endfunction

function I51 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function W13))
    call TriggerAddAction(t, function W23)
endfunction

function W33 takes nothing returns nothing
    if IsUnitType(GetEnumUnit(), UNIT_TYPE_HERO) == true then
        call doDamage(GetTriggerUnit(), GetEnumUnit(), 3, BOI/I2R(B1I))
    else 
        call doDamage(GetTriggerUnit(), GetEnumUnit(), 3, BOI)
    endif
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl", GetEnumUnit(), "chest") )
endfunction

function W43 takes nothing returns boolean 
    local unit E1I = GetTriggerUnit()
    local real GFI = GetEventDamage()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0NA')
    local group g
    if G5I(GFI) then
        set g = allocGroup()
        set BOI = GFI*0.05*FVI
        call HVI(E1I, BOI)
        call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 1000, Condition(function Y4I))
        set B1I = CountUnitsInGroup(g)
        call releaseGroup(g)
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 1000, Condition(function XKI))
        call ForGroup(g, function W33)
        call releaseGroup(g)
    endif
    set E1I = null
    set g = null
    return false
endfunction

function W53 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit E1I = GetTriggerUnit()
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function W43))
    set t = null
    set E1I = null
endfunction

function W63 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0NA' and GetUnitAbilityLevel(GetTriggerUnit(), 'A0NA') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call W53()
    endif
    return false
endfunction

function I61 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function W63))
    set t = null
endfunction

constant function Haunt_AbilityCode takes nothing returns integer 
    return 'A0H9'
endfunction

constant function Haunt_ImageCode takes nothing returns integer 
    return 'A0N9'
endfunction

constant function Haunt_ImageBuffCode takes nothing returns integer 
    return 'B06L'
endfunction

constant function Haunt_RealityCode takes nothing returns integer 
    return 'A0HA'
endfunction

function W73 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0H9'
endfunction

function W83 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local unit E1I = GetTriggerUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call SaveUnitHandle(hashTable, GetHandleId(YVI), 387, GDI)
    call UnitAddAbility(YVI, 'A0N9')
    call SetUnitAbilityLevel(YVI, 'A0N9', GetUnitAbilityLevel(E1I, 'A0H9'))
    call IssueTargetOrderById(YVI, 852274, E1I)
endfunction

function W93 takes nothing returns boolean 
    return IsUnitType(GetFilterUnit(), UNIT_TYPE_HERO) == true and IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit()))
endfunction

function WA3 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit G32 = LoadUnitHandle(hashTable, DMI, 386)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 387)
    local integer WB3 = LoadInteger(hashTable, DMI, 385)
    if GetTriggerEventId() != EVENT_UNIT_DEATH and GetTriggerEventId() != EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId() != EVENT_UNIT_ISSUED_POINT_ORDER then
        set WB3 = WB3 + 1
        call SaveInteger(hashTable, DMI, 385, WB3)
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DisableTrigger(GetTriggeringTrigger())
        call FlushChildHashtable(hashTable, GetHandleId(GetTriggeringTrigger()))
        call SaveInteger(hashTable, DMI, 385, WB3)
        if GDI == GetTriggerUnit() then
            call KillUnit(G32)
        endif
    elseif IsUnitPaused(G32) == false then
        if WB3 == 2 then
            call SetUnitVertexColor(G32, 255, 255, 255, 255)
        endif
        if WB3 > 1 then
            call DisableTrigger(GetTriggeringTrigger())
            call IssueTargetOrder(G32, "attack", GDI)
            call EnableTrigger(GetTriggeringTrigger())
        else 
            call DisableTrigger(GetTriggeringTrigger())
            call IssueTargetOrderById(G32, 851986, GDI)
            call EnableTrigger(GetTriggeringTrigger())
        endif
    endif
endfunction

function WC3 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetSummonedUnit(), 'B06L') > 0
endfunction

function WD3 takes nothing returns nothing
    local unit YVI = GetSummoningUnit()
    local unit G32 = GetSummonedUnit()
    local unit GDI = LoadUnitHandle(hashTable, GetHandleId(YVI), 387)
    local trigger t = CreateTrigger()
    call SaveUnitHandle(hashTable, GetHandleId(playerHero[GetPlayerId(GetOwningPlayer(YVI))]), (7100 + GetHandleId(G32)), GDI)
    call SetUnitPathing(G32, false)
    call SetUnitMoveSpeed(G32, 400)
    call SetUnitX(G32, GetUnitX(GDI))
    call SetUnitY(G32, GetUnitY(GDI))
    call IssueTargetOrderById(G32, 851986, GDI)
    call SetUnitVertexColor(G32, 255, 255, 255, 50)
    call TriggerRegisterUnitEvent(t, G32, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, G32, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, G32, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddAction(t, function WA3)
    call SaveUnitHandle(hashTable, GetHandleId(t), 387, GDI)
    call SaveUnitHandle(hashTable, GetHandleId(t), 386, G32)
    call SaveInteger(hashTable, GetHandleId(t), 385, 0)
    call FlushChildHashtable(hashTable, GetHandleId(YVI))
endfunction

function WE3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function W93)
    local sound GXI
    call SetUnitPathing(E1I, false)
    call GroupEnumUnitsInRect(MNI, bj_mapInitialPlayableArea, BH1)
    call ForGroup(MNI, function W83)
    call SetUnitPathing(E1I, true)
    if FirstOfGroup(MNI) != null then
        set GXI = CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav", false, false, false, 10, 10, "DefaultEAXON")
        call StartSound(GXI)
        call KillSoundWhenDone(GXI)
    endif
    call releaseGroup(MNI)
endfunction

function WF3 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0H9' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0H9') == 1
endfunction

function WG3 takes nothing returns nothing
    call UnitAddAbility(GetTriggerUnit(), 'A0HA')
endfunction

function I71 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function W73))
    call TriggerAddAction(t, function WE3)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function WC3))
    call TriggerAddAction(t, function WD3)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function WF3))
    call TriggerAddAction(t, function WG3)
    call CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav", false, false, false, 10, 10, "DefaultEAXON")
    call preloadAblility('A0N9')
endfunction

constant function Reality_AbilityCode takes nothing returns integer 
    return 'A0HA'
endfunction

constant function Reality_ImageBuffCode takes nothing returns integer 
    return 'B06L'
endfunction

function WH3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0HA'
endfunction

function WZ3 takes nothing returns boolean 
    return GetUnitAbilityLevel(GetFilterUnit(), 'B06L') > 0
endfunction

function WV3 takes nothing returns nothing
    local unit GTI
    local real HJI = getDistanceLoc(GetEnumUnit(), GetSpellTargetLoc())
    if HJI < KO then
        set YO = GetEnumUnit()
        set KO = HJI
    endif
endfunction

function WW3 takes nothing returns unit 
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function WZ3)
    set YO = null
    set KO = 9999999
    call GroupEnumUnitsOfPlayer(MNI, GetOwningPlayer(GetTriggerUnit()), BH1)
    call ForGroup(MNI, function WV3)
    set B2I = MNI
    set MNI = null
    return YO
endfunction

function WX3 takes nothing returns nothing
    call KillUnit(GetEnumUnit())
endfunction

function WY3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = WW3()
    local unit JA1 = LoadUnitHandle(hashTable, GetHandleId(E1I), (7100 + GetHandleId(GDI)))
    local real HMI
    local real HNI
    if GDI == null then
        call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n03Z'))
    else 
        set HMI = GetUnitX(GDI)
        set HNI = GetUnitY(GDI)
        call ForGroup(B2I, function WX3)
        call releaseGroup(B2I)
        set B2I = null
        call SetUnitX(E1I, HMI)
        call SetUnitY(E1I, HNI)
        call PanCameraToTimedForPlayer(GetOwningPlayer(E1I), HMI, HNI, 0)
        call IssueTargetOrder(E1I, "attack", JA1)
    endif
endfunction

function Reality_CheckValid takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = WW3()
    if GDI == null then
        call GSI(E1I)
        call displayErrorMessage(GetOwningPlayer(E1I), GetObjectName('n03Z'))
    endif
endfunction

function I81 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WH3))
    call TriggerAddAction(t, function WY3)
endfunction

function WJ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0ES')
    local integer B6O
    local integer JB2
    if FVI > 0 and isUnitUnavailable(GCI) == false then
        set B6O = R2I(GetUnitMoveSpeed(GCI)*0.04*FVI)
        set JB2 = LoadInteger(hashTable, DMI, 238)
        if B6O != JB2 then
            call SaveInteger(hashTable, DMI, 238, B6O)
            call LDI(GCI, B6O)
        endif
    endif
    set t = null
    set GCI = null
    return false
endfunction

function WK3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function WJ3))
    call SaveUnitHandle(hashTable, DMI, 2, GetTriggerUnit())
    call SaveInteger(hashTable, DMI, 238, 0)
    set t = null
endfunction

function WL3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0ES' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A0ES') == 1 then
        call WK3()
    endif
    return false
endfunction

function UCI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function WL3))
    set t = null
endfunction

function WM3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real x = GetUnitX(GDI)
    local real y = GetUnitY(GDI)
    local integer DHI = GetTriggerEvalCount(t)
    local real RMO = LoadReal(hashTable, DMI, 193)
    local integer PZO = LoadInteger(hashTable, DMI, 12)
    if DHI > 35 then
        call SaveReal(hashTable, DMI, 193, ((RMO*0.98)*1.0))
    endif
    if GetTriggerEventId() == EVENT_UNIT_DEATH or DHI > PZO then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call DestroyEffect( AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl", x, y) )
        call killDestructables(x, y, 150)
        call SetUnitPosition(GDI, x + RMO*Cos(LPO), y + RMO*Sin(LPO))
        if DHI == 1 then
            call IssueTargetOrder(GCI, "attack", GDI)
        endif
    endif
    set t = null
    set GDI = null
    return false
endfunction

function WN3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetAttacker()
    local unit GDI = GetTriggerUnit()
    local real LPO = Atan2(GetUnitY(GDI) - GetUnitY(GCI), GetUnitX(GDI) - GetUnitX(GCI))
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0G5')
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl", GCI, "weapon") )
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveReal(hashTable, DMI, 193, (2*1.0))
    call SaveInteger(hashTable, DMI, 12, (75 + 20*FVI))
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 0.01, true)
    call TriggerAddCondition(t, Condition(function WM3))
    call doDamage(GCI, GDI, 1, 25*FVI)
    call DUI(GCI, 4276, 1.5)
    set t = null
    set GCI = null
    set GDI = null
endfunction

function WS3 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetAttacker(), 'A0G5') > 0 and IsUnitIllusion(GetAttacker()) == false and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) and GetRandomInt(1, 100) <= 17 and (LoadInteger(hashTable, GetHandleId(GetAttacker()), 4276) == 1) == false then
        call WN3()
    endif
    return false
endfunction

function UDI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function WS3))
    set t = null
endfunction

function WT3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local unit AW2 = LoadUnitHandle(hashTable, DMI, 239)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer DHI = GetTriggerEvalCount(t)
    local integer VXO
    local integer VO3 = LoadInteger(hashTable, DMI, 388)
    local real WR3
    local real WP3
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId() == EVENT_UNIT_ISSUED_TARGET_ORDER then
        if GetTriggerEventId() == EVENT_UNIT_DEATH then
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 177) )
            call SetUnitTimeScale(GCI, 1)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call RemoveUnit(YVI)
            call KillUnit(AW2)
            call UnitRemoveAbility(GDI, 'B01Y')
            call UnitRemoveAbility(GCI, 'B01Z')
            call UnitShareVision(GDI, GetOwningPlayer(GCI), false)
            call SetUnitPathing(GCI, true)
            call SetUnitVertexColor(GCI, 255, 255, 255, 255)
            call UnitRemoveAbility(GCI, 'A179')
        elseif (LoadInteger(hashTable, GetHandleId(GCI), 2486) == 1) == false then
            if LoadInteger(hashTable, DMI, 34) == 1 or GetTriggerEventId() == EVENT_UNIT_DEATH then
                call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
                call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
                call DestroyEffect( LoadEffectHandle(hashTable, DMI, 177) )
                call SetUnitTimeScale(GCI, 1)
                call FlushChildHashtable(hashTable, DMI)
                call abandonTrigger(t)
                call RemoveUnit(YVI)
                call KillUnit(AW2)
                call UnitRemoveAbility(GDI, 'B01Y')
                call UnitRemoveAbility(GCI, 'B01Z')
                call UnitShareVision(GDI, GetOwningPlayer(GCI), false)
                call SetUnitPathing(GCI, true)
                call SetUnitVertexColor(GCI, 255, 255, 255, 255)
                call UnitRemoveAbility(GCI, 'A179')
            elseif LoadInteger(hashTable, DMI, 34) == 0 then
                call SaveInteger(hashTable, DMI, 34, 1)
                call DisableTrigger(t)
                call IssueTargetOrder(GCI, "attack", GDI)
                call EnableTrigger(t)
            endif
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call DUI(GCI, 2486, 0.01)
        set WR3 = LoadReal(hashTable, DMI, 442)
        set WP3 = TimerGetElapsed(M)
        if LoadInteger(hashTable, DMI, 34) == 0 then
            call SetUnitTimeScale(GCI, 2.75)
            call SaveInteger(hashTable, DMI, 34, 1)
            call DisableTrigger(t)
            call IssueTargetOrder(GCI, "attack", GDI)
            call EnableTrigger(t)
            if WP3 - WR3 > 3.8 then
                call SetUnitAbilityLevel(YVI, VO3, 4)
                call UnitAddAbility(GCI, 'A179')
                call SetUnitVertexColor(GCI, 25, 25, 25, 100)
            elseif WP3 - WR3 > 2.7 then
                call SetUnitAbilityLevel(YVI, VO3, 3)
                call SetUnitVertexColor(GCI, 255, 255, 255, 150)
            elseif WP3 - WR3 > 1.2 then
                call SetUnitAbilityLevel(YVI, VO3, 2)
                call SetUnitVertexColor(GCI, 255, 255, 255, 150)
            elseif WP3 - WR3 > 0 then
                call SetUnitAbilityLevel(YVI, VO3, 1)
                call SetUnitVertexColor(GCI, 255, 255, 255, 150)
            endif
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_ATTACKED then
        if GetAttacker() == GCI then
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 177) )
            call SetUnitTimeScale(GCI, 1)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call SetUnitX(YVI, GetUnitX(GDI))
            call SetUnitY(YVI, GetUnitY(GDI))
            call UnitAddAbility(YVI, 'A0GS')
            call SetUnitAbilityLevel(YVI, 'A0GS', FVI)
            call IssueTargetOrder(YVI, "thunderbolt", GDI)
            call RemoveUnit(YVI)
            call KillUnit(AW2)
            call UnitRemoveAbility(GDI, 'B01Y')
            call UnitShareVision(GDI, GetOwningPlayer(GCI), false)
            call SetUnitPathing(GCI, true)
            call SetUnitVertexColor(GCI, 255, 255, 255, 255)
            call UnitRemoveAbility(GCI, 'A179')
        endif
    elseif LoadInteger(hashTable, DMI, 34) > 0 then
        if GCI == null or isUnitUnavailable(GDI) == true or GetUnitTypeId(GCI) != 'O00J' or J8I(GDI) then
            call UnitShareVision(GDI, LoadPlayerHandle(hashTable, DMI, 54), false)
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 177) )
            call SetUnitTimeScale(GCI, 1)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call RemoveUnit(YVI)
            call KillUnit(AW2)
            call UnitRemoveAbility(GDI, 'B01Y')
            call UnitRemoveAbility(GCI, 'B01Z')
            call UnitShareVision(GDI, GetOwningPlayer(GCI), false)
            call SetUnitPathing(GCI, true)
            call SetUnitVertexColor(GCI, 255, 255, 255, 255)
            call UnitRemoveAbility(GCI, 'A179')
        else 
            call DisableTrigger(t)
            call IssueTargetOrder(GCI, "attack", GDI)
            call EnableTrigger(t)
            set VXO = LoadInteger(hashTable, DMI, 25)
            set VXO = VXO + 1
            call SaveInteger(hashTable, DMI, 25, VXO)
            if GetUnitAbilityLevel(GDI, 'B01Y') == 0 and getDistance(GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI)) < 2500 then
                call IssueTargetOrder(YVI, "faeriefire", GDI)
            endif
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
    return false
endfunction

function WQ3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit AW2 = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1P8')
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00C', GetUnitX(GCI), GetUnitY(GCI), 0)
    local integer VO3
    local string fx = ""
    local unit GDI = LoadUnitHandle(hashTable, GetHandleId(AW2), 17)
    if IsPlayerAlly(GetLocalPlayer(), GetOwningPlayer(GCI)) then
        set fx = "Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"
    endif
    call UnitAddAbility(AW2, 'Aloc')
    call UnitShareVision(GDI, GetOwningPlayer(GCI), true)
    set VO3 = 'A0GE'
    call SaveUnitHandle(hashTable, GetHandleId(GetOwningPlayer(GCI)), 147, YVI)
    call UnitAddAbility(YVI, 'Aloc')
    call UnitAddAbility(YVI, VO3)
    call UnitAddAbility(YVI, 'A0GJ')
    call SetUnitPathing(GCI, false)
    call SaveInteger(hashTable, GetHandleId(GCI), 2486, 1)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(GCI))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveUnitHandle(hashTable, DMI, 239, AW2)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 388, VO3)
    call SaveInteger(hashTable, DMI, 25, 0)
    call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffectTarget(fx, GDI, "overhead"))
    call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffectTarget(fx, GDI, "overhead"))
    call SaveEffectHandle(hashTable, DMI, 177, AddSpecialEffectTarget("war3mapImported\\ShockwaveMissilePurple.mdx", GCI, "origin"))
    call SaveInteger(hashTable, DMI, 34, 0)
    call SaveReal(hashTable, DMI, 442, (TimerGetElapsed(M)*1.0))
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_ATTACKED)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_ISSUED_ORDER)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_ISSUED_POINT_ORDER)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_ISSUED_TARGET_ORDER)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function WT3))
    call SetUnitAnimationByIndex(GCI, 2)
    call SetUnitTimeScale(GCI, 2.5)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A179', false)
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
endfunction

function WU3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1P8' and GetUnitAbilityLevel(GetSpellTargetUnit(), 'A04R') > 0 then
        call WQ3()
    endif
    return false
endfunction

function X03 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local unit AW2 = CreateUnit(GetOwningPlayer(GCI), 'e02D', GetUnitX(GDI), GetUnitY(GDI), 0)
    call SaveUnitHandle(hashTable, GetHandleId(AW2), 17, GDI)
    call GSI(GCI)
    call IssueTargetOrderById(GCI, 852600, AW2)
    call UnitApplyTimedLife(AW2, 'BTLF', 90)
    set GCI = null
    set GDI = null
    set AW2 = null
endfunction

function XI3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1P8' then
        if IsUnitAlly(GetTriggerUnit(), GetOwningPlayer(GetSpellTargetUnit())) == true and GetUnitTypeId(GetSpellTargetUnit()) != 'e02D' then
            call GSI(GetTriggerUnit())
            call displayErrorMessage(GetOwningPlayer(GetTriggerUnit()), GetObjectName('n0K9'))
        elseif GetUnitAbilityLevel(GetSpellTargetUnit(), 'A04R') == 0 then
            call X03()
        endif
    endif
    return false
endfunction

function UBI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function WU3))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function XI3))
    set t = null
endfunction

function X13 takes unit GCI, unit GDI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real LPO = Atan2(GetUnitY(GDI) - GetUnitY(GCI), GetUnitX(GDI) - GetUnitX(GCI))
    local integer FVI = 4
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl", GCI, "weapon") )
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveReal(hashTable, DMI, 193, (2*1.0))
    call SaveInteger(hashTable, DMI, 12, (75 + 20*FVI))
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterTimerEvent(t, 0.01, true)
    call TriggerAddCondition(t, Condition(function WM3))
    call doDamage(GCI, GDI, 1, 25*FVI)
    set t = null
endfunction

function XO3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI
    local integer DHI = GetTriggerEvalCount(t)
    local integer X23
    local integer FVI
    local real LPO
    if GetTriggerEventId() == EVENT_UNIT_DEATH or DHI == 200 then
        call SetUnitVertexColor(GCI, 255, 255, 255, 255)
        set GDI = LoadUnitHandle(hashTable, DMI, 17)
        call UnitShareVision(GDI, GetOwningPlayer(GCI), false)
        call UnitRemoveAbility(GCI, 'A179')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if DHI < 100 then
            set X23 = DHI
        else 
            set X23 = 200 - DHI
        endif
        call SetUnitVertexColor(GCI, 255, 255, 255, 255*(100 - X23)/100)
        if DHI == 100 then
            set GDI = LoadUnitHandle(hashTable, DMI, 17)
            set FVI = LoadInteger(hashTable, DMI, 5)
            set LPO = Atan2(GetUnitY(GDI) - GetUnitY(GCI), GetUnitX(GDI) - GetUnitX(GCI))
            call SetUnitPosition(GCI, GetUnitX(GDI) + 80*Cos(LPO), GetUnitY(GDI) + 80*Sin(LPO))
            call SetUnitAnimation(GCI, "attack")
            call IssueTargetOrder(GCI, "attack", GDI)
            call doDamage(GCI, GDI, 1, 100*FVI)
            call X13(GCI, GDI)
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function X33 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0G4')
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(GCI, 'A1D8')
    endif
    call UnitShareVision(GDI, GetOwningPlayer(GCI), true)
    call IssueImmediateOrder(GCI, "halt")
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call TriggerRegisterTimerEvent(t, 0.01, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function XO3))
    call UnitAddAbility(GCI, 'A179')
    set t = null
    set GCI = null
    set GDI = null
endfunction

function X43 takes nothing returns boolean 
    if (GetSpellAbilityId() == 'A0G4' or GetSpellAbilityId() == 'A1D8') and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call X33()
    endif
    return false
endfunction

function UEI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function X43))
    set t = null
endfunction

function X53 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0H4'
endfunction

function X63 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GTI, 'A0H4')
    local unit YVI = CreateUnit(GetOwningPlayer(GTI), 'e00E', GetUnitX(GTI), GetUnitY(GTI), 0)
    call UnitAddAbility(YVI, 'A08Q')
    call SetUnitAbilityLevel(YVI, 'A08Q', FVI)
    call IssueTargetOrderById(YVI, 852274, GTI)
endfunction

function UGI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function X53))
    call TriggerAddAction(t, function X63)
endfunction

function Sunder_SwitchConditions takes nothing returns boolean 
    return GetSpellAbilityId() == 'A07R'
endfunction

function X73 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real X83 = LoadReal(hashTable, DMI, 295)
    local real X93 = LoadReal(hashTable, DMI, 296)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A07Q')
    if GetSpellTargetUnit() == GCI then
        call SetUnitState(GCI, UNIT_STATE_LIFE, RMaxBJ(GetUnitState(GCI, UNIT_STATE_MAX_LIFE)*X93*0.01, 1))
    endif
    if GetSpellTargetUnit() == GDI then
        call SetUnitLifePercentBJ(GDI, X83)
        if GetUnitLifePercent(GDI) < 33.00 and FVI == 1 and GetUnitState(GDI, UNIT_STATE_LIFE) > 1 then
            call SetUnitLifePercentBJ(GDI, 33.00)
        endif
        if GetUnitLifePercent(GDI) < 28.00 and FVI == 2 and GetUnitState(GDI, UNIT_STATE_LIFE) > 1 then
            call SetUnitLifePercentBJ(GDI, 28.00)
        endif
        if GetUnitLifePercent(GDI) < 23.00 and FVI == 3 and GetUnitState(GDI, UNIT_STATE_LIFE) > 1 then
            call SetUnitLifePercentBJ(GDI, 23.00)
        endif
    endif
    if GetTriggerExecCount(t) == 2 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set GCI = null
    set GDI = null
    set t = null
endfunction

function XA3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A07R' then
        call X73()
    endif
    return false
endfunction

function XB3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local unit YVI
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 295, (GetUnitLifePercent(GCI)*1.0))
    call SaveReal(hashTable, DMI, 296, (GetUnitLifePercent(GDI)*1.0))
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XA3))
    set YVI = CreateUnit(GetOwningPlayer(GDI), 'e00Y', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A07R')
    call IssueTargetOrder(YVI, "thunderbolt", GCI)
    call ShowUnit(YVI, false)
    call SetUnitPathing(YVI, false)
    call SetUnitInvulnerable(YVI, true)
    call UnitApplyTimedLife(YVI, 'BTLF', 0.2)
    set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00Y', GetUnitX(GCI), GetUnitY(GCI), 0)
    call UnitAddAbility(YVI, 'A07R')
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
    call ShowUnit(YVI, false)
    call SetUnitPathing(YVI, false)
    call SetUnitInvulnerable(YVI, true)
    call UnitApplyTimedLife(YVI, 'BTLF', 0.2)
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
endfunction

function XC3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A07Q' then
        call XB3()
    endif
    return false
endfunction

function UFI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XC3))
endfunction

function XD3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or GetTriggerEvalCount(t) > (4*(4 + FVI)) or GOI(GDI) or getUnitDistance(GCI, GDI) > 600 or IsUnitVisible(GDI, GetOwningPlayer(GCI)) == false then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call KillUnit(YVI)
    elseif GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT then
        if GetTriggerEvalCount(t) > 1 and GetSpellAbilityId() == 'A1RA' then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            call UnitRemoveAbility(GCI, 'A1RA')
            call KillUnit(YVI)
        endif
    else 
        if IsUnitAlly(GCI, GetOwningPlayer(GDI)) == false then
            call SetUnitState(GCI, UNIT_STATE_LIFE, GetUnitState(GCI, UNIT_STATE_LIFE) + FVI*20.0/4.0)
        else 
            call SetUnitState(GDI, UNIT_STATE_LIFE, GetUnitState(GDI, UNIT_STATE_LIFE) + FVI*20.0/4.0)
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
    return false
endfunction

function XE3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(GCI, 'A1RA')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if GetTriggerEvalCount(t) == 1 then
            call IssueImmediateOrderById(GCI, 851993)
        endif
        if IsUnitAlly(GCI, GetOwningPlayer(GDI)) == false then
            call SetUnitX(YVI, GetUnitX(GCI))
            call SetUnitY(YVI, GetUnitY(GCI))
        else 
            call SetUnitX(YVI, GetUnitX(GDI))
            call SetUnitY(YVI, GetUnitY(GDI))
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    set YVI = null
    return false
endfunction

function XF3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1PH')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit YVI
    if IsUnitAlly(GCI, GetOwningPlayer(GDI)) == false then
        set YVI = CreateUnit(GetOwningPlayer(GCI), 'u01G', 0, 0, 0)
        call UnitAddAbility(YVI, 'A04L')
        call SetUnitAbilityLevel(YVI, 'A04L', FVI)
        call SetUnitX(YVI, GetUnitX(GCI))
        call SetUnitY(YVI, GetUnitY(GCI))
        call IssueTargetOrderById(YVI, 852487, GDI)
    else 
        call UnitAddAbility(GCI, 'A1RA')
        call UnitMakeAbilityPermanent(GCI, true, 'A1RA')
        set YVI = CreateUnit(playerNeutrals, 'u01G', 0, 0, 0)
        call UnitAddAbility(YVI, 'A04L')
        call SetUnitAbilityLevel(YVI, 'A04L', FVI)
        call SetUnitX(YVI, GetUnitX(GDI))
        call SetUnitY(YVI, GetUnitY(GDI))
        call IssueTargetOrderById(YVI, 852487, GCI)
    endif
    call TriggerRegisterTimerEvent(t, 0.25, true)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XD3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.01, true)
    call TriggerRegisterUnitEvent(t, YVI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function XE3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    set GCI = null
    set GDI = null
    set t = null
endfunction

function XG3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1PH' and GetUnitTypeId(GetSpellTargetUnit()) != 'n00L' and (IsUnitAlly(GetSpellTargetUnit(), GetOwningPlayer(GetTriggerUnit())) or (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false) then
        call XF3()
    endif
    return false
endfunction

function UHI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XG3))
endfunction

function XH3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A046' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
endfunction

function XZ3 takes nothing returns nothing
    local unit t = GetSpellTargetUnit()
    local real XV3 = (60.00 + (50.00*I2R( GetUnitAbilityLevelSwapped('A046', GetTriggerUnit()) )))
    call UnitDamageTargetBJ(GetTriggerUnit(), t, XV3, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_COLD)
    call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", t, "chest") )
endfunction

function UVI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XH3))
    call TriggerAddAction(t, function XZ3)
endfunction

function XW3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = GetEventDamageSource()
    local real d = GetEventDamage()
    local real HWI = LoadReal(hashTable, DMI, 412)
    local real K9O = LoadReal(hashTable, DMI, 411)
    if isPlayer(GetOwningPlayer(GDI)) then
        if (K9O + B3I) < TimerGetElapsed(M) then
            set HWI = 0
        endif
        set K9O = TimerGetElapsed(M)
        set HWI = HWI + d
        if HWI > B4I and GetUnitAbilityLevel(GCI, 'BNdo') == 0 then
            set HWI = 0
            call UnitRemoveBuffs(GCI, false, true)
            call DestroyEffect( AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl", GCI, "origin") )
        endif
        call SaveReal(hashTable, DMI, 412, (HWI*1.0))
        call SaveReal(hashTable, DMI, 411, (K9O*1.0))
    endif
    set t = null
    set GCI = null
    return false
endfunction

function XX3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function XW3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 412, (0*1.0))
    call SaveReal(hashTable, DMI, 411, (TimerGetElapsed(M)*1.0))
    set t = null
    set GCI = null
endfunction

function XY3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A04E' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A04E') == 1 then
        call XX3()
    endif
    return false
endfunction

function UZI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function XY3))
    set t = null
endfunction

function XJ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    call releaseGroup(g)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set g = null
    return false
endfunction

function XK3 takes group g returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function XJ3))
    set t = null
endfunction

function XL3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit YVI
    local integer i = 1
    local real x1 = GetUnitX(E1I)
    local real y1 = GetUnitY(E1I)
    local real x2
    local real y2
    local real GFI
    local real YHI
    local integer FVI = GetUnitAbilityLevel(E1I, 'A03Z')
    local group g = allocGroup()
    local real d = 500
    if FVI == 1 then
        set YHI = 1.5
        set GFI = 250
    elseif FVI == 2 then
        set YHI = 1.8
        set GFI = 350
    elseif FVI == 3 then
        set YHI = 2.25
        set GFI = 450
    endif
    loop
        exitwhen i > 16
        set x2 = x1 + (d + FVI*100)*Cos(22.5*i*bj_DEGTORAD)
        set y2 = y1 + (d + FVI*100)*Sin(22.5*i*bj_DEGTORAD)
        call J0I(E1I, null, GFI, YHI, 0.52, x1, y1, x2, y2, 250, g, false, 900)
        set i = i + 1
    endloop
    call XK3(g)
    set E1I = null
    set YVI = null
    set g = null
endfunction

function XM3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A03Z' then
        call XL3()
    endif
    return false
endfunction

function UWI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XM3))
    call preloadAblility('A0X6')
    set t = null
endfunction

constant function Healing_RawCode takes nothing returns integer 
    return 'A0OR'
endfunction

function XN3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0OR'
endfunction

function XS3 takes nothing returns boolean 
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(YO)) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0
endfunction

function XT3 takes nothing returns nothing
    call doDamage(YO, GetEnumUnit(), 2, KO)
endfunction

function XR3 takes unit GCI, unit GDI, real GFI returns nothing
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function XS3)
    set YO = GCI
    set KO = GFI
    call GroupEnumUnitsInRange(MNI, GetUnitX(GDI), GetUnitY(GDI), 180, BH1)
    call ForGroup(MNI, function XT3)
    call releaseGroup(MNI)
endfunction

function XP3 takes nothing returns boolean 
    return IsUnitInGroup(GetFilterUnit(), D2) == false and IsUnitAlly(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and isUnitUnavailable(GetFilterUnit()) == false
endfunction

function XQ3 takes group XU3, unit Y03, unit GCI, unit YI3, boolean Y13 returns unit 
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function XP3)
    local unit YO3 = null
    local unit Y23
    local boolean Y33 = YI3 != GCI and Y13
    set JK = Y33
    set D2 = XU3
    set YO = GCI
    call GroupEnumUnitsInRange(MNI, GetUnitX(Y03), GetUnitY(Y03), 500, BH1)
    set Y23 = FirstOfGroup(MNI)
    set YO3 = Y23
    loop
        exitwhen Y23 == null
        if GetUnitState(Y23, UNIT_STATE_LIFE) != GetUnitState(Y23, UNIT_STATE_MAX_LIFE) then
            if Y23 != GCI and IsUnitType(Y23, UNIT_TYPE_HERO) == true and IsUnitType(YO3, UNIT_TYPE_HERO) == false then
                set YO3 = Y23
            elseif Y23 != GCI and GetUnitState(Y23, UNIT_STATE_LIFE) < GetUnitState(YO3, UNIT_STATE_LIFE) and IsUnitType(Y23, UNIT_TYPE_HERO) == true and IsUnitType(YO3, UNIT_TYPE_HERO) == true then
                set YO3 = Y23
            elseif Y23 != GCI and IsUnitType(YO3, UNIT_TYPE_HERO) == false and GetUnitState(Y23, UNIT_STATE_LIFE) < GetUnitState(YO3, UNIT_STATE_LIFE) then
                set YO3 = Y23
            elseif Y23 == GCI then
                set YO3 = Y23
            endif
        endif
        call GroupRemoveUnit(MNI, Y23)
        set Y23 = FirstOfGroup(MNI)
    endloop
    call releaseGroup(MNI)
    return YO3
endfunction

function Y43 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local string Y53 = "Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl"
    local string Y63 = "origin"
    local unit array Y73
    local integer x
    local integer i = 1
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0OR')
    local real GFI = 60 + FVI*20
    local group XU3 = allocGroup()
    local integer Y83
    local boolean Y93 = false
    if FVI == 3 then
        set Y83 = 4
    elseif FVI == 4 then
        set Y83 = 5
    else 
        set Y83 = 3
    endif
    set Y73[i] = GDI
    if GDI != E1I then
        call ZHI("SPLK", GetUnitX(E1I), GetUnitY(E1I), GetUnitX(GDI), GetUnitY(GDI), 0.3, 0.5, 0.9, 1, 0.7)
    endif
    call Z4I(Y53, Y73[i], Y63, 2)
    if isUnitUnavailable(Y73[i]) == false then
        call SetUnitState(Y73[i], UNIT_STATE_LIFE, GetUnitState(Y73[i], UNIT_STATE_LIFE) + GFI)
    endif
    call XR3(E1I, Y73[i], GFI)
    call GroupAddUnit(XU3, Y73[i])
    set i = 2
    loop
        exitwhen i > Y83 or Y93
        set Y73[i] = XQ3(XU3, Y73[i - 1], E1I, GDI, i == Y83)
        if Y73[i] == null then
            set Y93 = true
        else 
            call GroupAddUnit(XU3, Y73[i])
            call Z4I(Y53, Y73[i], Y63, 2)
            call SetUnitState(Y73[i], UNIT_STATE_LIFE, GetUnitState(Y73[i], UNIT_STATE_LIFE) + GFI)
            call XR3(E1I, Y73[i], GFI)
            call ZHI("SPLK", GetUnitX(Y73[i - 1]), GetUnitY(Y73[i - 1]), GetUnitX(Y73[i]), GetUnitY(Y73[i]), 0.3, 0.5, 0.9, 1, 0.7)
            set i = i + 1
        endif
    endloop
    call releaseGroup(XU3)
endfunction

function IQ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function XN3))
    call TriggerAddAction(t, function Y43)
endfunction

constant function BlowDart_RawCode takes nothing returns integer 
    return 'A0NQ'
endfunction

constant function BlowDart_SlowCode takes nothing returns integer 
    return 'A0NJ'
endfunction

constant function BlowDart_StunCode takes nothing returns integer 
    return 'A0NK'
endfunction

constant function BlowDart_IconCode takes nothing returns integer 
    return 'A0OW'
endfunction

function YA3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0NQ' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false
endfunction

function YB3 takes unit GCI, unit GDI, integer FVI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0NJ')
    call SetUnitAbilityLevel(YVI, 'A0NJ', FVI)
    call IssueTargetOrder(YVI, "slow", GDI)
endfunction

function YC3 takes unit GCI, unit GDI returns nothing
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0NK')
    call IssueTargetOrder(YVI, "thunderbolt", GDI)
endfunction

function YD3 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0NQ')
    local integer VXO = GetTriggerExecCount(t)
    local real GFI = 7*FVI
    if FVI == 1 then
        call UnitAddAbility(GDI, 'A0OW')
        call doDamage(GCI, GDI, 2, GFI)
        if VXO == 8 then
            call UnitRemoveAbility(GDI, 'A0OW')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    endif
    if FVI == 2 then
        if VXO == 1 then
            call YB3(GCI, GDI, 2)
        endif
        if VXO > 1 then
            call UnitAddAbility(GDI, 'A0OW')
            call doDamage(GCI, GDI, 2, GFI)
        endif
        if VXO == 9 then
            call UnitRemoveAbility(GDI, 'A0OW')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    endif
    if FVI == 3 then
        if VXO == 1 then
            call YB3(GCI, GDI, 2)
        endif
        if VXO == 2 then
            call YC3(GCI, GDI)
        endif
        if VXO > 2 then
            call UnitAddAbility(GDI, 'A0OW')
            call doDamage(GCI, GDI, 2, GFI)
        endif
        if VXO == 10 then
            call UnitRemoveAbility(GDI, 'A0OW')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    endif
    if FVI == 4 then
        if VXO == 1 then
            call YB3(GCI, GDI, 2)
        endif
        if VXO == 2 then
            call YC3(GCI, GDI)
        endif
        if VXO > 2 then
            call UnitAddAbility(GDI, 'A0OW')
            call doDamage(GCI, GDI, 2, GFI)
        endif
        if VXO == 10 then
            call UnitRemoveAbility(GDI, 'A0OW')
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    endif
endfunction

function YE3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddAction(t, function YD3)
    call SaveUnitHandle(hashTable, DMI, 2, GetTriggerUnit())
    call SaveUnitHandle(hashTable, DMI, 17, GetSpellTargetUnit())
    call YB3(GetTriggerUnit(), GetSpellTargetUnit(), 1)
endfunction

function IU1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YA3))
    call TriggerAddAction(t, function YE3)
    call preloadAblility('A0NJ')
    call preloadAblility('A0NK')
endfunction

function YF3 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    if isUnitUnavailable(GDI) == false then
        call UnitRemoveAbility(GDI, 'A0NU')
        call UnitRemoveAbility(GDI, 'A0NW')
    elseif IsUnitType(GDI, UNIT_TYPE_HERO) == true then
        call W6I(GDI, 'A0NU', 5.1)
        call W6I(GDI, 'A0NW', 5.1)
    endif
    set GDI = null
endfunction

function YG3 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    if isUnitUnavailable(GDI) == false then
        if IsUnitAlly(GDI, YK) == false then
            if QJ == 0 then
                call UnitAddAbility(GDI, 'A0NU')
            else 
                call SetUnitAbilityLevel(GDI, 'A0NU', QJ + 1)
            endif
        else 
            if QJ == 0 then
                call UnitAddAbility(GDI, 'A0NW')
            else 
                call SetUnitAbilityLevel(GDI, 'A0NW', QJ + 1)
            endif
        endif
    endif
    set GDI = null
endfunction

function YH3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    local player p = LoadPlayerHandle(hashTable, DMI, 54)
    local integer DHI = GetTriggerEvalCount(t)
    local integer YHI = LoadInteger(hashTable, DMI, 188)
    set YK = p
    set QJ = DHI
    if DHI == YHI then
        call ForGroup(g, function YF3)
        call releaseGroup(g)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call ForGroup(g, function YG3)
    endif
    set t = null
    set g = null
    set p = null
    return false
endfunction

function YZ3 takes nothing returns nothing
    call Z4I(KK, GetEnumUnit(), "chest", 3)
    call Z4I(KK, GetEnumUnit(), "chest", 3)
    call Z4I(KK, GetEnumUnit(), "right hand", 3)
    call Z4I(KK, GetEnumUnit(), "left hand", 3)
endfunction

function YV3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local group g = allocGroup()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A10Q')
    local integer YHI = 6 + 6*FVI
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'h007', x, y, 0)
    local integer a = 0
    local boolean PVO = false
    if FVI == 0 then
        set FVI = GetUnitAbilityLevel(E1I, 'A1DB')
        set YHI = 6 + 6*FVI + 6
        set PVO = true
    endif
    call RemoveLocation(l)
    set KK = ""
    set QJ = YHI
    set a = 255
    set KK = "Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"
    call SetUnitVertexColor(YVI, 255, 255, 255, a)
    call UnitApplyTimedLife(YVI, 'BTLF', 5)
    if PVO then
        call GroupEnumUnitsInRange(g, x, y, 800, Condition(function YAI))
    else 
        call GroupEnumUnitsInRange(g, x, y, 600, Condition(function YAI))
    endif
    call ForGroup(g, function YZ3)
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call SavePlayerHandle(hashTable, DMI, 54, GetOwningPlayer(E1I))
    call SaveInteger(hashTable, DMI, 188, YHI)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function YH3))
    call TriggerEvaluate(t)
    set E1I = null
    set l = null
    set g = null
    set t = null
endfunction

function YW3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A10Q' or GetSpellAbilityId() == 'A1DB' then
        call YV3()
    endif
    return false
endfunction

function O01 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YW3))
    call preloadAblility('A0NU')
    call preloadAblility('A0NW')
    set t = null
endfunction

function YX3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real GFI = LoadReal(hashTable, DMI, 20)
    local real YY3 = HGI(GetUnitState(GDI, UNIT_STATE_LIFE) - GFI, 1)
    local real YJ3 = LoadReal(hashTable, GetHandleId(GDI), 243)
    call SetUnitState(GDI, UNIT_STATE_LIFE, YY3)
    call SaveReal(hashTable, GetHandleId(GDI), 243, ((YJ3 - GFI)*1.0))
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GDI = null
    return false
endfunction

function YK3 takes unit GDI, real GFI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real YJ3 = LoadReal(hashTable, GetHandleId(GDI), 243)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 20, (GFI*1.0))
    call SaveReal(hashTable, GetHandleId(GDI), 243, ((YJ3 + GFI)*1.0))
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function YX3))
    set t = null
endfunction

function YL3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI
    local real MK2
    local real GFI
    local integer DHI = GetTriggerEvalCount(t)
    local real YJ3
    local real YM3 = LoadReal(hashTable, DMI, 389)
    local real YN3 = LoadReal(hashTable, DMI, 390)
    if YM3 != TimerGetElapsed(M) then
        set YM3 = TimerGetElapsed(M)
        set YN3 = 0
        call SaveReal(hashTable, DMI, 389, (YM3*1.0))
        call SaveReal(hashTable, DMI, 390, (YN3*1.0))
    endif
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        set GDI = GetTriggerUnit()
        set YJ3 = LoadReal(hashTable, GetHandleId(GDI), 243)
        set MK2 = GetUnitState(GDI, UNIT_STATE_LIFE)
        set GFI = GetEventDamage()
        if ((MK2 - YJ3 - YN3) - GFI) < 1 then
            call SetUnitState(GDI, UNIT_STATE_LIFE, MK2 + GFI + YN3)
            call YK3(GDI, GFI)
        else 
            set YN3 = YN3 + GFI
            call SaveReal(hashTable, DMI, 390, (YN3*1.0))
        endif
    else 
        call SaveInteger(hashTable, GetHandleId( LoadUnitHandle(hashTable, DMI, 17) ), 2485, 2)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set GDI = null
    set t = null
    return false
endfunction

function YS3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    call TriggerRegisterTimerEvent(t, 5, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function YL3))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\DarkHands.mdx", GDI, "overhead"))
    call SaveReal(hashTable, GetHandleId(GDI), 243, (0*1.0))
    call SaveReal(hashTable, DMI, 389, (TimerGetElapsed(M)*1.0))
    call SaveReal(hashTable, DMI, 390, (0*1.0))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, GetHandleId(GDI), 2485, 1)
    set t = null
    set GCI = null
    set GDI = null
endfunction

function YT3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A10L' then
        call YS3()
    endif
    return false
endfunction

function OI1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function YT3))
    set t = null
endfunction

function YR3 takes nothing returns nothing
    if IsUnitInGroup(GetEnumUnit(), WK) == false then
        set B5I = CreateUnit(GetOwningPlayer(myUnit), 'e00E', GetUnitX(GetEnumUnit()), GetUnitY(GetEnumUnit()), 0)
        call UnitAddAbility(B5I, 'A17N')
        call SetUnitAbilityLevel(B5I, 'A17N', B6I)
        call IssueTargetOrder(B5I, "shadowstrike", GetEnumUnit())
        call GroupAddUnit(WK, GetEnumUnit())
    endif
endfunction

function YP3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local group g = LoadGroupHandle(hashTable, DMI, 22)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local group O12
    local real x
    local real y
    local real YQ3
    local real YU3
    local real RMO = 30
    set B6I = FVI
    if GetTriggerEvalCount(t) > 28 then
        call releaseGroup(g)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call ShowUnit(YVI, false)
        call KillUnit(YVI)
    else 
        set x = GetUnitX(YVI)
        set y = GetUnitY(YVI)
        set O12 = allocGroup()
        set WK = g
        set myUnit = YVI
        set OK = FVI*70
        call GroupEnumUnitsInRange(O12, x, y, 150, Condition(function XQI))
        call ForGroup(O12, function YR3)
        call releaseGroup(O12)
        set YQ3 = constrainX(x + RMO*Cos(LPO*bj_DEGTORAD))
        set YU3 = constrainY(y + RMO*Sin(LPO*bj_DEGTORAD))
        call SetUnitX(YVI, YQ3)
        call SetUnitY(YVI, YU3)
    endif
    set t = null
    set g = null
    set O12 = null
    set YVI = null
    return false
endfunction

function J03 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local group g = allocGroup()
    local unit E1I = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x1 = GetUnitX(E1I)
    local real y1 = GetUnitY(E1I)
    local real x2 = GetLocationX(l)
    local real y2 = GetLocationY(l)
    local real LPO = getAngle(x1, y1, x2, y2)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A173')
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'h07K', x1, y1, LPO)
    call playSoundAt(PF, x1, y1)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveGroupHandle(hashTable, DMI, 22, g)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0.025, true)
    call TriggerAddCondition(t, Condition(function YP3))
    call RemoveLocation(l)
    set t = null
    set YVI = null
    set g = null
    set E1I = null
    set l = null
endfunction

function JI3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A173' then
        call J03()
    endif
    return false
endfunction

function UXI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JI3))
    set t = null
endfunction

function J13 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local integer JO3
    local integer i = 1
    local real x = GetUnitX(E1I)
    local real y = GetUnitY(E1I)
    local unit YVI
    if GetSpellAbilityId() == 'A013' then
        set JO3 = GetUnitAbilityLevel(E1I, 'A013')
    else 
        set JO3 = GetUnitAbilityLevel(E1I, 'A0A6') + 1
    endif
    loop
        exitwhen i > 18
        set YVI = CreateUnit(GetOwningPlayer(E1I), 'e017', x, y, 0)
        call UnitAddAbility(YVI, 'A057')
        call SetUnitAbilityLevel(YVI, 'A057', JO3)
        call IssuePointOrder(YVI, "move", x + 675*Cos(i*20*bj_DEGTORAD), y + 675*Sin(i*20*bj_DEGTORAD))
        call UnitApplyTimedLife(YVI, 'BTLF', 1.15)
        set i = i + 1
    endloop
    set E1I = null
    set YVI = null
endfunction

function J23 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A013' or GetSpellAbilityId() == 'A0A6' then
        call J13()
    endif
    return false
endfunction

function UYI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J23))
    set t = null
endfunction

function J33 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    call LDI(GCI, 0)
    call SaveInteger(hashTable, GetHandleId(GCI), 4277, 2)
    set t = null
    set GCI = null
    return false
endfunction

function J43 takes unit VW1, unit GDI returns nothing
    local real D63 = 100*GetUnitState(GDI, UNIT_STATE_LIFE)/GetUnitState(GDI, UNIT_STATE_MAX_LIFE)
    local integer B6O = 2*GetUnitAbilityLevel(VW1, 'A1A3')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveInteger(hashTable, GetHandleId(VW1), 4277, 1)
    call TriggerRegisterTimerEvent(t, 0.35, false)
    call TriggerAddCondition(t, Condition(function J33))
    call SaveUnitHandle(hashTable, DMI, 2, VW1)
    if IsUnitType(GDI, UNIT_TYPE_HERO) == false then
        set B6O = B6O/2
    endif
    if D63 > 80 then
        call LDI(VW1, B6O)
    elseif D63 > 60 then
        call LDI(VW1, B6O*2)
    elseif D63 > 40 then
        call LDI(VW1, B6O*2*2)
    elseif D63 > 20 then
        call LDI(VW1, B6O*2*2*2)
    else 
        call LDI(VW1, B6O*2*2*2*2)
    endif
    set t = null
endfunction

function J53 takes nothing returns boolean 
    if GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_CAST then
        if GetSpellAbilityId() == 'A09V' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1A3') > 0 then
            call J43(GetTriggerUnit(), GetSpellTargetUnit())
        endif
    else 
        if GetUnitAbilityLevel(GetAttacker(), 'A1A3') > 0 and IsUnitIllusion(GetAttacker()) == false and IsUnitEnemy(GetAttacker(), GetOwningPlayer(GetTriggerUnit())) == true and (LoadInteger(hashTable, GetHandleId(GetAttacker()), 4277) == 1) == false then
            call J43(GetAttacker(), GetTriggerUnit())
        endif
    endif
    return false
endfunction

function UJI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(t, Condition(function J53))
    set t = null
endfunction

function J63 takes nothing returns boolean 
    if (GetUnitAbilityLevelSwapped('A0MM', GetTriggerUnit()) > 0) then
        if (GetUnitAbilityLevelSwapped('A04R', GetAttacker()) == 0) then
            if (IsUnitType(GetAttacker(), UNIT_TYPE_STRUCTURE) == false) then
                if IsUnitEnemy(GetAttacker(), GetTriggerPlayer()) then
                    return true
                endif
            endif
        endif
    endif
    return false
endfunction

function J73 takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetAttacker())
    call CreateNUnitsAtLoc(1, 'o00S', GetOwningPlayer(GetTriggerUnit()), EA1, bj_UNIT_FACING)
    call UnitAddAbility(bj_lastCreatedUnit, 'A0KI')
    call SetUnitAbilityLevelSwapped('A0KI', bj_lastCreatedUnit, GetUnitAbilityLevelSwapped('A0MM', GetTriggerUnit()))
    call UnitApplyTimedLifeBJ(1.00, 'BTLF', bj_lastCreatedUnit)
    call IssueTargetOrder(bj_lastCreatedUnit, "attack", GetAttacker())
    call SetUnitPathing(bj_lastCreatedUnit, false)
    call SetUnitInvulnerable(bj_lastCreatedUnit, true)
    call UnitAddAbility(bj_lastCreatedUnit, 'Aloc')
    call RemoveLocation(EA1)
endfunction

function UKI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function J63))
    call TriggerAddAction(t, function J73)
endfunction

function J83 takes nothing returns nothing
    local unit GDI = GetSpellTargetUnit()
    call UnitRemoveAbility(GDI, 'BEsh')
    call UnitRemoveAbility(GDI, 'B0AQ')
    set GDI = null
endfunction

function J93 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A080' then
        call J83()
    endif
    return false
endfunction

function ULI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function J93))
    set t = null
endfunction

function JA3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A08X'
endfunction

function JB3 takes nothing returns nothing
    local location EA1 = GetUnitLoc(GetSpellAbilityUnit())
    call CreateNUnitsAtLocFacingLocBJ(1, 'e00E', GetOwningPlayer(GetSpellAbilityUnit()), EA1, EA1)
    call RemoveLocation(EA1)
    call UnitAddAbility(bj_lastCreatedUnit, 'A09C')
    call SetUnitAbilityLevelSwapped('A09C', bj_lastCreatedUnit, GetUnitAbilityLevelSwapped('A08X', GetSpellAbilityUnit()))
    call IssueTargetOrder(bj_lastCreatedUnit, "bloodlust", GetSpellAbilityUnit())
endfunction

function UNI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JA3))
    call TriggerAddAction(t, function JB3)
endfunction

function JC3 takes unit GDI, integer JD3 returns nothing
    call UnitRemoveAbility(GDI, 'A1M3')
    call UnitRemoveAbility(GDI, 'A1M4')
    call UnitRemoveAbility(GDI, 'A1MC')
    call UnitRemoveAbility(GDI, 'A1M7')
    call UnitRemoveAbility(GDI, 'A1M8')
    call UnitRemoveAbility(GDI, 'A1M9')
    call UnitRemoveAbility(GDI, 'A1MA')
    call UnitRemoveAbility(GDI, 'A1M5')
    call UnitRemoveAbility(GDI, 'A1MB')
    call UnitRemoveAbility(GDI, 'A1M6')
    if JD3 == 1 then
        call UnitAddAbility(GDI, 'A1M3')
    elseif JD3 == 2 then
        call UnitAddAbility(GDI, 'A1M4')
    elseif JD3 == 3 then
        call UnitAddAbility(GDI, 'A1MC')
    elseif JD3 == 4 then
        call UnitAddAbility(GDI, 'A1M7')
    elseif JD3 == 5 then
        call UnitAddAbility(GDI, 'A1M8')
    elseif JD3 == 6 then
        call UnitAddAbility(GDI, 'A1M9')
    elseif JD3 == 7 then
        call UnitAddAbility(GDI, 'A1MA')
    elseif JD3 == 8 then
        call UnitAddAbility(GDI, 'A1M5')
    elseif JD3 == 9 then
        call UnitAddAbility(GDI, 'A1MB')
    elseif JD3 == 10 then
        call UnitAddAbility(GDI, 'A1M6')
    endif
endfunction

function GravekeepersCloakEnemy_Decay takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer JD3
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set DMI = GetHandleId(GDI)
    set JD3 = LoadInteger(hashTable, DMI, 427)
    set JD3 = HDI(JD3 - 1, 0)
    call SaveInteger(hashTable, DMI, 427, JD3)
    call JC3(GDI, JD3)
    set t = null
    set GDI = null
    return false
endfunction

function JE3 takes unit GCI, integer FVI, integer JF3 returns nothing
    call UnitRemoveAbility(GCI, 'A1KR')
    call UnitRemoveAbility(GCI, 'A1KS')
    call UnitRemoveAbility(GCI, 'A1KQ')
    call UnitRemoveAbility(GCI, 'A1KP')
    call UnitRemoveAbility(GCI, 'A1K1')
    call UnitRemoveAbility(GCI, 'A1KW')
    call UnitRemoveAbility(GCI, 'A1KX')
    call UnitRemoveAbility(GCI, 'A1KY')
    call UnitRemoveAbility(GCI, 'A1L4')
    call UnitRemoveAbility(GCI, 'A1L3')
    call UnitRemoveAbility(GCI, 'A1L2')
    call UnitRemoveAbility(GCI, 'A1L1')
    call UnitRemoveAbility(GCI, 'A1L8')
    call UnitRemoveAbility(GCI, 'A1L7')
    call UnitRemoveAbility(GCI, 'A1L9')
    call UnitRemoveAbility(GCI, 'A1LB')
    if FVI == 1 then
        if JF3 == 1 then
            call UnitAddAbility(GCI, 'A1KR')
        elseif JF3 == 2 then
            call UnitAddAbility(GCI, 'A1KS')
        elseif JF3 == 3 then
            call UnitAddAbility(GCI, 'A1KQ')
        elseif JF3 == 4 then
            call UnitAddAbility(GCI, 'A1KP')
        endif
    elseif FVI == 2 then
        if JF3 == 1 then
            call UnitAddAbility(GCI, 'A1K1')
        elseif JF3 == 2 then
            call UnitAddAbility(GCI, 'A1KW')
        elseif JF3 == 3 then
            call UnitAddAbility(GCI, 'A1KX')
        elseif JF3 == 4 then
            call UnitAddAbility(GCI, 'A1KY')
        endif
    elseif FVI == 3 then
        if JF3 == 1 then
            call UnitAddAbility(GCI, 'A1L4')
        elseif JF3 == 2 then
            call UnitAddAbility(GCI, 'A1L3')
        elseif JF3 == 3 then
            call UnitAddAbility(GCI, 'A1L2')
        elseif JF3 == 4 then
            call UnitAddAbility(GCI, 'A1L1')
        endif
    elseif FVI == 4 then
        if JF3 == 1 then
            call UnitAddAbility(GCI, 'A1L8')
        elseif JF3 == 2 then
            call UnitAddAbility(GCI, 'A1L7')
        elseif JF3 == 3 then
            call UnitAddAbility(GCI, 'A1L9')
        elseif JF3 == 4 then
            call UnitAddAbility(GCI, 'A1LB')
        endif
    endif
endfunction

function JG3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer JH3 = LoadInteger(hashTable, DMI, 426)
    local unit GCI = LoadUnitHandle(hashTable, JH3, 2)
    local integer JF3 = LoadInteger(hashTable, JH3, 425)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0VX')
    set JF3 = HCI(JF3 + 1, 4)
    call SaveInteger(hashTable, JH3, 425, JF3)
    call JE3(GCI, FVI, JF3)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function JZ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer JF3 = LoadInteger(hashTable, DMI, 425)
    local integer FVI = GetUnitAbilityLevel(GetTriggerUnit(), 'A0VX')
    if GetEventDamage() > 2 and GetEventDamageSource() != GetTriggerUnit() and isPlayer(GetOwningPlayer(GetEventDamageSource())) then
        if JF3 > 0 then
        endif
        set JF3 = HDI(JF3 - 1, 0)
        call SaveInteger(hashTable, DMI, 425, JF3)
        call JE3(GCI, FVI, JF3)
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterTimerEvent(t, 16 - 2*FVI, false)
        call TriggerAddCondition(t, Condition(function JG3))
        call SaveInteger(hashTable, DMI, 426, GetHandleId(GetTriggeringTrigger()))
    endif
    set t = null
    set GCI = null
    return false
endfunction

function JV3 takes nothing returns nothing
    local trigger t
    local integer DMI
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GetTriggerUnit(), 'A0VX')
    if FVI == 1 then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function JZ3))
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveInteger(hashTable, DMI, 425, 4)
    endif
    call JE3(GCI, FVI, 4)
    set t = null
    set GCI = null
endfunction

function JW3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A0VX' and IsUnitIllusion(GetTriggerUnit()) == false then
        call JV3()
    endif
    return false
endfunction

function JX3 takes player p returns nothing
    call SetPlayerAbilityAvailable(p, 'A1KR', false)
    call SetPlayerAbilityAvailable(p, 'A1KS', false)
    call SetPlayerAbilityAvailable(p, 'A1KQ', false)
    call SetPlayerAbilityAvailable(p, 'A1KP', false)
    call SetPlayerAbilityAvailable(p, 'A1KU', false)
    call SetPlayerAbilityAvailable(p, 'A1KV', false)
    call SetPlayerAbilityAvailable(p, 'A1K1', false)
    call SetPlayerAbilityAvailable(p, 'A1KW', false)
    call SetPlayerAbilityAvailable(p, 'A1KX', false)
    call SetPlayerAbilityAvailable(p, 'A1KY', false)
    call SetPlayerAbilityAvailable(p, 'A1KZ', false)
    call SetPlayerAbilityAvailable(p, 'A1KT', false)
    call SetPlayerAbilityAvailable(p, 'A1L4', false)
    call SetPlayerAbilityAvailable(p, 'A1L3', false)
    call SetPlayerAbilityAvailable(p, 'A1L2', false)
    call SetPlayerAbilityAvailable(p, 'A1L1', false)
    call SetPlayerAbilityAvailable(p, 'A1L0', false)
    call SetPlayerAbilityAvailable(p, 'A1L5', false)
    call SetPlayerAbilityAvailable(p, 'A1L8', false)
    call SetPlayerAbilityAvailable(p, 'A1L7', false)
    call SetPlayerAbilityAvailable(p, 'A1L9', false)
    call SetPlayerAbilityAvailable(p, 'A1LB', false)
    call SetPlayerAbilityAvailable(p, 'A1LA', false)
    call SetPlayerAbilityAvailable(p, 'A1L6', false)
    call SetPlayerAbilityAvailable(p, 'A1LH', false)
    call SetPlayerAbilityAvailable(p, 'A1M3', false)
    call SetPlayerAbilityAvailable(p, 'A1M4', false)
    call SetPlayerAbilityAvailable(p, 'A1MC', false)
    call SetPlayerAbilityAvailable(p, 'A1M7', false)
    call SetPlayerAbilityAvailable(p, 'A1M8', false)
    call SetPlayerAbilityAvailable(p, 'A1M9', false)
    call SetPlayerAbilityAvailable(p, 'A1MA', false)
    call SetPlayerAbilityAvailable(p, 'A1M5', false)
    call SetPlayerAbilityAvailable(p, 'A1MB', false)
    call SetPlayerAbilityAvailable(p, 'A1M6', false)
endfunction

function UTI takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i = 0
    local player p
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function JW3))
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        call JX3(p)
        set p = scourgePlayers[i]
        call JX3(p)
        set i = i + 1
    endloop
    set t = null
endfunction

function JY3 takes nothing returns nothing
    local integer FVI
    local unit GCI = GetTriggerUnit()
    local unit YVI
    if GetUnitTypeId(GCI) == 'u017' or GetUnitTypeId(GCI) == 'u019' or GetUnitTypeId(GCI) == 'u018' or GetUnitTypeId(GCI) == 'u01A' or GetUnitTypeId(GCI) == 'u01B' or GetUnitTypeId(GCI) == 'u01C' then
        return
    endif
    set YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(GCI), GetUnitY(GCI), 0)
    if GetUnitTypeId(GCI) == 'u014' or GetUnitTypeId(GCI) == 'u01D' then
        set FVI = 1
    elseif GetUnitTypeId(GCI) == 'u015' or GetUnitTypeId(GCI) == 'u01E' then
        set FVI = 2
    else 
        set FVI = 3
    endif
    call UnitAddAbility(YVI, 'A1NF')
    call SetUnitAbilityLevel(YVI, 'A1NF', FVI)
    call IssueImmediateOrder(YVI, "stomp")
    set GCI = null
    set YVI = null
endfunction

function JJ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit JK3 = LoadUnitHandle(hashTable, DMI, 2)
    local unit GCI = JK3
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer MXO = LoadInteger(hashTable, DMI, 28)
    local integer Q11 = LoadInteger(hashTable, DMI, 194)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEventId() == EVENT_PLAYER_UNIT_ATTACKED then
        if GetAttacker() == JK3 then
            set Q11 = IMaxBJ(Q11 - 1, 0)
            call SaveInteger(hashTable, DMI, 194, Q11)
            call LDI(JK3, Q11*(9 + 3*FVI))
        endif
    else 
        set MXO = MXO + 1
        call SaveInteger(hashTable, DMI, 28, MXO)
        if ModuloInteger(MXO, 15) == 0 then
            set Q11 = IMinBJ(Q11 + 1, 7)
            call SaveInteger(hashTable, DMI, 194, Q11)
        endif
        if GetUnitTypeId(GCI) == 'u017' or GetUnitTypeId(GCI) == 'u019' or GetUnitTypeId(GCI) == 'u018' or GetUnitTypeId(GCI) == 'u01A' or GetUnitTypeId(GCI) == 'u01B' or GetUnitTypeId(GCI) == 'u01C' then
            set Q11 = 7
            call SaveInteger(hashTable, DMI, 194, Q11)
        endif
        call LDI(JK3, Q11*(9 + 3*FVI))
        if GetUnitTypeId(JK3) == 'u017' or GetUnitTypeId(JK3) == 'u019' or GetUnitTypeId(JK3) == 'u018' or GetUnitTypeId(JK3) == 'u01A' or GetUnitTypeId(JK3) == 'u01B' or GetUnitTypeId(JK3) == 'u01C' then
            call SetUnitState(JK3, UNIT_STATE_LIFE, GetUnitState(JK3, UNIT_STATE_LIFE) + 31.25 + 18.75*FVI)
        endif
    endif
    set t = null
    set JK3 = null
    return false
endfunction

function JL3 takes nothing returns boolean 
    if GetUnitTypeId(GetFilterUnit()) == 'u014' or GetUnitTypeId(GetFilterUnit()) == 'u015' or GetUnitTypeId(GetFilterUnit()) == 'u016' or GetUnitTypeId(GetFilterUnit()) == 'u01D' or GetUnitTypeId(GetFilterUnit()) == 'u01E' or GetUnitTypeId(GetFilterUnit()) == 'u01F' or GetUnitTypeId(GetFilterUnit()) == 'u017' or GetUnitTypeId(GetFilterUnit()) == 'u019' or GetUnitTypeId(GetFilterUnit()) == 'u018' or GetUnitTypeId(GetFilterUnit()) == 'u01A' or GetUnitTypeId(GetFilterUnit()) == 'u01B' or GetUnitTypeId(GetFilterUnit()) == 'u01C' then
        call KillUnit(GetFilterUnit())
    endif
    return false
endfunction

function JM3 takes nothing returns nothing
    local group g = allocGroup()
    local unit GCI = GetTriggerUnit()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1NE')
    local unit JN3
    local unit JS3
    local trigger t
    local integer DMI
    call GroupEnumUnitsOfPlayer(g, GetOwningPlayer(GCI), Condition(function JL3))
    call releaseGroup(g)
    if FVI == 1 then
        set JN3 = CreateUnit(GetOwningPlayer(GCI), 'u014', x + 75, y + 75, GetUnitFacing(GCI))
        set JS3 = CreateUnit(GetOwningPlayer(GCI), 'u01D', x - 75, y - 75, GetUnitFacing(GCI))
    elseif FVI == 2 then
        set JN3 = CreateUnit(GetOwningPlayer(GCI), 'u015', x + 75, y + 75, GetUnitFacing(GCI))
        set JS3 = CreateUnit(GetOwningPlayer(GCI), 'u01E', x - 75, y - 75, GetUnitFacing(GCI))
    elseif FVI == 3 then
        set JN3 = CreateUnit(GetOwningPlayer(GCI), 'u016', x + 75, y + 75, GetUnitFacing(GCI))
        set JS3 = CreateUnit(GetOwningPlayer(GCI), 'u01F', x - 75, y - 75, GetUnitFacing(GCI))
    endif
    call SelectUnitAddForPlayer(JN3, GetOwningPlayer(GCI))
    call SelectUnitAddForPlayer(JS3, GetOwningPlayer(GCI))
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", JN3, "origin") )
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl", JS3, "origin") )
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, JN3, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JJ3))
    call SaveUnitHandle(hashTable, DMI, 2, JN3)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 28, 0)
    call SaveInteger(hashTable, DMI, 194, 7)
    call LDI(JN3, 7*(9 + 3*FVI))
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, JS3, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function JJ3))
    call SaveUnitHandle(hashTable, DMI, 2, JS3)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 28, 0)
    call SaveInteger(hashTable, DMI, 194, 7)
    call LDI(JS3, 7*(9 + 3*FVI))
    set g = null
    set GCI = null
    set JN3 = null
    set JS3 = null
endfunction

function JT3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1NE' then
        call JM3()
    elseif GetSpellAbilityId() == 'A1NB' or GetSpellAbilityId() == 'A1NC' or GetSpellAbilityId() == 'A1ND' or GetSpellAbilityId() == 'A1NL' or GetSpellAbilityId() == 'A1NM' or GetSpellAbilityId() == 'A1NN' then
        call JY3()
    endif
    return false
endfunction

function UMI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JT3))
    set t = null
endfunction

function JR3 takes unit GCI, integer JP3, integer JQ3 returns nothing
    local string c1 = "|c0000cc00"
    local string c = "||"
    local string p = " "
    local string s = c1 + "|||r"
    local string KJI
    local boolean DA3 = false
    local texttag tt = LoadTextTagHandle(hashTable, GetHandleId(GCI), 451)
    if JP3 == 0 then
        set KJI = " "
    elseif JQ3 == 1 then
        if JP3 == 0 then
            set KJI = c + p + c + p + c
        elseif JP3 == 1 then
            set KJI = s + p + c + p + c
        elseif JP3 == 2 then
            set KJI = s + p + s + p + c
        elseif JP3 == 3 then
            set KJI = s + p + s + p + s
        endif
    elseif JQ3 == 2 then
        if JP3 == 0 then
            set KJI = c + p + c + p + c + p + c
        elseif JP3 == 1 then
            set KJI = s + p + c + p + c + p + c
        elseif JP3 == 2 then
            set KJI = s + p + s + p + c + p + c
        elseif JP3 == 3 then
            set KJI = s + p + s + p + s + p + c
        elseif JP3 == 4 then
            set KJI = s + p + s + p + s + p + s
        endif
    elseif JQ3 == 3 then
        if JP3 == 0 then
            set KJI = c + p + c + p + c + p + c + p + c
        elseif JP3 == 1 then
            set KJI = s + p + c + p + c + p + c + p + c
        elseif JP3 == 2 then
            set KJI = s + p + s + p + c + p + c + p + c
        elseif JP3 == 3 then
            set KJI = s + p + s + p + s + p + c + p + c
        elseif JP3 == 4 then
            set KJI = s + p + s + p + s + p + s + p + c
        elseif JP3 == 5 then
            set KJI = s + p + s + p + s + p + s + p + s
        endif
    elseif JQ3 == 4 then
        if JP3 == 0 then
            set KJI = c + p + c + p + c + p + c + p + c + p + c
        elseif JP3 == 1 then
            set KJI = s + p + c + p + c + p + c + p + c + p + c
        elseif JP3 == 2 then
            set KJI = s + p + s + p + c + p + c + p + c + p + c
        elseif JP3 == 3 then
            set KJI = s + p + s + p + s + p + c + p + c + p + c
        elseif JP3 == 4 then
            set KJI = s + p + s + p + s + p + s + p + c + p + c
        elseif JP3 == 5 then
            set KJI = s + p + s + p + s + p + s + p + s + p + c
        elseif JP3 == 6 then
            set KJI = s + p + s + p + s + p + s + p + s + p + s
        endif
    endif
    call SetTextTagText(tt, KJI, 0.023)
    if GetOwningPlayer(GCI) == GetLocalPlayer() then
        set DA3 = true
    endif
    if isUnitUnavailable(GCI) then
        set DA3 = false
    endif
    call SetTextTagPosUnit(tt, GCI, 0)
    call SetTextTagVisibility(tt, DA3)
    call SetTextTagPermanent(tt, true)
endfunction

function JU3 takes unit E1I, integer FVI returns nothing
    local integer JQ3 = GetUnitAbilityLevel(E1I, 'A1NA')
    call JR3(E1I, FVI, JQ3)
    if FVI == 0 or (LoadInteger(hashTable, GetHandleId(E1I), 2484) == 1) == true then
        call UnitRemoveAbility(E1I, 'A1O7')
        call UnitRemoveAbility(E1I, 'A1O8')
        call UnitRemoveAbility(E1I, 'A1O9')
        call UnitAddAbility(E1I, 'A1O1')
        call UnitRemoveAbility(E1I, 'A1O2')
        call UnitRemoveAbility(E1I, 'A1NZ')
        call UnitRemoveAbility(E1I, 'A1N9')
        call UnitRemoveAbility(E1I, 'A1NY')
        call UnitRemoveAbility(E1I, 'A1O0')
        call UnitRemoveAbility(E1I, 'A1O3')
        call UnitRemoveAbility(E1I, 'A0LR')
        call UnitRemoveAbility(E1I, 'A0YP')
        call UnitRemoveAbility(E1I, 'A0OG')
        call UnitRemoveAbility(E1I, 'A0YO')
        call UnitRemoveAbility(E1I, 'A0NF')
        call UnitRemoveAbility(E1I, 'A0MD')
    elseif FVI == 1 then
        call UnitRemoveAbility(E1I, 'A1O7')
        call UnitRemoveAbility(E1I, 'A1O8')
        call UnitRemoveAbility(E1I, 'A1O9')
        call UnitRemoveAbility(E1I, 'A1O1')
        call UnitAddAbility(E1I, 'A1O2')
        call UnitRemoveAbility(E1I, 'A1NZ')
        call UnitRemoveAbility(E1I, 'A1N9')
        call UnitRemoveAbility(E1I, 'A1NY')
        call UnitRemoveAbility(E1I, 'A1O0')
        call UnitRemoveAbility(E1I, 'A1O3')
        call UnitAddAbility(E1I, 'A0LR')
        call UnitRemoveAbility(E1I, 'A0YP')
        call UnitRemoveAbility(E1I, 'A0OG')
        call UnitRemoveAbility(E1I, 'A0YO')
        call UnitRemoveAbility(E1I, 'A0NF')
        call UnitRemoveAbility(E1I, 'A0MD')
    elseif FVI == 2 then
        call UnitRemoveAbility(E1I, 'A1O7')
        call UnitRemoveAbility(E1I, 'A1O8')
        call UnitRemoveAbility(E1I, 'A1O9')
        call UnitRemoveAbility(E1I, 'A1O1')
        call UnitRemoveAbility(E1I, 'A1O2')
        call UnitAddAbility(E1I, 'A1NZ')
        call UnitRemoveAbility(E1I, 'A1N9')
        call UnitRemoveAbility(E1I, 'A1NY')
        call UnitRemoveAbility(E1I, 'A1O0')
        call UnitRemoveAbility(E1I, 'A1O3')
        call UnitRemoveAbility(E1I, 'A0LR')
        call UnitAddAbility(E1I, 'A0YP')
        call UnitRemoveAbility(E1I, 'A0OG')
        call UnitRemoveAbility(E1I, 'A0YO')
        call UnitRemoveAbility(E1I, 'A0NF')
        call UnitRemoveAbility(E1I, 'A0MD')
    elseif FVI == 3 then
        call UnitRemoveAbility(E1I, 'A1O7')
        call UnitRemoveAbility(E1I, 'A1O8')
        call UnitRemoveAbility(E1I, 'A1O9')
        call UnitRemoveAbility(E1I, 'A0LR')
        call UnitRemoveAbility(E1I, 'A0YP')
        call UnitAddAbility(E1I, 'A0OG')
        call UnitRemoveAbility(E1I, 'A0YO')
        call UnitRemoveAbility(E1I, 'A0NF')
        call UnitRemoveAbility(E1I, 'A0MD')
        call UnitRemoveAbility(E1I, 'A1O1')
        call UnitRemoveAbility(E1I, 'A1O2')
        call UnitRemoveAbility(E1I, 'A1NZ')
        call UnitRemoveAbility(E1I, 'A1N9')
        call UnitRemoveAbility(E1I, 'A1NY')
        call UnitRemoveAbility(E1I, 'A1O0')
        call UnitRemoveAbility(E1I, 'A1O3')
        if JQ3 == 1 then
            call UnitAddAbility(E1I, 'A1O7')
        else 
            call UnitAddAbility(E1I, 'A1N9')
        endif
    elseif FVI == 4 then
        call UnitRemoveAbility(E1I, 'A1O7')
        call UnitRemoveAbility(E1I, 'A1O8')
        call UnitRemoveAbility(E1I, 'A1O9')
        call UnitRemoveAbility(E1I, 'A0LR')
        call UnitRemoveAbility(E1I, 'A0YP')
        call UnitRemoveAbility(E1I, 'A0OG')
        call UnitAddAbility(E1I, 'A0YO')
        call UnitRemoveAbility(E1I, 'A0NF')
        call UnitRemoveAbility(E1I, 'A0MD')
        call UnitRemoveAbility(E1I, 'A1O1')
        call UnitRemoveAbility(E1I, 'A1O2')
        call UnitRemoveAbility(E1I, 'A1NZ')
        call UnitRemoveAbility(E1I, 'A1N9')
        call UnitRemoveAbility(E1I, 'A1NY')
        call UnitRemoveAbility(E1I, 'A1O0')
        call UnitRemoveAbility(E1I, 'A1O3')
        if JQ3 == 2 then
            call UnitAddAbility(E1I, 'A1O8')
        else 
            call UnitAddAbility(E1I, 'A1NY')
        endif
    elseif FVI == 5 then
        call UnitRemoveAbility(E1I, 'A1O7')
        call UnitRemoveAbility(E1I, 'A1O8')
        call UnitRemoveAbility(E1I, 'A1O9')
        call UnitRemoveAbility(E1I, 'A1O1')
        call UnitRemoveAbility(E1I, 'A1O2')
        call UnitRemoveAbility(E1I, 'A1NZ')
        call UnitRemoveAbility(E1I, 'A1N9')
        call UnitRemoveAbility(E1I, 'A1NY')
        call UnitAddAbility(E1I, 'A1O0')
        call UnitRemoveAbility(E1I, 'A1O3')
        call UnitRemoveAbility(E1I, 'A0LR')
        call UnitRemoveAbility(E1I, 'A0YP')
        call UnitRemoveAbility(E1I, 'A0OG')
        call UnitRemoveAbility(E1I, 'A0YO')
        call UnitAddAbility(E1I, 'A0NF')
        call UnitRemoveAbility(E1I, 'A0MD')
        call UnitRemoveAbility(E1I, 'A1O1')
        call UnitRemoveAbility(E1I, 'A1O2')
        call UnitRemoveAbility(E1I, 'A1NZ')
        call UnitRemoveAbility(E1I, 'A1N9')
        call UnitRemoveAbility(E1I, 'A1NY')
        call UnitRemoveAbility(E1I, 'A1O0')
        call UnitRemoveAbility(E1I, 'A1O3')
        if JQ3 == 3 then
            call UnitAddAbility(E1I, 'A1O9')
        else 
            call UnitAddAbility(E1I, 'A1O0')
        endif
    elseif FVI == 6 then
        call UnitRemoveAbility(E1I, 'A1O7')
        call UnitRemoveAbility(E1I, 'A1O8')
        call UnitRemoveAbility(E1I, 'A1O9')
        call UnitRemoveAbility(E1I, 'A1O1')
        call UnitRemoveAbility(E1I, 'A1O2')
        call UnitRemoveAbility(E1I, 'A1NZ')
        call UnitRemoveAbility(E1I, 'A1N9')
        call UnitRemoveAbility(E1I, 'A1NY')
        call UnitRemoveAbility(E1I, 'A1O0')
        call UnitAddAbility(E1I, 'A1O3')
        call UnitRemoveAbility(E1I, 'A0LR')
        call UnitRemoveAbility(E1I, 'A0YP')
        call UnitRemoveAbility(E1I, 'A0OG')
        call UnitRemoveAbility(E1I, 'A0YO')
        call UnitRemoveAbility(E1I, 'A0NF')
        call UnitAddAbility(E1I, 'A0MD')
    endif
    if (GetUnitAbilityLevel(E1I, 'A1NA') + 2) == FVI then
        call UnitAddAbility(E1I, 'A1NJ')
    else 
        call UnitRemoveAbility(E1I, 'A1NJ')
    endif
endfunction

function K03 takes unit GCI, real GFI returns nothing
    local integer FVI = 0
    local real KI3 = 110
    if GFI > KI3*6 then
        set FVI = 6
    elseif GFI > KI3*5 then
        set FVI = 5
    elseif GFI > KI3*4 then
        set FVI = 4
    elseif GFI > KI3*3 then
        set FVI = 3
    elseif GFI > KI3*2 then
        set FVI = 2
    elseif GFI > KI3*1 then
        set FVI = 1
    endif
    set FVI = HCI(FVI, 2 + GetUnitAbilityLevel(GCI, 'A1NA'))
    call SaveInteger(hashTable, GetHandleId(GCI), 450, FVI)
    call JU3(GCI, FVI)
endfunction

function K13 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer JQ3 = GetUnitAbilityLevel(GCI, 'A1NA')
    call JR3(GCI, LoadInteger(hashTable, GetHandleId(GCI), 450), JQ3)
    call K03(GCI, LoadReal(hashTable, GetHandleId(GCI), 443))
    set t = null
    set GCI = null
    return false
endfunction

function KO3 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GCI = myUnit
    local unit GDI = GK
    local real GFI = LoadReal(hashTable, DMI, 20)
    if IsUnitAlly(GDI, GetOwningPlayer(GCI)) == false then
        set B8I = true
        call doDamage(GCI, GDI, 1, GFI)
        set B8I = false
    else 
        call SetUnitState(GDI, UNIT_STATE_LIFE, GetUnitState(GDI, UNIT_STATE_LIFE) + GFI)
    endif
    set GCI = null
    set GDI = null
endfunction

function K23 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    call K03(GCI, LoadReal(hashTable, GetHandleId(GCI), 443))
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function K33 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local integer FVI = LoadInteger(hashTable, GetHandleId(GCI), 450)
    local trigger t = VZI(GCI, GDI, 'h0BE', "KO3", 1000)
    local integer DMI = GetHandleId(t)
    call SaveReal(hashTable, DMI, 20, ((20 + FVI*60)*1.0))
    call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShell.mdl", GCI, "chest") )
    call SaveReal(hashTable, GetHandleId(GCI), 443, (0*1.0))
    call K03(GCI, 0)
    call DUI(GCI, 2484, 4)
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerAddCondition(t, Condition(function K23))
    call TriggerRegisterTimerEvent(t, 4, false)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GCI = null
    set GDI = null
    set t = null
endfunction

function K43 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real GFI = LoadReal(hashTable, DMI, 20)
    if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT or (GetTriggerEventId() == EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A1NA') then
        if GetTriggerEventId() != EVENT_UNIT_SPELL_EFFECT then
            call SaveReal(hashTable, GetHandleId(GCI), 443, ((LoadReal(hashTable, GetHandleId(GCI), 443) - GFI)*1.0))
        endif
        call K03(GCI, LoadReal(hashTable, GetHandleId(GCI), 443))
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function K53 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer DMI = GetHandleId(GCI)
    local texttag tt = CreateTextTag()
    local boolean DA3 = false
    local trigger t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerAddCondition(t, Condition(function K13))
    call SaveUnitHandle(hashTable, GetHandleId(t), 2, GCI)
    if GetOwningPlayer(GCI) == GetLocalPlayer() then
        set DA3 = true
    endif
    call SetTextTagText(tt, " ", 0.023)
    call SetTextTagPosUnit(tt, GCI, 0)
    call SetTextTagVisibility(tt, DA3)
    call SetTextTagPermanent(tt, true)
    set B7I[GetPlayerId(GetOwningPlayer(GCI))] = GCI
    call SaveReal(hashTable, DMI, 443, (0*1.0))
    call K03(GCI, 0)
    call SaveTextTagHandle(hashTable, DMI, 451, tt)
    set GCI = null
    set t = null
    set tt = null
endfunction

function K63 takes unit K73, unit K83 returns nothing
    local real GFI = GetEventDamage()
    local integer FVI = GetUnitAbilityLevel(K73, 'A1NA')
    local real K93 = LoadReal(hashTable, GetHandleId(K73), 443)
    local trigger t
    local integer DMI
    if getUnitDistance(K73, K83) < 1400 and B8I == false then
        if G5I(GFI) and GetEventDamage() > 2 and GetEventDamageSource() != GetTriggerUnit() and (isPlayer(GetOwningPlayer(GetEventDamageSource())) or GetUnitTypeId(GetEventDamageSource()) == 'n00L') then
            set K93 = K93 + GFI
            call SaveReal(hashTable, GetHandleId(K73), 443, (K93*1.0))
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call SaveUnitHandle(hashTable, DMI, 2, K73)
            call SaveReal(hashTable, DMI, 20, (GFI*1.0))
            call TriggerRegisterTimerEvent(t, 6, false)
            call TriggerRegisterUnitEvent(t, K73, EVENT_UNIT_DEATH)
            call TriggerRegisterUnitEvent(t, K73, EVENT_UNIT_SPELL_EFFECT)
            call TriggerAddCondition(t, Condition(function K43))
            call K03(K73, K93)
        endif
    endif
    set t = null
endfunction

function KA3 takes nothing returns nothing
    local integer i = 0
    loop
        exitwhen i > 12
        if B7I[i] != null then
            call K63(B7I[i], GetTriggerUnit())
        endif
        set i = i + 1
    endloop
endfunction

function KB3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A1NA' and GetUnitAbilityLevel(GetTriggerUnit(), 'A1NA') == 1 and IsUnitIllusion(GetTriggerUnit()) == false then
        call K53()
    endif
    return false
endfunction

function KC3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1NA' then
        call K33()
    endif
    return false
endfunction

function USI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function KB3))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KC3))
    set t = null
    call unitDamageCallbackRegister("KA3")
endfunction

constant function Upheaval_RawCode takes nothing returns integer 
    return 'A06P'
endfunction

constant function Upheaval_EffectCode takes nothing returns integer 
    return 'A0JE'
endfunction

constant function Upheaval_EffectModel takes nothing returns integer 
    return 'e01G'
endfunction

function KD3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A06P'
endfunction

function KE3 takes nothing returns boolean 
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(YO)) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1
endfunction

function KF3 takes nothing returns nothing
    local unit GDI = GetEnumUnit()
    local unit YVI = CreateUnit(GetOwningPlayer(YO), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
    call UnitAddAbility(YVI, 'A0JE')
    call SetUnitAbilityLevel(YVI, 'A0JE', JO)
    call IssueTargetOrder(YVI, "slow", GDI)
endfunction

function KG3 takes unit YVI, unit E1I returns nothing
    local group MNI = allocGroup()
    local boolexpr BH1 = Condition(function KE3)
    set YO = E1I
    call GroupEnumUnitsInRange(MNI, GetUnitX(YVI), GetUnitY(YVI), 675, BH1)
    call ForGroup(MNI, function KF3)
    call releaseGroup(MNI)
endfunction

function KH3 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call KillUnit(YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEvalCount(t) > 22 then
        call KillUnit(YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call GSI( LoadUnitHandle(hashTable, DMI, 14) )
    else 
        call SetUnitAnimation(YVI, "birth")
        set E1I = LoadUnitHandle(hashTable, DMI, 14)
        set JO = GetTriggerExecCount(t)*GetUnitAbilityLevel(E1I, 'A06P')/2
        call KG3(YVI, E1I)
    endif
    set t = null
    set YVI = null
    set E1I = null
endfunction

function KZ3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local location EA1 = GetSpellTargetLoc()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real x = GetLocationX(EA1)
    local real y = GetLocationY(EA1)
    local unit YVI = CreateUnit(GetOwningPlayer(E1I), 'e01G', x, y, 0)
    call RemoveLocation(EA1)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddAction(t, function KH3)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
endfunction

function IY1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddAction(t, function KZ3)
    call TriggerAddCondition(t, Condition(function KD3))
    call preloadAblility('A0JE')
endfunction

constant function FatalBonds_RawCode takes nothing returns integer 
    return 'A0J5'
endfunction

constant function FatalBonds_IconAbility takes nothing returns integer 
    return 'A0J9'
endfunction

constant function FatalBonds_Icon takes nothing returns integer 
    return 'A0P2'
endfunction

function KV3 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0J5'
endfunction

function KW3 takes nothing returns nothing
    call UnitAddAbility(GetEnumUnit(), 'A0P2')
endfunction

function KX3 takes nothing returns nothing
    call UnitRemoveAbility(GetEnumUnit(), 'A0P2')
endfunction

function KY3 takes unit KJ3, unit KK3 returns nothing
    if KJ3 != null and KK3 != null then
        call ZHI("CLPB", GetUnitX(KJ3), GetUnitY(KJ3), GetUnitX(KK3), GetUnitY(KK3), 0.7, 0.1, 0.9, 1, 0.3)
    endif
endfunction

function KL3 takes nothing returns nothing
    local unit E1I = LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14)
    local real GFI = 0.15*GetEventDamage()
    set GFI = rMin(GFI, GetUnitState(GetTriggerUnit(), UNIT_STATE_LIFE))
    if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) > 1 and GetEnumUnit() != GetTriggerUnit() then
        if GetUnitState(GetEnumUnit(), UNIT_STATE_LIFE) < GFI then
            call doDamage(E1I, GetEnumUnit(), 3, GFI)
        else 
            call WPI(GetEnumUnit(), GFI)
        endif
    endif
endfunction

function KM3 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local group MNI = LoadGroupHandle(hashTable, DMI, 220)
    if GetTriggerEventId() != EVENT_UNIT_DAMAGED then
        call ForGroup(MNI, function KX3)
        call FlushChildHashtable(hashTable, DMI)
        call releaseGroup(MNI)
        call abandonTrigger(t)
    elseif GetEventDamage() > 10 and GetEventDamage() < 6000 then
        call DisableTrigger(t)
        call ForGroup(MNI, function KL3)
        call EnableTrigger(t)
    endif
endfunction

function KN3 takes nothing returns boolean 
    return IsUnitEnemy(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitVisible(GetFilterUnit(), GetOwningPlayer(GetTriggerUnit())) and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and GetUnitState(GetFilterUnit(), UNIT_STATE_LIFE) > 1
endfunction

function KS3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local group MNI = allocGroup()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0J5')
    local boolexpr BH1 = Condition(function KN3)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer i = 2
    local group U72 = allocGroup()
    local unit array KT3
    local string KR3 = "Abilities\\Spells\\Undead\\Curse\\CurseTarget.mdl"
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call KY3(E1I, GDI)
    call Z4I(KR3, GDI, "overhead", 25)
    set KT3[1] = GDI
    call SaveUnitHandle(hashTable, DMI, 246, KT3[1])
    call TriggerRegisterUnitEvent(t, KT3[1], EVENT_UNIT_DAMAGED)
    call GroupEnumUnitsInRange(MNI, GetUnitX(GDI), GetUnitY(GDI), 600, BH1)
    call GroupRemoveUnit(MNI, GDI)
    call GroupAddUnit(U72, GDI)
    call SaveGroupHandle(hashTable, DMI, 220, U72)
    loop
        exitwhen i > (1 + FVI) or FirstOfGroup(MNI) == null
        set KT3[i] = FirstOfGroup(MNI)
        call KY3(KT3[i - 1], KT3[i])
        call TriggerRegisterUnitEvent(t, KT3[i], EVENT_UNIT_DAMAGED)
        call GroupAddUnit(U72, KT3[i])
        call GroupRemoveUnit(MNI, KT3[i])
        call Z4I(KR3, KT3[i], "overhead", 25)
        set i = i + 1
    endloop
    call SaveInteger(hashTable, DMI, 245, (i - 1))
    set JO = GetUnitAbilityLevel(E1I, 'A0J5')
    call ForGroup(U72, function KW3)
    call TriggerRegisterTimerEvent(t, 25, false)
    call TriggerAddAction(t, function KM3)
    call releaseGroup(MNI)
endfunction

function IJ1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KV3))
    call TriggerAddAction(t, function KS3)
    call preloadAblility('A0J9')
endfunction

function KP3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0AS')
    if GetTriggerEvalCount(t) > 8 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call UnitRemoveAbility(GDI, 'A17K')
        call UnitRemoveAbility(GDI, 'B0AP')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call doDamage(GCI, GDI, 1, FVI*10)
    endif
    set GCI = null
    set GDI = null
    set t = null
    return false
endfunction

function KQ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0AS')
    if GetTriggerEvalCount(t) > 8 or GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call UnitRemoveAbility(GDI, 'A0P0')
        call UnitRemoveAbility(GDI, 'B073')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call Z1I(GDI, FVI*10)
    endif
    set GCI = null
    set GDI = null
    set t = null
    return false
endfunction

function KU3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    if IsUnitAlly(GDI, GetOwningPlayer(GCI)) then
        call TriggerAddCondition(t, Condition(function KQ3))
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl", GDI, "chest"))
        call UnitAddAbility(GDI, 'A0P0')
    elseif (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call TriggerAddCondition(t, Condition(function KP3))
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl", GDI, "overhead"))
        call UnitAddAbility(GDI, 'A17K')
    endif
    set GCI = null
    set GDI = null
    set t = null
endfunction

function L03 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0AS' then
        call KU3()
    endif
    return false
endfunction

function IK1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function L03))
    call preloadAblility('A0P0')
    call preloadAblility('A17K')
    set t = null
endfunction

function LI3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if GetUnitAbilityLevel(E1I, 'BHfs') == 0 then
        call UnitRemoveAbility(E1I, 'A0C9')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set E1I = null
    return false
endfunction

function L13 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = GetTriggerUnit()
    call UnitAddAbility(E1I, 'A0C9')
    call SetUnitAbilityLevel(E1I, 'A0C9', GetUnitAbilityLevel(E1I, 'A0CA'))
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0.2, true)
    call TriggerAddCondition(t, Condition(function LI3))
    set E1I = null
    set t = null
endfunction

function LO3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0CA' then
        call L13()
    endif
    return false
endfunction

function URI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LO3))
endfunction

function L23 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    call SetUnitState(LoadUnitHandle(hashTable, DMI, 26), UNIT_STATE_MANA, LoadReal(hashTable, DMI, 242))
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    return false
endfunction

function L33 takes unit u, real L43 returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0, false)
    call TriggerAddCondition(t, Condition(function L23))
    call SaveUnitHandle(hashTable, DMI, 26, u)
    call SaveReal(hashTable, DMI, 242, (L43*1.0))
    set t = null
endfunction

function L53 takes nothing returns boolean 
    return GetSpellAbilityId() == 'A0CT'
endfunction

function L63 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggerUnit())
    local real MK2 = HGI(LoadReal(hashTable, DMI, (7200 + 1)), 1)
    local real QD1 = HGI(LoadReal(hashTable, DMI, (7250 + 1)), 1)
    local real x = LoadReal(hashTable, DMI, (7300 + 1))
    local real y = LoadReal(hashTable, DMI, (7350 + 1))
    local unit GTI = GetTriggerUnit()
    if LoadReal(hashTable, DMI, (7200 + 1)) > 1 and GetUnitState(GTI, UNIT_STATE_LIFE) > 1 then
        call AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl", GetUnitX(GTI), GetUnitY(GTI))
        call SetUnitX(GTI, x)
        call SetUnitY(GTI, y)
        call SetUnitState(GTI, UNIT_STATE_LIFE, MK2)
        call SetUnitState(GTI, UNIT_STATE_MANA, QD1)
        call UnitRemoveBuffs(GTI, false, true)
        call JZI(GTI)
        call L33(GTI, QD1)
    endif
endfunction

function UPI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function L53))
    call TriggerAddAction(t, function L63)
endfunction

function L73 takes nothing returns nothing
    local trigger t = GetTriggeringTrigger()
    local unit GTI = LoadUnitHandle(hashTable, GetHandleId(t), 221)
    local integer DMI = GetHandleId(GTI)
    local integer EUI = 1
    local integer F0I = 10
    loop
        exitwhen EUI > F0I
        call SaveReal(hashTable, DMI, (7300 + (EUI - 1)), (LoadReal(hashTable, DMI, (7300 + EUI))*1.0))
        call SaveReal(hashTable, DMI, (7350 + (EUI - 1)), (LoadReal(hashTable, DMI, (7350 + EUI))*1.0))
        call SaveReal(hashTable, DMI, (7200 + (EUI - 1)), (LoadReal(hashTable, DMI, (7200 + EUI))*1.0))
        call SaveReal(hashTable, DMI, (7250 + (EUI - 1)), (LoadReal(hashTable, DMI, (7250 + EUI))*1.0))
        set EUI = EUI + 1
    endloop
    call SaveReal(hashTable, DMI, (7300 + 10), (GetUnitX(GTI)*1.0))
    call SaveReal(hashTable, DMI, (7350 + 10), (GetUnitY(GTI)*1.0))
    call SaveReal(hashTable, DMI, (7200 + 10), (GetUnitState(GTI, UNIT_STATE_LIFE)*1.0))
    call SaveReal(hashTable, DMI, (7250 + 10), (GetUnitState(GTI, UNIT_STATE_MANA)*1.0))
endfunction

function L83 takes nothing returns boolean 
    return GetLearnedSkill() == 'A0CT' and IsUnitIllusion(GetTriggerUnit()) == false
endfunction

function L93 takes nothing returns nothing
    local unit GTI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GTI, 'A0CT')
    local trigger t
    if FVI == 1 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEventPeriodic(t, 0.50)
        call TriggerAddAction(t, function L73)
        call SaveUnitHandle(hashTable, GetHandleId(t), 221, GTI)
    endif
endfunction

function UQI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function L83))
    call TriggerAddAction(t, function L93)
endfunction

function LA3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real d = LoadReal(hashTable, DMI, 138)
    local real LB3 = LoadReal(hashTable, GetHandleId(GCI), 508) - d
    local fogmodifier V2I = LoadFogModifierHandle(hashTable, DMI, 42)
    call FogModifierStop(V2I)
    call DestroyFogModifier(V2I)
    call SaveReal(hashTable, GetHandleId(GCI), 508, (LB3*1.0))
    call LDI(GCI, R2I(LB3/100.0*(0.3*GetUnitAbilityLevel(GCI, 'A1Q7'))))
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    return false
endfunction

function LC3 takes unit GCI, real d returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real LB3 = LoadReal(hashTable, GetHandleId(GCI), 508) + d
    local fogmodifier V2I = CreateFogModifierRadius(GetOwningPlayer(GCI), FOG_OF_WAR_VISIBLE, GetUnitX(GCI), GetUnitY(GCI), 400, true, true)
    call FogModifierStart(V2I)
    call SaveReal(hashTable, GetHandleId(GCI), 508, (LB3*1.0))
    call LDI(GCI, R2I(LB3/100.0*(0.6*GetUnitAbilityLevel(GCI, 'A1Q7'))))
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function LA3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 138, (d*1.0))
    call SaveFogModifierHandle(hashTable, DMI, 42, V2I)
    set t = null
endfunction

function LD3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real CI2 = LoadReal(hashTable, DMI, 23)
    local real C12 = LoadReal(hashTable, DMI, 24)
    local real QTO = GetUnitX(GCI)
    local real QRO = GetUnitY(GCI)
    local real d = getDistance(CI2, C12, QTO, QRO)
    if d < 1500 then
        call LC3(GCI, d)
    else 
        call LC3(GCI, 1500)
    endif
    call SaveReal(hashTable, DMI, 23, (QTO*1.0))
    call SaveReal(hashTable, DMI, 24, (QRO*1.0))
    set t = null
    set GCI = null
    return false
endfunction

function LE3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function LD3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 23, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 24, (GetUnitY(GCI)*1.0))
    call SaveReal(hashTable, GetHandleId(GCI), 508, (0*1.0))
    set t = null
    set GCI = null
endfunction

function LF3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A1Q7' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A1Q7') == 1 then
        call LE3()
    endif
    return false
endfunction

function Register_EchoStep takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function LF3))
    set t = null
endfunction

function LG3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call UnitRemoveAbility(GDI, 'A1QZ')
        call SaveInteger(hashTable, GetHandleId(GDI), 4290, 2)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        if GetTriggerUnit() == GDI then
            call KillUnit(GCI)
        endif
    elseif GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI then
            call SetUnitAbilityLevel(GDI, 'A1QZ', GetUnitAbilityLevel(GDI, 'A1QZ') + 1)
            call DestroyEffect( AddSpecialEffectTarget("Abilities\\Weapons\\SkeletalMageMissile\\SkeletalMageMissile.mdl", GDI, "chest") )
        elseif GetUnitTypeId(GetEventDamageSource()) == 'u01H' then
            call KillUnit(GetEventDamageSource())
        endif
    else 
        call SetUnitX(GCI, GetUnitX(GDI) - 40)
        call SetUnitY(GCI, GetUnitY(GDI) - 40)
        if IsUnitVisible(GDI, GetOwningPlayer(GCI)) == false then
            call KillUnit(GCI)
        elseif ModuloInteger(GetTriggerEvalCount(t), 5) == 0 then
            call IssueTargetOrder(GCI, "attack", GDI)
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function LH3 takes unit LZ3, unit GDI, integer FVI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitRemoveAbility(LZ3, 'Avul')
    call SaveUnitHandle(hashTable, DMI, 2, LZ3)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call UnitAddAbility(GDI, 'A1QZ')
    call TriggerRegisterTimerEvent(t, 0.05, true)
    call TriggerRegisterUnitEvent(t, LZ3, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function LG3))
    call TriggerEvaluate(t)
    call UnitApplyTimedLife(LZ3, 'BTLF', 4 + 4*FVI)
    set t = null
endfunction

function LV3 takes nothing returns boolean 
    return (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) and (LoadInteger(hashTable, GetHandleId(GetFilterUnit()), 4290) == 1) == false
endfunction

function LW3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local group g
    local integer i = 1
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local real a = LoadReal(hashTable, DMI, 137)
    local unit LZ3
    local unit GDI
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    set x = constrainX(x + 18*Cos(a))
    set y = constrainY(y + 18*Sin(a))
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    if GetTriggerEvalCount(t) > 166 then
        loop
            exitwhen i > 12
            if LoadBoolean(hashTable, DMI, (511 + i - 1)) == false then
                call KillUnit( LoadUnitHandle(hashTable, DMI, (393 + i - 1)) )
            endif
            set i = i + 1
        endloop
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        set g = allocGroup()
        set myUnit = GCI
        call GroupEnumUnitsInRange(g, x, y, 400, Condition(function LV3))
        loop
            exitwhen i > 12
            if LoadBoolean(hashTable, DMI, (511 + i - 1)) == false then
                set LZ3 = LoadUnitHandle(hashTable, DMI, (393 + i - 1))
                set x = LoadReal(hashTable, DMI, (549 + i - 1))
                set y = LoadReal(hashTable, DMI, (567 + i - 1))
                set x = constrainX(x + 18*Cos(a))
                set y = constrainY(y + 18*Sin(a))
                call SaveReal(hashTable, DMI, (549 + i - 1), (x*1.0))
                call SaveReal(hashTable, DMI, (567 + i - 1), (y*1.0))
                call SetUnitX(LZ3, x)
                call SetUnitY(LZ3, y)
                set GDI = FirstOfGroup(g)
                if GDI != null then
                    call GroupRemoveUnit(g, GDI)
                    call SaveInteger(hashTable, GetHandleId(GDI), 4290, 1)
                    call SaveBoolean(hashTable, DMI, (511 + i - 1), true)
                    call LH3(LZ3, GDI, GetUnitAbilityLevel(GCI, 'A1QW'))
                endif
            endif
            set i = i + 1
        endloop
        call releaseGroup(g)
        set g = null
        set LZ3 = null
        set GDI = null
    endif
    set t = null
    set GCI = null
    return false
endfunction

function LX3 takes nothing returns nothing
    local location l = GetSpellTargetLoc()
    local real HMI = GetLocationX(l)
    local real HNI = GetLocationY(l)
    local unit GCI = GetTriggerUnit()
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local real a = getAngle(x, y, HMI, HNI)*bj_DEGTORAD
    local unit YVI
    local real VGI = constrainX(x + 3000*Cos(a))
    local real VHI = constrainY(y + 3000*Sin(a))
    local integer i = 1
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real YTI
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1QW')
    local integer H72
    call RemoveLocation(l)
    if FVI == 1 then
        set H72 = 'u01K'
    elseif FVI == 2 then
        set H72 = 'u01H'
    elseif FVI == 3 then
        set H72 = 'u01J'
    elseif FVI == 4 then
        set H72 = 'u01L'
    endif
    loop
        exitwhen i > 12
        set YVI = CreateUnit(GetOwningPlayer(GCI), H72, x + GetRandomInt(-300, 300), y + GetRandomInt(-300, 300), a*bj_RADTODEG)
        call SaveUnitHandle(hashTable, DMI, (393 + i - 1), YVI)
        call SaveBoolean(hashTable, DMI, (511 + i - 1), false)
        call SaveReal(hashTable, DMI, (549 + i - 1), (GetUnitX(YVI)*1.0))
        call SaveReal(hashTable, DMI, (567 + i - 1), (GetUnitY(YVI)*1.0))
        set i = i + 1
    endloop
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerAddCondition(t, Condition(function LW3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 6, (x*1.0))
    call SaveReal(hashTable, DMI, 7, (y*1.0))
    call SaveReal(hashTable, DMI, 137, (a*1.0))
    call SaveReal(hashTable, DMI, 47, (VGI*1.0))
    call SaveReal(hashTable, DMI, 48, (VHI*1.0))
    set GCI = null
    set YVI = null
    set l = null
    set t = null
endfunction

function LY3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1QW' then
        call LX3()
    endif
    return false
endfunction

function UUI takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LY3))
    call WQI('u01K')
    call WQI('u01H')
    call WQI('u01J')
    call WQI('u01L')
    call preloadAblility('A1QZ')
    set t = null
endfunction

function LJ3 takes unit GCI, unit XA1, unit LK3, integer FVI, boolean LL3 returns real 
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'e00E', GetUnitX(XA1), GetUnitY(XA1), 0)
    if LL3 then
        call UnitAddAbility(YVI, 'A0WY')
    else 
        call UnitAddAbility(YVI, 'A0NL')
    endif
    call IssueTargetOrder(YVI, "thunderbolt", LK3)
    if IsUnitType(LK3, UNIT_TYPE_HERO) == false then
        call GZI(GCI, LK3, 1, 50 + 25*FVI, 0.4)
    else 
        call GZI(GCI, LK3, 1, 50, 0.4)
    endif
    if LL3 then
        return ((GetUnitX(LK3) - GetUnitX(XA1))*(GetUnitX(LK3) - GetUnitX(XA1)) + (GetUnitY(LK3) - GetUnitY(XA1))*(GetUnitY(LK3) - GetUnitY(XA1)))/1000000
    endif
    return ((GetUnitX(LK3) - GetUnitX(XA1))*(GetUnitX(LK3) - GetUnitX(XA1)) + (GetUnitY(LK3) - GetUnitY(XA1))*(GetUnitY(LK3) - GetUnitY(XA1)))/360000
endfunction

function LM3 takes unit GCI, unit XA1 returns unit 
    local group g = allocGroup()
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, GetUnitX(XA1), GetUnitY(XA1), 600, Condition(function XNI))
    call GroupRemoveUnit(g, XA1)
    set myUnit = GroupPickRandomUnit(g)
    call releaseGroup(g)
    set g = null
    return myUnit
endfunction

function LN3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer LS3 = LoadInteger(hashTable, DMI, 391)
    local unit XA1 = D9I(LS3)
    local integer DHI = LoadInteger(hashTable, DMI, 34)
    local unit LK3
    local real BTI
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    if DHI < (FVI*2 + 1) then
        set LK3 = LM3(GCI, XA1)
        if LK3 != null then
            set BTI = LJ3(GCI, XA1, LK3, FVI, false)
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            call SaveInteger(hashTable, DMI, 5, FVI)
            call SaveInteger(hashTable, DMI, 391, DBI(LK3))
            call SaveInteger(hashTable, DMI, 34, (DHI + 1))
            call TriggerRegisterTimerEvent(t, BTI + 0.4, false)
            call TriggerAddCondition(t, Condition(function LN3))
        endif
    endif
    call D8I(LS3)
    set t = null
    set GCI = null
    set XA1 = null
    set LK3 = null
    return false
endfunction

function LT3 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local unit LR3 = GetSpellTargetUnit()
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0NM')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real BTI = LJ3(E1I, E1I, LR3, FVI, true)
    call SaveUnitHandle(hashTable, DMI, 2, E1I)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveInteger(hashTable, DMI, 391, DBI(LR3))
    call SaveInteger(hashTable, DMI, 34, 1)
    call TriggerRegisterTimerEvent(t, BTI, false)
    call TriggerAddCondition(t, Condition(function LN3))
    set E1I = null
    set LR3 = null
    set t = null
endfunction

function LP3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0NM' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call LT3()
    endif
    return false
endfunction

function I91 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function LP3))
    set t = null
endfunction

function LQ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0NE')
    call UnitRemoveAbility(E1I, 'A0NE')
    call UnitAddAbility(E1I, 'A0NE')
    call SetUnitAbilityLevel(E1I, 'A0NE', FVI)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set E1I = null
    return false
endfunction

function LU3 takes unit GDI, integer FVI returns nothing
    local real OW2 = (8 + FVI*8)/3
    call SetUnitState(GDI, UNIT_STATE_LIFE, GetUnitState(GDI, UNIT_STATE_LIFE) + OW2)
endfunction

function M03 takes nothing returns boolean 
    if (IsUnitEnemy(myUnit, GetOwningPlayer(GetFilterUnit())) == false and (GetUnitAbilityLevel(GetFilterUnit(), 'A04R') == 0 and IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == false and isUnitUnavailable(GetFilterUnit()) == false) and (IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false or isUnitSyllabearOrIgnis(GetFilterUnit()))) then
        call LU3(GetFilterUnit(), QJ)
    endif
    return false
endfunction

function MI3 takes unit E1I returns nothing
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0NE')
    local group g = allocGroup()
    set myUnit = E1I
    set QJ = FVI
    call GroupEnumUnitsInRange(g, GetUnitX(E1I), GetUnitY(E1I), 375, Condition(function M03))
    call releaseGroup(g)
    set g = null
endfunction

function M13 takes unit E1I returns nothing
    local integer FVI = GetUnitAbilityLevel(E1I, 'A0NE')
    local real MO3 = 3 + 3*FVI
    call SetUnitState(E1I, UNIT_STATE_MANA, GetUnitState(E1I, UNIT_STATE_MANA) - (MO3/3))
    if GetUnitState(E1I, UNIT_STATE_MANA) < MO3 then
        if (LoadInteger(hashTable, GetHandleId(E1I), 4265) == 1) == false then
            call IssueImmediateOrder(E1I, "unimmolation")
        endif
    endif
endfunction

function M23 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit E1I = LoadUnitHandle(hashTable, DMI, 14)
    if GetTriggerEventId() == EVENT_UNIT_ISSUED_ORDER then
        if GetIssuedOrderId() == 852178 then
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call SaveUnitHandle(hashTable, DMI, 14, E1I)
            call TriggerRegisterTimerEvent(t, 0, false)
            call TriggerAddCondition(t, Condition(function LQ3))
        endif
    else 
        call MI3(E1I)
        call M13(E1I)
    endif
    set t = null
    return false
endfunction

function M33 takes nothing returns nothing
    local unit E1I = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 14, E1I)
    call TriggerRegisterTimerEvent(t, 0.33, true)
    call TriggerRegisterUnitEvent(t, E1I, EVENT_UNIT_ISSUED_ORDER)
    call TriggerAddCondition(t, Condition(function M23))
    set E1I = null
    set t = null
endfunction

function M43 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0NE' then
        call M33()
    endif
    return false
endfunction

function IB1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M43))
    set t = null
endfunction

function M53 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0NO')
    local integer DHI = GetTriggerEvalCount(t)
    local real M63 = LoadReal(hashTable, DMI, 392)
    local real TZ2 = 0
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        if DHI == 4 or DHI == 8 or DHI == 12 then
            call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
            if DHI == 12 then
                call FlushChildHashtable(hashTable, DMI)
                call abandonTrigger(t)
            elseif DHI == 4 or DHI == 8 then
                call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("effects\\NetherInferno.mdx", GDI, "origin"))
            endif
            set TZ2 = FVI*0.1*HGI(M63 - GetUnitState(GDI, UNIT_STATE_LIFE), 0)
            if TZ2 > 0 then
                call ZKI("+" + I2S(R2I(TZ2)), 2, GDI, 0.023, 68, 0, 187, 216)
            endif
        endif
        call doDamage(GCI, GDI, 1, FVI*5 + TZ2)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function M73 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetEnumUnit()
    call DestroyEffect( AddSpecialEffectTarget("effects\\NetherInferno.mdx", GDI, "origin") )
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function M53))
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 392, (GetUnitState(GDI, UNIT_STATE_LIFE)*1.0))
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("effects\\NetherInferno.mdx", GDI, "origin"))
    set t = null
    set GCI = null
    set GDI = null
endfunction

function M83 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local group g = allocGroup()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A0NO')
    call GroupEnumUnitsInRange(g, x, y, 175, Condition(function Y4I))
    call ForGroup(g, function M73)
    call releaseGroup(g)
    call RemoveLocation(l)
    set l = null
    set g = null
endfunction

function M93 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0NO' then
        call M83()
    endif
    return false
endfunction

function IA1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function M93))
    set t = null
endfunction

function MA3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    if GetTriggerEventId() != EVENT_UNIT_SPELL_ENDCAST then
        call GSI(GCI)
    endif
    set GCI = null
    set t = null
    return false
endfunction

function MB3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerRegisterTimerEvent(t, 10, false)
    call TriggerAddCondition(t, Condition(function MA3))
    set t = null
    set GCI = null
endfunction

function MC3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A0NT' or GetSpellAbilityId() == 'A0NX' then
        call MB3()
    endif
    return false
endfunction

function MD3 takes nothing returns boolean 
    if GetUnitTypeId(GetSummonedUnit()) == 'o000' or GetUnitTypeId(GetSummonedUnit()) == 'o001' or GetUnitTypeId(GetSummonedUnit()) == 'o00A' or GetUnitTypeId(GetSummonedUnit()) == 'o00X' then
        call DUI(GetSummoningUnit(), 4265, 8)
    endif
    return false
endfunction

function IC1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddCondition(t, Condition(function MD3))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MC3))
    set t = null
endfunction

function ME3 takes nothing returns boolean 
    local integer id = 0
    local unit GDI
    local real LLI = TimerGetElapsed(M)
    local real mp
    local real hp
    loop
        exitwhen id > 12
        set GDI = playerHero[id]
        if GDI != null and GetUnitAbilityLevel(GDI, 'B0CD') == 0 and B9I[id] > LLI then
            set B9I[id] = 0
        endif
        if GDI != null and GetUnitAbilityLevel(GDI, 'B0CD') > 0 then
            if B9I[id] > LLI and isUnitUnavailable(GDI) == false then
                if IsUnitInRegion(PK, GDI) == true then
                    set hp = GetUnitState(GDI, UNIT_STATE_LIFE)
                    set mp = GetUnitState(GDI, UNIT_STATE_MANA)
                    set BAI[id] = hp
                    set BBI[id] = mp
                else 
                    set hp = GetUnitState(GDI, UNIT_STATE_LIFE)
                    set mp = GetUnitState(GDI, UNIT_STATE_MANA)
                    if hp < BAI[id] then
                        set BAI[id] = hp
                    else 
                    endif
                    if mp < BBI[id] then
                        set BBI[id] = mp
                    else 
                    endif
                    call SetUnitState(GDI, UNIT_STATE_LIFE, BAI[id])
                endif
                set BDI[id] = BDI[id] + 1
                if BDI[id] == 10 then
                    set BDI[id] = 0
                    if BEI[id] == 1 then
                        call doDamage(BCI[id], GDI, 1, 12.5)
                    elseif BEI[id] == 2 then
                        call doDamage(BCI[id], GDI, 1, 20)
                    elseif BEI[id] == 3 then
                        call doDamage(BCI[id], GDI, 1, 32)
                    endif
                endif
            elseif B9I[id] > LLI and isUnitUnavailable(GDI) == true then
                set B9I[id] = 0
                set BAI[id] = 9999
                set BBI[id] = 9999
            endif
            if (GetUnitAbilityLevel(GDI, 'B0CD') > 0 and B9I[id] < LLI) then
                call UnitRemoveAbility(GDI, 'A1JA')
                call UnitRemoveAbility(GDI, 'B0CD')
                call UnitRemoveAbility(GDI, 'A1LD')
            endif
        endif
        set id = id + 1
    endloop
    set GDI = null
    return false
endfunction

function MF3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit YVI
    if GetUnitAbilityLevel(GDI, 'B0CD') == 0 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetOwningPlayer(GDI) != GetOwningPlayer(GetEventDamageSource()) and GetUnitState(GDI, UNIT_STATE_MAX_LIFE)*(0.09 + 0.01*FVI) > GetUnitState(GDI, UNIT_STATE_LIFE) and (LoadInteger(hashTable, GetHandleId(GDI), 2485) == 1) == false then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call UnitRemoveAbility(GDI, 'A1JA')
        call UnitRemoveAbility(GDI, 'B0CD')
        call UnitRemoveAbility(GDI, 'A1LD')
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", GDI, "overhead") )
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", GDI, "chest") )
        call DestroyEffect( AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl", GDI, "origin") )
        set YVI = CreateUnit(GetOwningPlayer(GetEventDamageSource()), 'e00E', 0, 0, 0)
        call UnitRemoveBuffs(GDI, true, true)
        call UnitDamageTarget(YVI, GDI, 100000000.00, true, false, ATTACK_TYPE_MELEE, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS)
        set YVI = null
    endif
    set t = null
    set GDI = null
    return false
endfunction

function MG3 takes unit GCI, unit GDI returns nothing
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1MI')
    local integer id = GetPlayerId(GetOwningPlayer(GDI))
    local trigger t
    local integer DMI
    if FVI > 0 and IsUnitType(GDI, UNIT_TYPE_HERO) == true and IsUnitIllusion(GDI) == false and GetUnitTypeId(GDI) != 'H00J' then
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function MF3))
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveInteger(hashTable, DMI, 5, FVI)
        call UnitAddAbility(GDI, 'A1JA')
        call UnitAddAbility(GDI, 'A1LD')
        set B9I[id] = TimerGetElapsed(M) + 7 + FVI
        set BAI[id] = GetUnitState(GDI, UNIT_STATE_LIFE)
        set BBI[id] = GetUnitState(GDI, UNIT_STATE_MANA)
        set BCI[id] = GCI
        set BEI[id] = FVI
    endif
    set t = null
endfunction

function MH3 takes nothing returns nothing
    local unit GCI = myUnit
    local unit GDI = GetEnumUnit()
    local integer id = GetPlayerId(GetOwningPlayer(GDI))
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1MI')
    local trigger t
    local integer DMI
    if IsUnitType(GDI, UNIT_TYPE_HERO) == true and IsUnitIllusion(GDI) == false and GetUnitAbilityLevel(GDI, 'B0CD') == 0 and GetUnitTypeId(GDI) != 'H00J' then
        set B9I[id] = TimerGetElapsed(M) + 7 + FVI
        call UnitAddAbility(GDI, 'A1JA')
        call UnitAddAbility(GDI, 'A1LD')
        set BAI[id] = GetUnitState(GDI, UNIT_STATE_LIFE)
        set BBI[id] = GetUnitState(GDI, UNIT_STATE_MANA)
        set BCI[id] = GCI
        set BEI[id] = FVI
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
        call TriggerAddCondition(t, Condition(function MF3))
        call SaveUnitHandle(hashTable, DMI, 17, GDI)
        call SaveInteger(hashTable, DMI, 5, FVI)
        set t = null
    endif
    set GCI = null
    set GDI = null
endfunction

function MZ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real x0 = LoadReal(hashTable, DMI, 282)
    local real y0 = LoadReal(hashTable, DMI, 283)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local group g = allocGroup()
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x0, y0, 825, Condition(function Y7I))
    call ForGroup(g, function MH3)
    call releaseGroup(g)
    if GetTriggerEvalCount(t) > 120 then
        call KillUnit( LoadUnitHandle(hashTable, DMI, 434) )
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set g = null
    return false
endfunction

function Gust takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real LPO = GetUnitFacing(GCI)
    local real x2
    local real y2
    local unit MV3
    local unit QR2
    local unit MW3
    local unit MX3
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1MI')
    call RemoveLocation(l)
    set x2 = x + 350*Cos(LPO*bj_DEGTORAD)
    set y2 = y + 350*Sin(LPO*bj_DEGTORAD)
    set MV3 = CreateUnit(GetOwningPlayer(GCI), 'h0B3', x, y, LPO)
    set x2 = x + 350*Cos(LPO*bj_DEGTORAD)
    set y2 = y - 350*Sin(LPO*bj_DEGTORAD)
    set x2 = x - 350*Cos(LPO*bj_DEGTORAD)
    set y2 = y + 350*Sin(LPO*bj_DEGTORAD)
    set x2 = x - 350*Cos(LPO*bj_DEGTORAD)
    set y2 = y - 350*Sin(LPO*bj_DEGTORAD)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function MZ3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 282, (x*1.0))
    call SaveReal(hashTable, DMI, 283, (y*1.0))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveUnitHandle(hashTable, DMI, 434, MV3)
    set l = null
    set GCI = null
    set MV3 = null
    set QR2 = null
    set MW3 = null
    set MX3 = null
    set t = null
endfunction

function Gust_Main takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1N8' then
    endif
    return false
endfunction

function BO1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer id = 0
    local integer i = 0
    local player p
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerAddCondition(t, Condition(function ME3))
    loop
        exitwhen id > 12
        set BAI[id] = 9999
        set BBI[id] = 9999
        set id = id + 1
    endloop
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        call SetPlayerAbilityAvailable(p, 'A1LD', false)
        set p = scourgePlayers[i]
        call SetPlayerAbilityAvailable(p, 'A1LD', false)
        set i = i + 1
    endloop
    set t = null
endfunction

function MY3 takes nothing returns nothing
    if JCI(GetEnumUnit()) then
        return
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1HZ') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1HZ')
        call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1I4') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1I4')
        call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1I3') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1I3')
        call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
    endif
    if GetUnitAbilityLevel(GetEnumUnit(), 'A1I6') > 0 then
        call UnitRemoveAbility(GetEnumUnit(), 'A1I6')
        call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
    endif
endfunction

function MJ3 takes nothing returns nothing
    if JCI(GetEnumUnit()) then
        return
    endif
    if GOI(GetEnumUnit()) == false then
        if BFI == 1 then
            if GetUnitAbilityLevel(GetEnumUnit(), 'A1HZ') == 0 then
                call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
                call UnitAddAbility(GetEnumUnit(), 'A1HZ')
            endif
        elseif BFI == 2 then
            if GetUnitAbilityLevel(GetEnumUnit(), 'A1I4') == 0 then
                call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
                call UnitAddAbility(GetEnumUnit(), 'A1I4')
            endif
        elseif BFI == 3 then
            if GetUnitAbilityLevel(GetEnumUnit(), 'A1I3') == 0 then
                call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
                call UnitAddAbility(GetEnumUnit(), 'A1I3')
            endif
        elseif BFI == 4 then
            if GetUnitAbilityLevel(GetEnumUnit(), 'A1I6') == 0 then
                call UnitRemoveAbility(GetEnumUnit(), 'B0C5')
                call UnitAddAbility(GetEnumUnit(), 'A1I6')
            endif
        endif
    endif
endfunction

function MK3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local group VQ2 = LoadGroupHandle(hashTable, DMI, 340)
    local real x = GetUnitX(YVI)
    local real y = GetUnitY(YVI)
    local group g = allocGroup()
    local group g2
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call ForGroup(VQ2, function MY3)
        call releaseGroup(g)
        call releaseGroup(VQ2)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call ShowUnit(YVI, false)
        set t = null
        set GCI = null
        set YVI = null
        set VQ2 = null
        return false
    endif
    set BGI = GCI
    set BFI = GetUnitAbilityLevel(GCI, 'A1HS')
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, x, y, 300, Condition(function filterUnitInjurable))
    call GroupRemoveGroup(g, VQ2)
    call ForGroup(VQ2, function MY3)
    call ForGroup(g, function MJ3)
    call SaveGroupHandle(hashTable, DMI, 340, g)
    call releaseGroup(VQ2)
    set t = null
    set GCI = null
    set YVI = null
    set VQ2 = null
    return false
endfunction

function ML3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1HS')
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'n0HQ', x, y, 0)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call UnitApplyTimedLife(YVI, 'BTLF', 12)
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, YVI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MK3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveGroupHandle(hashTable, DMI, 340, allocGroup())
    call RemoveLocation(l)
    set GCI = null
    set l = null
endfunction

function MM3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1HS' then
        call ML3()
    endif
    return false
endfunction

function B01 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer i = 0
    local player p
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MM3))
    set t = null
    loop
        exitwhen i > 5
        set p = sentinelPlayers[i]
        call SetPlayerAbilityAvailable(p, 'A1HZ', false)
        call SetPlayerAbilityAvailable(p, 'A1I4', false)
        call SetPlayerAbilityAvailable(p, 'A1I3', false)
        call SetPlayerAbilityAvailable(p, 'A1I6', false)
        set p = scourgePlayers[i]
        call SetPlayerAbilityAvailable(p, 'A1HZ', false)
        call SetPlayerAbilityAvailable(p, 'A1I4', false)
        call SetPlayerAbilityAvailable(p, 'A1I3', false)
        call SetPlayerAbilityAvailable(p, 'A1I6', false)
        set i = i + 1
    endloop
endfunction

function MN3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local real x = LoadReal(hashTable, DMI, 6)
    local real y = LoadReal(hashTable, DMI, 7)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit YVI
    local real GFI = (100 + 50*FVI)/4
    if GetTriggerEventId() == EVENT_UNIT_DEATH or getDistance(x, y, GetUnitX(GDI), GetUnitY(GDI)) > 765 or GetUnitAbilityLevel(GDI, 'B0CC') == 0 then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
        call UnitRemoveAbility(GDI, 'A1J9')
        call UnitRemoveAbility(GDI, 'B0CC')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    elseif GetTriggerEvalCount(t) == (10*0.8) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx", GDI, "overhead"))
        call doDamage(GCI, GDI, 1, GFI)
    elseif GetTriggerEvalCount(t) == (10*1.6) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx", GDI, "overhead"))
        call doDamage(GCI, GDI, 1, GFI)
    elseif GetTriggerEvalCount(t) == (10*2.5) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx", GDI, "overhead"))
        call doDamage(GCI, GDI, 1, GFI)
    elseif GetTriggerEvalCount(t) == (10*3.4) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        call doDamage(GCI, GDI, 1, GFI)
    elseif GetTriggerEvalCount(t) > (10*3.9) then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
        call UnitRemoveAbility(GDI, 'A1J9')
        call UnitRemoveAbility(GDI, 'B0CC')
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        set YVI = CreateUnit(GetOwningPlayer(GDI), 'e00E', GetUnitX(GDI), GetUnitY(GDI), 0)
        call UnitAddAbility(YVI, 'A1MJ')
        call SetUnitAbilityLevel(YVI, 'A1MJ', FVI)
        call IssueTargetOrder(YVI, "thunderbolt", GDI)
        set YVI = null
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function MS3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetSpellTargetUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1MG')
    local string s = "Doodads\\Cinematic\\GlowingRunes\\GlowingRunes4.mdl"
    if GetLocalPlayer() == GetOwningPlayer(GDI) then
    endif
    call UnitAddAbility(GDI, 'A1J9')
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveReal(hashTable, DMI, 6, (GetUnitX(GDI)*1.0))
    call SaveReal(hashTable, DMI, 7, (GetUnitY(GDI)*1.0))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveEffectHandle(hashTable, DMI, 32, AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx", GDI, "overhead"))
    call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffect(s, GetUnitX(GDI), GetUnitY(GDI)))
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function MN3))
    set GCI = null
    set GDI = null
    set t = null
endfunction

function MT3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1MG' and (GetUnitAbilityLevel(GetSpellTargetUnit(), 'B0BI') > 0) == false then
        call MS3()
    endif
    return false
endfunction

function BI1 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function MT3))
    set t = null
endfunction

function MR3 takes nothing returns nothing
    local unit GCI = BZI
    local unit GDI = GetEnumUnit()
    local integer FVI = BHI
    call MG3(GCI, GDI)
    call doDamage(GCI, GDI, 1, 150 + 100*FVI)
    call DestroyEffect( AddSpecialEffectTarget("war3mapImported\\PlasmaShot.mdl", GDI, "chest") )
    set GCI = null
    set GDI = null
endfunction

function MP3 takes nothing returns nothing
    local unit GCI = BZI
    local unit GDI = GetEnumUnit()
    local integer FVI = BHI
    call MG3(GCI, GDI)
    set GCI = null
    set GDI = null
endfunction

function MQ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real PGO = LoadReal(hashTable, DMI, 432)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real x = GetUnitX(VDI) + 30*Cos(LPO)
    local real y = GetUnitY(VDI) + 30*Sin(LPO)
    local group g
    local fogmodifier V2I
    if getDistance(x, y, HMI, HNI) < 35 or x != constrainX(x) or y != constrainY(y) then
        set x = HMI
        set y = HNI
        call SetUnitX(VDI, x)
        call SetUnitY(VDI, y)
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 32) )
        set V2I = LoadFogModifierHandle(hashTable, DMI, 440)
        call FogModifierStop(V2I)
        call DestroyFogModifier(V2I)
        set V2I = null
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call KillUnit(VDI)
        set myUnit = GCI
        set BZI = GCI
        set BHI = FVI
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, x, y, PGO + 25, Condition(function filterUnitInjurable))
        call ForGroup(g, function MR3)
        call releaseGroup(g)
        set g = null
    else 
        call SetUnitX(VDI, x)
        call SetUnitY(VDI, y)
        set myUnit = GCI
        set BZI = GCI
        set BHI = FVI
        set g = allocGroup()
        call GroupEnumUnitsInRange(g, x, y, 300, Condition(function filterUnitInjurable))
        call ForGroup(g, function MP3)
        call releaseGroup(g)
        set g = null
    endif
    set t = null
    set VDI = null
    set GCI = null
    return false
endfunction

function MU3 takes unit GCI, real x, real y, real LR2, effect FX, fogmodifier V2I returns nothing
    local real LPO = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = CreateUnit(GetOwningPlayer(GCI), 'h0B6', GetUnitX(GCI), GetUnitY(GCI), LPO*bj_RADTODEG)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1MI')
    local real PGO = rMin(225 + 25*LR2*2, 1000)
    local real HJI = getDistance(GetUnitX(GCI), GetUnitY(GCI), x, y)
    call TriggerRegisterTimerEvent(t, rMin(2.0/(HJI/30), 0.04), true)
    call TriggerAddCondition(t, Condition(function MQ3))
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call SaveReal(hashTable, DMI, 47, (x*1.0))
    call SaveReal(hashTable, DMI, 48, (y*1.0))
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveReal(hashTable, DMI, 432, (PGO*1.0))
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveFogModifierHandle(hashTable, DMI, 440, V2I)
    call SaveEffectHandle(hashTable, DMI, 32, FX)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1MI', true)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1MN', false)
    set t = null
    set VDI = null
endfunction

function N03 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = LoadUnitHandle(hashTable, DMI, 45)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real x
    local real y
    local real LR2 = TimerGetElapsed(M) - LoadReal(hashTable, DMI, 431)
    local string s
    local fogmodifier V2I
    local effect FX
    local real NI3 = GetUnitX(VDI) + 30*Cos(LPO)
    local real N13 = GetUnitY(VDI) + 30*Sin(LPO)
    set x = constrainX(NI3)
    set y = constrainY(N13)
    call SetUnitX(VDI, x)
    call SetUnitY(VDI, y)
    if GetTriggerEventId() == EVENT_UNIT_DEATH or (GetTriggerEventId() == EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId() == 'A1MN') or x != NI3 or y != N13 then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call RemoveUnit(VDI)
        set s = ""
        if IsPlayerAlly(GetOwningPlayer(GCI), GetLocalPlayer()) then
            set s = "war3mapImported\\IceWindGroundFX.mdl"
        endif
        set V2I = CreateFogModifierRadius(GetOwningPlayer(GCI), FOG_OF_WAR_VISIBLE, x, y, 500, true, true)
        call FogModifierStart(V2I)
        set FX = AddSpecialEffect(s, x, y)
        call MU3(GCI, x, y, LR2, FX, V2I)
        set V2I = null
        set FX = null
    endif
    set t = null
    set VDI = null
    set GCI = null
    return false
endfunction

function NO3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    local real a = Atan2(y - GetUnitY(GCI), x - GetUnitX(GCI))
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit VDI = CreateUnit(GetOwningPlayer(GCI), 'H0B8', GetUnitX(GCI), GetUnitY(GCI), a*bj_RADTODEG)
    call SaveUnitHandle(hashTable, DMI, 45, VDI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveReal(hashTable, DMI, 13, (a*1.0))
    call SaveReal(hashTable, DMI, 431, (TimerGetElapsed(M)*1.0))
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function N03))
    call SetUnitColor(VDI, GetPlayerColor(Player(14)))
    call RemoveLocation(l)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1MI', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GCI), 'A1MN', true)
    call UnitAddAbility(GCI, 'A1MN')
    set GCI = null
    set l = null
    set t = null
    set VDI = null
endfunction

function N23 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1MI' then
        call NO3()
    endif
    return false
endfunction

function B11 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function N23))
    set t = null
endfunction

function N33 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local integer N43 = LoadInteger(hashTable, GetHandleId(GCI), 449)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI and GetEventDamage() > 1 then
            call DisableTrigger(t)
            if N43 > 0 then
                call SaveInteger(hashTable, GetHandleId(GCI), 449, (N43 - 1))
                call ZKI("+" + I2S(30 + 10*FVI), 1, GCI, 0.024, 100, 200, 255, 255)
                call doDamage(GCI, GDI, 1, 30 + 10*FVI)
            endif
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
        endif
    else 
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function N53 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    if GetTriggerEventId() != EVENT_PLAYER_UNIT_ATTACKED or LoadInteger(hashTable, GetHandleId(GCI), 449) == 0 then
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 175) )
        call DestroyEffect( LoadEffectHandle(hashTable, DMI, 176) )
        call SaveInteger(hashTable, GetHandleId(GCI), 449, 0)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call UnitRemoveAbility(GCI, 'A1HN')
        call UnitRemoveAbility(GCI, 'B0CJ')
        call UnitRemoveAbility(GCI, 'A1IP')
    elseif GetAttacker() == GCI and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and (LoadInteger(hashTable, GetHandleId(GCI), 4289) == 1) == false then
        call DUI(GCI, 4289, 0.4)
        set t = CreateTrigger()
        set DMI = GetHandleId(t)
        call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
        call TriggerRegisterTimerEvent(t, 2.0, false)
        call TriggerAddCondition(t, Condition(function N33))
        call SaveUnitHandle(hashTable, DMI, 17, GetTriggerUnit())
        call SaveUnitHandle(hashTable, DMI, 2, GCI)
        call SaveInteger(hashTable, DMI, 5, FVI)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function N63 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetEnumUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1HQ')
    call UnitAddAbility(GDI, 'A1HN')
    call UnitAddAbility(GDI, 'A1IP')
    call SaveInteger(hashTable, GetHandleId(GDI), 449, (1 + FVI))
    call SaveUnitHandle(hashTable, DMI, 2, GDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveEffectHandle(hashTable, DMI, 175, AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx", GDI, "right,hand"))
    call SaveEffectHandle(hashTable, DMI, 176, AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx", GDI, "left,hand"))
    call TriggerRegisterTimerEvent(t, 40, false)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function N53))
    set GCI = null
    set GDI = null
    set t = null
endfunction

function N73 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local group g = allocGroup()
    local location l = GetSpellTargetLoc()
    local real x = GetLocationX(l)
    local real y = GetLocationY(l)
    call RemoveLocation(l)
    call DestroyEffect( AddSpecialEffect("war3mapImported\\IcyWind.mdl", x, y) )
    call GroupEnumUnitsInRange(g, x, y, 475, Condition(function Y1I))
    call ForGroup(g, function N63)
    call releaseGroup(g)
    set GCI = null
    set g = null
    set l = null
endfunction

function N83 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1HQ' then
        call N73()
    endif
    return false
endfunction

function B21 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function N83))
    set t = null
endfunction

function N93 takes nothing returns nothing
    call doDamage(BVI, GetEnumUnit(), 1, (GetUnitAbilityLevel(BVI, 'A1IM')*75)/5)
endfunction

function NA3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real x = GetUnitX(GCI)
    local real y = GetUnitY(GCI)
    local group g
    local real YJI
    local unit YVI
    local integer FVI = 0
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        return false
    else 
        if GetTriggerEvalCount(t) == 1 then
            set YVI = CreateUnit(GetOwningPlayer(GCI), 'h0B2', x, y, 0)
            call UnitApplyTimedLife(YVI, 'BTLF', 1)
            set YVI = null
            call TriggerRegisterTimerEvent(t, 0.1, true)
        else 
            if GetTriggerEvalCount(t) == 6 then
                call FlushChildHashtable(hashTable, DMI)
                call abandonTrigger(t)
            endif
            set g = allocGroup()
            set BVI = GCI
            set myUnit = GCI
            call GroupEnumUnitsInRange(g, x, y, 350, Condition(function filterUnitInjurable))
            call ForGroup(g, function N93)
            call releaseGroup(g)
            call JZI(GCI)
        endif
    endif
    set t = null
    set g = null
    set GCI = null
    return false
endfunction

function NB3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = GetTriggerUnit()
    local real YJI = (GetUnitAbilityLevel(GCI, 'A1IM')*75)/2
    call TriggerRegisterTimerEvent(t, 2, false)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function NA3))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    if GetUnitState(GCI, UNIT_STATE_LIFE) <= YJI*0.75 then
        set YJI = GetUnitState(GCI, UNIT_STATE_LIFE)/0.75 - 10
    endif
    call doDamage(GCI, GCI, 1, YJI)
    set t = null
    set GCI = null
endfunction

function NC3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1IM' then
        call NB3()
    endif
    return false
endfunction

function B61 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NC3))
    set t = null
endfunction

function ND3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local player FQO
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1IN')
    local integer MainLevel = GetUnitAbilityLevel(GCI, 'A1IN')
    local real LLI = TimerGetElapsed(M)
    local real NE3 = LoadReal(hashTable, DMI, 415)
    local real NF3 = LoadReal(hashTable, DMI, 416)
    if isUnitUnavailable(GCI) then
        set t = null
        set GCI = null
        return false
    endif
    if isPlayerSentinel(GetOwningPlayer(GCI)) then
        set FQO = scourgePlayers[1]
    else 
        set FQO = sentinelPlayers[1]
    endif
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED and GetOwningPlayer(GetEventDamageSource()) == playerNeutrals then
        if GetUnitAbilityLevel(GCI, 'A1IE') > 0 then
            call UnitRemoveAbility(GCI, 'A1IE')
            call UnitRemoveAbility(GCI, 'B0C9')
        endif
        if GetUnitAbilityLevel(GCI, 'A1IF') > 0 then
            call UnitRemoveAbility(GCI, 'A1IF')
            call UnitRemoveAbility(GCI, 'B0C9')
        endif
        if GetUnitAbilityLevel(GCI, 'A1IG') > 0 then
            call UnitRemoveAbility(GCI, 'A1IG')
            call UnitRemoveAbility(GCI, 'B0C9')
        endif
        call SaveReal(hashTable, DMI, 414, ((LLI + 2)*1.0))
        set t = null
        set GCI = null
        return false
    endif
    if LoadReal(hashTable, DMI, 414) > LLI then
        set t = null
        set GCI = null
        return false
    endif
    if IsUnitVisible(GCI, FQO) or GetUnitAbilityLevel(GCI, 'BNdo') > 0 then
        set NF3 = 0
        if GetUnitAbilityLevel(GCI, 'A1IE') > 0 or GetUnitAbilityLevel(GCI, 'A1IF') > 0 or GetUnitAbilityLevel(GCI, 'A1IG') > 0 then
            set NE3 = NE3 + 0.1
            if NE3 > 0.6 then
                set NE3 = 0
                if GetUnitAbilityLevel(GCI, 'A1IE') > 0 then
                    call UnitRemoveAbility(GCI, 'A1IE')
                    call UnitRemoveAbility(GCI, 'B0C9')
                endif
                if GetUnitAbilityLevel(GCI, 'A1IF') > 0 then
                    call UnitRemoveAbility(GCI, 'A1IF')
                    call UnitRemoveAbility(GCI, 'B0C9')
                endif
                if GetUnitAbilityLevel(GCI, 'A1IG') > 0 then
                    call UnitRemoveAbility(GCI, 'A1IG')
                    call UnitRemoveAbility(GCI, 'B0C9')
                endif
            endif
        endif
        call SaveReal(hashTable, DMI, 415, (NE3*1.0))
        call SaveReal(hashTable, DMI, 416, (NF3*1.0))
    elseif IsUnitVisible(GCI, FQO) == false then
        set NE3 = 0
        if (FVI == 1 and GetUnitAbilityLevel(GCI, 'A1IE') == 0) or (FVI == 2 and GetUnitAbilityLevel(GCI, 'A1IF') == 0) or (FVI == 3 and GetUnitAbilityLevel(GCI, 'A1IG') == 0) then
            set NF3 = NF3 + 0.1
            if NF3 > 0.6 then
                set NF3 = 0
                if FVI == 1 then
                    if GetUnitAbilityLevel(GCI, 'A1IE') == 0 then
                        call UnitAddAbility(GCI, 'A1IE')
                    endif
                endif
                if FVI == 2 then
                    if GetUnitAbilityLevel(GCI, 'A1IE') > 0 then
                        call UnitRemoveAbility(GCI, 'A1IE')
                        call UnitRemoveAbility(GCI, 'B0C9')
                    endif
                    if GetUnitAbilityLevel(GCI, 'A1IF') == 0 then
                        call UnitAddAbility(GCI, 'A1IF')
                    endif
                endif
                if FVI == 3 then
                    if GetUnitAbilityLevel(GCI, 'A1IE') > 0 then
                        call UnitRemoveAbility(GCI, 'A1IE')
                        call UnitRemoveAbility(GCI, 'B0C9')
                    endif
                    if GetUnitAbilityLevel(GCI, 'A1IF') > 0 then
                        call UnitRemoveAbility(GCI, 'A1IF')
                        call UnitRemoveAbility(GCI, 'B0C9')
                    endif
                    if GetUnitAbilityLevel(GCI, 'A1IG') == 0 then
                        call UnitAddAbility(GCI, 'A1IG')
                    endif
                endif
            endif
        endif
        call SaveReal(hashTable, DMI, 415, (NE3*1.0))
        call SaveReal(hashTable, DMI, 416, (NF3*1.0))
    endif
    set t = null
    set GCI = null
    return false
endfunction

function NG3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call SaveReal(hashTable, DMI, 415, (0*1.0))
    call SaveReal(hashTable, DMI, 416, (0*1.0))
    call SaveReal(hashTable, DMI, 414, (TimerGetElapsed(M)*1.0))
    call SaveUnitHandle(hashTable, DMI, 2, GetTriggerUnit())
    call TriggerRegisterTimerEvent(t, 0.1, true)
    call TriggerRegisterUnitEvent(t, GetTriggerUnit(), EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function ND3))
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1IE', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1IF', false)
    call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()), 'A1IG', false)
    set t = null
endfunction

function NH3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A1IN' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A1IN') == 1 then
        call NG3()
    endif
    return false
endfunction

function B51 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function NH3))
    set t = null
endfunction

function NZ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local integer NV3 = LoadInteger(hashTable, DMI, 422)
    local integer NW3 = LoadInteger(hashTable, DMI, 423)
    local integer TU2 = LoadInteger(hashTable, DMI, 424)
    if GetTriggerEventId() == EVENT_UNIT_DEATH then
        if LoadBoolean(hashTable, DMI, 276) == false and GetTriggerUnit() == GCI then
            call SaveBoolean(hashTable, DMI, 276, true)
            call SetHeroAgi(GCI, GetHeroAgi(GCI, false) - NV3 - NW3 - TU2, true)
        elseif LoadBoolean(hashTable, DMI, 277) == false and GetTriggerUnit() == GDI then
            call SaveBoolean(hashTable, DMI, 277, true)
            call SetHeroAgi(GDI, GetHeroAgi(GDI, false) + NV3, true)
            call SetHeroStr(GDI, GetHeroStr(GDI, false) + NW3, true)
            call SetHeroInt(GDI, GetHeroInt(GDI, false) + TU2, true)
        endif
    else 
        if LoadBoolean(hashTable, DMI, 276) == false then
            call SaveBoolean(hashTable, DMI, 276, true)
            call SetHeroAgi(GCI, GetHeroAgi(GCI, false) - NV3 - NW3 - TU2, true)
        endif
        if LoadBoolean(hashTable, DMI, 277) == false then
            call SaveBoolean(hashTable, DMI, 277, true)
            call SetHeroAgi(GDI, GetHeroAgi(GDI, false) + NV3, true)
            call SetHeroStr(GDI, GetHeroStr(GDI, false) + NW3, true)
            call SetHeroInt(GDI, GetHeroInt(GDI, false) + TU2, true)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function NX3 takes unit GCI, unit GDI returns nothing
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1HR')
    local integer G8O = EII(GDI)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer NV3
    local integer NW3
    local integer TU2
    if G8O == 2 then
        set NV3 = IMinBJ(GetHeroAgi(GDI, false) - 1, 2)
        set NW3 = IMinBJ(GetHeroStr(GDI, false) - 1, 1)
        set TU2 = IMinBJ(GetHeroInt(GDI, false) - 1, 1)
    elseif G8O == 3 then
        set NV3 = IMinBJ(GetHeroAgi(GDI, false) - 1, 1)
        set NW3 = IMinBJ(GetHeroStr(GDI, false) - 1, 2)
        set TU2 = IMinBJ(GetHeroInt(GDI, false) - 1, 1)
    elseif G8O == 1 then
        set NV3 = IMinBJ(GetHeroAgi(GDI, false) - 1, 1)
        set NW3 = IMinBJ(GetHeroStr(GDI, false) - 1, 1)
        set TU2 = IMinBJ(GetHeroInt(GDI, false) - 1, 2)
    endif
    call SetHeroAgi(GCI, GetHeroAgi(GCI, false) + NV3 + TU2 + NW3, true)
    call SetHeroAgi(GDI, GetHeroAgi(GDI, false) - NV3, true)
    call SetHeroStr(GDI, GetHeroStr(GDI, false) - NW3, true)
    call SetHeroInt(GDI, GetHeroInt(GDI, false) - TU2, true)
    call SaveInteger(hashTable, DMI, 422, NV3)
    call SaveInteger(hashTable, DMI, 424, TU2)
    call SaveInteger(hashTable, DMI, 423, NW3)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveBoolean(hashTable, DMI, 276, false)
    call SaveBoolean(hashTable, DMI, 277, false)
    call TriggerRegisterTimerEvent(t, 15*FVI, false)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function NZ3))
    set t = null
endfunction

function NY3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    if GetTriggerEventId() != EVENT_UNIT_DEATH then
        call NX3(GCI, GDI)
    endif
    call FlushChildHashtable(hashTable, DMI)
    call abandonTrigger(t)
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function NJ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer GHI = LoadInteger(hashTable, DMI, 30)
    local unit GDI = D9I(GHI)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_DAMAGED then
        if GetEventDamageSource() == GCI then
            call DisableTrigger(t)
            call D8I(GHI)
            call FlushChildHashtable(hashTable, DMI)
            call abandonTrigger(t)
            set t = CreateTrigger()
            set DMI = GetHandleId(t)
            call TriggerRegisterTimerEvent(t, 0.01, false)
            call TriggerAddCondition(t, Condition(function NY3))
            call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_DEATH)
            call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
            call SaveUnitHandle(hashTable, DMI, 2, GCI)
            call SaveUnitHandle(hashTable, DMI, 17, GDI)
        endif
    else 
        call D8I(GHI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function NK3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    local unit GDI = GetTriggerUnit()
    local unit GCI = GetAttacker()
    local integer DMI = GetHandleId(t)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DAMAGED)
    call TriggerRegisterTimerEvent(t, 1, false)
    call TriggerAddCondition(t, Condition(function NJ3))
    call SaveInteger(hashTable, DMI, 30, DBI(GDI))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GDI = null
    set GCI = null
    set t = null
endfunction

function NL3 takes nothing returns nothing
    local unit GCI = GetAttacker()
    if (LoadInteger(hashTable, GetHandleId(GCI), 4274) == 1) == false then
        call DUI(GCI, 4274, 0.45 - GetUnitAbilityLevel(GetAttacker(), 'A1HR')*0.05)
        call NK3()
    endif
endfunction

function NM3 takes nothing returns boolean 
    if GetUnitAbilityLevel(GetAttacker(), 'A1HR') > 0 and IsUnitType(GetTriggerUnit(), UNIT_TYPE_HERO) == true and IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == false and GetAttacker() == LoadUnitHandle(hashTable, GetHandleId(GetTriggeringTrigger()), 14) and GetUnitTypeId(GetTriggerUnit()) != 'n00L' and IsUnitEnemy(GetTriggerUnit(), GetOwningPlayer(GetAttacker())) then
        call NL3()
    endif
    return false
endfunction

function NN3 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function NM3))
    call SaveUnitHandle(hashTable, GetHandleId(t), 14, GetTriggerUnit())
    set t = null
endfunction

function NS3 takes nothing returns boolean 
    if GetLearnedSkill() == 'A1HR' and IsUnitIllusion(GetTriggerUnit()) == false and GetUnitAbilityLevel(GetTriggerUnit(), 'A1HR') == 1 then
        call NN3()
    endif
    return false
endfunction

function B31 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_SKILL)
    call TriggerAddCondition(t, Condition(function NS3))
    set t = null
endfunction

function NT3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit YVI = LoadUnitHandle(hashTable, DMI, 19)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    if GetTriggerEvalCount(t) > 5.5/0.03 then
        call KillUnit(YVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call SetUnitX(YVI, GetUnitX(GCI))
        call SetUnitY(YVI, GetUnitY(GCI))
    endif
    set t = null
    set GCI = null
    set YVI = null
    return false
endfunction

function NR3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1IN')
    local real d = 5.5
    local unit YVI = CreateUnit(GetOwningPlayer(GCI), 'h0B1', GetUnitX(GCI), GetUnitY(GCI), 0)
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    call unitAddTimedAbility(GCI, 'A1HW', 1, d)
    call unitAddTimedAbility(GCI, 'A1HX', 1, d)
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerAddCondition(t, Condition(function NT3))
    call SaveUnitHandle(hashTable, DMI, 19, YVI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    set GCI = null
endfunction

function NP3 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1IN' then
        call NR3()
    endif
    return false
endfunction

function B41 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NP3))
    set t = null
endfunction

function NQ3 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = GetTriggerEvalCount(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local unit GDI = LoadUnitHandle(hashTable, DMI, 17)
    local lightning ZVI = LoadLightningHandle(hashTable, DMI, 196)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local real HKI = LoadReal(hashTable, DMI, 189)
    local real HLI = LoadReal(hashTable, DMI, 190)
    local real HMI = GetUnitX(GDI)
    local real HNI = GetUnitY(GDI)
    local real VGI
    local real VHI
    local real CI2 = LoadReal(hashTable, DMI, 23)
    local real C12 = LoadReal(hashTable, DMI, 24)
    local real LPO
    local real HJI = getDistance(CI2, C12, HMI, HNI)
    call SaveReal(hashTable, DMI, 23, (HMI*1.0))
    call SaveReal(hashTable, DMI, 24, (HNI*1.0))
    if HJI > 100 or DHI > (3.5/.03) or GOI(GDI) == true then
        call DestroyLightning(ZVI)
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call MoveLightning(ZVI, true, HKI, HLI, HMI, HNI)
        if getDistance(HKI, HLI, HMI, HNI) > 325 then
            set LPO = Atan2(HNI - HLI, HMI - HKI)
            set VGI = HKI + 325*Cos(LPO)
            set VHI = HLI + 325*Sin(LPO)
            call SetUnitX(GDI, VGI)
            call SetUnitY(GDI, VHI)
        endif
    endif
    set t = null
    set GCI = null
    set GDI = null
    set ZVI = null
    return false
endfunction

function NU3 takes unit GCI, unit GDI, integer FVI returns nothing
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local lightning ZVI = AddLightning("PONC", true, GetUnitX(GCI), GetUnitY(GCI), GetUnitX(GDI), GetUnitY(GDI))
    call SetLightningColor(ZVI, 1, 1, 1, 1)
    call SaveLightningHandle(hashTable, DMI, 196, ZVI)
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveUnitHandle(hashTable, DMI, 17, GDI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 189, (GetUnitX(GCI)*1.0))
    call SaveReal(hashTable, DMI, 190, (GetUnitY(GCI)*1.0))
    call SaveReal(hashTable, DMI, 23, (GetUnitX(GDI)*1.0))
    call SaveReal(hashTable, DMI, 24, (GetUnitY(GDI)*1.0))
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerRegisterUnitEvent(t, GDI, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function NQ3))
    call doDamage(GCI, GDI, 1, 25 + 25*FVI)
    call IssueTargetOrder(GCI, "attack", GDI)
    set t = null
    set ZVI = null
endfunction

function S03 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local integer DHI = GetTriggerEvalCount(t)
    local integer FVI = LoadInteger(hashTable, DMI, 5)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    local real LPO = LoadReal(hashTable, DMI, 13)
    local real R5O = LoadReal(hashTable, DMI, 189)
    local real R6O = LoadReal(hashTable, DMI, 190)
    local real HMI = LoadReal(hashTable, DMI, 47)
    local real HNI = LoadReal(hashTable, DMI, 48)
    local real VGI = R5O + (30*(20 + FVI*2)/30)*DHI*Cos(LPO*bj_DEGTORAD)
    local real VHI = R6O + (30*(20 + FVI*2)/30)*DHI*Sin(LPO*bj_DEGTORAD)
    local real DT2 = SquareRoot((VGI - HMI)*(VGI - HMI) + (VHI - HNI)*(VHI - HNI))
    local real DR2 = 300 + 100*FVI
    local real DP2 = 175
    local real DQ2 = (1 - DT2/DR2)*DP2*2
    local group g = allocGroup()
    local unit GDI
    if DHI == 1 then
        call SetUnitAnimationByIndex(GCI, 5)
        call SetUnitTimeScale(GCI, 1.5)
    endif
    if DQ2 > DP2 then
        call SetUnitAnimationByIndex(GCI, 5)
        set DQ2 = DP2*2 - DQ2
    endif
    call SetUnitFlyHeight(GCI, HGI(DQ2, 0), 0)
    call SetUnitX(GCI, constrainX(VGI))
    call SetUnitY(GCI, constrainY(VHI))
    call SetUnitFacing(GCI, LPO)
    set myUnit = GCI
    call GroupEnumUnitsInRange(g, VGI, VHI, 110, Condition(function filterUnitInjurable))
    set GDI = FirstOfGroup(g)
    call releaseGroup(g)
    if DT2 < 30 or GDI != null or GetTriggerEvalCount(t) > 75 then
        call SetUnitFlyHeight(GCI, 0, 0)
        call SetUnitFacing(GCI, LPO)
        call SetUnitTimeScale(GCI, 1)
        call SetUnitAnimation(GCI, "stand")
        call SetUnitPathing(GCI, true)
        call UnitRemoveAbility(GCI, 'A1J6')
        call killDestructables(GetUnitX(GCI), GetUnitY(GCI), 100)
        if GDI != null and GOI(GDI) == false then
            call NU3(GCI, GDI, FVI)
        endif
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    endif
    set t = null
    set GCI = null
    set GDI = null
    return false
endfunction

function SI3 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A1J7')
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local real HJI = 300 + 100*FVI
    local real LPO = GetUnitFacing(GCI)
    local real HKI = GetUnitX(GCI)
    local real HLI = GetUnitY(GCI)
    local real HMI = constrainX(HKI + HJI*Cos(LPO*bj_DEGTORAD))
    local real HNI = constrainY(HLI + HJI*Sin(LPO*bj_DEGTORAD))
    call UnitAddAbility(GCI, 'Amrf')
    call UnitRemoveAbility(GCI, 'Amrf')
    call SetUnitPathing(GCI, false)
    call UnitAddAbility(GCI, 'A1J6')
    call TriggerRegisterTimerEvent(t, 0.03, true)
    call TriggerAddCondition(t, Condition(function S03))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    call SaveInteger(hashTable, DMI, 5, FVI)
    call SaveReal(hashTable, DMI, 13, (LPO*1.0))
    call SaveReal(hashTable, DMI, 189, (HKI*1.0))
    call SaveReal(hashTable, DMI, 190, (HLI*1.0))
    call SaveReal(hashTable, DMI, 47, (HMI*1.0))
    call SaveReal(hashTable, DMI, 48, (HNI*1.0))
    set GCI = null
    set t = null
endfunction

function S13 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A1J7' then
        call SI3()
    endif
    return false
endfunction

function B71 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function S13))
    set t = null
endfunction

function SO3 takes nothing returns nothing
    local integer DMI = GetHandleId(GetTriggeringTrigger())
    local unit GCI = myUnit
    local unit GDI = GK
    local real GFI = LoadReal(hashTable, DMI, 20)
    call doDamage(GCI, GDI, 1, GFI)
    set GCI = null
    set GDI = null
endfunction

function S23 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local unit GDI = GetEnumUnit()
    local trigger t = VZI(GCI, GDI, 'h0BP', "SO3", 700)
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A04A')
    local real GFI
    if FVI == 1 then
        set GFI = 85
    elseif FVI == 2 then
        set GFI = 165
    elseif FVI == 3 then
        set GFI = 225
    elseif FVI == 4 then
        set GFI = 300
    endif
    call SaveReal(hashTable, DMI, 20, (GFI*1.0))
    set GCI = null
    set GDI = null
    set t = null
endfunction

function S33 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local group g = allocGroup()
    local integer FVI = GetUnitAbilityLevel(GCI, 'A04A')
    call GroupEnumUnitsInRange(g, GetUnitX(GCI), GetUnitY(GCI), 25 + 375 + 25*FVI, Condition(function XLI))
    call ForGroup(g, function S23)
    call releaseGroup(g)
    call PlaySoundOnUnitBJ(YG, 100, GCI)
    set GCI = null
endfunction

function S43 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A04A' then
        call S33()
    endif
    return false
endfunction

function B81 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function S43))
    set t = null
endfunction

function S53 takes nothing returns boolean 
    local trigger t = GetTriggeringTrigger()
    local integer DMI = GetHandleId(t)
    local unit GCI = LoadUnitHandle(hashTable, DMI, 2)
    if GetTriggerEventId() == EVENT_UNIT_SPELL_ENDCAST then
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
    else 
        call FlushChildHashtable(hashTable, DMI)
        call abandonTrigger(t)
        call GSI(GCI)
    endif
    set t = null
    set GCI = null
    return false
endfunction

function S63 takes nothing returns nothing
    local unit GCI = GetTriggerUnit()
    local trigger t = CreateTrigger()
    local integer DMI = GetHandleId(t)
    local integer FVI = GetUnitAbilityLevel(GCI, 'A00P')
    call TriggerRegisterTimerEvent(t, 1 + 1.75 + 0.75*FVI, false)
    call TriggerRegisterUnitEvent(t, GCI, EVENT_UNIT_SPELL_ENDCAST)
    call TriggerAddCondition(t, Condition(function S53))
    call SaveUnitHandle(hashTable, DMI, 2, GCI)
    set GCI = null
    set t = null
endfunction

function S73 takes nothing returns boolean 
    if GetSpellAbilityId() == 'A00P' then
        call S63()
    endif
    return false
endfunction

function B91 takes nothing returns nothing
    local trigger t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function S73))
    set t = null
endfunction

function InitCustomTeams takes nothing returns nothing
    call SetPlayerTeam(Player(1), 0)
    call SetPlayerTeam(Player(2), 0)
    call SetPlayerTeam(Player(3), 0)
    call SetPlayerTeam(Player(4), 0)
    call SetPlayerTeam(Player(5), 0)
    call SetPlayerTeam(Player(7), 1)
    call SetPlayerTeam(Player(8), 1)
    call SetPlayerTeam(Player(9), 1)
    call SetPlayerTeam(Player(10), 1)
    call SetPlayerTeam(Player(11), 1)
endfunction

function main takes nothing returns nothing
    local weathereffect we
    local integer i
    local player p
    local unit u
    local integer unitID
    local trigger t
    local real life
    local integer CDI
    local integer CEI
    local version v
    local integer C4I
    local real M1I
    local real MOI
    local real M2I
    local real M3I
    local real M4I
    local real M5I
    local real M6I
    local real M7I
    local real M8I
    local real M9I
    local real MAI
    local real MBI
    local real MCI
    local real MDI
    local real MEI
    local real MFI
    local real MGI
    local real MHI
    local real MZI
    local real MVI
    local integer MWI
    local player EYI
    local real N3I
    local real N4I
    local real N5I
    local real N6I
    local real N7I
    local real N8I
    local real N9I
    local real NAI
    local real NBI
    local real NCI
    local real NDI
    local real NEI
    local real NFI
    local real NGI
    local real NHI
    local real NZI
    local real NVI
    local real NWI
    local location r
    local region LV1
    local real d
    local integer DMI
    call SetCameraBounds(-7552.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -7936.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 7552.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 7424.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -7552.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 7424.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 7552.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -7936.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    call SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl", "Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")
    call SetWaterBaseColor(0, 0, 255, 255)
    call NewSoundEnvironment("Default")
    call SetAmbientDaySound("FelwoodDay")
    call SetAmbientNightSound("FelwoodNight")
    call SetMapMusic("Music", true, 0)
    set IC = CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(IC, "Avatar")
    call SetSoundDuration(IC, 3199)
    set OC = CreateSound("Abilities\\Spells\\NightElf\\Blink\\BlinkArrival1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(OC, "BlinkTarget")
    call SetSoundDuration(OC, 1466)
    call SetSoundPitch(OC, 1.6)
    set AC = CreateSound("Abilities\\Spells\\Human\\Blizzard\\BlizzardLoop1.wav", true, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(AC, "BlizzardLoop")
    call SetSoundDuration(AC, 4000)
    set BC = CreateSound("Buildings\\Undead\\TempleOfTheDamned\\TempleOfTheDamnedWhat.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(BC, "TempleOfTheDamnedWhat")
    call SetSoundDuration(BC, 3518)
    call SetSoundDistanceCutoff(BC, 2000.0)
    set CC = CreateSound("Abilities\\Spells\\Human\\Flare\\FlareTarget2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(CC, "Flare2")
    call SetSoundDuration(CC, 1344)
    call SetSoundDistanceCutoff(CC, 2000.0)
    set sndDominating = CreateSound("Sounds\\Dominating.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(sndDominating, 1802)
    call SetSoundChannel(sndDominating, 0)
    call SetSoundVolume(sndDominating, 127)
    call SetSoundPitch(sndDominating, 1.0)
    set sndDoubleKill = CreateSound("Sounds\\Double_Kill.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(sndDoubleKill, 2012)
    call SetSoundChannel(sndDoubleKill, 0)
    call SetSoundVolume(sndDoubleKill, 127)
    call SetSoundPitch(sndDoubleKill, 1.0)
    set sndFirstBlood = CreateSound("Sounds\\firstblood.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(sndFirstBlood, 1567)
    call SetSoundChannel(sndFirstBlood, 0)
    call SetSoundVolume(sndFirstBlood, 127)
    call SetSoundPitch(sndFirstBlood, 1.0)
    set GC = CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(GC, "GoblinSapperPissed")
    call SetSoundDuration(GC, 1515)
    call SetSoundChannel(GC, 0)
    set HC = CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(HC, "GoblinSapperYesAttack")
    call SetSoundDuration(HC, 813)
    call SetSoundChannel(HC, 0)
    set ZC = CreateSound("Sounds\\GodLike.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(ZC, 1828)
    call SetSoundChannel(ZC, 0)
    call SetSoundVolume(ZC, 127)
    call SetSoundPitch(ZC, 1.0)
    set VC = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(VC, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(VC, 1948)
    set WC = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(WC, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(WC, 1733)
    set XC = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(XC, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(XC, 3570)
    set YC = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(YC, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(YC, 3576)
    set JC = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(JC, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(JC, 3558)
    set KC = CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(KC, "HEROGoblinALCHEMISTPissed")
    call SetSoundDuration(KC, 10867)
    set LC = CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(LC, "HeroBladeMasterPissed")
    call SetSoundDuration(LC, 2235)
    set MC = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(MC, "HeroDreadLordPissed")
    call SetSoundDuration(MC, 2921)
    set NC = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(NC, "HeroDreadLordPissed")
    call SetSoundDuration(NC, 7125)
    set TC = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(TC, "HeroDreadLordPissed")
    call SetSoundDuration(TC, 3998)
    set RC = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(RC, "HeroDreadLordPissed")
    call SetSoundDuration(RC, 1727)
    set PC = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(PC, "HeroDreadLordPissed")
    call SetSoundDuration(PC, 8893)
    set QC = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(QC, "HeroDreadLordPissed")
    call SetSoundDuration(QC, 6066)
    set UC = CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(UC, "HeroDreadLordPissed")
    call SetSoundDuration(UC, 1277)
    set OD = CreateSound("Sounds\\HolyShit.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(OD, 2325)
    call SetSoundChannel(OD, 0)
    call SetSoundVolume(OD, 127)
    call SetSoundPitch(OD, 1.0)
    set ED = CreateSound("Buildings\\NightElf\\MoonWell\\MoonWellWhat1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(ED, "MoonWellWhat")
    call SetSoundDuration(ED, 2972)
    call SetSoundDistances(ED, 600.0, 10000.0)
    call SetSoundDistanceCutoff(ED, 2000.0)
    set FD = CreateSound("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaos.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(FD, "MarkOfChaos")
    call SetSoundDuration(FD, 4000)
    set GD = CreateSound("Sounds\\Killing_Spree.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(GD, 2377)
    call SetSoundChannel(GD, 0)
    call SetSoundVolume(GD, 127)
    call SetSoundPitch(GD, 1.0)
    set HD = CreateSound("Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(HD, "DeathNightElfBuildingCancel")
    call SetSoundDuration(HD, 3675)
    set ZD = CreateSound("Sounds\\MegaKill.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(ZD, 2612)
    call SetSoundChannel(ZD, 0)
    call SetSoundVolume(ZD, 127)
    call SetSoundPitch(ZD, 1.0)
    set VD = CreateSound("Abilities\\Spells\\NightElf\\ShadowMeld\\ShadowMeld1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(VD, "ShadowMeld")
    call SetSoundDuration(VD, 941)
    set WD = CreateSound("Sounds\\MonsterKill.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(WD, 3344)
    call SetSoundChannel(WD, 0)
    call SetSoundVolume(WD, 127)
    call SetSoundPitch(WD, 1.0)
    set KD = CreateSound("Units\\Creeps\\Ogre\\OgrePissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(KD, "OgrePissed")
    call SetSoundDuration(KD, 3309)
    set OE = CreateSound("Sounds\\Ownage.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(OE, 2586)
    call SetSoundChannel(OE, 0)
    call SetSoundVolume(OE, 127)
    call SetSoundPitch(OE, 1.0)
    set AE = CreateSound("Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(AE, "PandarenBrewmasterPissed")
    call SetSoundDuration(AE, 2316)
    set BE = CreateSound("Abilities\\Spells\\Human\\Polymorph\\PolymorphDone.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(BE, "PolymorphDone")
    call SetSoundDuration(BE, 1498)
    set CE = CreateSound("Buildings\\Naga\\TempleofTides\\TempleOfTidesWhat1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(CE, "TempleOfTidesWhat")
    call SetSoundDuration(CE, 3483)
    call SetSoundDistanceCutoff(CE, 2000.0)
    set DE = CreateSound("Buildings\\Undead\\TombOfRelics\\TombOfRelicsWhat1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(DE, "TombOfRelicsWhat")
    call SetSoundDuration(DE, 3065)
    call SetSoundDistanceCutoff(DE, 2000.0)
    set EE = CreateSound("Abilities\\Spells\\Orc\\Disenchant\\Disenchant.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(EE, "Disenchant")
    call SetSoundDuration(EE, 2043)
    set FE = CreateSound("Sound\\Interface\\Rescue.wav", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(FE, "Rescue")
    call SetSoundDuration(FE, 3796)
    set GE = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(GE, "RiflemanPissed")
    call SetSoundDuration(GE, 3158)
    set HE = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(HE, "RiflemanPissed")
    call SetSoundDuration(HE, 1306)
    set ZE = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed3.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(ZE, "RiflemanPissed")
    call SetSoundDuration(ZE, 2624)
    set VE = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed4.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(VE, "RiflemanPissed")
    call SetSoundDuration(VE, 3785)
    set WE = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed5.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(WE, "RiflemanPissed")
    call SetSoundDuration(WE, 4168)
    set XE = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed6.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(XE, "RiflemanPissed")
    call SetSoundDuration(XE, 2810)
    set YE = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed7.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(YE, "RiflemanPissed")
    call SetSoundDuration(YE, 4609)
    set JE = CreateSound("Units\\Human\\Rifleman\\RiflemanPissed8.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(JE, "RiflemanPissed")
    call SetSoundDuration(JE, 5480)
    set KE = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(KE, "HeroShadowHunterPissed")
    call SetSoundDuration(KE, 2293)
    set LE = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(LE, "HeroShadowHunterPissed")
    call SetSoundDuration(LE, 1789)
    set ME = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(ME, "HeroShadowHunterPissed")
    call SetSoundDuration(ME, 2301)
    set NE = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(NE, "HeroShadowHunterPissed")
    call SetSoundDuration(NE, 2752)
    set SE = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(SE, "HeroShadowHunterPissed")
    call SetSoundDuration(SE, 3129)
    set TE = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(TE, "HeroShadowHunterPissed")
    call SetSoundDuration(TE, 1666)
    set RE = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(RE, "HeroShadowHunterPissed")
    call SetSoundDuration(RE, 1187)
    set PE = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(PE, "HeroShadowHunterPissed")
    call SetSoundDuration(PE, 2148)
    set QE = CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav", false, true, true, 10, 10, "HeroAcksEAX")
    call SetSoundParamsFromLabel(QE, "HeroShadowHunterPissed")
    call SetSoundDuration(QE, 2026)
    set UE = CreateSound("Abilities\\Spells\\Undead\\Sleep\\SleepBirth1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(UE, "Sleep")
    call SetSoundDuration(UE, 3203)
    set IF = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(IF, "SpellBreakerPissed")
    call SetSoundDuration(IF, 3901)
    set OF = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(OF, "SpellBreakerPissed")
    call SetSoundDuration(OF, 3367)
    set AF = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(AF, "SpellBreakerPissed")
    call SetSoundDuration(AF, 3651)
    set BF = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(BF, "SpellBreakerPissed")
    call SetSoundDuration(BF, 2490)
    set CF = CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(CF, "SpellBreakerPissed")
    call SetSoundDuration(CF, 14402)
    set DF = CreateSound("Abilities\\Spells\\Undead\\DevourMagic\\DevourMagic.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(DF, "DevourMagicLaunch")
    call SetSoundDuration(DF, 1225)
    set EF = CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(EF, "BlackArrowHit")
    call SetSoundDuration(EF, 1776)
    call SetSoundVolume(EF, 50)
    set FF = CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(FF, "HornOfCenariusSound")
    call SetSoundDuration(FF, 12121)
    call SetSoundVolume(FF, 115)
    set GF = CreateSound("Sounds\\triple_kill.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(GF, 1907)
    call SetSoundChannel(GF, 0)
    call SetSoundVolume(GF, 127)
    call SetSoundPitch(GF, 1.0)
    set WF = CreateSound("Sounds\\Unstoppable.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(WF, 2038)
    call SetSoundChannel(WF, 0)
    call SetSoundVolume(WF, 127)
    call SetSoundPitch(WF, 1.0)
    set XF = CreateSound("Abilities\\Spells\\Human\\DivineShield\\PaladinDivineShieldDeath1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(XF, "DivineShieldDeath")
    call SetSoundDuration(XF, 1043)
    call SetSoundDistanceCutoff(XF, 1500.0)
    set YF = CreateSound("Abilities\\Spells\\Items\\AIso\\SoulGem.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(YF, "SoulGem")
    call SetSoundDuration(YF, 4474)
    set JF = CreateSound("Sounds\\WhickedSick.mp3", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundDuration(JF, 2612)
    call SetSoundChannel(JF, 0)
    call SetSoundVolume(JF, 127)
    call SetSoundPitch(JF, 1.0)
    set KF = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(KF, "WitchDoctorPissed")
    call SetSoundDuration(KF, 1282)
    set LF = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(LF, "WitchDoctorPissed")
    call SetSoundDuration(LF, 1248)
    set MF = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(MF, "WitchDoctorPissed")
    call SetSoundDuration(MF, 1524)
    set NF = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(NF, "WitchDoctorPissed")
    call SetSoundDuration(NF, 1200)
    set SF = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(SF, "WitchDoctorPissed")
    call SetSoundDuration(SF, 2762)
    set TF = CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(TF, "WitchDoctorPissed")
    call SetSoundDuration(TF, 2849)
    set RF = CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(RF, "GoblinSapperYesAttack")
    call SetSoundDuration(RF, 1091)
    call SetSoundChannel(RF, 0)
    set PF = CreateSound("Abilities\\Spells\\NightElf\\shadowstrike\\ShadowStrikeBirth1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(PF, "ShadowStrikeBirth")
    call SetSoundDuration(PF, 2194)
    call SetSoundPitch(PF, 1.2)
    set QF = CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav", false, true, true, 10, 10, "MissilesEAX")
    call SetSoundParamsFromLabel(QF, "BlackArrowHit")
    call SetSoundDuration(QF, 1776)
    call SetSoundPitch(QF, 1.6)
    set UF = CreateSound("Abilities\\Spells\\NightElf\\CorrosiveBreath\\CorrosiveBreathMissileLaunch1.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(UF, "CorrosiveBreathMissileLaunch")
    call SetSoundDuration(UF, 1301)
    call SetSoundPitch(UF, 1.2)
    set IG = CreateSound("Sound\\Interface\\Warning\\NightElf\\SentinelAllyHeroDies1.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(IG, "AllyHeroDiesNightElf")
    call SetSoundDuration(IG, 1963)
    call SetSoundVolume(IG, 127)
    set OG = CreateSound("Sound\\Interface\\Warning\\Undead\\NecromancerAllyHeroDies1.wav", false, false, false, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(OG, "AllyHeroDiesUndead")
    call SetSoundDuration(OG, 1933)
    call SetSoundVolume(OG, 127)
    set AG = CreateSound("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav", false, false, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(AG, "ReviveHuman")
    call SetSoundDuration(AG, 3196)
    call SetSoundChannel(AG, 8)
    set BG = CreateSound("Sound\\Interface\\SecretFound.wav", false, false, false, 10, 10, "")
    call SetSoundParamsFromLabel(BG, "SecretFound")
    call SetSoundDuration(BG, 2525)
    set CG = CreateSound("Sounds\\UltraKill.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(CG, 2484)
    call SetSoundChannel(CG, 0)
    call SetSoundVolume(CG, 127)
    call SetSoundPitch(CG, 1.0)
    set DG = CreateSound("Sounds\\Rampage.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(DG, 1872)
    call SetSoundChannel(DG, 0)
    call SetSoundVolume(DG, 127)
    call SetSoundPitch(DG, 1.0)
    set EG = CreateSound("Buildings\\NightElf\\AltarOfElders\\AltarOfEldersWhat1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(EG, "AltarOfEldersWhat")
    call SetSoundDuration(EG, 3496)
    set FG = CreateSound("Units\\Orc\\AncestralGuardian\\AncestralGuardianAttack1.wav", false, true, true, 10, 10, "CombatSoundsEAX")
    call SetSoundParamsFromLabel(FG, "AncestralGuardianAttack1")
    call SetSoundDuration(FG, 1181)
    set GG = CreateSound("Abilities\\Spells\\Human\\Feedback\\Feedback.wav", false, true, true, 10, 10, "SpellsEAX")
    call SetSoundParamsFromLabel(GG, "Feedback")
    call SetSoundDuration(GG, 1222)
    set HG = CreateSound("war3mapImported\\SotS2.mp3", false, false, false, 10, 10, "")
    call SetSoundDuration(HG, 6824)
    call SetSoundChannel(HG, 0)
    call SetSoundVolume(HG, 127)
    call SetSoundPitch(HG, 1.0)
    set ZG = CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(ZG, "AbominationPissed")
    call SetSoundDuration(ZG, 1735)
    set VG = CreateSound("Units\\Undead\\Abomination\\AbominationDeath1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(VG, "AbominationDeath")
    call SetSoundDuration(VG, 2455)
    set WG = CreateSound("Sound\\Units\\Death\\ArtilleryCorpseExplodeDeath1.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(WG, "ArtilleryExplodeDeath")
    call SetSoundDuration(WG, 1486)
    set XG = CreateSound("Units\\Undead\\CryptFiend\\CryptFiendPissed2.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(XG, "CryptFiendPissed")
    call SetSoundDuration(XG, 3541)
    set YG = CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav", false, true, true, 10, 10, "DefaultEAXON")
    call SetSoundParamsFromLabel(YG, "BansheeDeath")
    call SetSoundDuration(YG, 2380)
    set N3 = Rect(6176.0, 3136.0, 6400.0, 3392.0)
    set S3 = Rect(3616.0, 3584.0, 3872.0, 3872.0)
    set T3 = Rect(2304.0, 5280.0, 2752.0, 5728.0)
    set R3 = Rect(6176.0, 5952.0, 6624.0, 6240.0)
    set P3 = Rect(-4224.0, -6848.0, -3968.0, -6592.0)
    set Q3 = Rect(-6304.0, -4384.0, -6080.0, -4224.0)
    set U3 = Rect(-4928.0, -5760.0, -4736.0, -5536.0)
    set I4 = Rect(6048.0, 3424.0, 6304.0, 3776.0)
    set O4 = Rect(4128.0, 3776.0, 4352.0, 4032.0)
    set A4 = Rect(2752.0, 5408.0, 3040.0, 5632.0)
    set B4 = Rect(-7040.0, -6912.0, -6688.0, -6656.0)
    set C4 = Rect(-3648.0, -6880.0, -3424.0, -6688.0)
    set D4 = Rect(-6336.0, -4224.0, -5984.0, -3904.0)
    set E4 = Rect(-4896.0, -5504.0, -4608.0, -5184.0)
    set F4 = Rect(2912.0, -2944.0, 3104.0, -2720.0)
    set G4 = Rect(5696.0, 5504.0, 7296.0, 7392.0)
    set H4 = Rect(-7680.0, -8032.0, -6176.0, -6240.0)
    set Z4 = Rect(-2464.0, 1536.0, -2240.0, 1760.0)
    set V4 = Rect(4288.0, -2688.0, 4544.0, -2400.0)
    set W4 = Rect(-3328.0, -416.0, -3104.0, -96.0)
    set X4 = Rect(1440.0, -4096.0, 1728.0, -3872.0)
    set Y4 = Rect(-4576.0, 3328.0, -4448.0, 3488.0)
    set J4 = Rect(-3264.0, 4192.0, -2912.0, 4320.0)
    set K4 = Rect(2848.0, -5088.0, 3072.0, -4928.0)
    set L4 = Rect(-1824.0, 2240.0, -1472.0, 2464.0)
    set M4 = Rect(3008.0, -3776.0, 3136.0, -3648.0)
    set N4 = Rect(1184.0, 2976.0, 1280.0, 3104.0)
    set S4 = Rect(-512.0, -3648.0, -320.0, -3520.0)
    set T4 = Rect(-7104.0, 6656.0, -6848.0, 6912.0)
    set R4 = Rect(-7104.0, 6656.0, -6880.0, 6880.0)
    set P4 = Rect(-5952.0, -6432.0, -5248.0, -5728.0)
    set Q4 = Rect(5088.0, 7488.0, 5792.0, 8192.0)
    set U4 = Rect(2304.0, -672.0, 2592.0, -384.0)
    set I5 = Rect(3872.0, -3008.0, 4928.0, -1952.0)
    set O5 = Rect(-3552.0, -768.0, -2528.0, 320.0)
    set A5 = Rect(1056.0, -5216.0, 2368.0, -3744.0)
    set B5 = Rect(-5120.0, 3008.0, -3648.0, 4320.0)
    set C5 = Rect(-3456.0, 3808.0, -2656.0, 4864.0)
    set D5 = Rect(2272.0, -6080.0, 3776.0, -4928.0)
    set E5 = Rect(-1888.0, 2208.0, -992.0, 3040.0)
    set F5 = Rect(416.0, 2624.0, 1632.0, 3648.0)
    set G5 = Rect(2592.0, -4800.0, 3744.0, -3328.0)
    set H5 = Rect(-1024.0, -3808.0, 192.0, -2752.0)
    set Z5 = Rect(-7936.0, -7776.0, -5920.0, -5760.0)
    set V5 = Rect(5504.0, 5184.0, 7744.0, 7136.0)
    set W5 = Rect(-800.0, 3072.0, 64.0, 4032.0)
    set X5 = Rect(-384.0, 3392.0, -192.0, 3520.0)
    set Y5 = Rect(-1728.0, -5056.0, -768.0, -3840.0)
    set J5 = Rect(-1152.0, -4704.0, -960.0, -4480.0)
    set K5 = Rect(-480.0, -800.0, -256.0, -512.0)
    set L5 = Rect(2112.0, -1280.0, 3072.0, -288.0)
    set M5 = Rect(7264.0, -5504.0, 7488.0, -5280.0)
    set N5 = Rect(-8160.0, 6848.0, -7968.0, 7040.0)
    set S5 = Rect(2112.0, -736.0, 2720.0, -352.0)
    set T5 = Rect(2112.0, -960.0, 2720.0, -640.0)
    set R5 = Rect(2112.0, -1088.0, 2720.0, -864.0)
    set P5 = Rect(2656.0, -1120.0, 2784.0, -416.0)
    set Q5 = Rect(2752.0, -1248.0, 2880.0, -544.0)
    set U5 = Rect(2848.0, -1344.0, 2912.0, -640.0)
    set I6 = Rect(2912.0, -1408.0, 2976.0, -704.0)
    set O6 = Rect(2208.0, -1216.0, 2816.0, -992.0)
    set A6 = Rect(2464.0, -1472.0, 3200.0, -1152.0)
    set B6 = Rect(-8160.0, -8192.0, -3712.0, -4352.0)
    set C6 = Rect(-8192.0, -4960.0, -4640.0, -3552.0)
    set D6 = Rect(-4000.0, -7744.0, -3072.0, -5152.0)
    set E6 = Rect(2304.0, 4064.0, 8032.0, 7776.0)
    set F6 = Rect(4640.0, 1952.0, 8000.0, 4384.0)
    set G6 = Rect(3136.0, 2816.0, 5216.0, 4960.0)
    set H6 = Rect(-7968.0, 5216.0, -7456.0, 5920.0)
    set Z6 = Rect(-8064.0, 2880.0, -7648.0, 4512.0)
    set V6 = Rect(-3296.0, 3712.0, -2688.0, 3968.0)
    set W6 = Rect(-2400.0, 2016.0, -1952.0, 2624.0)
    set X6 = Rect(-2016.0, 1600.0, -1216.0, 2048.0)
    set Y6 = Rect(-2144.0, 2528.0, -1888.0, 2944.0)
    set J6 = Rect(-1280.0, 1728.0, -736.0, 2176.0)
    set K6 = Rect(-1696.0, -768.0, -1376.0, -448.0)
    set L6 = Rect(-576.0, 0.0, -352.0, 256.0)
    set M6 = Rect(3104.0, -2784.0, 3680.0, -2304.0)
    set N6 = Rect(3264.0, -3040.0, 3872.0, -2656.0)
    set S6 = Rect(4960.0, -3104.0, 5632.0, -2816.0)
    set T6 = Rect(4896.0, -3744.0, 5280.0, -3456.0)
    set R6 = Rect(7488.0, -3520.0, 8192.0, -2336.0)
    set P6 = Rect(6656.0, -3328.0, 7808.0, -2656.0)
    set Q6 = Rect(7104.0, -8192.0, 8192.0, -5920.0)
    set U6 = Rect(5952.0, -8192.0, 7200.0, -7776.0)
    set I7 = Rect(7168.0, -6240.0, 8128.0, -5184.0)
    set O7 = Rect(5824.0, -8032.0, 6400.0, -7776.0)
    set A7 = Rect(6976.0, -6560.0, 7488.0, -5920.0)
    set B7 = Rect(-5856.0, 2944.0, -5600.0, 3200.0)
    set C7 = Rect(5984.0, -7904.0, 6432.0, -7616.0)
    set D7 = Rect(-8128.0, -8192.0, 5536.0, -7744.0)
    set E7 = Rect(2368.0, -7904.0, 2688.0, -7584.0)
    set F7 = Rect(-1664.0, -7808.0, -1344.0, -7552.0)
    set G7 = Rect(-2944.0, -8192.0, -1664.0, -7680.0)
    set H7 = Rect(-4000.0, -8192.0, -3168.0, -7616.0)
    set Z7 = Rect(-5760.0, -8000.0, -5184.0, -7584.0)
    set V7 = Rect(-3296.0, 3744.0, -3104.0, 3872.0)
    set W7 = Rect(-8192.0, -8192.0, -6720.0, -7744.0)
    set X7 = Rect(-8192.0, -6432.0, -7456.0, -4928.0)
    set Y7 = Rect(-8192.0, -8128.0, -7904.0, 8160.0)
    set J7 = Rect(-7744.0, 4704.0, -7296.0, 5600.0)
    set K7 = Rect(-7680.0, 1984.0, -6560.0, 2816.0)
    set L7 = Rect(-7776.0, 1696.0, -6944.0, 2176.0)
    set M7 = Rect(-8032.0, -3040.0, -7680.0, -2720.0)
    set N7 = Rect(-7904.0, -2656.0, -7552.0, -2336.0)
    set S7 = Rect(-3936.0, -2720.0, -3584.0, -2400.0)
    set T7 = Rect(-3168.0, -1952.0, -2912.0, -1696.0)
    set R7 = Rect(-4128.0, -1632.0, -3776.0, -1152.0)
    set P7 = Rect(-4992.0, -1792.0, -3968.0, -1440.0)
    set Q7 = Rect(-5536.0, -1664.0, -4832.0, -1280.0)
    set U7 = Rect(-2304.0, 3872.0, -2048.0, 4096.0)
    set I8 = Rect(-5664.0, -1440.0, -5344.0, 0.0)
    set O8 = Rect(-5824.0, -1504.0, -5472.0, -544.0)
    set A8 = Rect(-5216.0, -1216.0, -4480.0, -384.0)
    set B8 = Rect(-5632.0, 448.0, -5152.0, 1856.0)
    set C8 = Rect(-5856.0, 1440.0, -5248.0, 2592.0)
    set D8 = Rect(-5408.0, 1888.0, -4928.0, 2368.0)
    set E8 = Rect(-5056.0, 1664.0, -4064.0, 2144.0)
    set F8 = Rect(-4320.0, 1344.0, -3808.0, 1952.0)
    set G8 = Rect(-4224.0, 1440.0, -3200.0, 2016.0)
    set H8 = Rect(-2112.0, 3424.0, -1856.0, 3744.0)
    set Z8 = Rect(-2400.0, 640.0, -2208.0, 896.0)
    set V8 = Rect(-3392.0, 640.0, -3200.0, 896.0)
    set W8 = Rect(-3744.0, -1024.0, -3232.0, 384.0)
    set X8 = Rect(-2016.0, -5504.0, -1664.0, -4768.0)
    set Y8 = Rect(-1760.0, -5248.0, -1312.0, -4800.0)
    set J8 = Rect(896.0, -3328.0, 1088.0, -3072.0)
    set K8 = Rect(2400.0, -3744.0, 2656.0, -3360.0)
    set L8 = Rect(1952.0, -3744.0, 2208.0, -3456.0)
    set M8 = Rect(928.0, -6720.0, 1216.0, -6400.0)
    set N8 = Rect(1152.0, -6560.0, 1376.0, -6272.0)
    set S8 = Rect(1216.0, -6368.0, 1504.0, -6176.0)
    set T8 = Rect(-1376.0, -6784.0, -1184.0, -6528.0)
    set R8 = Rect(7616.0, -6528.0, 8192.0, 8160.0)
    set P8 = Rect(7072.0, -2304.0, 7264.0, -2048.0)
    set Q8 = Rect(-7872.0, 7872.0, 8192.0, 8192.0)
    set U8 = Rect(1792.0, 7776.0, 2112.0, 8192.0)
    set I9 = Rect(-2656.0, 0.0, -2496.0, 256.0)
    set O9 = Rect(-768.0, 7232.0, -416.0, 7424.0)
    set A9 = Rect(-7968.0, 5472.0, -7648.0, 5792.0)
    set B9 = Rect(1120.0, 7904.0, 1312.0, 8160.0)
    set C9 = Rect(736.0, 4480.0, 1120.0, 4800.0)
    set D9 = Rect(2208.0, 4928.0, 2400.0, 5152.0)
    set E9 = Rect(576.0, 4384.0, 1120.0, 4928.0)
    set F9 = Rect(2560.0, 4160.0, 2784.0, 4576.0)
    set G9 = Rect(-5984.0, -3776.0, -5504.0, -3232.0)
    set H9 = Rect(576.0, 4256.0, 1024.0, 4672.0)
    set Z9 = Rect(544.0, 4352.0, 992.0, 4768.0)
    set V9 = Rect(704.0, 2496.0, 1376.0, 2784.0)
    set W9 = Rect(-2240.0, 1792.0, -1856.0, 2240.0)
    set X9 = Rect(-1472.0, 1472.0, -992.0, 1728.0)
    set Y9 = Rect(2368.0, -3200.0, 2656.0, -2880.0)
    set J9 = Rect(2624.0, -3584.0, 2816.0, -2848.0)
    set K9 = Rect(2464.0, -3392.0, 2656.0, -3136.0)
    set L9 = Rect(2784.0, -3232.0, 2976.0, -2976.0)
    set M9 = Rect(2784.0, -3424.0, 2976.0, -3168.0)
    set N9 = Rect(7328.0, 7808.0, 8192.0, 8192.0)
    set S9 = Rect(1984.0, 7584.0, 3296.0, 8192.0)
    set T9 = Rect(2240.0, 7392.0, 2560.0, 8192.0)
    set R9 = Rect(-1888.0, 416.0, -1696.0, 576.0)
    set P9 = Rect(7776.0, 2720.0, 8192.0, 3648.0)
    set Q9 = Rect(5280.0, 640.0, 5664.0, 1184.0)
    set U9 = Rect(-3104.0, 2720.0, -2624.0, 3232.0)
    set IA = Rect(7584.0, -7072.0, 7776.0, -6880.0)
    set K8 = Rect(2816.0, -3488.0, 3008.0, -3232.0)
    set L8 = Rect(2624.0, -3392.0, 2816.0, -3136.0)
    set Y9 = Rect(2368.0, -3264.0, 2656.0, -2944.0)
    set J9 = Rect(2624.0, -3648.0, 2816.0, -2912.0)
    set K9 = Rect(2464.0, -3456.0, 2656.0, -3200.0)
    set D7 = Rect(-8192.0, -8128.0, 5472.0, -7648.0)
    set OA = Rect(-8192.0, -3712.0, -7008.0, -2144.0)
    set BA = Rect(-3360.0, -8192.0, -1472.0, -7648.0)
    set CA = Rect(-2528.0, -7840.0, -1696.0, -7488.0)
    set DA = Rect(-2336.0, -7584.0, -1600.0, -7456.0)
    set EA = Rect(-8192.0, 2016.0, -6816.0, 2880.0)
    set FA = Rect(6880.0, -3328.0, 8000.0, -2624.0)
    set GA = Rect(-7520.0, -7040.0, -7360.0, -6912.0)
    set HA = Rect(-7520.0, -6912.0, -7360.0, -6784.0)
    set ZA = Rect(-7520.0, -6656.0, -7360.0, -6528.0)
    set VA = Rect(-7520.0, -6528.0, -7360.0, -6400.0)
    set WA = Rect(-7520.0, -6784.0, -7360.0, -6656.0)
    set XA = Rect(6944.0, 6208.0, 7104.0, 6336.0)
    set YA = Rect(6944.0, 6080.0, 7104.0, 6208.0)
    set JA = Rect(6944.0, 5952.0, 7104.0, 6080.0)
    set KA = Rect(6944.0, 5824.0, 7104.0, 5952.0)
    set LA = Rect(6944.0, 5696.0, 7104.0, 5824.0)
    set MA = Rect(3904.0, 2976.0, 4160.0, 3264.0)
    set NA = Rect(2336.0, 5952.0, 2592.0, 6240.0)
    set SA = Rect(6304.0, 1984.0, 6560.0, 2272.0)
    set TA = Rect(-3328.0, -6912.0, -3072.0, -6624.0)
    set RA = Rect(-4384.0, -4800.0, -4128.0, -4512.0)
    set PA = Rect(-6432.0, -3840.0, -6176.0, -3552.0)
    set QA = Rect(-7584.0, 6176.0, -6304.0, 7552.0)
    set UA = Rect(2240.0, -1024.0, 2592.0, -416.0)
    set IB = Rect(2368.0, -1120.0, 2784.0, -704.0)
    set OB = Rect(-1088.0, 5376.0, 768.0, 6624.0)
    set AB = Rect(1600.0, 1024.0, 3456.0, 2432.0)
    set BB = Rect(5504.0, -1056.0, 7200.0, 512.0)
    set CB = Rect(-6944.0, -1792.0, -5248.0, -224.0)
    set DB = Rect(-1536.0, -7424.0, 640.0, -6048.0)
    set EB = Rect(-3328.0, -7200.0, -2464.0, -6368.0)
    set FB = Rect(-4288.0, -4544.0, -3424.0, -3712.0)
    set GB = Rect(-6784.0, -3616.0, -5920.0, -2784.0)
    set HB = Rect(1472.0, 5440.0, 2336.0, 6272.0)
    set ZB = Rect(2656.0, 2336.0, 3520.0, 3168.0)
    set VB = Rect(5984.0, 1152.0, 6848.0, 1984.0)
    set WB = Rect(-4128.0, -3712.0, -2496.0, -2272.0)
    set XB = Rect(-8192.0, -8128.0, -5120.0, -5536.0)
    set YB = Rect(4608.0, 4352.0, 8192.0, 8192.0)
    set JB = Rect(-8096.0, -7104.0, -8064.0, -7072.0)
    set KB = Rect(-8096.0, -7104.0, -8064.0, -7072.0)
    set LB = Rect(-8096.0, -7104.0, -8064.0, -7072.0)
    set G9 = Rect(6208.0, 7488.0, 8192.0, 8192.0)
    set MB = Rect(-2784.0, 1280.0, -1952.0, 2048.0)
    set SB = Rect(2528.0, -3168.0, 3360.0, -2464.0)
    set TB = Rect(-3936.0, 4480.0, -3136.0, 5120.0)
    set RB = Rect(3680.0, -6016.0, 4416.0, -5376.0)
    set PB = Rect(3424.0, -352.0, 4224.0, 320.0)
    set QB = Rect(-4608.0, -448.0, -3872.0, 192.0)
    set UB = Rect(2528.0, -1376.0, 2944.0, -960.0)
    set p = Player(15)
    set u = CreateUnit(p, 'u00Z', 7360.0, -4416.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(12))
    set u = CreateUnit(p, 'u00Z', -7296.0, 4224.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(12))
    set BV = CreateUnit(p, 'n0EO', -6720.0, 6976.0, 270.000)
    call SetUnitColor(BV, ConvertPlayerColor(0))
    set DV = CreateUnit(p, 'n01F', -7424.0, -6976.0, 270.000)
    set OV = CreateUnit(p, 'n0EO', -6848.0, 7168.0, 270.000)
    call SetUnitColor(OV, ConvertPlayerColor(0))
    set EV = CreateUnit(p, 'n01F', -7424.0, -6592.0, 270.000)
    set FV = CreateUnit(p, 'n01F', -7424.0, -6464.0, 270.000)
    set TX = CreateUnit(p, 'n0EO', -7360.0, 6784.0, 270.000)
    call SetUnitColor(TX, ConvertPlayerColor(0))
    set NX = CreateUnit(p, 'n0EO', -7168.0, 7168.0, 270.000)
    call SetUnitColor(NX, ConvertPlayerColor(0))
    set GV = CreateUnit(p, 'n01F', -7424.0, -6720.0, 270.000)
    set HV = CreateUnit(p, 'n01F', -7424.0, -6848.0, 270.000)
    set ZV = CreateUnit(p, 'nfoh', -7232.0, -7136.0, 270.000)
    set u = CreateUnit(p, 'uC74', 3200.0, -64.0, 270.000)
    set VZ = CreateUnit(p, 'n0EO', -6592.0, 6784.0, 270.000)
    call SetUnitColor(VZ, ConvertPlayerColor(0))
    set YX = CreateUnit(p, 'n01F', 7040.0, 6272.0, 270.000)
    set JX = CreateUnit(p, 'n01F', 7040.0, 5888.0, 270.000)
    set KX = CreateUnit(p, 'n01F', 7040.0, 5760.0, 270.000)
    set LX = CreateUnit(p, 'n01F', 7040.0, 6016.0, 270.000)
    set XX = CreateUnit(p, 'n01F', 7040.0, 6144.0, 270.000)
    set MX = CreateUnit(p, 'ndfl', 6784.0, 6368.0, 270.000)
    set LZ = CreateUnit(p, 'n0EO', -7168.0, 6528.0, 270.000)
    call SetUnitColor(LZ, ConvertPlayerColor(0))
    set SX = CreateUnit(p, 'n0EO', -6976.0, 6528.0, 270.000)
    call SetUnitColor(SX, ConvertPlayerColor(0))
    set u = CreateUnit(p, 'uC74', -4544.0, 1152.0, 270.000)
    set AV = CreateUnit(p, 'n0EO', -7296.0, 6976.0, 270.000)
    call SetUnitColor(AV, ConvertPlayerColor(0))
    set houseDummyOtaku = CreateUnit(p, 'n0EO', -6990.0, 6827.0, 270.000)
    call SetUnitColor(houseDummyOtaku, ConvertPlayerColor(0))
    set NY = CreateUnit(p, 'n0EO', -6784.0, 6528.0, 270.000)
    call SetUnitColor(NY, ConvertPlayerColor(0))
    set u = CreateUnit(p, 'u010', -7296.0, 4416.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(12))
    set u = CreateUnit(p, 'u010', 7360.0, -4224.0, 270.000)
    call SetUnitColor(u, ConvertPlayerColor(12))
    set p = Player(0)
    set VV = CreateUnit(p, 'nC38', -7264.0, -6880.0, 270.000)
    call SetUnitColor(VV, ConvertPlayerColor(12))
    set WV = CreateUnit(p, 'n01K', -7264.0, -6688.0, 270.000)
    call SetUnitColor(WV, ConvertPlayerColor(12))
    set JV = CreateUnit(p, 'n009', -6560.0, -6432.0, 270.000)
    call SetUnitColor(JV, ConvertPlayerColor(12))
    set RZ = CreateUnit(p, 'n00X', -7072.0, -6368.0, 270.000)
    call SetUnitColor(RZ, ConvertPlayerColor(1))
    set SZ = CreateUnit(p, 'n00V', -6816.0, -6368.0, 270.000)
    call SetUnitColor(SZ, ConvertPlayerColor(12))
    set MZ = CreateUnit(p, 'n00W', -7200.0, -6432.0, 270.000)
    call SetUnitColor(MZ, ConvertPlayerColor(12))
    set XZ = CreateUnit(p, 'n002', -6688.0, -6368.0, 270.000)
    call SetUnitColor(XZ, ConvertPlayerColor(12))
    set SW = CreateUnit(p, 'e025', -6624.0, -7136.0, 270.000)
    set YV = CreateUnit(p, 'hC95', -6880.0, -7136.0, 270.000)
    call SetUnitColor(YV, ConvertPlayerColor(0))
    set ZZ = CreateUnit(p, 'etol', -5632.0, -6144.0, 270.000)
    set TV = CreateUnit(p, 'e00S', -4448.0, -4960.0, 270.000)
    set QV = CreateUnit(p, 'e00S', -5280.0, -6112.0, 270.000)
    set PV = CreateUnit(p, 'e00S', -6368.0, -4256.0, 270.000)
    set UV = CreateUnit(p, 'e00S', -5600.0, -5728.0, 270.000)
    set IW = CreateUnit(p, 'eaom', -6080.0, -4480.0, 270.000)
    set OW = CreateUnit(p, 'eaoe', -6656.0, -4480.0, 270.000)
    set BW = CreateUnit(p, 'eaom', -4416.0, -5312.0, 270.000)
    set EW = CreateUnit(p, 'eaoe', -4864.0, -4992.0, 270.000)
    set CW = CreateUnit(p, 'e00S', -3744.0, -6816.0, 270.000)
    set AW = CreateUnit(p, 'eaom', -4032.0, -7040.0, 270.000)
    set DW = CreateUnit(p, 'eaoe', -4032.0, -6528.0, 270.000)
    set HW = CreateUnit(p, 'emow', -5792.0, -5408.0, 270.000)
    set GW = CreateUnit(p, 'emow', -6624.0, -5088.0, 270.000)
    set FW = CreateUnit(p, 'emow', -5088.0, -5536.0, 270.000)
    set ZW = CreateUnit(p, 'emow', -5344.0, -3936.0, 270.000)
    set VW = CreateUnit(p, 'emow', -5088.0, -4576.0, 270.000)
    set WW = CreateUnit(p, 'emow', -3936.0, -5344.0, 270.000)
    set XW = CreateUnit(p, 'emow', -4512.0, -7072.0, 270.000)
    set YW = CreateUnit(p, 'emow', -4896.0, -6240.0, 270.000)
    set JW = CreateUnit(p, 'emow', -3808.0, -5856.0, 270.000)
    set KW = CreateUnit(p, 'emow', -5472.0, -4704.0, 270.000)
    set LW = CreateUnit(p, 'emow', -4512.0, -5856.0, 270.000)
    set MW = CreateUnit(p, 'eaow', -4544.0, -6528.0, 270.000)
    set SV = CreateUnit(p, 'e00S', -6112.0, -1248.0, 270.000)
    set XV = CreateUnit(p, 'eaow', -6080.0, -5120.0, 270.000)
    set NV = CreateUnit(p, 'e00S', -6112.0, 1568.0, 270.000)
    set MV = CreateUnit(p, 'e00S', -1504.0, -1824.0, 270.000)
    set LV = CreateUnit(p, 'e00S', -544.0, -6688.0, 270.000)
    set KV = CreateUnit(p, 'e00S', 4960.0, -6752.0, 270.000)
    set PZ = CreateUnit(p, 'e00S', -3488.0, -3296.0, 270.000)
    set SY = CreateUnit(p, 'n0HE', -6944.0, -6368.0, 270.000)
    call SetUnitColor(SY, ConvertPlayerColor(12))
    set IV = CreateUnit(p, 'n0HE', 5920.0, 6176.0, 270.000)
    call SetUnitColor(IV, ConvertPlayerColor(12))
    set p = Player(1)
    set RW = CreateUnit(p, 'edob', -6400.0, -5696.0, 270.000)
    set TW = CreateUnit(p, 'edob', -5248.0, -6848.0, 270.000)
    set p = Player(6)
    set BX = CreateUnit(p, 'n002', 5920.0, 5920.0, 270.000)
    call SetUnitColor(BX, ConvertPlayerColor(12))
    set CX = CreateUnit(p, 'n00W', 5984.0, 6432.0, 270.000)
    call SetUnitColor(CX, ConvertPlayerColor(12))
    set DX = CreateUnit(p, 'n00V', 5920.0, 6048.0, 270.000)
    call SetUnitColor(DX, ConvertPlayerColor(12))
    set EX = CreateUnit(p, 'n00X', 5920.0, 6304.0, 270.000)
    call SetUnitColor(EX, ConvertPlayerColor(1))
    set WX = CreateUnit(p, 'nC38', 6496.0, 6368.0, 270.000)
    call SetUnitColor(WX, ConvertPlayerColor(12))
    set VX = CreateUnit(p, 'n01K', 6304.0, 6368.0, 270.000)
    call SetUnitColor(VX, ConvertPlayerColor(12))
    set RX = CreateUnit(p, 'usep', 4352.0, 3584.0, 270.000)
    set HX = CreateUnit(p, 'n009', 5984.0, 5792.0, 270.000)
    call SetUnitColor(HX, ConvertPlayerColor(12))
    set ZX = CreateUnit(p, 'nC35', 6816.0, 5984.0, 270.000)
    call SetUnitColor(ZX, ConvertPlayerColor(12))
    set GX = CreateUnit(p, 'u00Q', 6816.0, 5664.0, 270.000)
    set UZ = CreateUnit(p, 'u00M', 6048.0, -2080.0, 270.000)
    set QZ = CreateUnit(p, 'u00D', 6304.0, -96.0, 270.000)
    set EY = CreateUnit(p, 'uzig', 4384.0, 4256.0, 270.000)
    set IY = CreateUnit(p, 'unpl', 5184.0, 4864.0, 270.000)
    set OY = CreateUnit(p, 'utod', 3904.0, 3904.0, 270.000)
    set AY = CreateUnit(p, 'u00M', 1056.0, -96.0, 270.000)
    set BY = CreateUnit(p, 'u00D', 2528.0, 1824.0, 270.000)
    set CY = CreateUnit(p, 'u00N', 3936.0, 3488.0, 270.000)
    set DY = CreateUnit(p, 'u00T', 4832.0, 4832.0, 270.000)
    set PX = CreateUnit(p, 'u00T', 5152.0, 4512.0, 270.000)
    set FY = CreateUnit(p, 'uzig', 3168.0, 4064.0, 270.000)
    set GY = CreateUnit(p, 'uzig', 5728.0, 4000.0, 270.000)
    set AX = CreateUnit(p, 'u00N', 2976.0, 5792.0, 270.000)
    set OX = CreateUnit(p, 'usep', 3392.0, 5504.0, 270.000)
    set IX = CreateUnit(p, 'utod', 3392.0, 6080.0, 270.000)
    set UW = CreateUnit(p, 'uzig', 4128.0, 6240.0, 270.000)
    set QW = CreateUnit(p, 'usap', 3968.0, 5888.0, 270.000)
    set HY = CreateUnit(p, 'ubon', 4992.0, 5952.0, 270.000)
    set ZY = CreateUnit(p, 'uzig', 2656.0, 4704.0, 270.000)
    set VY = CreateUnit(p, 'uzig', 5536.0, 2464.0, 270.000)
    set WY = CreateUnit(p, 'uzig', 4064.0, 5280.0, 270.000)
    set XY = CreateUnit(p, 'uzig', 3488.0, 4832.0, 270.000)
    set YY = CreateUnit(p, 'usap', 6400.0, 3584.0, 270.000)
    set JY = CreateUnit(p, 'utod', 6080.0, 2944.0, 270.000)
    set KY = CreateUnit(p, 'usep', 6656.0, 2880.0, 270.000)
    set LY = CreateUnit(p, 'u00N', 6368.0, 2528.0, 270.000)
    set MY = CreateUnit(p, 'uzig', 5024.0, 3744.0, 270.000)
    set PW = CreateUnit(p, 'uzig', 6880.0, 3936.0, 270.000)
    set UX = CreateUnit(p, 'ubon', 6464.0, 4608.0, 270.000)
    set QX = CreateUnit(p, 'uzig', 4640.0, 2848.0, 270.000)
    set NZ = CreateUnit(p, 'u00M', -4704.0, 5920.0, 270.000)
    set CV = CreateUnit(p, 'u00D', 32.0, 5920.0, 270.000)
    set p = Player(15)
    set YZ = CreateUnit(p, 'e00D', -6005.1, 5458.6, 212.150)
    set TZ = CreateUnit(p, 'e00B', -561.7, -651.7, 325.600)
    set KZ = CreateUnit(p, 'e00A', 5613.5, -6070.9, 64.000)
    set JZ = CreateUnit(p, 'e008', -5467.9, -5891.1, 307.304)
    set WZ = CreateUnit(p, 'e001', 4901.8, 4536.6, 212.110)
    call ConfigureNeutralVictim()
    set BMI = Filter(function CBI)
    set filterIssueHauntOrderAtLocBJ = Filter(function IssueHauntOrderAtLocBJFilter)
    set filterEnumDestructablesInCircleBJ = Filter(function CII)
    set filterGetUnitsInRectOfPlayer = Filter(function GetUnitsInRectOfPlayerFilter)
    set filterGetUnitsOfTypeIdAll = Filter(function GetUnitsOfTypeIdAllFilter)
    set filterGetUnitsOfPlayerAndTypeId = Filter(function GetUnitsOfPlayerAndTypeIdFilter)
    set filterMeleeTrainedUnitIsHeroBJ = Filter(function MeleeTrainedUnitIsHeroBJFilter)
    set filterLivingPlayerUnitsOfTypeId = Filter(function LivingPlayerUnitsOfTypeIdFilter)
    set CDI = 0
    loop
        exitwhen CDI == 16
        set bj_FORCE_PLAYER[CDI] = CreateForce()
        call ForceAddPlayer(bj_FORCE_PLAYER[CDI], Player(CDI))
        set CDI = CDI + 1
    endloop
    set bj_FORCE_ALL_PLAYERS = CreateForce()
    call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS, null)
    set bj_cineModePriorSpeed = GetGameSpeed()
    set bj_cineModePriorFogSetting = IsFogEnabled()
    set bj_cineModePriorMaskSetting = IsFogMaskEnabled()
    set CDI = 0
    loop
        exitwhen CDI >= bj_MAX_QUEUED_TRIGGERS
        set bj_queuedExecTriggers[CDI] = null
        set bj_queuedExecUseConds[CDI] = false
        set CDI = CDI + 1
    endloop
    set bj_isSinglePlayer = false
    set CEI = 0
    set CDI = 0
    loop
        exitwhen CDI >= 12
        if (GetPlayerController(Player(CDI)) == MAP_CONTROL_USER and GetPlayerSlotState(Player(CDI)) == PLAYER_SLOT_STATE_PLAYING) then
            set CEI = CEI + 1
        endif
        set CDI = CDI + 1
    endloop
    set bj_isSinglePlayer = (CEI == 1)
    set bj_rescueSound = CreateSoundFromLabel("Rescue", false, false, false, 10000, 10000)
    set bj_questDiscoveredSound = CreateSoundFromLabel("QuestNew", false, false, false, 10000, 10000)
    set bj_questUpdatedSound = CreateSoundFromLabel("QuestUpdate", false, false, false, 10000, 10000)
    set bj_questCompletedSound = CreateSoundFromLabel("QuestCompleted", false, false, false, 10000, 10000)
    set bj_questFailedSound = CreateSoundFromLabel("QuestFailed", false, false, false, 10000, 10000)
    set bj_questHintSound = CreateSoundFromLabel("Hint", false, false, false, 10000, 10000)
    set bj_questSecretSound = CreateSoundFromLabel("SecretFound", false, false, false, 10000, 10000)
    set bj_questItemAcquiredSound = CreateSoundFromLabel("ItemReward", false, false, false, 10000, 10000)
    set bj_questWarningSound = CreateSoundFromLabel("Warning", false, false, false, 10000, 10000)
    set bj_victoryDialogSound = CreateSoundFromLabel("QuestCompleted", false, false, false, 10000, 10000)
    set bj_defeatDialogSound = CreateSoundFromLabel("QuestFailed", false, false, false, 10000, 10000)
    call DelayedSuspendDecayCreate()
    set v = VersionGet()
    if (v == VERSION_REIGN_OF_CHAOS) then
        set bj_MELEE_MAX_TWINKED_HEROES = bj_MELEE_MAX_TWINKED_HEROES_V0
    else 
        set bj_MELEE_MAX_TWINKED_HEROES = bj_MELEE_MAX_TWINKED_HEROES_V1
    endif
    call InitQueuedTriggers()
    call InitRescuableBehaviorBJ()
    call InitDNCSounds()
    call InitMapRects()
    call InitSummonableCaps()
    set C4I = 0
    loop
        set bj_stockAllowedPermanent[C4I] = false
        set bj_stockAllowedCharged[C4I] = false
        set bj_stockAllowedArtifact[C4I] = false
        set C4I = C4I + 1
        exitwhen C4I > 10
    endloop
    call SetAllItemTypeSlots(11)
    call SetAllUnitTypeSlots(11)
    set bj_stockUpdateTimer = CreateTimer()
    call TimerStart(bj_stockUpdateTimer, bj_STOCK_RESTOCK_INITIAL_DELAY, false, function C9I)
    set bj_stockItemPurchased = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased, Player(15), EVENT_PLAYER_UNIT_SELL_ITEM, null)
    call TriggerAddAction(bj_stockItemPurchased, function RemovePurchasedItem)
    call DetectGameStarted()
    set i = 0
    set i = 0
    loop
        exitwhen (i > 16)
        set T[i] = 0
        set nKillsInRow[i] = 0
        set Q[i] = 0
        set V0[i] = 0
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen (i > 100)
        set R[i] = false
        set Z1[i] = 0
        set V1[i] = 0
        set W1[i] = 0
        set X1[i] = 0
        set J1[i] = 0
        set K1[i] = 0
        set WO[i] = 0
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen (i > 4)
        set nKillsInRowGroup[i] = 0
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen (i > 2)
        set A0[i] = false
        set W0[i] = 0
        set R1[i] = 0
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen (i > 12)
        set playerColor[i] = ""
        set E0[i] = CreateTimer()
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen (i > 13)
        set D0[i] = false
        set timerDeathCountdown[i] = CreateTimer()
        set S0[i] = false
        set OO[i] = 0
        set H3[i] = false
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen (i > 1)
        set G0[i] = 0
        set S2[i] = ""
        set R2[i] = false
        set P2[i] = 0
        set G3[i] = false
        set i = i + 1
    endloop
    set T0 = 150
    set FI = true
    set GI = true
    set HI = true
    set ZI = true
    set VI = true
    set WI = true
    set XI = true
    set YI = true
    set JI = true
    set KI = true
    set LI = true
    set NI = true
    set SI = 3
    set TI = 1
    set Y1 = 80
    set i = 0
    loop
        exitwhen (i > 17)
        set playerHero[i] = null
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen (i > 40)
        set P1[i] = 0
        set Q1[i] = 0
        set U1[i] = 0
        set i = i + 1
    endloop
    set AO = CreateForce()
    set BO = CreateForce()
    set D2 = CreateGroup()
    set J2 = CreateTimer()
    set forceAllPlayers = CreateForce()
    set O3 = 0.00
    set B3 = true
    set C3 = true
    set i = 0
    loop
        exitwhen (i > 14)
        set E3[i] = false
        set i = i + 1
    endloop
    set i = 0
    loop
        exitwhen (i > 15)
        set M3[i] = "Here"
        set i = i + 1
    endloop
    call CKI()
    call initGroupPool()
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15, true)
    call TriggerAddCondition(t, Condition(function destroyRegisteredTriggers))
    set t = null
    set playerHeroDead[0] = false
    set playerHeroDead[1] = false
    set playerHeroDead[2] = false
    set playerHeroDead[3] = false
    set playerHeroDead[4] = false
    set playerHeroDead[5] = false
    set playerHeroDead[6] = false
    set playerHeroDead[7] = false
    set playerHeroDead[8] = false
    set playerHeroDead[9] = false
    set playerHeroDead[10] = false
    set playerHeroDead[11] = false
    set playerHeroDead[12] = false
    set playerHeroDead[13] = false
    set playerHeroDead[14] = false
    set playerHeroDead[15] = false
    set playerHeroDead[16] = false
    set XN = CreateRegion()
    call RegionAddRect(XN, Z5)
    set JN = CreateRegion()
    call RegionAddRect(JN, V5)
    set WN = CreateRegion()
    call RegionAddRect(WN, B6)
    call RegionAddRect(WN, C6)
    call RegionAddRect(WN, D6)
    set YN = CreateRegion()
    call RegionAddRect(YN, E6)
    call RegionAddRect(YN, F6)
    call RegionAddRect(YN, G6)
    set KN = CreateRegion()
    call RegionAddRect(KN, H6)
    call RegionAddRect(KN, Z6)
    call RegionAddRect(KN, V6)
    call RegionAddRect(KN, W6)
    call RegionAddRect(KN, X6)
    call RegionAddRect(KN, Y6)
    call RegionAddRect(KN, J6)
    call RegionAddRect(KN, K6)
    call RegionAddRect(KN, L6)
    call RegionAddRect(KN, M6)
    call RegionAddRect(KN, N6)
    call RegionAddRect(KN, S6)
    call RegionAddRect(KN, T6)
    call RegionAddRect(KN, R6)
    call RegionAddRect(KN, P6)
    call RegionAddRect(KN, Q6)
    call RegionAddRect(KN, U6)
    call RegionAddRect(KN, I7)
    call RegionAddRect(KN, O7)
    call RegionAddRect(KN, A7)
    call RegionAddRect(KN, B7)
    call RegionAddRect(KN, C7)
    call RegionAddRect(KN, D7)
    call RegionAddRect(KN, E7)
    call RegionAddRect(KN, F7)
    call RegionAddRect(KN, G7)
    call RegionAddRect(KN, H7)
    call RegionAddRect(KN, Z7)
    call RegionAddRect(KN, V7)
    call RegionAddRect(KN, W7)
    call RegionAddRect(KN, X7)
    call RegionAddRect(KN, Y7)
    call RegionAddRect(KN, J7)
    call RegionAddRect(KN, K7)
    call RegionAddRect(KN, L7)
    call RegionAddRect(KN, M7)
    call RegionAddRect(KN, N7)
    call RegionAddRect(KN, S7)
    call RegionAddRect(KN, T7)
    call RegionAddRect(KN, R7)
    call RegionAddRect(KN, P7)
    call RegionAddRect(KN, Q7)
    call RegionAddRect(KN, U7)
    call RegionAddRect(KN, I8)
    call RegionAddRect(KN, O8)
    call RegionAddRect(KN, A8)
    call RegionAddRect(KN, B8)
    call RegionAddRect(KN, C8)
    call RegionAddRect(KN, D8)
    call RegionAddRect(KN, E8)
    call RegionAddRect(KN, F8)
    call RegionAddRect(KN, G8)
    call RegionAddRect(KN, H8)
    call RegionAddRect(KN, Z8)
    call RegionAddRect(KN, V8)
    call RegionAddRect(KN, W8)
    call RegionAddRect(KN, X8)
    call RegionAddRect(KN, Y8)
    call RegionAddRect(KN, J8)
    call RegionAddRect(KN, K8)
    call RegionAddRect(KN, L8)
    call RegionAddRect(KN, M8)
    call RegionAddRect(KN, N8)
    call RegionAddRect(KN, S8)
    call RegionAddRect(KN, T8)
    call RegionAddRect(KN, R8)
    call RegionAddRect(KN, P8)
    call RegionAddRect(KN, Q8)
    call RegionAddRect(KN, U8)
    call RegionAddRect(KN, I9)
    call RegionAddRect(KN, O9)
    call RegionAddRect(KN, A9)
    call RegionAddRect(KN, B9)
    call RegionAddRect(KN, C9)
    call RegionAddRect(KN, D9)
    call RegionAddRect(KN, E9)
    call RegionAddRect(KN, F9)
    call RegionAddRect(KN, G9)
    call RegionAddRect(KN, H9)
    call RegionAddRect(KN, Z9)
    call RegionAddRect(KN, V9)
    call RegionAddRect(KN, W9)
    call RegionAddRect(KN, X9)
    call RegionAddRect(KN, Y9)
    call RegionAddRect(KN, J9)
    call RegionAddRect(KN, K9)
    call RegionAddRect(KN, L9)
    call RegionAddRect(KN, M9)
    call RegionAddRect(KN, N9)
    call RegionAddRect(KN, S9)
    call RegionAddRect(KN, T9)
    call RegionAddRect(KN, R9)
    call RegionAddRect(KN, P9)
    call RegionAddRect(KN, Q9)
    call RegionAddRect(KN, U9)
    call JGI('B06Z')
    call JGI('BPSE')
    call JGI('B06Q')
    call JGI('BSTN')
    call JGI('BHtc')
    call JGI('B0BM')
    call JGI('B0BR')
    call JGI('B0C1')
    call JGI('BEer')
    call JGI('B02U')
    call JGI('B07E')
    call JGI('B0CF')
    call JGI('B06M')
    call JGI('B07N')
    call JGI('B08S')
    call JGI('B00Q')
    call JGI('B072')
    call JGI('BUan')
    call JGI('B095')
    call JGI('B083')
    call JGI('B02V')
    call JGI('B01Y')
    call JGI('BNab')
    call JGI('B08R')
    call JGI('B066')
    call JGI('B03I')
    call JGI('B063')
    call JGI('Bena')
    call JGI('Beng')
    call JGI('B03C')
    call JGI('B00L')
    call JGI('BHca')
    call JGI('Bcsd')
    call JGI('B079')
    call JGI('B0BQ')
    call JGI('B0B9')
    call JGI('Bprg')
    call JGI('B08M')
    call JGI('B02G')
    call JGI('B01X')
    call JGI('B01D')
    call JGI('B092')
    call JGI('B0AQ')
    call JGI('BEsh')
    call JGI('B001')
    call JGI('B017')
    call JGI('B0AE')
    call JGI('B0AD')
    call JGI('B08O')
    call JGI('Bfro')
    call JGI('B027')
    call JGI('B028')
    call JGI('B05H')
    call JGI('B0BS')
    call JGI('Bcri')
    call JGI('B0BF')
    call JGI('B0BE')
    call JGI('B090')
    call JGI('B008')
    call JGI('B06W')
    call JGI('B04B')
    call JGI('B02F')
    call JGI('BUsp')
    call JGI('Bust')
    call JGI('B0CC')
    call JGI('BCri')
    call JGI('B03J')
    call JGI('BEsh')
    call JGI('B001')
    call JGI('B0AQ')
    call JGI('Bena')
    call JGI('Beng')
    call JGI('B078')
    call JGI('Bdet')
    call JGI('B00T')
    call JGI('Bslo')
    call JGI('BNdh')
    call JGI('B0C8')
    call JGI('B08O')
    call JGI('B07V')
    call JGI('B07U')
    call JGI('B01X')
    call JGI('BNsi')
    call JGI('B031')
    call JGI('BNso')
    call JGI('A1LD')
    call JGI('B0CD')
    call JGI('A1JA')
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function JJI))
    set t = null
    call FlushGameCache(InitGameCache("dr.x"))
    set UN = InitGameCache("dr.x")
    set IS[0] = 'A17F'
    set IS[1] = 'A17G'
    set IS[2] = 'A17H'
    set IS[3] = 'A17C'
    set IS[4] = 'A17D'
    set IS[5] = 'A17E'
    set IS[6] = 'A17J'
    set IS[7] = 'A17I'
    set IS[8] = 'A17L'
    set OS[0] = 'A1QE'
    set OS[1] = 'A1QF'
    set OS[2] = 'A1QI'
    set OS[3] = 'A1QK'
    set OS[4] = 'A1QJ'
    set OS[5] = 'A1QH'
    set OS[6] = 'A1QO'
    set OS[7] = 'A1QN'
    set OS[8] = 'A1QM'
    set OS[9] = 'A1QG'
    set OS[10] = 'A1QQ'
    set BS[0] = 'A1GK'
    set BS[1] = 'A1GL'
    set BS[2] = 'A1GJ'
    set BS[3] = 'A1GP'
    set BS[4] = 'A1GM'
    set BS[5] = 'A1GN'
    set BS[6] = 'A1GO'
    set BS[7] = 'A1GI'
    set BS[8] = 'A1GQ'
    set CS[0] = 'A1CM'
    set CS[1] = 'A1CK'
    set CS[2] = 'A1CF'
    set CS[3] = 'A1CI'
    set CS[4] = 'A1CG'
    set CS[5] = 'A1CH'
    set DS = CreateTrigger()
    call TriggerAddCondition(DS, Condition(function LRI))
    set itemReviveHero[0] = 'h09G'
    set HS[0] = 50
    set itemReviveHero[1] = 'h09T'
    set HS[1] = 100
    set itemReviveHero[2] = 'h09F'
    set HS[2] = 150
    set itemReviveHero[3] = 'h09H'
    set HS[3] = 200
    set itemReviveHero[4] = 'h09E'
    set HS[4] = 250
    set itemReviveHero[5] = 'h09D'
    set HS[5] = 300
    set itemReviveHero[6] = 'h09C'
    set HS[6] = 350
    set itemReviveHero[7] = 'h09B'
    set HS[7] = 400
    set itemReviveHero[8] = 'h099'
    set HS[8] = 450
    set itemReviveHero[9] = 'h09A'
    set HS[9] = 500
    set itemReviveHero[10] = 'h09J'
    set HS[10] = 550
    set itemReviveHero[11] = 'h09K'
    set HS[11] = 600
    set itemReviveHero[12] = 'h09L'
    set HS[12] = 650
    set itemReviveHero[13] = 'h09M'
    set HS[13] = 700
    set itemReviveHero[14] = 'h09N'
    set HS[14] = 750
    set itemReviveHero[15] = 'h09O'
    set HS[15] = 800
    set itemReviveHero[16] = 'h09P'
    set HS[16] = 850
    set itemReviveHero[17] = 'h09Q'
    set HS[17] = 900
    set itemReviveHero[18] = 'h09R'
    set HS[18] = 950
    set itemReviveHero[19] = 'h09S'
    set HS[19] = 1000
    set itemReviveHero[20] = 'h09I'
    set HS[20] = 1050
    set itemReviveHero[21] = 'h09Z'
    set HS[21] = 1100
    set itemReviveHero[22] = 'h09X'
    set HS[22] = 1150
    set itemReviveHero[23] = 'h0A1'
    set HS[23] = 1200
    set itemReviveHero[24] = 'h0A2'
    set HS[24] = 1250
    set itemReviveHero[25] = 'h0A6'
    set HS[25] = 1300
    set itemReviveHero[26] = 'h0A3'
    set HS[26] = 1350
    set itemReviveHero[27] = 'h0A4'
    set HS[27] = 1400
    set itemReviveHero[28] = 'h09Y'
    set HS[28] = 1450
    set itemReviveHero[29] = 'h09V'
    set HS[29] = 1500
    set itemReviveHero[30] = 'h0A0'
    set HS[30] = 1550
    set itemReviveHero[31] = 'h09U'
    set HS[31] = 1600
    set itemReviveHero[32] = 'h0AF'
    set HS[32] = 1650
    set itemReviveHero[33] = 'h0AD'
    set HS[33] = 1700
    set itemReviveHero[34] = 'h0AE'
    set HS[34] = 1750
    set itemReviveHero[35] = 'h0AC'
    set HS[35] = 1800
    set itemReviveHero[36] = 'h0AB'
    set HS[36] = 1850
    set itemReviveHero[37] = 'h0AA'
    set HS[37] = 1900
    set itemReviveHero[38] = 'h0A9'
    set HS[38] = 1950
    set itemReviveHero[39] = 'h0AG'
    set HS[39] = 2000
    set itemReviveHero[40] = 'h0A7'
    set HS[40] = 2050
    set itemReviveHero[41] = 'h0AO'
    set HS[41] = 2100
    set itemReviveHero[42] = 'h0AY'
    set HS[42] = 2150
    set itemReviveHero[43] = 'h0AH'
    set HS[43] = 2200
    set itemReviveHero[44] = 'h0AI'
    set HS[44] = 2250
    set itemReviveHero[45] = 'h0AJ'
    set HS[45] = 2300
    set itemReviveHero[46] = 'h0AP'
    set HS[46] = 2350
    set itemReviveHero[47] = 'h0AQ'
    set HS[47] = 2400
    set itemReviveHero[48] = 'h0AK'
    set HS[48] = 2450
    set itemReviveHero[49] = 'h0AR'
    set HS[49] = 2500
    set itemReviveHero[50] = 'h0AL'
    set HS[50] = 2550
    set itemReviveHero[51] = 'h0AS'
    set HS[51] = 2600
    set itemReviveHero[52] = 'h09W'
    set HS[52] = 2650
    set itemReviveHero[53] = 'h0AM'
    set HS[53] = 2700
    set itemReviveHero[54] = 'h0A8'
    set HS[54] = 2750
    set itemReviveHero[55] = 'h0AT'
    set HS[55] = 2800
    set itemReviveHero[56] = 'h0AU'
    set HS[56] = 2850
    set itemReviveHero[57] = 'h0AN'
    set HS[57] = 2900
    set itemReviveHero[58] = 'h0AV'
    set HS[58] = 2950
    set itemReviveHero[59] = 'h0AW'
    set HS[59] = 3000
    set FS[0] = itemReviveHero[LKI(1)]
    set FS[1] = itemReviveHero[LKI(1)]
    set FS[2] = itemReviveHero[LKI(1)]
    set FS[3] = itemReviveHero[LKI(1)]
    set FS[4] = itemReviveHero[LKI(1)]
    set FS[5] = itemReviveHero[LKI(1)]
    set FS[6] = itemReviveHero[LKI(1)]
    set FS[7] = itemReviveHero[LKI(1)]
    set FS[8] = itemReviveHero[LKI(1)]
    set FS[9] = itemReviveHero[LKI(1)]
    set FS[10] = itemReviveHero[LKI(1)]
    set FS[11] = itemReviveHero[LKI(1)]
    set FS[12] = itemReviveHero[LKI(1)]
    set FS[13] = itemReviveHero[LKI(1)]
    set FS[14] = itemReviveHero[LKI(1)]
    set hashTable = InitHashtable()
    set M = CreateTimer()
    call SetFloatGameState(GAME_STATE_TIME_OF_DAY, 6.00)
    call SuspendTimeOfDay(false)
    call SetTimeOfDayScale(0.5)
    call SetSkyModel("Environment\\Sky\\FoggedSky\\FoggedSky.mdl")
    call SetCreepCampFilterState(true)
    set F3 = "Normal Mode"
    call TimerStart(M, 99999.00, false, null)
    set X3 = AddWeatherEffect(bj_mapInitialPlayableArea, 'RAhr')
    set W3 = AddWeatherEffect(bj_mapInitialPlayableArea, 'SNbs')
    set ZS = AddWeatherEffect(bj_mapInitialPlayableArea, 'LRma')
    set VS = AddWeatherEffect(bj_mapInitialPlayableArea, 'WOlw')
    set sentinelPlayers[0] = Player(0)
    set sentinelPlayers[1] = Player(1)
    set sentinelPlayers[2] = Player(2)
    set sentinelPlayers[3] = Player(3)
    set sentinelPlayers[4] = Player(4)
    set sentinelPlayers[5] = Player(5)
    set scourgePlayers[0] = Player(6)
    set scourgePlayers[1] = Player(7)
    set scourgePlayers[2] = Player(8)
    set scourgePlayers[3] = Player(9)
    set scourgePlayers[4] = Player(10)
    set scourgePlayers[5] = Player(11)
    set playerNeutrals = Player(12)
    set FO = Player(15)
    call SetUnitPathing(JZ, false)
    call SetUnitPathing(KZ, false)
    call SetUnitPathing(TZ, false)
    call SetUnitPathing(YZ, false)
    call SetUnitPathing(WZ, false)
    call setUnitInvulnerable(WZ, true)
    call setUnitInvulnerable(YZ, true)
    call setUnitInvulnerable(TZ, true)
    call setUnitInvulnerable(KZ, true)
    call setUnitInvulnerable(JZ, true)
    set U0 = GetUnitLoc(WZ)
    set BI = GetUnitLoc(JZ)
    set CI = GetUnitLoc(TZ)
    set DI = GetUnitLoc(YZ)
    set EI = GetUnitLoc(KZ)
    set A2 = 'A06G'
    set B2[1] = BI
    set B2[2] = DI
    set B2[3] = CI
    set B2[4] = EI
    set B2[5] = U0
    set RI = GetRectCenter(S3)
    set PI = GetRectCenter(T3)
    set QI = GetRectCenter(N3)
    set UI = GetRectCenter(O4)
    set O1 = GetRectCenter(A4)
    set I1 = GetRectCenter(I4)
    set A1 = GetRectCenter(E4)
    set C1 = GetRectCenter(D4)
    set B1 = GetRectCenter(C4)
    set D1 = GetRectCenter(U3)
    set F1 = GetRectCenter(Q3)
    set E1 = GetRectCenter(P3)
    set G1 = GetRectCenter(Z4)
    set H1 = GetRectCenter(F4)
    set defaultMode = true
    set YS = GetUnitX(ZV)
    set JS = GetUnitY(ZV)
    set KS = GetUnitX(YV)
    set LS = GetUnitY(YV)
    set MS = GetUnitX(WV)
    set SS = GetUnitY(WV)
    set TS = GetUnitX(VV)
    set PS = GetUnitY(VV)
    set QS = GetUnitX(SW)
    set US = GetUnitY(SW)
    set IT = GetUnitX(SZ)
    set OT = GetUnitY(SZ)
    set AT = GetUnitX(MZ)
    set BT = GetUnitY(MZ)
    set CT = GetUnitX(XZ)
    set DT = GetUnitY(XZ)
    set ET = GetUnitX(RZ)
    set FT = GetUnitY(RZ)
    set GT = GetUnitX(JV)
    set HT = GetUnitY(JV)
    set GT = GetUnitX(JV)
    set HT = GetUnitY(JV)
    set ZT = GetUnitX(SY)
    set VT = GetUnitY(SY)
    set WT = GetUnitX(ZZ)
    set XT = GetUnitY(ZZ)
    set YT = GetUnitX(NV)
    set JT = GetUnitY(NV)
    set KT = GetUnitX(MV)
    set LT = GetUnitY(MV)
    set MT = GetUnitX(KV)
    set ST = GetUnitY(KV)
    set TT = GetUnitX(SV)
    set RT = GetUnitY(SV)
    set PT = GetUnitX(PZ)
    set QT = GetUnitY(PZ)
    set UT = GetUnitX(LV)
    set IR = GetUnitY(LV)
    set OR = GetUnitX(PV)
    set BR = GetUnitY(PV)
    set CR = GetUnitX(TV)
    set DR = GetUnitY(TV)
    set GR = GetUnitX(CW)
    set HR = GetUnitY(CW)
    set ZR = GetUnitX(UV)
    set WR = GetUnitY(UV)
    set XR = GetUnitX(QV)
    set YR = GetUnitY(QV)
    set JR = GetUnitX(IW)
    set KR = GetUnitY(IW)
    set LR = GetUnitX(BW)
    set SR = GetUnitY(BW)
    set RR = GetUnitX(AW)
    set PR = GetUnitY(AW)
    set QR = GetUnitX(OW)
    set UR = GetUnitY(OW)
    set IP = GetUnitX(EW)
    set OP = GetUnitY(EW)
    set BP = GetUnitX(DW)
    set DP = GetUnitY(DW)
    set EP = GetUnitX(HW)
    set FP = GetUnitY(HW)
    set GP = GetUnitX(GW)
    set ZP = GetUnitY(GW)
    set VP = GetUnitX(ZW)
    set WP = GetUnitY(ZW)
    set XP = GetUnitX(VW)
    set YP = GetUnitY(VW)
    set JP = GetUnitX(WW)
    set KP = GetUnitY(WW)
    set LP = GetUnitX(FW)
    set MP = GetUnitY(FW)
    set TP = GetUnitX(YW)
    set RP = GetUnitY(YW)
    set PP = GetUnitX(JW)
    set QP = GetUnitY(JW)
    set UP = GetUnitX(XW)
    set IQ = GetUnitY(XW)
    set OQ = GetUnitX(KW)
    set AQ = GetUnitY(KW)
    set BQ = GetUnitX(LW)
    set CQ = GetUnitY(LW)
    set DQ = GetUnitX(XV)
    set EQ = GetUnitY(XV)
    set FQ = GetUnitX(MW)
    set GQ = GetUnitY(MW)
    set HQ = GetUnitX(RW)
    set ZQ = GetUnitY(RW)
    set VQ = GetUnitX(TW)
    set WQ = GetUnitY(TW)
    call RemoveUnit(PV)
    call RemoveUnit(OW)
    call RemoveUnit(IW)
    call RemoveUnit(TV)
    call RemoveUnit(EW)
    call RemoveUnit(BW)
    call RemoveUnit(CW)
    call RemoveUnit(DW)
    call RemoveUnit(AW)
    call RemoveUnit(XV)
    call RemoveUnit(MW)
    call RemoveUnit(ZZ)
    call RemoveUnit(UV)
    call RemoveUnit(QV)
    call RemoveUnit(HW)
    call RemoveUnit(GW)
    call RemoveUnit(ZW)
    call RemoveUnit(VW)
    call RemoveUnit(WW)
    call RemoveUnit(FW)
    call RemoveUnit(YW)
    call RemoveUnit(JW)
    call RemoveUnit(XW)
    call RemoveUnit(KW)
    call RemoveUnit(LW)
    call RemoveUnit(JV)
    call RemoveUnit(SY)
    call RemoveUnit(RZ)
    call RemoveUnit(XZ)
    call RemoveUnit(MZ)
    call RemoveUnit(SZ)
    call RemoveUnit(WV)
    call RemoveUnit(VV)
    call RemoveUnit(ZV)
    call RemoveUnit(YV)
    call RemoveUnit(SW)
    call RemoveUnit(NV)
    call RemoveUnit(MV)
    call RemoveUnit(KV)
    call RemoveUnit(SV)
    call RemoveUnit(PZ)
    call RemoveUnit(LV)
    call RemoveUnit(RW)
    call RemoveUnit(TW)
    set XQ = CreateUnit(sentinelPlayers[0], 'nfoh', YS, JS, 270)
    set YQ = CreateUnit(FO, 'hC95', KS, LS, 270)
    set JQ = CreateUnit(FO, 'n01K', MS, SS, 270)
    set KQ = CreateUnit(FO, 'nC38', TS, PS, 270)
    set LQ = CreateUnit(FO, 'e025', QS, US, 270)
    set MQ = CreateUnit(FO, 'n00V', IT, OT, 270)
    set NQ = CreateUnit(FO, 'n00W', AT, BT, 270)
    set SQ = CreateUnit(FO, 'n002', CT, DT, 270)
    set TQ = CreateUnit(FO, 'n00X', ET, FT, 270)
    set RQ = CreateUnit(FO, 'n009', GT, HT, 270)
    set PQ = CreateUnit(FO, 'n0HE', ZT, VT, 270)
    set QQ = CreateUnit(sentinelPlayers[0], 'etol', WT, XT, 270)
    set UQ = CreateUnit(sentinelPlayers[0], 'e00R', YT, JT, 90)
    set I00 = CreateUnit(sentinelPlayers[0], 'e00R', KT, LT, 45)
    set II0 = CreateUnit(sentinelPlayers[0], 'e00R', MT, ST, 0)
    set I10 = CreateUnit(sentinelPlayers[0], 'e011', TT, RT, 90)
    set IO0 = CreateUnit(sentinelPlayers[0], 'e011', PT, QT, 45)
    set I20 = CreateUnit(sentinelPlayers[0], 'e011', UT, IR, 0)
    set I30 = CreateUnit(sentinelPlayers[0], 'e00S', OR, BR, 90)
    set I40 = CreateUnit(sentinelPlayers[0], 'e00S', CR, DR, 45)
    set I50 = CreateUnit(sentinelPlayers[0], 'e00S', GR, HR, 0)
    set I60 = CreateUnit(sentinelPlayers[0], 'e019', ZR, WR, 45)
    set I70 = CreateUnit(sentinelPlayers[0], 'e019', XR, YR, 45)
    set I80 = CreateUnit(sentinelPlayers[0], 'eaom', JR, KR, 90)
    set I90 = CreateUnit(sentinelPlayers[0], 'eaom', LR, SR, 45)
    set IA0 = CreateUnit(sentinelPlayers[0], 'eaom', RR, PR, 0)
    set IB0 = CreateUnit(sentinelPlayers[0], 'eaoe', QR, UR, 90)
    set IC0 = CreateUnit(sentinelPlayers[0], 'eaoe', IP, OP, 45)
    set ID0 = CreateUnit(sentinelPlayers[0], 'eaoe', BP, DP, 0)
    set IE0 = CreateUnit(sentinelPlayers[0], 'emow', EP, FP, 270)
    set IF0 = CreateUnit(sentinelPlayers[0], 'emow', GP, ZP, 270)
    set IG0 = CreateUnit(sentinelPlayers[0], 'emow', VP, WP, 270)
    set IH0 = CreateUnit(sentinelPlayers[0], 'emow', XP, YP, 270)
    set IZ0 = CreateUnit(sentinelPlayers[0], 'emow', JP, KP, 270)
    set IV0 = CreateUnit(sentinelPlayers[0], 'emow', LP, MP, 270)
    set IW0 = CreateUnit(sentinelPlayers[0], 'emow', TP, RP, 270)
    set IX0 = CreateUnit(sentinelPlayers[0], 'emow', PP, QP, 270)
    set IY0 = CreateUnit(sentinelPlayers[0], 'emow', UP, IQ, 270)
    set IJ0 = CreateUnit(sentinelPlayers[0], 'emow', OQ, AQ, 270)
    set IK0 = CreateUnit(sentinelPlayers[0], 'emow', BQ, CQ, 270)
    set IL0 = CreateUnit(sentinelPlayers[0], 'eaow', DQ, EQ, 270)
    set IM0 = CreateUnit(sentinelPlayers[0], 'eaow', FQ, GQ, 270)
    set IN0 = CreateUnit(sentinelPlayers[0], 'edob', HQ, ZQ, 270)
    set IS0 = CreateUnit(sentinelPlayers[0], 'edob', VQ, WQ, 270)
    call SetPlayerAbilityAvailable(FO, 'Aro1', false)
    call SetUnitColor(YQ, WS)
    call SetUnitColor(LQ, WS)
    call SetUnitColor(KQ, XS)
    call SetUnitColor(JQ, XS)
    call SetUnitColor(MQ, XS)
    call SetUnitColor(NQ, XS)
    call SetUnitColor(SQ, XS)
    call SetUnitColor(TQ, XS)
    call SetUnitColor(RQ, XS)
    call setUnitInvulnerable(UQ, true)
    call setUnitInvulnerable(I00, true)
    call setUnitInvulnerable(II0, true)
    call setUnitInvulnerable(I10, true)
    call setUnitInvulnerable(IO0, true)
    call setUnitInvulnerable(I20, true)
    call setUnitInvulnerable(I30, true)
    call setUnitInvulnerable(I40, true)
    call setUnitInvulnerable(I50, true)
    call setUnitInvulnerable(I60, true)
    call setUnitInvulnerable(I70, true)
    call setUnitInvulnerable(QQ, true)
    call setUnitInvulnerable(I80, true)
    call setUnitInvulnerable(I90, true)
    call setUnitInvulnerable(IA0, true)
    call setUnitInvulnerable(IB0, true)
    call setUnitInvulnerable(IC0, true)
    call setUnitInvulnerable(ID0, true)
    call setUnitInvulnerable(IL0, true)
    call setUnitInvulnerable(IM0, true)
    call setUnitInvulnerable(IN0, true)
    call setUnitInvulnerable(IS0, true)
    call setUnitInvulnerable(IE0, true)
    call setUnitInvulnerable(IF0, true)
    call setUnitInvulnerable(IG0, true)
    call setUnitInvulnerable(IH0, true)
    call setUnitInvulnerable(IZ0, true)
    call setUnitInvulnerable(IV0, true)
    call setUnitInvulnerable(IW0, true)
    call setUnitInvulnerable(IX0, true)
    call setUnitInvulnerable(IY0, true)
    call setUnitInvulnerable(IJ0, true)
    call setUnitInvulnerable(IK0, true)
    set IP0 = GetUnitX(MX)
    set IQ0 = GetUnitY(MX)
    set IU0 = GetUnitX(ZX)
    set O00 = GetUnitY(ZX)
    set OI0 = GetUnitX(VX)
    set O10 = GetUnitY(VX)
    set OO0 = GetUnitX(WX)
    set O20 = GetUnitY(WX)
    set O30 = GetUnitX(GX)
    set O40 = GetUnitY(GX)
    set O50 = GetUnitX(DX)
    set O60 = GetUnitY(DX)
    set O70 = GetUnitX(CX)
    set O80 = GetUnitY(CX)
    set O90 = GetUnitX(BX)
    set OA0 = GetUnitY(BX)
    set OB0 = GetUnitX(EX)
    set OC0 = GetUnitY(EX)
    set OD0 = GetUnitX(HX)
    set OE0 = GetUnitY(HX)
    set OF0 = GetUnitX(IV)
    set OG0 = GetUnitY(IV)
    set OH0 = GetUnitX(IY)
    set OZ0 = GetUnitY(IY)
    set OV0 = GetUnitX(NZ)
    set OW0 = GetUnitY(NZ)
    set OX0 = GetUnitX(AY)
    set OY0 = GetUnitY(AY)
    set OJ0 = GetUnitX(UZ)
    set OK0 = GetUnitY(UZ)
    set OL0 = GetUnitX(CV)
    set OM0 = GetUnitY(CV)
    set ON0 = GetUnitX(BY)
    set OS0 = GetUnitY(BY)
    set OT0 = GetUnitX(QZ)
    set OR0 = GetUnitY(QZ)
    set OP0 = GetUnitX(AX)
    set OQ0 = GetUnitY(AX)
    set OU0 = GetUnitX(CY)
    set A00 = GetUnitY(CY)
    set AI0 = GetUnitX(LY)
    set A10 = GetUnitY(LY)
    set AO0 = GetUnitX(DY)
    set A20 = GetUnitY(DY)
    set A30 = GetUnitX(PX)
    set A40 = GetUnitY(PX)
    set A50 = GetUnitX(OX)
    set A60 = GetUnitY(OX)
    set A70 = GetUnitX(RX)
    set A80 = GetUnitY(RX)
    set A90 = GetUnitX(KY)
    set AA0 = GetUnitY(KY)
    set AB0 = GetUnitX(IX)
    set AC0 = GetUnitY(IX)
    set AD0 = GetUnitX(OY)
    set AE0 = GetUnitY(OY)
    set AF0 = GetUnitX(JY)
    set AG0 = GetUnitY(JY)
    set AH0 = GetUnitX(ZY)
    set AZ0 = GetUnitY(ZY)
    set AV0 = GetUnitX(FY)
    set AW0 = GetUnitY(FY)
    set AX0 = GetUnitX(XY)
    set AY0 = GetUnitY(XY)
    set AJ0 = GetUnitX(UW)
    set AK0 = GetUnitY(UW)
    set AL0 = GetUnitX(WY)
    set AM0 = GetUnitY(WY)
    set AN0 = GetUnitX(EY)
    set AS0 = GetUnitY(EY)
    set AT0 = GetUnitX(GY)
    set AR0 = GetUnitY(GY)
    set AP0 = GetUnitX(VY)
    set AQ0 = GetUnitY(VY)
    set AU0 = GetUnitX(MY)
    set B00 = GetUnitY(MY)
    set BI0 = GetUnitX(PW)
    set B10 = GetUnitY(PW)
    set BO0 = GetUnitX(QX)
    set B20 = GetUnitY(QX)
    set B30 = GetUnitX(QW)
    set B40 = GetUnitY(QW)
    set B50 = GetUnitX(YY)
    set B60 = GetUnitY(YY)
    set B70 = GetUnitX(HY)
    set B80 = GetUnitY(HY)
    set B90 = GetUnitX(UX)
    set BA0 = GetUnitY(UX)
    call RemoveUnit(ZY)
    call RemoveUnit(FY)
    call RemoveUnit(XY)
    call RemoveUnit(UW)
    call RemoveUnit(WY)
    call RemoveUnit(EY)
    call RemoveUnit(GY)
    call RemoveUnit(VY)
    call RemoveUnit(MY)
    call RemoveUnit(PW)
    call RemoveUnit(QX)
    call RemoveUnit(NZ)
    call RemoveUnit(CV)
    call RemoveUnit(AX)
    call RemoveUnit(AY)
    call RemoveUnit(BY)
    call RemoveUnit(CY)
    call RemoveUnit(UZ)
    call RemoveUnit(QZ)
    call RemoveUnit(LY)
    call RemoveUnit(DY)
    call RemoveUnit(PX)
    call RemoveUnit(OX)
    call RemoveUnit(RX)
    call RemoveUnit(KY)
    call RemoveUnit(IX)
    call RemoveUnit(OY)
    call RemoveUnit(JY)
    call RemoveUnit(QW)
    call RemoveUnit(YY)
    call RemoveUnit(HY)
    call RemoveUnit(UX)
    call RemoveUnit(IY)
    call RemoveUnit(DX)
    call RemoveUnit(CX)
    call RemoveUnit(BX)
    call RemoveUnit(EX)
    call RemoveUnit(HX)
    call RemoveUnit(IV)
    call RemoveUnit(WX)
    call RemoveUnit(VX)
    call RemoveUnit(MX)
    call RemoveUnit(ZX)
    call RemoveUnit(GX)
    set BB0 = CreateUnit(scourgePlayers[0], 'ndfl', IP0, IQ0, 270)
    set BC0 = CreateUnit(FO, 'nC35', IU0, O00, 270)
    set BD0 = CreateUnit(FO, 'n01K', OI0, O10, 270)
    set BE0 = CreateUnit(FO, 'nC38', OO0, O20, 270)
    set BF0 = CreateUnit(FO, 'u00Q', O30, O40, 270)
    set BG0 = CreateUnit(FO, 'n00V', O50, O60, 0)
    set BH0 = CreateUnit(FO, 'n00W', O70, O80, 0)
    set BZ0 = CreateUnit(FO, 'n002', O90, OA0, 0)
    set BV0 = CreateUnit(FO, 'n00X', OB0, OC0, 0)
    set BW0 = CreateUnit(FO, 'n009', OD0, OE0, 0)
    set BX0 = CreateUnit(FO, 'n0HE', OF0, OG0, 0)
    set BY0 = CreateUnit(scourgePlayers[0], 'unpl', OH0, OZ0, 220)
    set BJ0 = CreateUnit(scourgePlayers[0], 'u00M', OV0, OW0, 270)
    set BK0 = CreateUnit(scourgePlayers[0], 'u00M', OX0, OY0, 270)
    set BL0 = CreateUnit(scourgePlayers[0], 'u00M', OJ0, OK0, 270)
    set BM0 = CreateUnit(scourgePlayers[0], 'u00D', OL0, OM0, 270)
    set BN0 = CreateUnit(scourgePlayers[0], 'u00D', ON0, OS0, 270)
    set BS0 = CreateUnit(scourgePlayers[0], 'u00D', OT0, OR0, 270)
    set BT0 = CreateUnit(scourgePlayers[0], 'u00N', OP0, OQ0, 270)
    set BR0 = CreateUnit(scourgePlayers[0], 'u00N', OU0, A00, 270)
    set BP0 = CreateUnit(scourgePlayers[0], 'u00N', AI0, A10, 270)
    set BQ0 = CreateUnit(scourgePlayers[0], 'u00T', AO0, A20, 270)
    set BU0 = CreateUnit(scourgePlayers[0], 'u00T', A30, A40, 270)
    set C00 = CreateUnit(scourgePlayers[0], 'usep', A50, A60, 270)
    set CI0 = CreateUnit(scourgePlayers[0], 'usep', A70, A80, 270)
    set C10 = CreateUnit(scourgePlayers[0], 'usep', A90, AA0, 270)
    set CO0 = CreateUnit(scourgePlayers[0], 'utod', AB0, AC0, 270)
    set C20 = CreateUnit(scourgePlayers[0], 'utod', AD0, AE0, 270)
    set C30 = CreateUnit(scourgePlayers[0], 'utod', AF0, AG0, 270)
    set C40 = CreateUnit(scourgePlayers[0], 'uzig', AH0, AZ0, 270)
    set C50 = CreateUnit(scourgePlayers[0], 'uzig', AV0, AW0, 270)
    set C60 = CreateUnit(scourgePlayers[0], 'uzig', AX0, AY0, 270)
    set C70 = CreateUnit(scourgePlayers[0], 'uzig', AJ0, AK0, 270)
    set C80 = CreateUnit(scourgePlayers[0], 'uzig', AL0, AM0, 270)
    set C90 = CreateUnit(scourgePlayers[0], 'uzig', AN0, AS0, 270)
    set CA0 = CreateUnit(scourgePlayers[0], 'uzig', AT0, AR0, 270)
    set CB0 = CreateUnit(scourgePlayers[0], 'uzig', AP0, AQ0, 270)
    set CC0 = CreateUnit(scourgePlayers[0], 'uzig', AU0, B00, 270)
    set CD0 = CreateUnit(scourgePlayers[0], 'uzig', BI0, B10, 270)
    set CE0 = CreateUnit(scourgePlayers[0], 'uzig', BO0, B20, 270)
    set CF0 = CreateUnit(scourgePlayers[0], 'usap', B30, B40, 270)
    set CG0 = CreateUnit(scourgePlayers[0], 'usap', B50, B60, 270)
    set CH0 = CreateUnit(scourgePlayers[0], 'ubon', B70, B80, 270)
    set CZ0 = CreateUnit(scourgePlayers[0], 'ubon', B90, BA0, 270)
    call SetUnitColor(BC0, IT0)
    call SetUnitColor(BE0, IR0)
    call SetUnitColor(BD0, IR0)
    call SetUnitColor(BG0, IR0)
    call SetUnitColor(BH0, IR0)
    call SetUnitColor(BZ0, IR0)
    call SetUnitColor(BV0, IR0)
    call SetUnitColor(BW0, IR0)
    call setUnitInvulnerable(BJ0, true)
    call setUnitInvulnerable(BK0, true)
    call setUnitInvulnerable(BL0, true)
    call setUnitInvulnerable(BM0, true)
    call setUnitInvulnerable(BN0, true)
    call setUnitInvulnerable(BS0, true)
    call setUnitInvulnerable(BT0, true)
    call setUnitInvulnerable(BR0, true)
    call setUnitInvulnerable(BP0, true)
    call setUnitInvulnerable(BQ0, true)
    call setUnitInvulnerable(BU0, true)
    call setUnitInvulnerable(BY0, true)
    call setUnitInvulnerable(C00, true)
    call setUnitInvulnerable(CI0, true)
    call setUnitInvulnerable(C10, true)
    call setUnitInvulnerable(CO0, true)
    call setUnitInvulnerable(C20, true)
    call setUnitInvulnerable(C30, true)
    call setUnitInvulnerable(CF0, true)
    call setUnitInvulnerable(CG0, true)
    call setUnitInvulnerable(CH0, true)
    call setUnitInvulnerable(CZ0, true)
    call setUnitInvulnerable(C40, true)
    call setUnitInvulnerable(C50, true)
    call setUnitInvulnerable(C60, true)
    call setUnitInvulnerable(C70, true)
    call setUnitInvulnerable(C80, true)
    call setUnitInvulnerable(C90, true)
    call setUnitInvulnerable(CA0, true)
    call setUnitInvulnerable(CB0, true)
    call setUnitInvulnerable(CC0, true)
    call setUnitInvulnerable(CD0, true)
    call setUnitInvulnerable(CE0, true)
    set M1I = GetUnitX(DV)
    set MOI = GetUnitY(DV)
    set M2I = GetUnitX(HV)
    set M3I = GetUnitY(HV)
    set M4I = GetUnitX(GV)
    set M5I = GetUnitY(GV)
    set M6I = GetUnitX(EV)
    set M7I = GetUnitY(EV)
    set M8I = GetUnitX(FV)
    set M9I = GetUnitY(FV)
    set MAI = GetUnitX(YX)
    set MBI = GetUnitY(YX)
    set MCI = GetUnitX(XX)
    set MDI = GetUnitY(XX)
    set MEI = GetUnitX(LX)
    set MFI = GetUnitY(LX)
    set MGI = GetUnitX(JX)
    set MHI = GetUnitY(JX)
    set MZI = GetUnitX(KX)
    set MVI = GetUnitY(KX)
    set MWI = 25
    call RemoveUnit(DV)
    call RemoveUnit(HV)
    call RemoveUnit(GV)
    call RemoveUnit(EV)
    call RemoveUnit(FV)
    call RemoveUnit(YX)
    call RemoveUnit(XX)
    call RemoveUnit(LX)
    call RemoveUnit(JX)
    call RemoveUnit(KX)
    set CV0 = CreateUnit(Player(1), 'ncop', M1I, MOI, 270)
    call ClearSelectionForPlayer(Player(1))
    call SelectUnitAddForPlayer(CV0, Player(1))
    if GetLocalPlayer() == Player(1) then
        call SetUnitVertexColor(CV0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CV0, 255, 255, 255, MWI)
    endif
    set CW0 = CreateUnit(Player(2), 'ncop', M2I, M3I, 270)
    call ClearSelectionForPlayer(Player(2))
    call SelectUnitAddForPlayer(CW0, Player(2))
    if GetLocalPlayer() == Player(2) then
        call SetUnitVertexColor(CW0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CW0, 255, 255, 255, MWI)
    endif
    set CX0 = CreateUnit(Player(3), 'ncop', M4I, M5I, 270)
    call ClearSelectionForPlayer(Player(3))
    call SelectUnitAddForPlayer(CX0, Player(3))
    if GetLocalPlayer() == Player(3) then
        call SetUnitVertexColor(CX0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CX0, 255, 255, 255, MWI)
    endif
    set CY0 = CreateUnit(Player(4), 'ncop', M6I, M7I, 270)
    call ClearSelectionForPlayer(Player(4))
    call SelectUnitAddForPlayer(CY0, Player(4))
    if GetLocalPlayer() == Player(4) then
        call SetUnitVertexColor(CY0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CY0, 255, 255, 255, MWI)
    endif
    set CJ0 = CreateUnit(Player(5), 'ncop', M8I, M9I, 270)
    call ClearSelectionForPlayer(Player(5))
    call SelectUnitAddForPlayer(CJ0, Player(5))
    if GetLocalPlayer() == Player(5) then
        call SetUnitVertexColor(CJ0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CJ0, 255, 255, 255, MWI)
    endif
    set CK0 = CreateUnit(Player(7), 'ncop', MAI, MBI, 270)
    call ClearSelectionForPlayer(Player(7))
    call SelectUnitAddForPlayer(CK0, Player(7))
    if GetLocalPlayer() == Player(7) then
        call SetUnitVertexColor(CK0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CK0, 255, 255, 255, MWI)
    endif
    set CL0 = CreateUnit(Player(8), 'ncop', MCI, MDI, 270)
    call ClearSelectionForPlayer(Player(8))
    call SelectUnitAddForPlayer(CL0, Player(8))
    if GetLocalPlayer() == Player(8) then
        call SetUnitVertexColor(CL0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CL0, 255, 255, 255, MWI)
    endif
    set CM0 = CreateUnit(Player(9), 'ncop', MEI, MFI, 270)
    call ClearSelectionForPlayer(Player(9))
    call SelectUnitAddForPlayer(CM0, Player(9))
    if GetLocalPlayer() == Player(9) then
        call SetUnitVertexColor(CM0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CM0, 255, 255, 255, MWI)
    endif
    set CN0 = CreateUnit(Player(10), 'ncop', MGI, MHI, 270)
    call ClearSelectionForPlayer(Player(10))
    call SelectUnitAddForPlayer(CN0, Player(10))
    if GetLocalPlayer() == Player(10) then
        call SetUnitVertexColor(CN0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CN0, 255, 255, 255, MWI)
    endif
    set CS0 = CreateUnit(Player(11), 'ncop', MZI, MVI, 270)
    call ClearSelectionForPlayer(Player(11))
    call SelectUnitAddForPlayer(CS0, Player(11))
    if GetLocalPlayer() == Player(11) then
        call SetUnitVertexColor(CS0, 255, 255, 255, 255)
    else 
        call SetUnitVertexColor(CS0, 255, 255, 255, MWI)
    endif
    set CT0[1] = CV0
    set CT0[2] = CW0
    set CT0[3] = CX0
    set CT0[4] = CY0
    set CT0[5] = CJ0
    set CT0[7] = CK0
    set CT0[8] = CL0
    set CT0[9] = CM0
    set CT0[10] = CN0
    set CT0[11] = CS0
    set CR0[1] = GetUnitX(CV0)
    set CR0[2] = GetUnitX(CW0)
    set CR0[3] = GetUnitX(CX0)
    set CR0[4] = GetUnitX(CY0)
    set CR0[5] = GetUnitX(CJ0)
    set CR0[7] = GetUnitX(CK0)
    set CR0[8] = GetUnitX(CL0)
    set CR0[9] = GetUnitX(CM0)
    set CR0[10] = GetUnitX(CN0)
    set CR0[11] = GetUnitX(CS0)
    set CP0[1] = GetUnitY(CV0)
    set CP0[2] = GetUnitY(CW0)
    set CP0[3] = GetUnitY(CX0)
    set CP0[4] = GetUnitY(CY0)
    set CP0[5] = GetUnitY(CJ0)
    set CP0[7] = GetUnitY(CK0)
    set CP0[8] = GetUnitY(CL0)
    set CP0[9] = GetUnitY(CM0)
    set CP0[10] = GetUnitY(CN0)
    set CP0[11] = GetUnitY(CS0)
    call MPI()
    call N1I()
    call setUnitAnim('esen', "stand 4")
    call setUnitAnim('e00V', "stand 4")
    call setUnitAnim('edry', "spell")
    call setUnitAnim('e00W', "spell")
    call setUnitAnim('ugho', "stand victory")
    call setUnitAnim('u001', "stand victory")
    call setUnitAnim('unec', "stand channel")
    call setUnitAnim('u002', "stand channel")
    call setHeroScaleAndSelector('n00M', 0.4, 'n00M')
    set t = CreateTrigger()
    set EYI = Player(15)
    set N3I = GetUnitX(TX)
    set N4I = GetUnitY(TX)
    set N5I = GetUnitX(AV)
    set N6I = GetUnitY(AV)
    set N7I = GetUnitX(NX)
    set N8I = GetUnitY(NX)
    set N9I = GetUnitX(OV)
    set NAI = GetUnitY(OV)
    set NBI = GetUnitX(BV)
    set NCI = GetUnitY(BV)
    set NDI = GetUnitX(VZ)
    set NEI = GetUnitY(VZ)
    set NFI = GetUnitX(LZ)
    set NGI = GetUnitY(LZ)
    set NHI = GetUnitX(SX)
    set NZI = GetUnitY(SX)
    set NVI = GetUnitX(NY)
    set NWI = GetUnitY(NY)
    call RemoveUnit(TX)
    call RemoveUnit(BV)
    call RemoveUnit(AV)
    call RemoveUnit(OV)
    call RemoveUnit(NX)
    call RemoveUnit(VZ)
    call RemoveUnit(LZ)
    call RemoveUnit(SX)
    call RemoveUnit(NY)
    call RemoveUnit(houseDummyOtaku)
    set houseIntSen = CreateUnit(EYI, 'n008', N9I, NAI, 270)
    set houseIntNeu = CreateUnit(EYI, 'n0GJ', NBI, NCI, 270)
    set houseIntSco = CreateUnit(EYI, 'n01D', NDI, NEI, 270)
    set houseAgiSen = CreateUnit(EYI, 'n01N', N3I, N4I, 270)
    set houseAgiNeu = CreateUnit(EYI, 'n007', N5I, N6I, 270)
    set houseAgiSco = CreateUnit(EYI, 'n005', N7I, N8I, 270)
    set houseStrSen = CreateUnit(EYI, 'n01B', NFI, NGI, 270)
    set houseStrNeu = CreateUnit(EYI, 'n01P', NHI, NZI, 270)
    set houseStrSco = CreateUnit(EYI, 'n0GK', NVI, NWI, 270)
    set houseOtaku = CreateUnit(EYI, 'nPR6', GetUnitX(houseDummyOtaku), GetUnitY(houseDummyOtaku), 240)
    call SetUnitColor(houseIntSen, ConvertPlayerColor(1))
    call SetUnitColor(houseIntNeu, ConvertPlayerColor(9))
    call SetUnitColor(houseIntSco, ConvertPlayerColor(12))
    call SetUnitColor(houseAgiSen, ConvertPlayerColor(6))
    call SetUnitColor(houseAgiNeu, ConvertPlayerColor(10))
    call SetUnitColor(houseAgiSco, ConvertPlayerColor(12))
    call SetUnitColor(houseStrSen, ConvertPlayerColor(0))
    call SetUnitColor(houseStrNeu, ConvertPlayerColor(11))
    call SetUnitColor(houseStrSco, ConvertPlayerColor(12))
    call SetUnitColor(houseOtaku, ConvertPlayerColor(11))
    set t = null
    set P2[1] = 'AImt'
    set P2[2] = 'AIda'
    set P2[3] = 'ANtm'
    set P2[4] = 'ACch'
    set P2[5] = 'AIxk'
    set P2[6] = 'A0CK'
    set P2[7] = 'A017'
    set P2[8] = 'A0B8'
    set P2[9] = 'A0HB'
    set P2[10] = 'A0D3'
    set P2[10] = 'A0DF'
    set P2[11] = 'A02W'
    set P2[12] = 'AIpr'
    set P2[13] = 'AIpl'
    set P2[14] = 'A0FO'
    set P2[15] = 'A0H7'
    set P2[16] = 'A0H6'
    set P2[17] = 'A02X'
    set P2[18] = 'AIsw'
    set P2[19] = 'A0CX'
    set P2[20] = 'A0B6'
    set P2[21] = 'Aeat'
    set P2[22] = 'A08L'
    set P2[23] = 'AIcy'
    set P2[24] = 'A05Z'
    set P2[25] = 'AIbk'
    set P2[26] = 'A0DY'
    set P2[27] = 'A0LZ'
    set P2[28] = 'A0OI'
    set P2[29] = 'A0KX'
    set P2[30] = 'A0KW'
    set P2[31] = 'A026'
    set P2[32] = 'A0C4'
    set P2[33] = 'A012'
    set P2[34] = 'A06K'
    set P2[35] = 'A02T'
    set P2[36] = 'AHfa'
    set P2[37] = 'A09V'
    set P2[38] = 'A05Y'
    set P2[39] = 'A0I9'
    set P2[40] = 'A0HA'
    set P2[41] = 'A0K5'
    set P2[42] = 'A0PY'
    set P2[43] = 'A0QN'
    set P2[44] = 'A0RT'
    set P2[45] = 'A0RP'
    set P2[46] = 'A12W'
    set P2[47] = 'A0SA'
    set P2[48] = 'A0T7'
    set P2[49] = 'A0T8'
    set P2[50] = 'A14A'
    set P2[51] = 'A0BE'
    set P2[52] = 'A0VA'
    set P2[53] = 'A0VB'
    set P2[54] = 'A0V9'
    set P2[55] = 'A0MP'
    set P2[56] = 'A13D'
    set P2[57] = 'A0JY'
    set P2[58] = 'A15W'
    set P2[59] = 'A1FO'
    set P2[60] = 'A1FD'
    set P2[61] = 'A1OZ'
    set P2[62] = 'A1MO'
    set P2[63] = 'A1IO'
    set P2[64] = 'A1Q8'
    set P2[65] = 'A1RA'
    set P2[66] = 'A1QV'
    set Q2 = 66
    set E20 = E20 + 1
    set EO0[E20] = 'A0H6'
    set E20 = E20 + 1
    set EO0[E20] = 'A012'
    set E20 = E20 + 1
    set EO0[E20] = 'A06K'
    set E20 = E20 + 1
    set EO0[E20] = 'A0I9'
    set E20 = E20 + 1
    set EO0[E20] = 'A0HA'
    set E20 = E20 + 1
    set EO0[E20] = 'A0K5'
    set E20 = E20 + 1
    set EO0[E20] = 'A0PY'
    set E20 = E20 + 1
    set EO0[E20] = 'A1FO'
    set E20 = E20 + 1
    set EO0[E20] = 'A0RT'
    set E20 = E20 + 1
    set EO0[E20] = 'A0SA'
    set E20 = E20 + 1
    set EO0[E20] = 'A0T7'
    set E20 = E20 + 1
    set EO0[E20] = 'A0T8'
    set E20 = E20 + 1
    set EO0[E20] = 'A14A'
    set E20 = E20 + 1
    set EO0[E20] = 'A0BE'
    set E20 = E20 + 1
    set EO0[E20] = 'A0VA'
    set E20 = E20 + 1
    set EO0[E20] = 'A0VB'
    set E20 = E20 + 1
    set EO0[E20] = 'A0V9'
    set E20 = E20 + 1
    set EO0[E20] = 'Anh1'
    set E20 = E20 + 1
    set EO0[E20] = 'A1OZ'
    set E20 = E20 + 1
    set EO0[E20] = 'A13D'
    set E20 = E20 + 1
    set EO0[E20] = 'A026'
    set E20 = E20 + 1
    set EO0[E20] = 'A1Q8'
    set JG = CreateTrigger()
    call TriggerRegisterTimerEventSingle(JG, 0.01)
    call TriggerAddAction(JG, function NKI)
    set t = CreateTrigger()
    call TriggerRegisterPlayerEventLeave(t, sentinelPlayers[1])
    call TriggerRegisterPlayerEventLeave(t, sentinelPlayers[2])
    call TriggerRegisterPlayerEventLeave(t, sentinelPlayers[3])
    call TriggerRegisterPlayerEventLeave(t, sentinelPlayers[4])
    call TriggerRegisterPlayerEventLeave(t, sentinelPlayers[5])
    call TriggerRegisterPlayerEventLeave(t, scourgePlayers[1])
    call TriggerRegisterPlayerEventLeave(t, scourgePlayers[2])
    call TriggerRegisterPlayerEventLeave(t, scourgePlayers[3])
    call TriggerRegisterPlayerEventLeave(t, scourgePlayers[4])
    call TriggerRegisterPlayerEventLeave(t, scourgePlayers[5])
    call TriggerAddAction(t, function S0I)
    if E2 then
        call NNI()
        set t = CreateTrigger()
        if IsPlayerObserver(CQ0) then
            call TriggerRegisterPlayerEventLeave(t, CQ0)
        endif
        if IsPlayerObserver(CU0) then
            call TriggerRegisterPlayerEventLeave(t, CU0)
        endif
        call TriggerAddAction(t, function NSI)
    endif
    set E30[0] = false
    set E30[1] = false
    set E30[2] = false
    set E30[3] = false
    set E30[4] = false
    set E30[5] = false
    set E30[6] = false
    set E30[7] = false
    set E30[8] = false
    set E30[9] = false
    set E30[10] = false
    set E30[11] = false
    set E30[12] = false
    set E30[13] = false
    set E30[14] = false
    set E30[15] = false
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_HERO_REVIVE_FINISH)
    call TriggerAddAction(t, function SJI)
    set t = CreateTrigger()
    call TriggerRegisterEnterRectSimple(t, bj_mapInitialPlayableArea)
    call TriggerAddCondition(t, Condition(function BD1))
    call TriggerAddAction(t, function BJ1)
    set CN = t
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
    call TriggerAddAction(t, function BS1)
    call TriggerAddCondition(t, Condition(function BN1))
    set E70 = t
    set trigAddSalary = CreateTrigger()
    call TriggerRegisterTimerEvent(trigAddSalary, 0.875, true)
    call TriggerAddCondition(trigAddSalary, Condition(function addSalary))
    call DisableTrigger(trigAddSalary)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, .5, true)
    call TriggerAddAction(t, function BQ1)
    set E90 = t
    call J9I(0, 0, false)
    call CI1()
    set KG = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(KG, sentinelPlayers[0], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue))
    call TriggerRegisterPlayerUnitEvent(KG, scourgePlayers[0], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue))
    call TriggerRegisterPlayerUnitEvent(KG, playerNeutrals, EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue))
    call TriggerAddAction(KG, function CF1)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function CN1))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function unitShouldProceed))
    call TriggerAddAction(t, function heroDeathEventHandler)
    set LG = t
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function firstBloodEventHandler))
    set t = null
    set EP0 = CreateTrigger()
    call TriggerAddCondition(EP0, Condition(function E31))
    set MG = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(MG, playerNeutrals, EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerAddCondition(MG, Condition(function E81))
    call TriggerAddAction(MG, function EB1)
    set t = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[0], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[0], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerAddCondition(t, Condition(function EL1))
    set t = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[1], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[2], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[3], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[4], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[5], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[1], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[2], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[3], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[4], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[5], EVENT_PLAYER_UNIT_DEATH, Condition(function returnTrue1))
    call TriggerAddCondition(t, Condition(function EF1))
    set t = null
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0FF'
    set itemId[FA0] = 'I0FG'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02Q'
    set itemId[FA0] = 'I02O'
    set itemInShopId[FA0] = 'h011'
    set itemDisabledId[FA0] = 'I00A'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"
    set itemCooldown[FA0] = 0
    set FB0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02S'
    set itemId[FA0] = 'I02P'
    set itemInShopId[FA0] = 'h012'
    set itemDisabledId[FA0] = 'I0CA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
    set itemCooldown[FA0] = 0
    set FC0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02N'
    set itemId[FA0] = 'I02R'
    set itemInShopId[FA0] = 'h013'
    set itemDisabledId[FA0] = 'I0CS'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
    set itemCooldown[FA0] = 0
    set FD0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02X'
    set itemId[FA0] = 'I02Y'
    set itemInShopId[FA0] = 'h015'
    set itemDisabledId[FA0] = 'I0D4'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNCirclet.blp"
    set itemCooldown[FA0] = 0
    set FE0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02Z'
    set itemId[FA0] = 'I043'
    set itemInShopId[FA0] = 'h016'
    set itemDisabledId[FA0] = 'I0CV'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
    set itemCooldown[FA0] = 0
    set FF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I030'
    set itemId[FA0] = 'I044'
    set itemInShopId[FA0] = 'h017'
    set itemDisabledId[FA0] = 'I0D2'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_03.blp"
    set itemCooldown[FA0] = 0
    set FG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I031'
    set itemId[FA0] = 'I045'
    set itemInShopId[FA0] = 'h018'
    set itemDisabledId[FA0] = 'I0D5'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
    set itemCooldown[FA0] = 0
    set FH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I032'
    set itemId[FA0] = 'I046'
    set itemInShopId[FA0] = 'h019'
    set itemDisabledId[FA0] = 'I0CZ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"
    set itemCooldown[FA0] = 0
    set FZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I033'
    set itemId[FA0] = 'I047'
    set itemInShopId[FA0] = 'h01A'
    set itemDisabledId[FA0] = 'I0D7'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_12.blp"
    set itemCooldown[FA0] = 0
    set FV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I034'
    set itemId[FA0] = 'I048'
    set itemInShopId[FA0] = 'h01B'
    set itemDisabledId[FA0] = 'I0CX'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_19.blp"
    set itemCooldown[FA0] = 0
    set FW0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I035'
    set itemId[FA0] = 'I049'
    set itemInShopId[FA0] = 'h01C'
    set itemDisabledId[FA0] = 'I0CI'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNFrostMourne.blp"
    set itemCooldown[FA0] = 0
    set FX0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I036'
    set itemId[FA0] = 'I04A'
    set itemInShopId[FA0] = 'h01D'
    set itemDisabledId[FA0] = 'I0CH'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Bow_06.blp"
    set itemCooldown[FA0] = 0
    set FY0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I037'
    set itemId[FA0] = 'I04B'
    set itemInShopId[FA0] = 'h01E'
    set itemDisabledId[FA0] = 'I0CR'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
    set itemCooldown[FA0] = 0
    set FJ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I038'
    set itemId[FA0] = 'I04C'
    set itemInShopId[FA0] = 'h01F'
    set itemDisabledId[FA0] = 'I0CJ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGauntletsOfOgrePower.blp"
    set itemCooldown[FA0] = 0
    set FK0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I039'
    set itemId[FA0] = 'I04D'
    set itemInShopId[FA0] = 'h01G'
    set itemDisabledId[FA0] = 'I0DG'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGem.blp"
    set itemCooldown[FA0] = 0
    set FL0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03B'
    set itemId[FA0] = 'I04E'
    set itemInShopId[FA0] = 'h01H'
    set itemDisabledId[FA0] = 'I0DA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
    set itemCooldown[FA0] = 0
    set FM0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03C'
    set itemId[FA0] = 'I04F'
    set itemInShopId[FA0] = 'h01I'
    set itemDisabledId[FA0] = 'I0CQ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNPeriapt1.blp"
    set itemCooldown[FA0] = 0
    set FN0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03D'
    set itemId[FA0] = 'I04G'
    set itemInShopId[FA0] = 'h01J'
    set itemDisabledId[FA0] = 'I0CU'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNNatureTouchGrow.blp"
    set itemCooldown[FA0] = 0
    set FS0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03E'
    set itemId[FA0] = 'I04H'
    set itemInShopId[FA0] = 'h01K'
    set itemDisabledId[FA0] = 'I0C7'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
    set itemCooldown[FA0] = 14
    set FT0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03E'
    set itemId[FA0] = 'I04I'
    set itemInShopId[FA0] = 'h01K'
    set itemDisabledId[FA0] = 'I0DH'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
    set itemCooldown[FA0] = 0
    set FR0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03F'
    set itemId[FA0] = 'I04J'
    set itemInShopId[FA0] = 'h01L'
    set itemDisabledId[FA0] = 'I0CM'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNMantleOfIntelligence.blp"
    set itemCooldown[FA0] = 0
    set FP0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03G'
    set itemId[FA0] = 'I04K'
    set itemInShopId[FA0] = 'h01M'
    set itemDisabledId[FA0] = 'I0CD'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
    set itemCooldown[FA0] = 0
    set FQ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03H'
    set itemId[FA0] = 'I04L'
    set itemInShopId[FA0] = 'h01N'
    set itemDisabledId[FA0] = 'I0CG'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerMasterTraining.blp"
    set itemCooldown[FA0] = 0
    set FU0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03I'
    set itemId[FA0] = 'I04M'
    set itemInShopId[FA0] = 'h01O'
    set itemDisabledId[FA0] = 'I0D0'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHammer.blp"
    set itemCooldown[FA0] = 0
    set G00 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03J'
    set itemId[FA0] = 'I04N'
    set itemInShopId[FA0] = 'h01P'
    set itemDisabledId[FA0] = 'I0CN'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNStaffOfNegation.blp"
    set itemCooldown[FA0] = 0
    set GI0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03K'
    set itemId[FA0] = 'I04O'
    set itemInShopId[FA0] = 'h01Q'
    set itemDisabledId[FA0] = 'I0D8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerAdeptTraining.tga"
    set itemCooldown[FA0] = 0
    set G10 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03L'
    set itemId[FA0] = 'I04P'
    set itemInShopId[FA0] = 'h01R'
    set itemDisabledId[FA0] = 'I0CE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
    set itemCooldown[FA0] = 0
    set GO0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03M'
    set itemId[FA0] = 'I04Q'
    set itemInShopId[FA0] = 'h01S'
    set itemDisabledId[FA0] = 'I0DB'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate13.blp"
    set itemCooldown[FA0] = 0
    set G20 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03N'
    set itemId[FA0] = 'I04R'
    set itemInShopId[FA0] = 'h01T'
    set itemDisabledId[FA0] = 'I0CL'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp"
    set itemCooldown[FA0] = 0
    set G30 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03P'
    set itemId[FA0] = 'I04S'
    set itemInShopId[FA0] = 'h01U'
    set itemDisabledId[FA0] = 'I0CY'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
    set itemCooldown[FA0] = 0
    set G40 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03Q'
    set itemId[FA0] = 'I04T'
    set itemInShopId[FA0] = 'h01V'
    set itemDisabledId[FA0] = 'I0DI'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
    set itemCooldown[FA0] = 0
    set G50 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03R'
    set itemId[FA0] = 'I04U'
    set itemInShopId[FA0] = 'h01W'
    set itemDisabledId[FA0] = 'I0CW'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRingPurple.blp"
    set itemCooldown[FA0] = 0
    set G60 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03S'
    set itemId[FA0] = 'I04V'
    set itemInShopId[FA0] = 'h01X'
    set itemDisabledId[FA0] = 'I0DJ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
    set itemCooldown[FA0] = 0
    set G70 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03T'
    set itemId[FA0] = 'I04W'
    set itemInShopId[FA0] = 'h01Y'
    set itemDisabledId[FA0] = 'I0CP'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
    set itemCooldown[FA0] = 0
    set G80 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03U'
    set itemId[FA0] = 'I04X'
    set itemInShopId[FA0] = 'h01Z'
    set itemDisabledId[FA0] = 'I0CC'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNStaffOfTeleportation.blp"
    set itemCooldown[FA0] = 0
    set G90 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03V'
    set itemId[FA0] = 'I04Y'
    set itemInShopId[FA0] = 'h020'
    set itemDisabledId[FA0] = 'I0C5'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
    set itemCooldown[FA0] = 0
    set GA0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03W'
    set itemId[FA0] = 'I04Z'
    set itemInShopId[FA0] = 'h021'
    set itemDisabledId[FA0] = 'I0DK'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
    set itemCooldown[FA0] = 0
    set GB0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03X'
    set itemId[FA0] = 'I050'
    set itemInShopId[FA0] = 'h022'
    set itemDisabledId[FA0] = 'I0D1'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNWandOfCyclone.blp"
    set itemCooldown[FA0] = 0
    set GC0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03A'
    set itemId[FA0] = 'I051'
    set itemInShopId[FA0] = 'h023'
    set itemDisabledId[FA0] = 'I0D9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
    set itemCooldown[FA0] = 0
    set GD0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0KB'
    set itemId[FA0] = 'I0KA'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0KC'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
    set itemCooldown[FA0] = 0
    set GE0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03Y'
    set itemId[FA0] = 'I052'
    set itemInShopId[FA0] = 'h024'
    set itemDisabledId[FA0] = 'I0C9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
    set itemCooldown[FA0] = 0
    set GF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03Z'
    set itemId[FA0] = 'I053'
    set itemInShopId[FA0] = 'h025'
    set itemDisabledId[FA0] = 'I0CK'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp"
    set itemCooldown[FA0] = 0
    set GG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I040'
    set itemId[FA0] = 'I054'
    set itemInShopId[FA0] = 'h026'
    set itemDisabledId[FA0] = 'I0DL'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNPeriapt.blp"
    set itemCooldown[FA0] = 0
    set GH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I041'
    set itemId[FA0] = 'I055'
    set itemInShopId[FA0] = 'h027'
    set itemDisabledId[FA0] = 'I0D6'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSteelRanged.blp"
    set itemCooldown[FA0] = 0
    set GZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00L'
    set itemId[FA0] = 'I0AV'
    set itemInShopId[FA0] = 'h02B'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
    set itemCooldown[FA0] = 0
    set GV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05E'
    set itemId[FA0] = 'I0AM'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DN'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"
    set itemCooldown[FA0] = 0
    set GW0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AU'
    set itemId[FA0] = 'I0AN'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DO'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"
    set itemCooldown[FA0] = 0
    set GX0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AS'
    set itemId[FA0] = 'I0AO'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DP'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle2.blp"
    set itemCooldown[FA0] = 0
    set GY0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AT'
    set itemId[FA0] = 'I0AP'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DQ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle3.blp"
    set itemCooldown[FA0] = 0
    set GJ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0GW'
    set itemId[FA0] = 'I0GY'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0H3'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"
    set itemCooldown[FA0] = 0
    set GS0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0H2'
    set itemId[FA0] = 'I0GX'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DR'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Regeneration.blp"
    set itemCooldown[FA0] = 0
    set GN0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0GV'
    set itemId[FA0] = 'I0H1'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0H4'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Haste.blp"
    set itemCooldown[FA0] = 0
    set GM0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AR'
    set itemId[FA0] = 'I0H0'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0H6'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle_DoubleDamage.blp"
    set itemCooldown[FA0] = 0
    set GL0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AQ'
    set itemId[FA0] = 'I0GZ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0H5'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBottle_Invisibility.blp"
    set itemCooldown[FA0] = 0
    set GK0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0GD'
    set itemId[FA0] = 'I0GC'
    set itemInShopId[FA0] = 'h074'
    set itemDisabledId[FA0] = 'I0GE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNWand.blp"
    set itemCooldown[FA0] = 17
    set GT0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HC'
    set itemId[FA0] = 'I0HB'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0HA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"
    set itemCooldown[FA0] = 17
    set VJ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HT'
    set itemId[FA0] = 'I0HR'
    set itemInShopId[FA0] = 'h07W'
    set itemDisabledId[FA0] = 'I0HV'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
    set itemCooldown[FA0] = 15
    set GR0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HU'
    set itemId[FA0] = 'I0HP'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0HW'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
    set itemCooldown[FA0] = 15
    set GP0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J7'
    set itemId[FA0] = 'I0J6'
    set itemInShopId[FA0] = 'h083'
    set itemDisabledId[FA0] = 'I0J8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
    set itemCooldown[FA0] = 0
    set GQ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0JJ'
    set itemId[FA0] = 'I0JI'
    set itemInShopId[FA0] = 'h087'
    set itemDisabledId[FA0] = 'I0JK'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGreenStaff.blp"
    set itemCooldown[FA0] = 25
    set VS0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I057'
    set itemId[FA0] = 'I05C'
    set itemInShopId[FA0] = 'h02A'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"
    set itemCooldown[FA0] = 0
    set HO0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I042'
    set itemId[FA0] = 'I05D'
    set itemInShopId[FA0] = 'h028'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNLesserClarityPotion.blp"
    set itemCooldown[FA0] = 0
    set H00 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HO'
    set itemId[FA0] = 'I0HN'
    set itemInShopId[FA0] = 'h07V'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNVialFull.blp"
    set itemCooldown[FA0] = 0
    set HI0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I056'
    set itemId[FA0] = 'I05F'
    set itemInShopId[FA0] = 'h029'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHealingSalve.blp"
    set itemCooldown[FA0] = 0
    set H10 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I058'
    set itemId[FA0] = 'I05G'
    set itemInShopId[FA0] = 'h02C'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSentryWard.blp"
    set itemCooldown[FA0] = 0
    set H20 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I059'
    set itemId[FA0] = 'I05H'
    set itemInShopId[FA0] = 'h02D'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBlueSentryWard.blp"
    set itemCooldown[FA0] = 0
    set H30 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05A'
    set itemId[FA0] = 'I05I'
    set itemInShopId[FA0] = 'h02E'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
    set itemCooldown[FA0] = 0
    set H40 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05B'
    set itemId[FA0] = 'I05J'
    set itemInShopId[FA0] = 'h02F'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp"
    set itemCooldown[FA0] = 0
    set H50 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B0'
    set itemId[FA0] = 'I0B1'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNCheese.blp"
    set itemCooldown[FA0] = 0
    set H60 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0GG'
    set itemId[FA0] = 'I0GF'
    set itemInShopId[FA0] = 'h075'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNPotionOfDivinity.blp"
    set itemCooldown[FA0] = 30
    set H70 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0GI'
    set itemId[FA0] = 'I0GH'
    set itemInShopId[FA0] = 'h076'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNDustOfAppearance.blp"
    set itemCooldown[FA0] = 60
    set H80 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0KT'
    set itemId[FA0] = 'I0KS'
    set itemInShopId[FA0] = 'h0B9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNWandOfManaSteal.blp"
    set itemCooldown[FA0] = 0
    set H90 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I061'
    set itemId[FA0] = 'I062'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01J'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"
    set itemCooldown[FA0] = 0
    set HA0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I064'
    set itemId[FA0] = 'I063'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01K'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_17.blp"
    set itemCooldown[FA0] = 0
    set HB0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I065'
    set itemId[FA0] = 'I066'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01L'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNThoriumArmor.blp"
    set itemCooldown[FA0] = 25
    set HC0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I068'
    set itemId[FA0] = 'I067'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01M'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
    set itemCooldown[FA0] = 0
    set HD0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I069'
    set itemId[FA0] = 'I06A'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0C6'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"
    set itemCooldown[FA0] = 0
    set HE0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06C'
    set itemId[FA0] = 'I06B'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01P'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAbility_Rogue_Sprint.blp"
    set itemCooldown[FA0] = 60
    set HF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03O'
    set itemId[FA0] = 'I02T'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01R'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNWirtsLegGreen.blp"
    set itemCooldown[FA0] = 0
    set HG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02U'
    set itemId[FA0] = 'I05Y'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01Q'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNWirtsLeg.blp"
    set itemCooldown[FA0] = 0
    set HH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I060'
    set itemId[FA0] = 'I05Z'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01S'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNWirtsLegBlue.blp"
    set itemCooldown[FA0] = 0
    set HZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06E'
    set itemId[FA0] = 'I06D'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01T'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"
    set itemCooldown[FA0] = 100
    set HV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06G'
    set itemId[FA0] = 'I06F'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01U'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Mace_10.blp"
    set itemCooldown[FA0] = 0
    set HW0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06I'
    set itemId[FA0] = 'I06H'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01V'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRunedBracers.blp"
    set itemCooldown[FA0] = 0
    set HX0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06K'
    set itemId[FA0] = 'I06J'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01W'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"
    set itemCooldown[FA0] = 0
    set HY0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06M'
    set itemId[FA0] = 'I06L'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01X'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNTalisman.tga"
    set itemCooldown[FA0] = 0
    set HJ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08F'
    set itemId[FA0] = 'I08G'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01Y'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_10.blp"
    set itemCooldown[FA0] = 0
    set HK0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08I'
    set itemId[FA0] = 'I08H'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01Z'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNJapaneseSword.BLP"
    set itemCooldown[FA0] = 0
    set HL0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08J'
    set itemId[FA0] = 'I08K'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I020'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
    set itemCooldown[FA0] = 0
    set HM0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08M'
    set itemId[FA0] = 'I08L'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0C8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"
    set itemCooldown[FA0] = 0
    set HN0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08N'
    set itemId[FA0] = 'I08O'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I021'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate06.blp"
    set itemCooldown[FA0] = 25
    set HS0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08Q'
    set itemId[FA0] = 'I08P'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I022'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNStormHammer.blp"
    set itemCooldown[FA0] = 0
    set HT0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08S'
    set itemId[FA0] = 'I08R'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I023'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
    set itemCooldown[FA0] = 12
    set HR0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0JB'
    set itemId[FA0] = 'I0J9'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JD'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
    set itemCooldown[FA0] = 12
    set HP0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0EW'
    set itemId[FA0] = 'I0EV'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0EX'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
    set itemCooldown[FA0] = 0
    set HQ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0JC'
    set itemId[FA0] = 'I0JA'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"
    set itemCooldown[FA0] = 0
    set HU0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08U'
    set itemId[FA0] = 'I08T'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I024'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
    set itemCooldown[FA0] = 300
    set Z00 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08W'
    set itemId[FA0] = 'I08V'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0CO'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"
    set itemCooldown[FA0] = 0
    set ZI0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I08X'
    set itemId[FA0] = 'I08Y'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I025'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHelmOfValor.blp"
    set itemCooldown[FA0] = 22
    set Z10 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I090'
    set itemId[FA0] = 'I08Z'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I026'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNStaffofpurification.blp"
    set itemCooldown[FA0] = 30
    set ZO0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I092'
    set itemId[FA0] = 'I091'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I027'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNPhilosophersStone.blp"
    set itemCooldown[FA0] = 0
    set Z20 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I094'
    set itemId[FA0] = 'I093'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I028'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"
    set itemCooldown[FA0] = 45
    set Z30 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I096'
    set itemId[FA0] = 'I095'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I029'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSpell_Holy_BlessingOfStrength.blp"
    set itemCooldown[FA0] = 0
    set Z40 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I098'
    set itemId[FA0] = 'I097'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02A'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAbility_Gouge.blp"
    set itemCooldown[FA0] = 0
    set Z50 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09A'
    set itemId[FA0] = 'I099'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02B'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_06.blp"
    set itemCooldown[FA0] = 0
    set Z60 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09B'
    set itemId[FA0] = 'I09C'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02C'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp"
    set itemCooldown[FA0] = 0
    set Z70 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0G2'
    set itemId[FA0] = 'I0FZ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0G8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set itemCooldown[FA0] = 80
    set Z80 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0G6'
    set itemId[FA0] = 'I0G0'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0G9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set itemCooldown[FA0] = 75
    set Z90 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09E'
    set itemId[FA0] = 'I0FY'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0G7'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set itemCooldown[FA0] = 70
    set ZA0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0G5'
    set itemId[FA0] = 'I0FS'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02D'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set itemCooldown[FA0] = 65
    set ZB0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0G3'
    set itemId[FA0] = 'I09D'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0GB'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set itemCooldown[FA0] = 60
    set ZC0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0G4'
    set itemId[FA0] = 'I0G1'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0GA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"
    set itemCooldown[FA0] = 55
    set ZD0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AX'
    set itemId[FA0] = 'I0AW'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp"
    set itemCooldown[FA0] = 0
    set itemIdAegisOfImmortal = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09G'
    set itemId[FA0] = 'I09F'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02E'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"
    set itemCooldown[FA0] = 50
    set ZF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09I'
    set itemId[FA0] = 'I09H'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02F'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNLothars.BLP"
    set itemCooldown[FA0] = 22
    set ZG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09K'
    set itemId[FA0] = 'I09M'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01G'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set itemCooldown[FA0] = 40
    set ZH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09J'
    set itemId[FA0] = 'I09P'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02G'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set itemCooldown[FA0] = 36
    set ZZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09Q'
    set itemId[FA0] = 'I09N'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DC'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set itemCooldown[FA0] = 32
    set ZV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09S'
    set itemId[FA0] = 'I09O'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DD'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set itemCooldown[FA0] = 28
    set ZW0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09R'
    set itemId[FA0] = 'I09L'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0D3'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"
    set itemCooldown[FA0] = 24
    set ZX0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09U'
    set itemId[FA0] = 'I09T'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02H'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNNecromancerAdept.blp"
    set itemCooldown[FA0] = 90
    set ZY0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09V'
    set itemId[FA0] = 'I09X'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02I'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBookOfTheDead.blp"
    set itemCooldown[FA0] = 90
    set ZJ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I09W'
    set itemId[FA0] = 'I09Y'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I02J'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNNecromancerMaster.blp"
    set itemCooldown[FA0] = 90
    set ZK0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0A0'
    set itemId[FA0] = 'I09Z'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BO'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
    set itemCooldown[FA0] = 0
    set ZL0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HK'
    set itemId[FA0] = 'I0HJ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0HL'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"
    set itemCooldown[FA0] = 0
    set itemIdLinkenSphere = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0A2'
    set itemId[FA0] = 'I0A1'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BP'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
    set itemCooldown[FA0] = 0
    set ZN0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0LI'
    set itemId[FA0] = 'I0LJ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LK'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"
    set itemCooldown[FA0] = 0
    set ZS0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0A4'
    set itemId[FA0] = 'I0A3'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BQ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Crossbow_10.blp"
    set itemCooldown[FA0] = 0
    set ZT0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0A6'
    set itemId[FA0] = 'I0A5'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BR'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
    set itemCooldown[FA0] = 0
    set ZR0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K8'
    set itemId[FA0] = 'I0K7'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0K9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"
    set itemCooldown[FA0] = 0
    set ZP0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0A7'
    set itemId[FA0] = 'I0A8'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BS'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
    set itemCooldown[FA0] = 0
    set ZQ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0KQ'
    set itemId[FA0] = 'I0KP'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0KR'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"
    set itemCooldown[FA0] = 0
    set ZU0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AA'
    set itemId[FA0] = 'I0A9'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BT'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
    set itemCooldown[FA0] = 0
    set V00 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AA'
    set itemId[FA0] = 'I0KL'
    set itemDisabledId[FA0] = 'I0KM'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"
    set itemCooldown[FA0] = 0
    set VI0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AC'
    set itemId[FA0] = 'I0AB'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BU'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHornOfDoom.blp"
    set itemCooldown[FA0] = 35
    set V10 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AD'
    set itemId[FA0] = 'I0AE'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BV'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
    set itemCooldown[FA0] = 0
    set VO0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AG'
    set itemId[FA0] = 'I0AF'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0CT'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"
    set itemCooldown[FA0] = 0
    set V20 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AH'
    set itemId[FA0] = 'I0AI'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BW'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"
    set itemCooldown[FA0] = 0
    set V30 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B8'
    set itemId[FA0] = 'I0AY'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I00B'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XE0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AK'
    set itemId[FA0] = 'I0AJ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BX'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHeartOfSearinox.blp"
    set itemCooldown[FA0] = 210
    set V40 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07K'
    set itemId[FA0] = 'I0AL'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BY'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Sword_09.blp"
    set itemCooldown[FA0] = 35
    set V50 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0BB'
    set itemId[FA0] = 'I0BA'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0BZ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
    set itemCooldown[FA0] = 0
    set V60 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0LE'
    set itemId[FA0] = 'I0LC'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LD'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"
    set itemCooldown[FA0] = 0
    set V70 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0BC'
    set itemId[FA0] = 'I0BD'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I00C'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNArcaneRing.blp"
    set itemCooldown[FA0] = 33
    set V80 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0BF'
    set itemId[FA0] = 'I0BE'
    set itemDisabledId[FA0] = 'I0C0'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNThunderMallet.blp"
    set itemCooldown[FA0] = 35
    set V90 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I014'
    set itemId[FA0] = 'I01D'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRavenForm.blp"
    set itemCooldown[FA0] = 0
    set VA0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0BH'
    set itemId[FA0] = 'I0BG'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0C1'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNCloakOfFlames.blp"
    set itemCooldown[FA0] = 0
    set VB0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0BI'
    set itemId[FA0] = 'I0BJ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0C2'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_14.blp"
    set itemCooldown[FA0] = 0
    set itemIdAssaultCuirass = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0BL'
    set itemId[FA0] = 'I0BK'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0C3'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Bloodstone_02.blp"
    set itemCooldown[FA0] = 0
    set itemIdBloodstone = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0BN'
    set itemId[FA0] = 'I0BM'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0C4'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHoodOfCunning.blp"
    set itemCooldown[FA0] = 0
    set VE0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00S'
    set itemId[FA0] = 'I00M'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01C'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
    set itemCooldown[FA0] = 0
    set VF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00T'
    set itemId[FA0] = 'I00Q'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01E'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
    set itemCooldown[FA0] = 0
    set VG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00V'
    set itemId[FA0] = 'I00N'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I01F'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"
    set itemCooldown[FA0] = 0
    set VH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00W'
    set itemId[FA0] = 'I00R'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"
    set itemCooldown[FA0] = 0
    set VZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00X'
    set itemId[FA0] = 'I00Z'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0CF'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
    set itemCooldown[FA0] = 30
    set VV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00Y'
    set itemId[FA0] = 'I010'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0DF'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"
    set itemCooldown[FA0] = 0
    set VW0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I013'
    set itemId[FA0] = 'I012'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0CB'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNStaffOfSilence.blp"
    set itemCooldown[FA0] = 25
    set VX0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0GK'
    set itemId[FA0] = 'I0GJ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0GL'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNPhaseBoots.blp"
    set itemCooldown[FA0] = 12
    set itemIdPhaseBoots = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HG'
    set itemId[FA0] = 'I0HI'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0HH'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNForceStaff.blp"
    set itemCooldown[FA0] = 20
    set VK0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0I0'
    set itemId[FA0] = 'I0K6'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0I2'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNPipeOfInsight.blp"
    set itemCooldown[FA0] = 25
    set VL0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0JG'
    set itemId[FA0] = 'I0JF'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JH'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
    set itemCooldown[FA0] = 12
    set VM0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0KD'
    set itemId[FA0] = 'I0KF'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0KE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"
    set itemCooldown[FA0] = 12
    set VN0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0KX'
    set itemId[FA0] = 'I0KY'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0KZ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
    set itemCooldown[FA0] = 8
    set VT0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0LG'
    set itemId[FA0] = 'I0LF'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LH'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"
    set itemCooldown[FA0] = 0
    set VR0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0LP'
    set itemId[FA0] = 'I0LL'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LQ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSoulRing.blp"
    set itemCooldown[FA0] = 25
    set VP0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0LR'
    set itemId[FA0] = 'I0LT'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LS'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGhostBlade.blp"
    set itemCooldown[FA0] = 40
    set GU0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h02G'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h086'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05L'
    set itemId[FA0] = 'I05R'
    set itemInShopId[FA0] = 'h02H'
    set itemDisabledId[FA0] = 'I0DS'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set VQ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05M'
    set itemId[FA0] = 'I05S'
    set itemInShopId[FA0] = 'h02I'
    set itemDisabledId[FA0] = 'I0DT'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set VU0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h02J'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05O'
    set itemId[FA0] = 'I05T'
    set itemInShopId[FA0] = 'h02K'
    set itemDisabledId[FA0] = 'I0DU'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W00 = FA0
    set FA0 = FA0 + 1
    set itemInShopId[FA0] = 'h014'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WI0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05P'
    set itemId[FA0] = 'I05U'
    set itemInShopId[FA0] = 'h02L'
    set itemDisabledId[FA0] = 'I0DW'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W10 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h02M'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05K'
    set itemId[FA0] = 'I05V'
    set itemInShopId[FA0] = 'h02N'
    set itemDisabledId[FA0] = 'I0DX'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WO0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05N'
    set itemId[FA0] = 'I05W'
    set itemInShopId[FA0] = 'h02O'
    set itemDisabledId[FA0] = 'I0DY'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W20 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05Q'
    set itemId[FA0] = 'I05X'
    set itemInShopId[FA0] = 'h02P'
    set itemDisabledId[FA0] = 'I0DZ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W30 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06N'
    set itemId[FA0] = 'I06O'
    set itemInShopId[FA0] = 'h02Q'
    set itemDisabledId[FA0] = 'I0E0'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W40 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06Q'
    set itemId[FA0] = 'I06P'
    set itemInShopId[FA0] = 'h02R'
    set itemDisabledId[FA0] = 'I0E1'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W50 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06R'
    set itemId[FA0] = 'I06S'
    set itemInShopId[FA0] = 'h02S'
    set itemDisabledId[FA0] = 'I0E2'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W60 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h02T'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06W'
    set itemId[FA0] = 'I06V'
    set itemInShopId[FA0] = 'h02U'
    set itemDisabledId[FA0] = 'I0E4'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W70 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I06X'
    set itemId[FA0] = 'I06Y'
    set itemInShopId[FA0] = 'h02V'
    set itemDisabledId[FA0] = 'I0E5'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W80 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h02W'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I070'
    set itemId[FA0] = 'I06Z'
    set itemInShopId[FA0] = 'h02X'
    set itemDisabledId[FA0] = 'I0E6'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set W90 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I071'
    set itemId[FA0] = 'I072'
    set itemInShopId[FA0] = 'h02Y'
    set itemDisabledId[FA0] = 'I0E7'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WA0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h02Z'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I074'
    set itemId[FA0] = 'I073'
    set itemInShopId[FA0] = 'h030'
    set itemDisabledId[FA0] = 'I0E8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WB0 = FA0
    set FA0 = FA0 + 1
    set itemInShopId[FA0] = 'h031'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set WC0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I076'
    set itemId[FA0] = 'I07V'
    set itemInShopId[FA0] = 'h032'
    set itemDisabledId[FA0] = 'I0EA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WD0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h033'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I077'
    set itemId[FA0] = 'I07W'
    set itemInShopId[FA0] = 'h034'
    set itemDisabledId[FA0] = 'I0EB'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WE0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I078'
    set itemId[FA0] = 'I07X'
    set itemInShopId[FA0] = 'h035'
    set itemDisabledId[FA0] = 'I0EC'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I079'
    set itemId[FA0] = 'I07Y'
    set itemInShopId[FA0] = 'h036'
    set itemDisabledId[FA0] = 'I0ED'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07A'
    set itemId[FA0] = 'I07Z'
    set itemInShopId[FA0] = 'h037'
    set itemDisabledId[FA0] = 'I0EE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07B'
    set itemId[FA0] = 'I080'
    set itemInShopId[FA0] = 'h038'
    set itemDisabledId[FA0] = 'I0EF'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07C'
    set itemId[FA0] = 'I081'
    set itemInShopId[FA0] = 'h039'
    set itemDisabledId[FA0] = 'I0EG'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07D'
    set itemId[FA0] = 'I082'
    set itemInShopId[FA0] = 'h03A'
    set itemDisabledId[FA0] = 'I0EH'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WW0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h03C'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07E'
    set itemId[FA0] = 'I083'
    set itemInShopId[FA0] = 'h03D'
    set itemDisabledId[FA0] = 'I0EI'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WX0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h03E'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07G'
    set itemId[FA0] = 'I07F'
    set itemInShopId[FA0] = 'h03F'
    set itemDisabledId[FA0] = 'I0EJ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WY0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07H'
    set itemId[FA0] = 'I084'
    set itemInShopId[FA0] = 'h03G'
    set itemDisabledId[FA0] = 'I0EK'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WJ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07O'
    set itemId[FA0] = 'I085'
    set itemInShopId[FA0] = 'h03H'
    set itemDisabledId[FA0] = 'I0EL'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WK0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07N'
    set itemId[FA0] = 'I086'
    set itemInShopId[FA0] = 'h03I'
    set itemDisabledId[FA0] = 'I0EM'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WL0 = FA0
    set FA0 = FA0 + 1
    set itemInShopId[FA0] = 'h03J'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WM0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0I5'
    set itemId[FA0] = 'I0I4'
    set itemInShopId[FA0] = 'h03K'
    set itemDisabledId[FA0] = 'I0KG'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set XO0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07J'
    set itemId[FA0] = 'I088'
    set itemInShopId[FA0] = 'h03L'
    set itemDisabledId[FA0] = 'I0EO'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WN0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h03M'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h03N'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07M'
    set itemId[FA0] = 'I089'
    set itemInShopId[FA0] = 'h03O'
    set itemDisabledId[FA0] = 'I0EP'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WS0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07P'
    set itemId[FA0] = 'I08A'
    set itemInShopId[FA0] = 'h03Q'
    set itemDisabledId[FA0] = 'I0EQ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WT0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07Q'
    set itemId[FA0] = 'I08B'
    set itemInShopId[FA0] = 'h03R'
    set itemDisabledId[FA0] = 'I0ER'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WR0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07R'
    set itemId[FA0] = 'I08C'
    set itemInShopId[FA0] = 'h03S'
    set itemDisabledId[FA0] = 'I0ES'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WP0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h03T'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h03U'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07S'
    set itemId[FA0] = 'I08D'
    set itemInShopId[FA0] = 'h03V'
    set itemDisabledId[FA0] = 'I0ET'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WQ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07T'
    set itemId[FA0] = 'I08E'
    set itemInShopId[FA0] = 'h03W'
    set itemDisabledId[FA0] = 'I0EU'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set WU0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h03X'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 'h079'
    set itemBtnPic[FA0] = ""
    set itemCooldown[FA0] = 0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0H8'
    set itemId[FA0] = 'I0H7'
    set itemInShopId[FA0] = 'h07S'
    set itemDisabledId[FA0] = 'I0H9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set X00 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HD'
    set itemId[FA0] = 'I0HF'
    set itemInShopId[FA0] = 'h07T'
    set itemDisabledId[FA0] = 'I0HE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set XI0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HX'
    set itemId[FA0] = 'I0HZ'
    set itemInShopId[FA0] = 'h07X'
    set itemDisabledId[FA0] = 'I0HY'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set X10 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I07L'
    set itemId[FA0] = 'I0KN'
    set itemInShopId[FA0] = 'h03P'
    set itemDisabledId[FA0] = 'I0KO'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set X20 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0KW'
    set itemId[FA0] = 'I0KV'
    set itemInShopId[FA0] = 'h0BA'
    set itemDisabledId[FA0] = 'I0KU'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set X30 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0LM'
    set itemId[FA0] = 'I0LN'
    set itemInShopId[FA0] = 'h0BQ'
    set itemDisabledId[FA0] = 'I0LO'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set X40 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 0
    set itemId[FA0] = 0
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"
    set itemCooldown[FA0] = 0
    set X50 = FA0
    set JX0 = CreateRegion()
    call RegionAddRect(JX0, XB)
    call RegionAddRect(JX0, YB)
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function F01))
    set X60 = t
    set t = null
    set XD0 = XD0 + 1
    set X70[XD0] = G50
    set X80[XD0] = GH0
    set XC0[XD0] = HA0
    set XD0 = XD0 + 1
    set X70[XD0] = G70
    set X80[XD0] = FS0
    set X90[XD0] = VQ0
    set XC0[XD0] = HB0
    set XD0 = XD0 + 1
    set X70[XD0] = FV0
    set X80[XD0] = FS0
    set X90[XD0] = VU0
    set XC0[XD0] = HC0
    set XD0 = XD0 + 1
    set X70[XD0] = G60
    set X80[XD0] = GB0
    set XC0[XD0] = HD0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = W00
    set XC0[XD0] = HF0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = FD0
    set X90[XD0] = FC0
    set XC0[XD0] = HG0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = FF0
    set X90[XD0] = FC0
    set XC0[XD0] = HH0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = G80
    set X90[XD0] = FC0
    set XC0[XD0] = HZ0
    set XD0 = XD0 + 1
    set X70[XD0] = FC0
    set X80[XD0] = W10
    set XC0[XD0] = HV0
    set XD0 = XD0 + 1
    set X70[XD0] = G40
    set X80[XD0] = G80
    set X90[XD0] = GB0
    set XC0[XD0] = HW0
    set XD0 = XD0 + 1
    set X70[XD0] = FE0
    set X80[XD0] = FK0
    set X90[XD0] = WO0
    set XC0[XD0] = HX0
    set XD0 = XD0 + 1
    set X70[XD0] = FE0
    set X80[XD0] = GA0
    set X90[XD0] = W20
    set XC0[XD0] = HY0
    set XD0 = XD0 + 1
    set X70[XD0] = FE0
    set X80[XD0] = FP0
    set X90[XD0] = W30
    set XC0[XD0] = HJ0
    set XD0 = XD0 + 1
    set X70[XD0] = FG0
    set X80[XD0] = FD0
    set X90[XD0] = W40
    set XC0[XD0] = HK0
    set XD0 = XD0 + 1
    set X70[XD0] = G10
    set X80[XD0] = FF0
    set X90[XD0] = W50
    set XC0[XD0] = HL0
    set XD0 = XD0 + 1
    set X70[XD0] = GZ0
    set X80[XD0] = FF0
    set X90[XD0] = W60
    set XC0[XD0] = HM0
    set XD0 = XD0 + 1
    set X70[XD0] = FZ0
    set X80[XD0] = FV0
    set X90[XD0] = G80
    set XC0[XD0] = HS0
    set XD0 = XD0 + 1
    set X70[XD0] = G00
    set X80[XD0] = FC0
    set X90[XD0] = W70
    set XC0[XD0] = HT0
    set XD0 = XD0 + 1
    set X70[XD0] = FG0
    set X80[XD0] = FG0
    set X90[XD0] = G80
    set XA0[XD0] = W80
    set XC0[XD0] = HR0
    set XD0 = XD0 + 1
    set X70[XD0] = HR0
    set X80[XD0] = W80
    set XC0[XD0] = HP0
    set XD0 = XD0 + 1
    set X70[XD0] = HQ0
    set X80[XD0] = W80
    set XC0[XD0] = HP0
    set XD0 = XD0 + 1
    set X70[XD0] = FM0
    set X80[XD0] = FQ0
    set XC0[XD0] = Z00
    set XD0 = XD0 + 1
    set X70[XD0] = FQ0
    set X80[XD0] = W90
    set XC0[XD0] = Z10
    set XD0 = XD0 + 1
    set X70[XD0] = GB0
    set X80[XD0] = GC0
    set X90[XD0] = GH0
    set XA0[XD0] = WA0
    set XC0[XD0] = ZO0
    set XD0 = XD0 + 1
    set X70[XD0] = G30
    set X80[XD0] = FJ0
    set X90[XD0] = GG0
    set XC0[XD0] = Z20
    set XD0 = XD0 + 1
    set X70[XD0] = HB0
    set X80[XD0] = HC0
    set X90[XD0] = WB0
    set XC0[XD0] = Z30
    set XD0 = XD0 + 1
    set X70[XD0] = HL0
    set X80[XD0] = HK0
    set XC0[XD0] = Z40
    set XD0 = XD0 + 1
    set X70[XD0] = G00
    set X80[XD0] = G00
    set X90[XD0] = WD0
    set XC0[XD0] = Z50
    set XD0 = XD0 + 1
    set X70[XD0] = HA0
    set X80[XD0] = FZ0
    set X90[XD0] = FW0
    set XC0[XD0] = Z60
    set XD0 = XD0 + 1
    set X70[XD0] = FH0
    set X80[XD0] = FZ0
    set X90[XD0] = WE0
    set XC0[XD0] = Z70
    set XD0 = XD0 + 1
    set X70[XD0] = G00
    set X80[XD0] = G10
    set X90[XD0] = WF0
    set XC0[XD0] = Z80
    set XD0 = XD0 + 1
    set X70[XD0] = HK0
    set X80[XD0] = GF0
    set X90[XD0] = WG0
    set XC0[XD0] = ZF0
    set XD0 = XD0 + 1
    set X70[XD0] = G40
    set X80[XD0] = FW0
    set X90[XD0] = WH0
    set XC0[XD0] = ZG0
    set XD0 = XD0 + 1
    set X70[XD0] = GC0
    set X80[XD0] = FH0
    set X90[XD0] = WZ0
    set XC0[XD0] = ZH0
    set XD0 = XD0 + 1
    set X70[XD0] = ZH0
    set X80[XD0] = WZ0
    set XC0[XD0] = ZZ0
    set XD0 = XD0 + 1
    set X70[XD0] = ZZ0
    set X80[XD0] = WZ0
    set XC0[XD0] = ZV0
    set XD0 = XD0 + 1
    set X70[XD0] = ZV0
    set X80[XD0] = WZ0
    set XC0[XD0] = ZW0
    set XD0 = XD0 + 1
    set X70[XD0] = ZW0
    set X80[XD0] = WZ0
    set XC0[XD0] = ZX0
    set XD0 = XD0 + 1
    set X70[XD0] = GC0
    set X80[XD0] = FF0
    set X90[XD0] = WV0
    set XC0[XD0] = ZY0
    set XD0 = XD0 + 1
    set X70[XD0] = ZY0
    set X80[XD0] = WV0
    set XC0[XD0] = ZJ0
    set XD0 = XD0 + 1
    set X70[XD0] = ZJ0
    set X80[XD0] = WV0
    set XC0[XD0] = ZK0
    set XD0 = XD0 + 1
    set X70[XD0] = GF0
    set X80[XD0] = HA0
    set XA0[XD0] = WW0
    set XC0[XD0] = ZL0
    set XD0 = XD0 + 1
    set X70[XD0] = FX0
    set X80[XD0] = G90
    set XC0[XD0] = ZN0
    set XD0 = XD0 + 1
    set X70[XD0] = Z70
    set X80[XD0] = FX0
    set X90[XD0] = WX0
    set XC0[XD0] = ZT0
    set XD0 = XD0 + 1
    set X70[XD0] = FX0
    set X80[XD0] = GZ0
    set X90[XD0] = GZ0
    set XC0[XD0] = ZR0
    set XD0 = XD0 + 1
    set X70[XD0] = G90
    set X80[XD0] = WY0
    set XC0[XD0] = ZQ0
    set XD0 = XD0 + 1
    set X70[XD0] = FU0
    set X80[XD0] = GG0
    set X90[XD0] = WJ0
    set XC0[XD0] = V00
    set XD0 = XD0 + 1
    set X70[XD0] = FU0
    set X80[XD0] = Z00
    set X90[XD0] = WK0
    set XC0[XD0] = V10
    set XD0 = XD0 + 1
    set X70[XD0] = FU0
    set X80[XD0] = ZI0
    set X90[XD0] = WK0
    set XC0[XD0] = V10
    set XD0 = XD0 + 1
    set X70[XD0] = GF0
    set X80[XD0] = GF0
    set X90[XD0] = G30
    set XA0[XD0] = WL0
    set XC0[XD0] = VO0
    set XD0 = XD0 + 1
    set X70[XD0] = FY0
    set X80[XD0] = G40
    set X90[XD0] = GQ0
    set XC0[XD0] = V30
    set XD0 = XD0 + 1
    set X70[XD0] = FG0
    set X80[XD0] = G10
    set X90[XD0] = G30
    set XA0[XD0] = XO0
    set XC0[XD0] = XE0
    set XD0 = XD0 + 1
    set X70[XD0] = FG0
    set X80[XD0] = GC0
    set X90[XD0] = G30
    set XA0[XD0] = XO0
    set XC0[XD0] = XE0
    set XD0 = XD0 + 1
    set X70[XD0] = GC0
    set X80[XD0] = G10
    set X90[XD0] = G30
    set XA0[XD0] = XO0
    set XC0[XD0] = XE0
    set XD0 = XD0 + 1
    set X70[XD0] = HA0
    set X80[XD0] = HW0
    set X90[XD0] = WN0
    set XC0[XD0] = V40
    set XD0 = XD0 + 1
    set X70[XD0] = GF0
    set X80[XD0] = GI0
    set X90[XD0] = GH0
    set XC0[XD0] = V50
    set XD0 = XD0 + 1
    set X70[XD0] = GG0
    set X80[XD0] = G50
    set X90[XD0] = GD0
    set XC0[XD0] = V60
    set XD0 = XD0 + 1
    set X70[XD0] = GG0
    set X80[XD0] = G50
    set X90[XD0] = GE0
    set XC0[XD0] = V60
    set XD0 = XD0 + 1
    set X70[XD0] = FJ0
    set X80[XD0] = G60
    set X90[XD0] = WS0
    set XC0[XD0] = V80
    set XD0 = XD0 + 1
    set X70[XD0] = FN0
    set X80[XD0] = HT0
    set X90[XD0] = X20
    set XC0[XD0] = V90
    set XD0 = XD0 + 1
    set X70[XD0] = H50
    set X90[XD0] = WT0
    set XC0[XD0] = VA0
    set XD0 = XD0 + 1
    set X70[XD0] = G70
    set X80[XD0] = HD0
    set X90[XD0] = FQ0
    set XA0[XD0] = WR0
    set XC0[XD0] = VB0
    set XD0 = XD0 + 1
    set X70[XD0] = G70
    set X80[XD0] = HE0
    set X90[XD0] = FQ0
    set XA0[XD0] = WR0
    set XC0[XD0] = VB0
    set XD0 = XD0 + 1
    set X70[XD0] = FN0
    set X80[XD0] = G20
    set X90[XD0] = FV0
    set XA0[XD0] = WP0
    set XC0[XD0] = itemIdAssaultCuirass
    set XD0 = XD0 + 1
    set X70[XD0] = Z20
    set X80[XD0] = HA0
    set XC0[XD0] = itemIdBloodstone
    set XD0 = XD0 + 1
    set X70[XD0] = G70
    set X80[XD0] = G70
    set X90[XD0] = FM0
    set XA0[XD0] = GO0
    set XC0[XD0] = VE0
    set XD0 = XD0 + 1
    set X70[XD0] = G50
    set X80[XD0] = FM0
    set X90[XD0] = GO0
    set XC0[XD0] = VE0
    set XD0 = XD0 + 1
    set X70[XD0] = FC0
    set X80[XD0] = FM0
    set X90[XD0] = FH0
    set XA0[XD0] = WQ0
    set XC0[XD0] = VZ0
    set XD0 = XD0 + 1
    set X70[XD0] = GI0
    set X80[XD0] = G20
    set X90[XD0] = WU0
    set XC0[XD0] = VV0
    set XD0 = XD0 + 1
    set X70[XD0] = HW0
    set X80[XD0] = HW0
    set X90[XD0] = HW0
    set XC0[XD0] = VX0
    set XD0 = XD0 + 1
    set X70[XD0] = FB0
    set X80[XD0] = FH0
    set X90[XD0] = FH0
    set XC0[XD0] = itemIdPhaseBoots
    set XD0 = XD0 + 1
    set X70[XD0] = GT0
    set X80[XD0] = FS0
    set X90[XD0] = FS0
    set XA0[XD0] = FS0
    set XB0[XD0] = X00
    set XC0[XD0] = VJ0
    set XD0 = XD0 + 1
    set X70[XD0] = G40
    set X80[XD0] = GC0
    set X90[XD0] = XI0
    set XC0[XD0] = VK0
    set XD0 = XD0 + 1
    set X70[XD0] = VE0
    set X80[XD0] = HB0
    set X90[XD0] = X10
    set XC0[XD0] = VL0
    set XD0 = XD0 + 1
    set X70[XD0] = GD0
    set X80[XD0] = GA0
    set X90[XD0] = GA0
    set XC0[XD0] = VM0
    set XD0 = XD0 + 1
    set X70[XD0] = GE0
    set X80[XD0] = GA0
    set X90[XD0] = GA0
    set XC0[XD0] = VM0
    set XD0 = XD0 + 1
    set X70[XD0] = GB0
    set X80[XD0] = FK0
    set X90[XD0] = FK0
    set XA0[XD0] = X30
    set XC0[XD0] = VT0
    set XD0 = XD0 + 1
    set X70[XD0] = GB0
    set X80[XD0] = G70
    set X90[XD0] = X40
    set XC0[XD0] = VP0
    set XD0 = XD0 + 1
    set X70[XD0] = FY0
    set X80[XD0] = VS0
    set X90[XD0] = HY0
    set XC0[XD0] = GU0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0AZ'
    set itemId[FA0] = 'I011'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0EY'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I00F'
    set itemId[FA0] = 'I00D'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0EZ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I018'
    set itemId[FA0] = 'I009'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F0'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I019'
    set itemId[FA0] = 'I005'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F6'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I01A'
    set itemId[FA0] = 'I00G'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F1'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I01B'
    set itemId[FA0] = 'I004'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F2'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XW0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I01H'
    set itemId[FA0] = 'I003'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F3'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XX0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I01I'
    set itemId[FA0] = 'I002'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F5'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XY0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02K'
    set itemId[FA0] = 'I001'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F4'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XJ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02L'
    set itemId[FA0] = 'I00I'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XK0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B2'
    set itemId[FA0] = 'I00H'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XM0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B3'
    set itemId[FA0] = 'I00P'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XN0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B4'
    set itemId[FA0] = 'I00U'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F7'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XS0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B7'
    set itemId[FA0] = 'I000'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FD'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XT0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B6'
    set itemId[FA0] = 'I016'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FC'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XR0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B5'
    set itemId[FA0] = 'I017'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0FB'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XP0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0B9'
    set itemId[FA0] = 'I00O'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0F8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XQ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J5'
    set itemId[FA0] = 'I0IT'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IJ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XU0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IV'
    set itemId[FA0] = 'I0IU'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0I9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y00 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IW'
    set itemId[FA0] = 'I0IS'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0II'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YI0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IX'
    set itemId[FA0] = 'I0IR'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y10 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IY'
    set itemId[FA0] = 'I0IQ'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IH'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YO0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0IZ'
    set itemId[FA0] = 'I0IK'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IG'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y20 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J0'
    set itemId[FA0] = 'I0IL'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IF'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y30 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J1'
    set itemId[FA0] = 'I0IM'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y40 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J2'
    set itemId[FA0] = 'I0IP'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0ID'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y50 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J3'
    set itemId[FA0] = 'I0IO'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IC'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y60 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J4'
    set itemId[FA0] = 'I0IN'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0IB'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y70 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0I6'
    set itemId[FA0] = 'I0I7'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0I8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y80 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0JZ'
    set itemId[FA0] = 'I0JS'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JR'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set Y90 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K0'
    set itemId[FA0] = 'I0JT'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JL'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YA0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K1'
    set itemId[FA0] = 'I0JU'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JM'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YB0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K2'
    set itemId[FA0] = 'I0JW'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JN'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YC0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K3'
    set itemId[FA0] = 'I0JV'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JQ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YD0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K4'
    set itemId[FA0] = 'I0JY'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JP'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YE0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0K5'
    set itemId[FA0] = 'I0JX'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0JO'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YF0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0KI'
    set itemId[FA0] = 'I0KH'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0KJ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YG0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0L4'
    set itemId[FA0] = 'I0L5'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0L8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set XL0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0L3'
    set itemId[FA0] = 'I0L0'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0L9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YH0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0L2'
    set itemId[FA0] = 'I0L7'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YZ0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0LU'
    set itemId[FA0] = 'I0LV'
    set itemInShopId[FA0] = 0
    set itemDisabledId[FA0] = 'I0LW'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"
    set itemCooldown[FA0] = 60
    set YV0 = FA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03A'
    set itemId[FA0] = 'I051'
    set itemInShopId[FA0] = 'h08K'
    set itemDisabledId[FA0] = 'I0D9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = GD0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03Y'
    set itemId[FA0] = 'I052'
    set itemInShopId[FA0] = 'h08X'
    set itemDisabledId[FA0] = 'I0C9'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = GF0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02S'
    set itemId[FA0] = 'I02P'
    set itemInShopId[FA0] = 'h08S'
    set itemDisabledId[FA0] = 'I0CA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGlove.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = FC0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02N'
    set itemId[FA0] = 'I02R'
    set itemInShopId[FA0] = 'h08P'
    set itemDisabledId[FA0] = 'I0CS'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBoots.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = FD0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02Z'
    set itemId[FA0] = 'I043'
    set itemInShopId[FA0] = 'h08Q'
    set itemDisabledId[FA0] = 'I0CV'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNBelt.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = FF0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I031'
    set itemId[FA0] = 'I045'
    set itemInShopId[FA0] = 'h08T'
    set itemDisabledId[FA0] = 'I0D5'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = FH0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03B'
    set itemId[FA0] = 'I04E'
    set itemInShopId[FA0] = 'h08N'
    set itemDisabledId[FA0] = 'I0DA'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = FM0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03E'
    set itemId[FA0] = 'I04H'
    set itemInShopId[FA0] = 'h08W'
    set itemDisabledId[FA0] = 'I0C7'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"
    set itemCooldown[FA0] = 18
    set F90[FA0] = FT0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03G'
    set itemId[FA0] = 'I04K'
    set itemInShopId[FA0] = 'h08O'
    set itemDisabledId[FA0] = 'I0CD'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = FQ0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03P'
    set itemId[FA0] = 'I04S'
    set itemInShopId[FA0] = 'h08U'
    set itemDisabledId[FA0] = 'I0CY'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = G40
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03Q'
    set itemId[FA0] = 'I04T'
    set itemInShopId[FA0] = 'h08G'
    set itemDisabledId[FA0] = 'I0DI'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = G50
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03S'
    set itemId[FA0] = 'I04V'
    set itemInShopId[FA0] = 'h08L'
    set itemDisabledId[FA0] = 'I0DJ'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = G70
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03T'
    set itemId[FA0] = 'I04W'
    set itemInShopId[FA0] = 'h08R'
    set itemDisabledId[FA0] = 'I0CP'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = G80
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03V'
    set itemId[FA0] = 'I04Y'
    set itemInShopId[FA0] = 'h08E'
    set itemDisabledId[FA0] = 'I0C5'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = GA0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03W'
    set itemId[FA0] = 'I04Z'
    set itemInShopId[FA0] = 'h08J'
    set itemDisabledId[FA0] = 'I0DK'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = GB0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0GD'
    set itemId[FA0] = 'I0GC'
    set itemInShopId[FA0] = 'h08I'
    set itemDisabledId[FA0] = 'I0GE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNWand.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = GT0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0HT'
    set itemId[FA0] = 'I0HR'
    set itemInShopId[FA0] = 'h08F'
    set itemDisabledId[FA0] = 'I0HW'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = GR0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I0J7'
    set itemId[FA0] = 'I0J6'
    set itemInShopId[FA0] = 'h08V'
    set itemDisabledId[FA0] = 'I0J8'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = GQ0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I03L'
    set itemId[FA0] = 'I04P'
    set itemInShopId[FA0] = 'h08M'
    set itemDisabledId[FA0] = 'I0CE'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = GO0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I05A'
    set itemId[FA0] = 'I05I'
    set itemInShopId[FA0] = 'h08H'
    set itemDisabledId[FA0] = 0
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = H40
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I037'
    set itemId[FA0] = 'I04B'
    set itemInShopId[FA0] = 'h093'
    set itemDisabledId[FA0] = 'I0CR'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = FJ0
    set FA0 = FA0 + 1
    set itemOnGroundId[FA0] = 'I02Q'
    set itemId[FA0] = 'I02O'
    set itemInShopId[FA0] = 'h0BO'
    set itemDisabledId[FA0] = 'I00A'
    set itemBtnPic[FA0] = "ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"
    set itemCooldown[FA0] = 0
    set F90[FA0] = FB0
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SELL)
    call TriggerAddCondition(t, Condition(function HI1))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PAWN_ITEM)
    call TriggerAddCondition(t, Condition(function trigItemActionsCondition))
    set trigItemActions = t
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(t, Condition(function HT1))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PAWN_ITEM)
    call TriggerAddCondition(t, Condition(function HP1))
    set J30 = t
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddCondition(t, Condition(function ZI1))
    set J40 = t
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function HU1))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function trigConditionIsAbilityDisassemble))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function ZA1))
    set J80 = t
    set t = null
    set t = CreateTrigger()
    set t = CreateTrigger()
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function ZH1)
    call TriggerAddCondition(t, Condition(function ZD1))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function ZX1))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SUMMON)
    call TriggerAddAction(t, function ZS1)
    call TriggerAddCondition(t, Condition(function ZJ1))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.33, true)
    call TriggerAddCondition(t, Condition(function V91))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.75, true)
    call TriggerAddCondition(t, Condition(function VE1))
    set t = null
    call SetPlayerAbilityAvailable(sentinelPlayers[1], 'A174', false)
    call SetPlayerAbilityAvailable(sentinelPlayers[2], 'A174', false)
    call SetPlayerAbilityAvailable(sentinelPlayers[3], 'A174', false)
    call SetPlayerAbilityAvailable(sentinelPlayers[4], 'A174', false)
    call SetPlayerAbilityAvailable(sentinelPlayers[5], 'A174', false)
    call SetPlayerAbilityAvailable(scourgePlayers[1], 'A174', false)
    call SetPlayerAbilityAvailable(scourgePlayers[2], 'A174', false)
    call SetPlayerAbilityAvailable(scourgePlayers[3], 'A174', false)
    call SetPlayerAbilityAvailable(scourgePlayers[4], 'A174', false)
    call SetPlayerAbilityAvailable(scourgePlayers[5], 'A174', false)
    set t = CreateTrigger()
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function VP1))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(t, Condition(function W01))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function VU1))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DROP_ITEM)
    call TriggerAddCondition(t, Condition(function WO1))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    call TriggerAddCondition(t, Condition(function W51))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.5, true)
    call TriggerAddCondition(t, Condition(function WE1))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function KJ1))
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_USE_ITEM)
    call TriggerAddCondition(t, Condition(function L51))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function L81)
    call TriggerAddCondition(t, Condition(function L71))
    set r = GetRectCenter(U4)
    set N0 = CreateUnitAtLoc(Player(12), 'n00L', r, bj_UNIT_FACING)
    call E11(N0)
    call RemoveLocation(r)
    call UnitAddItem(N0, CreateItem(itemId[itemIdAegisOfImmortal], 0, 0))
    call UnitAddAbility(N0, 'A142')
    set r = GetRectCenter(V4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(W4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(X4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(Y4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(J4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(K4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(L4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(M4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(N4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(S4)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(X5)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set r = GetRectCenter(J5)
    call RemoveUnit( CreateUnitAtLoc(playerNeutrals, 'u001', r, 0) )
    call RemoveLocation(r)
    set t = CreateTrigger()
    call TriggerRegisterUnitInRange(t, KZ, 300, Condition(function returnTrue))
    call TriggerRegisterUnitInRange(t, TZ, 300, Condition(function returnTrue))
    call TriggerRegisterUnitInRange(t, YZ, 300, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function LB1))
    set t = null
    set NG = CreateTrigger()
    call TriggerRegisterTimerEventSingle(NG, 2699.00)
    call TriggerAddAction(NG, function LD1)
    set SG = CreateTrigger()
    call TriggerRegisterTimerEventSingle(SG, 999.00)
    call TriggerRegisterTimerEventSingle(SG, 1999.00)
    call TriggerRegisterTimerEventSingle(SG, 2999.00)
    call TriggerAddAction(SG, function LF1)
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, E4)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, U3)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, RA)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function LH1))
    set t = null
    set LV1 = null
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, O4)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, S3)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, MA)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function LW1))
    set t = null
    set LV1 = null
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, D4)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, Q3)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, PA)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function LY1))
    set t = null
    set LV1 = null
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, A4)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, T3)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, NA)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function LK1))
    set t = null
    set LV1 = null
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, P3)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, C4)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, TA)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function LM1))
    set t = null
    set LV1 = null
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, I4)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, N3)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, SA)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function LS1))
    set t = null
    set LV1 = null
    set TG = CreateTrigger()
    call TriggerAddAction(TG, function M51)
    set RG = CreateTrigger()
    call TriggerRegisterUnitEvent(RG, IB0, EVENT_UNIT_DEATH)
    call TriggerAddAction(RG, function M81)
    set PG = CreateTrigger()
    call TriggerRegisterUnitEvent(PG, IC0, EVENT_UNIT_DEATH)
    call TriggerAddAction(PG, function MA1)
    set QG = CreateTrigger()
    call TriggerRegisterUnitEvent(QG, ID0, EVENT_UNIT_DEATH)
    call TriggerAddAction(QG, function MC1)
    set UG = CreateTrigger()
    call TriggerRegisterUnitEvent(UG, I80, EVENT_UNIT_DEATH)
    call TriggerAddAction(UG, function ME1)
    set IH = CreateTrigger()
    call TriggerRegisterUnitEvent(IH, I90, EVENT_UNIT_DEATH)
    call TriggerAddAction(IH, function MG1)
    set OH = CreateTrigger()
    call TriggerRegisterUnitEvent(OH, IA0, EVENT_UNIT_DEATH)
    call TriggerAddAction(OH, function MZ1)
    set BH = CreateTrigger()
    call TriggerRegisterUnitEvent(BH, CO0, EVENT_UNIT_DEATH)
    call TriggerAddAction(BH, function MW1)
    set CH = CreateTrigger()
    call TriggerRegisterUnitEvent(CH, C20, EVENT_UNIT_DEATH)
    call TriggerAddAction(CH, function MY1)
    set DH = CreateTrigger()
    call TriggerRegisterUnitEvent(DH, C30, EVENT_UNIT_DEATH)
    call TriggerAddAction(DH, function MK1)
    set EH = CreateTrigger()
    call TriggerRegisterUnitEvent(EH, C00, EVENT_UNIT_DEATH)
    call TriggerAddAction(EH, function MM1)
    set FH = CreateTrigger()
    call TriggerRegisterUnitEvent(FH, CI0, EVENT_UNIT_DEATH)
    call TriggerAddAction(FH, function MS1)
    set GH = CreateTrigger()
    call TriggerRegisterUnitEvent(GH, C10, EVENT_UNIT_DEATH)
    call TriggerAddAction(GH, function MR1)
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, QQ, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function MQ1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BY0, EVENT_UNIT_DAMAGED)
    call TriggerAddCondition(t, Condition(function N01))
    set t = null
    set HH = CreateTrigger()
    call triggerRegisterAnyUnitEvent(HH, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(HH, Condition(function N11))
    call TriggerAddAction(HH, function NO1)
    set ZH = CreateTrigger()
    call triggerRegisterAnyUnitEvent(ZH, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(ZH, Condition(function N31))
    call TriggerAddAction(ZH, function N41)
    set VH = CreateTrigger()
    call TriggerAddAction(VH, function N61)
    set WH = CreateTrigger()
    call TriggerRegisterTimerEventSingle(WH, 75.00)
    call TriggerAddAction(WH, function N81)
    set XH = CreateTrigger()
    call TriggerAddCondition(XH, Condition(function S71))
    set YH = CreateTrigger()
    call TriggerAddAction(YH, function S91)
    set JH = CreateTrigger()
    call TriggerAddAction(JH, function SE1)
    set KH = CreateTrigger()
    call triggerRegisterAnyUnitEvent(KH, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(KH, Condition(function SG1))
    call TriggerAddAction(KH, function SH1)
    set LH = CreateTrigger()
    call triggerRegisterAnyUnitEvent(LH, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(LH, Condition(function SV1))
    call TriggerAddAction(LH, function SW1)
    set MH = CreateTrigger()
    call TriggerRegisterTimerEventPeriodic(MH, 1.00)
    call TriggerAddAction(MH, function SL1)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function RK1))
    set t = null
    if GetRandomInt(0, 10) < 5 then
        set t = CreateTrigger()
        set d = GetRandomReal(60, 90)
        call TriggerRegisterTimerEvent(t, d, false)
        call TriggerAddCondition(t, Condition(function RM1))
        set t = null
    endif
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I10, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I10, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P91))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, IO0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, IO0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PA1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I20, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I20, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PB1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I30, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I30, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PC1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I40, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I40, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PD1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I50, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I50, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PE1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I60, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I60, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PF1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I70, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I70, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PG1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I80, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I80, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PH1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, I90, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, I90, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PZ1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, IA0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, IA0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PV1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, IB0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, IB0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PW1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, IC0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, IC0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PX1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, ID0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, ID0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PY1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BM0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, BM0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function RP1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BN0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, BN0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function RQ1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BS0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, BS0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function RU1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BT0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, BT0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P01))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BR0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, BR0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PI1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BP0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, BP0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P11))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BQ0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, BQ0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function PO1))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, BU0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, BU0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P21))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, C00, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, C00, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P31))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, CI0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, CI0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P41))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, C10, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, C10, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P51))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, CO0, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, CO0, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P61))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, C20, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, C20, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P71))
    set t = CreateTrigger()
    call TriggerRegisterUnitEvent(t, C30, EVENT_UNIT_DAMAGED)
    call TriggerRegisterUnitEvent(t, C30, EVENT_UNIT_DEATH)
    call TriggerAddCondition(t, Condition(function P81))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 1, true)
    call TriggerAddCondition(t, Condition(function RS1))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 5, true)
    call TriggerAddCondition(t, Condition(function PQ1))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 4, true)
    call TriggerAddCondition(t, Condition(function Q51))
    set t = null
    set M60 = allocGroup()
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, bj_mapInitialPlayableArea)
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue1))
    call TriggerAddCondition(t, Condition(function QA1))
    set t = null
    set LV1 = null
    set t = CreateTrigger()
    call TriggerAddCondition(t, Condition(function QC1))
    call TriggerRegisterTimerEvent(t, 5, true)
    set t = null
    call DestroyFogModifier( CreateFogModifierRadius(sentinelPlayers[0], FOG_OF_WAR_VISIBLE, -4550, 1250, 300, true, true) )
    call DestroyFogModifier( CreateFogModifierRadius(scourgePlayers[0], FOG_OF_WAR_VISIBLE, -4550, 1250, 300, true, true) )
    call DestroyFogModifier( CreateFogModifierRadius(sentinelPlayers[0], FOG_OF_WAR_VISIBLE, 3200, 1, 300, true, true) )
    call DestroyFogModifier( CreateFogModifierRadius(scourgePlayers[0], FOG_OF_WAR_VISIBLE, 3200, 1, 300, true, true) )
    call DestroyFogModifier( CreateFogModifierRadius(sentinelPlayers[0], FOG_OF_WAR_VISIBLE, -7292, 4186, 450, true, true) )
    call DestroyFogModifier( CreateFogModifierRadius(scourgePlayers[0], FOG_OF_WAR_VISIBLE, -7292, 4186, 450, true, true) )
    call DestroyFogModifier( CreateFogModifierRadius(sentinelPlayers[0], FOG_OF_WAR_VISIBLE, 7348, -4334, 450, true, true) )
    call DestroyFogModifier( CreateFogModifierRadius(scourgePlayers[0], FOG_OF_WAR_VISIBLE, 7348, -4334, 450, true, true) )
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function QW1))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 3.5, true)
    call TriggerAddCondition(t, Condition(function QL1))
    set t = null
    set TK = CreateTrigger()
    call TriggerRegisterUnitEvent(TK, BY0, EVENT_UNIT_DEATH)
    call TriggerAddAction(TK, function QU1)
    set RK = CreateTrigger()
    call TriggerRegisterUnitEvent(RK, QQ, EVENT_UNIT_DEATH)
    call TriggerAddAction(RK, function QQ1)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_ATTACKED)
    call TriggerAddCondition(t, Condition(function U21))
    set t = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddAction(t, function U41)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function U81))
    set t = null
    set MH0 = CreateTrigger()
    call TriggerAddAction(MH0, function UD1)
    set t = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(t, playerNeutrals, EVENT_PLAYER_UNIT_ATTACKED, Condition(function returnTrue1))
    call TriggerAddCondition(t, Condition(function UF1))
    set t = null
    set MZ0 = CreateRegion()
    call RegionAddRect(MZ0, S5)
    call RegionAddRect(MZ0, T5)
    call RegionAddRect(MZ0, R5)
    call RegionAddRect(MZ0, P5)
    call RegionAddRect(MZ0, Q5)
    call RegionAddRect(MZ0, U5)
    call RegionAddRect(MZ0, I6)
    call RegionAddRect(MZ0, O6)
    call RegionAddRect(MZ0, A6)
    set NH = CreateTrigger()
    call TriggerRegisterEnterRectSimple(NH, bj_mapInitialPlayableArea)
    call TriggerAddCondition(NH, Condition(function UH1))
    call TriggerAddAction(NH, function UZ1)
    set TH = CreateTrigger()
    call triggerRegisterAnyUnitEvent(TH, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(TH, Condition(function UW1))
    call TriggerAddAction(TH, function UJ1)
    set RH = CreateTrigger()
    call triggerRegisterAnyUnitEvent(RH, EVENT_PLAYER_UNIT_DEATH)
    call TriggerAddCondition(RH, Condition(function UL1))
    call TriggerAddAction(RH, function US1)
    if (bj_isSinglePlayer and UR1()) then
        call IVO()
    endif
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, firstPlayerAlive, "-wtf", true)
    call TriggerAddAction(t, function IKO)
    call TriggerAddCondition(t, Condition(function IXO))
    set t = CreateTrigger()
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[1], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[2], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[3], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[4], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, sentinelPlayers[5], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[1], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[2], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[3], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[4], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerRegisterPlayerUnitEvent(t, scourgePlayers[5], EVENT_PLAYER_HERO_LEVEL, Condition(function returnTrue1))
    call TriggerAddCondition(t, Condition(function INO))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, firstPlayerAlive, "-test", true)
    call TriggerAddCondition(t, Condition(function IRO))
    set t = null
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function OZO))
    set t = null
    set LV1 = null
    set t = CreateTrigger()
    call TriggerRegisterUnitInRange(t, KZ, 300, Condition(function returnTrue))
    call TriggerRegisterUnitInRange(t, TZ, 300, Condition(function returnTrue))
    call TriggerRegisterUnitInRange(t, YZ, 300, Condition(function returnTrue))
    call TriggerAddCondition(t, Condition(function OWO))
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 25, false)
    call TriggerAddAction(t, function OKO)
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 2, false)
    call TriggerAddCondition(t, Condition(function OQO))
    set t = null
    set PK = CreateRegion()
    call RegionAddRect(PK, H4)
    call RegionAddRect(PK, G4)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 25, false)
    call TriggerAddAction(t, function A4O)
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[1], "-", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[2], "-", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[3], "-", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[4], "-", false)
    call TriggerRegisterPlayerChatEvent(t, sentinelPlayers[5], "-", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[1], "-", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[2], "-", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[3], "-", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[4], "-", false)
    call TriggerRegisterPlayerChatEvent(t, scourgePlayers[5], "-", false)
    call TriggerAddAction(t, function A6O)
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_FINISH)
    call TriggerAddCondition(t, Condition(function DHO))
    call TriggerAddAction(t, function DXO)
    set HM[0] = false
    set HM[1] = false
    set HM[2] = false
    set HM[3] = false
    set HM[4] = false
    set HM[5] = false
    set HM[6] = false
    set HM[7] = false
    set HM[8] = false
    set HM[9] = false
    set HM[10] = false
    set HM[11] = false
    set HM[12] = false
    set HM[13] = false
    set HM[14] = false
    set HM[15] = false
    set HM[16] = false
    set MS0[0] = false
    set MS0[1] = false
    set MS0[2] = false
    set MS0[3] = false
    set MS0[4] = false
    set MS0[5] = false
    set MS0[6] = false
    set MS0[7] = false
    set MS0[8] = false
    set MS0[9] = false
    set MS0[10] = false
    set MS0[11] = false
    set MS0[12] = false
    set MS0[13] = false
    set MS0[14] = false
    set MS0[15] = false
    set MS0[16] = false
    set MT0[0] = true
    set MT0[1] = true
    set MT0[2] = true
    set MT0[3] = true
    set MT0[4] = true
    set MT0[5] = true
    set MT0[6] = true
    set MT0[7] = true
    set MT0[8] = true
    set MT0[9] = true
    set MT0[10] = true
    set MT0[11] = true
    set MT0[12] = true
    set MT0[13] = true
    set MT0[14] = true
    set MT0[15] = true
    set MT0[16] = true
    set MR0[0] = false
    set MR0[1] = false
    set MR0[2] = false
    set MR0[3] = false
    set MR0[4] = false
    set MR0[5] = false
    set MR0[6] = false
    set MR0[7] = false
    set MR0[8] = false
    set MR0[9] = false
    set MR0[10] = false
    set MR0[11] = false
    set MR0[12] = false
    set MR0[13] = false
    set MR0[14] = false
    set MR0[15] = false
    set MR0[16] = false
    set N00[0] = false
    set N00[1] = false
    set N00[2] = false
    set N00[3] = false
    set N00[4] = false
    set N00[5] = false
    set N00[6] = false
    set N00[7] = false
    set N00[8] = false
    set N00[9] = false
    set N00[10] = false
    set N00[11] = false
    set N00[12] = false
    set N00[13] = false
    set N00[14] = false
    set N00[15] = false
    set N00[16] = false
    set N00[GetPlayerId(sentinelPlayers[1])] = true
    set N00[GetPlayerId(sentinelPlayers[2])] = true
    set N00[GetPlayerId(sentinelPlayers[3])] = true
    set N00[GetPlayerId(sentinelPlayers[4])] = true
    set N00[GetPlayerId(sentinelPlayers[5])] = true
    set N00[GetPlayerId(scourgePlayers[1])] = true
    set N00[GetPlayerId(scourgePlayers[2])] = true
    set N00[GetPlayerId(scourgePlayers[3])] = true
    set N00[GetPlayerId(scourgePlayers[4])] = true
    set N00[GetPlayerId(scourgePlayers[5])] = true
    call E9O()
    set FM[0] = true
    set FM[1] = true
    set FM[2] = true
    set FM[3] = true
    set FM[4] = true
    set FM[5] = true
    set FM[6] = true
    set FM[7] = true
    set FM[8] = true
    set FM[9] = true
    set FM[10] = true
    set FM[11] = true
    set FM[12] = true
    set FM[13] = true
    set FM[14] = true
    set FM[15] = true
    set N40[0] = false
    set N40[1] = false
    set N40[2] = false
    set N40[3] = false
    set N40[4] = false
    set N40[5] = false
    set N40[6] = false
    set N40[7] = false
    set N40[8] = false
    set N40[9] = false
    set N40[10] = false
    set N40[11] = false
    set N40[12] = false
    set N40[13] = false
    set N40[14] = false
    set disableSoundEffect[GetPlayerId(sentinelPlayers[1])] = false
    set disableSoundEffect[GetPlayerId(sentinelPlayers[2])] = false
    set disableSoundEffect[GetPlayerId(sentinelPlayers[3])] = false
    set disableSoundEffect[GetPlayerId(sentinelPlayers[4])] = false
    set disableSoundEffect[GetPlayerId(sentinelPlayers[5])] = false
    set disableSoundEffect[GetPlayerId(scourgePlayers[1])] = false
    set disableSoundEffect[GetPlayerId(scourgePlayers[2])] = false
    set disableSoundEffect[GetPlayerId(scourgePlayers[3])] = false
    set disableSoundEffect[GetPlayerId(scourgePlayers[4])] = false
    set disableSoundEffect[GetPlayerId(scourgePlayers[5])] = false
    set N50[GetPlayerId(sentinelPlayers[1])] = false
    set N50[GetPlayerId(sentinelPlayers[2])] = false
    set N50[GetPlayerId(sentinelPlayers[3])] = false
    set N50[GetPlayerId(sentinelPlayers[4])] = false
    set N50[GetPlayerId(sentinelPlayers[5])] = false
    set N50[GetPlayerId(scourgePlayers[1])] = false
    set N50[GetPlayerId(scourgePlayers[2])] = false
    set N50[GetPlayerId(scourgePlayers[3])] = false
    set N50[GetPlayerId(scourgePlayers[4])] = false
    set N50[GetPlayerId(scourgePlayers[5])] = false
    set t = CreateTrigger()
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_ISSUED_ORDER)
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    call triggerRegisterAllPlayersUnitEvent(t, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    call TriggerAddCondition(t, Condition(function EMO))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 5, true)
    call TriggerAddCondition(t, Condition(function ELO))
    set N70[GetPlayerId(sentinelPlayers[1])] = false
    set N70[GetPlayerId(sentinelPlayers[2])] = false
    set N70[GetPlayerId(sentinelPlayers[3])] = false
    set N70[GetPlayerId(sentinelPlayers[4])] = false
    set N70[GetPlayerId(sentinelPlayers[5])] = false
    set N70[GetPlayerId(scourgePlayers[1])] = false
    set N70[GetPlayerId(scourgePlayers[2])] = false
    set N70[GetPlayerId(scourgePlayers[3])] = false
    set N70[GetPlayerId(scourgePlayers[4])] = false
    set N70[GetPlayerId(scourgePlayers[5])] = false
    set t = null
    set VM[GetPlayerId(sentinelPlayers[1])] = false
    set VM[GetPlayerId(sentinelPlayers[2])] = false
    set VM[GetPlayerId(sentinelPlayers[3])] = false
    set VM[GetPlayerId(sentinelPlayers[4])] = false
    set VM[GetPlayerId(sentinelPlayers[5])] = false
    set VM[GetPlayerId(scourgePlayers[1])] = false
    set VM[GetPlayerId(scourgePlayers[2])] = false
    set VM[GetPlayerId(scourgePlayers[3])] = false
    set VM[GetPlayerId(scourgePlayers[4])] = false
    set VM[GetPlayerId(scourgePlayers[5])] = false
    set N90 = N90 + 1
    set N80[N90] = XD
    set N90 = N90 + 1
    set N80[N90] = YD
    set N90 = N90 + 1
    set N80[N90] = JD
    set N90 = N90 + 1
    set N80[N90] = AD
    set N90 = N90 + 1
    set N80[N90] = BD
    set N90 = N90 + 1
    set N80[N90] = DD
    set N90 = N90 + 1
    set N80[N90] = LD
    set N90 = N90 + 1
    set N80[N90] = MD
    set N90 = N90 + 1
    set N80[N90] = ND
    set N90 = N90 + 1
    set N80[N90] = HF
    set N90 = N90 + 1
    set N80[N90] = ZF
    set N90 = N90 + 1
    set N80[N90] = VF
    set N90 = N90 + 1
    set N80[N90] = TD
    set N90 = N90 + 1
    set N80[N90] = PD
    set N90 = N90 + 1
    set N80[N90] = QD
    set N90 = N90 + 1
    set N80[N90] = UD
    set N90 = N90 + 1
    set N80[N90] = IE
    set N90 = N90 + 1
    set N80[N90] = NA0
    set NB0[0] = false
    set NB0[1] = false
    set NB0[2] = false
    set NB0[3] = false
    set NB0[4] = false
    set NB0[5] = false
    set NB0[6] = false
    set NB0[7] = false
    set NB0[8] = false
    set NB0[9] = false
    set NB0[10] = false
    set NB0[11] = false
    set NB0[12] = false
    set NB0[13] = false
    set NB0[14] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\Rifleman\\RiflemanPissed1.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\Rifleman\\RiflemanPissed2.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\Rifleman\\RiflemanPissed3.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\Rifleman\\RiflemanPissed4.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\Rifleman\\RiflemanPissed5.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\Rifleman\\RiflemanPissed6.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\Rifleman\\RiflemanPissed7.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Human\\Rifleman\\RiflemanPissed8.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav"
    set NG0[NH0] = false
    set NH0 = NH0 + 1
    set NF0[NH0] = "Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\Ogre\\OgrePissed1.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\Ogre\\OgrePissed2.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\Ogre\\OgrePissed3.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\Ogre\\OgrePissed4.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\Ogre\\OgrePissed5.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed2.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed3.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed4.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed5.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed6.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\GoblinSapper\\GoblinSapperPissed7.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed2.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed3.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed4.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed2.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed3.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed4.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed5.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed6.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed7.wav"
    set NG0[NH0] = false
    set NF0[NH0] = "Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed8.wav"
    set NG0[NH0] = false
    set NV0[0] = false
    set NV0[1] = false
    set NV0[2] = false
    set NV0[3] = false
    set NV0[4] = false
    set NV0[5] = false
    set NV0[6] = false
    set NV0[7] = false
    set NV0[8] = false
    set NV0[9] = false
    set NV0[10] = false
    set NV0[11] = false
    set NV0[12] = false
    set NV0[13] = false
    set t = CreateTrigger()
    set DMI = GetHandleId(t)
    call TriggerRegisterTimerEvent(t, 0.02, true)
    call TriggerAddCondition(t, Condition(function GDO))
    call SaveReal(hashTable, DMI, 149, (0*1.0))
    call SaveReal(hashTable, DMI, 150, (0*1.0))
    call SaveReal(hashTable, DMI, 151, (160*1.0))
    set KL[0] = false
    set KL[1] = false
    set KL[2] = false
    set KL[3] = false
    set KL[4] = false
    set KL[5] = false
    set KL[6] = false
    set KL[7] = false
    set KL[8] = false
    set KL[9] = false
    set KL[10] = false
    set KL[11] = false
    set KL[12] = false
    set t = null
    set t = CreateTrigger()
    call TriggerRegisterPlayerChatEvent(t, firstPlayerAlive, "-", false)
    call TriggerAddAction(t, function ZOO)
    call TriggerAddCondition(t, Condition(function GHO))
    set NJ0 = t
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 0.01, false)
    call TriggerAddCondition(t, Condition(function Z2O))
    set t = null
    if E2 then
        set t = CreateTrigger()
        call TriggerRegisterTimerEvent(t, 1, true)
        call TriggerAddCondition(t, Condition(function JLO))
    endif
    set t = null
    set PH = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(PH, E0[1])
    call TriggerAddAction(PH, function KBO)
    set QH = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(QH, E0[2])
    call TriggerAddAction(QH, function KDO)
    set UH = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(UH, E0[3])
    call TriggerAddAction(UH, function KFO)
    set IZ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(IZ, E0[4])
    call TriggerAddAction(IZ, function KHO)
    set OZ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(OZ, E0[5])
    call TriggerAddAction(OZ, function KVO)
    set AZ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(AZ, E0[7])
    call TriggerAddAction(AZ, function KXO)
    set BZ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(BZ, E0[8])
    call TriggerAddAction(BZ, function KJO)
    set CZ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(CZ, E0[9])
    call TriggerAddAction(CZ, function KLO)
    set DZ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(DZ, E0[10])
    call TriggerAddAction(DZ, function KNO)
    set EZ = CreateTrigger()
    call TriggerRegisterTimerExpireEvent(EZ, E0[11])
    call TriggerAddAction(EZ, function KTO)
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 14, false)
    call TriggerAddCondition(t, Condition(function KUO))
    set t = CreateTrigger()
    call TriggerRegisterTimerEvent(t, 15, false)
    call TriggerAddCondition(t, Condition(function KQO))
    set FZ = CreateTrigger()
    call TriggerRegisterTimerEventSingle(FZ, 65.00)
    call TriggerAddAction(FZ, function LIO)
    set GZ = CreateTrigger()
    call TriggerRegisterTimerEventSingle(GZ, 90.00)
    call TriggerAddAction(GZ, function LOO)
    set HZ = CreateTrigger()
    call TriggerRegisterTimerEventSingle(HZ, 120.00)
    call TriggerAddAction(HZ, function L3O)
    set t = CreateTrigger()
    set LV1 = CreateRegion()
    call RegionAddRect(LV1, GetWorldBounds())
    call TriggerRegisterEnterRegion(t, LV1, Condition(function returnTrue1))
    call TriggerAddCondition(t, Condition(function OD3))
    set AOI[1] = 'A0VS'
    set AOI[2] = 'A0VK'
    set AOI[3] = 'A0VQ'
    set AOI[4] = 'A0XL'
    set AOI[5] = 'A0VM'
    set AOI[6] = 'A0VN'
    set AOI[7] = 'A0VO'
    set AOI[8] = 'A0VP'
    set AOI[9] = 'A0VG'
    set AOI[10] = 'A0VZ'
    set t = null
    set LV1 = null
    set t = CreateTrigger()
    call triggerRegisterAnyUnitEvent(t, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(t, Condition(function NW2))
    call TriggerAddAction(t, function NX2)
endfunction

function config takes nothing returns nothing
    call SetMapName("TRIGSTR_50000")
    call SetMapDescription("TRIGSTR_50001")
    call SetPlayers(10)
    call SetTeams(10)
    call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
    call DefineStartLocation(0, -6990.0, 6840.0)
    call DefineStartLocation(1, -6990.0, 6840.0)
    call DefineStartLocation(2, -6990.0, 6840.0)
    call DefineStartLocation(3, -6990.0, 6840.0)
    call DefineStartLocation(4, -6990.0, 6840.0)
    call DefineStartLocation(5, -6990.0, 6840.0)
    call DefineStartLocation(6, -6990.0, 6840.0)
    call DefineStartLocation(7, -6990.0, 6840.0)
    call DefineStartLocation(8, -6990.0, 6840.0)
    call DefineStartLocation(9, -6990.0, 6840.0)
    call SetPlayerStartLocation(Player(1), 0)
    call ForcePlayerStartLocation(Player(1), 0)
    call SetPlayerColor(Player(1), ConvertPlayerColor(1))
    call SetPlayerRacePreference(Player(1), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(1), false)
    call SetPlayerController(Player(1), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(2), 1)
    call ForcePlayerStartLocation(Player(2), 1)
    call SetPlayerColor(Player(2), ConvertPlayerColor(2))
    call SetPlayerRacePreference(Player(2), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(2), false)
    call SetPlayerController(Player(2), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(3), 2)
    call ForcePlayerStartLocation(Player(3), 2)
    call SetPlayerColor(Player(3), ConvertPlayerColor(3))
    call SetPlayerRacePreference(Player(3), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(3), false)
    call SetPlayerController(Player(3), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(4), 3)
    call ForcePlayerStartLocation(Player(4), 3)
    call SetPlayerColor(Player(4), ConvertPlayerColor(4))
    call SetPlayerRacePreference(Player(4), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(4), false)
    call SetPlayerController(Player(4), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(5), 4)
    call ForcePlayerStartLocation(Player(5), 4)
    call SetPlayerColor(Player(5), ConvertPlayerColor(5))
    call SetPlayerRacePreference(Player(5), RACE_PREF_NIGHTELF)
    call SetPlayerRaceSelectable(Player(5), false)
    call SetPlayerController(Player(5), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(7), 5)
    call ForcePlayerStartLocation(Player(7), 5)
    call SetPlayerColor(Player(7), ConvertPlayerColor(7))
    call SetPlayerRacePreference(Player(7), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(7), false)
    call SetPlayerController(Player(7), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(8), 6)
    call ForcePlayerStartLocation(Player(8), 6)
    call SetPlayerColor(Player(8), ConvertPlayerColor(8))
    call SetPlayerRacePreference(Player(8), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(8), false)
    call SetPlayerController(Player(8), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(9), 7)
    call ForcePlayerStartLocation(Player(9), 7)
    call SetPlayerColor(Player(9), ConvertPlayerColor(9))
    call SetPlayerRacePreference(Player(9), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(9), false)
    call SetPlayerController(Player(9), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(10), 8)
    call ForcePlayerStartLocation(Player(10), 8)
    call SetPlayerColor(Player(10), ConvertPlayerColor(10))
    call SetPlayerRacePreference(Player(10), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(10), false)
    call SetPlayerController(Player(10), MAP_CONTROL_USER)
    call SetPlayerStartLocation(Player(11), 9)
    call ForcePlayerStartLocation(Player(11), 9)
    call SetPlayerColor(Player(11), ConvertPlayerColor(11))
    call SetPlayerRacePreference(Player(11), RACE_PREF_UNDEAD)
    call SetPlayerRaceSelectable(Player(11), false)
    call SetPlayerController(Player(11), MAP_CONTROL_USER)
    call InitCustomTeams()
    call SetPlayerAlliance(Player(15), Player(1), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(2), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(3), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(4), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(5), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(7), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(8), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(9), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(10), ConvertAllianceType(6), true)
    call SetPlayerAlliance(Player(15), Player(11), ConvertAllianceType(6), true)
    call SetStartLocPrioCount(0, 9)
    call SetStartLocPrio(0, 0, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(0, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(1, 9)
    call SetStartLocPrio(1, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 1, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(1, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(2, 9)
    call SetStartLocPrio(2, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 2, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(2, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(3, 9)
    call SetStartLocPrio(3, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 3, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(3, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(4, 9)
    call SetStartLocPrio(4, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 4, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(4, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(5, 9)
    call SetStartLocPrio(5, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 5, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(5, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(6, 9)
    call SetStartLocPrio(6, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 6, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(6, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(7, 9)
    call SetStartLocPrio(7, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 6, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 7, 8, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(7, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(8, 9)
    call SetStartLocPrio(8, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 6, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 7, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(8, 8, 9, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrioCount(9, 9)
    call SetStartLocPrio(9, 0, 0, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 1, 1, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 2, 2, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 3, 3, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 4, 4, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 5, 5, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 6, 6, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 7, 7, MAP_LOC_PRIO_HIGH)
    call SetStartLocPrio(9, 8, 8, MAP_LOC_PRIO_HIGH)
endfunction

// load war3map.j 
// save
// print HSI
// renfunc HSI getDistance
// renfunc HTI getDistanceLoc
// print HYI
// renfunc HYI isUnitCloserThan
// renfunc HUI displayTimedTextToForce
// renfunc HQI displayTimedTextToForce_Callback
// save
// renfunc displayTimedTextToForce dispTimedTextToForce
// renfunc displayTimedTextToForce_Callback dispTimedTextToForce_Callback
// save
// ren F70 btnPic
// print DWI
// print ZSI
// print ZNI
// renfunc ZNI returnTrue
// print ZSI
// renfunc ZSI trigRegisterAllPlayersUnitEvent
// save
// ren DJ0 heroHelp1
// ren DK0 heroHelp2
// ren DL0 heroHelp3
// ren DM0 heroHelp4
// ren DN0 heroHelp5
// ren D20 heroId
// finduid n0A8
// finduid h04P
// find DV0
// print E6I
// save
// print EBI
// find MJ
// find EEI
// find EBI
// renfunc EEI getUnitAnim
// renfunc EBI setUniAnim
// renfunc setUniAnim setUnitAnim
// save
// finduid n01P
// find EI0
// ren DV0 heroSelectorId
// ren DZ0 heroBtnPic
// ren heroBtnPic heroPic
// save
// find D30
// ren D30 heroNameItemId
// finduid A067
// finduid A08P
// find EA0
// ren EA0 abilCooldown
// save
// print CJI
// renfunc CJI returnTrue1
// print EF1
// print JDI
// find TY
// ren TY hashTable
// print JDI
// renfunc JDI setUnitInvulneralbleAndRecord
// print EF1
// find FF0
// ren F60 itemDisabledId
// find i1
// find I
// save
// print F92
// finduid I06E
// finduid I06D
// finduid I01T
// find F30
// find JTI
// find EA1
// ren EA1 r main
// print HZ3
// print ZFI
// renfunc ZFI getAngle
// save
// print setUnitInvulneralbleAndRecord
// renfunc setUnitInvulneralbleAndRecord setUnitInvulnerableAndRecord
// save
// print E6I
// find YJ
// print EAI
// find EAI
// find A1MR
// finduid A1MR
// ren abilCooldown hashAbilityCooldown
// save
// find F30
// find Z51
// renfunc Z51 itemDisassemble
// find Z61
// renfunc Z61 trigConditionIsAbilityDisassemble
// find YT0
// print ZRI
// print EU2
// ren L l EU2
// load war3map.j 
// print itemDisassemble
// find itemDisassemble
// find YT0
// print HH1
// ren YT0 trigItemActions
// save
// renfunc HH1 trigItemActionsCondition
// print HI1
// print ZRI
// find CO
// find DO
// find CO
// ren CO sentinelPlayers
// ren DO scouragePlayers
// ren scouragePlayers scoragePlayers
// save
// ren scoragePlayers scourgePlayers
// save
// find G50
// ren F30 itemIdOnGround
// load war3map.j 
// find F30
// find itemIdOnGround
// find F40
// ren F40 itemId
// ren itemIdOnGround itemOnGroundId
// save
// find F50
// find F50
// find KGI
// print KGI
// finduid h0BO
// finduid h07W
// ren F50 itemInShopId
// load war3map.j 
// ren btnPic itemBtnPic
// find F80
// find F80
// print Z01
// ren F80 itemCooldown
// save
// print JGI
// print L1I
// print G6I
// print EXI
// renfunc EXI isPlayerAlive
// save
// print G6I
// renfunc G6I findFirstPlayerAlive
// ren XO firstPlayerAlive
// save
// print L1I
// find HS1
// renfunc D53 getDoomPromptString
// renfunc getDoomPromptString doomGetPromptString
// save
// find D13
// finduid h06N
// finduid n0G7
// finduid A0CB
// finduid I054
// renfunc trigRegisterAllPlayersUnitEvent triggerRegisterAnyUnitEvent
// save
// renfunc ZRI triggerRegisterAllPlayersUnitEvent
// load war3map.j 
// finduid h06N
// print E6I
// find JJ
// find YJ
// find EAI
// find P90
// renfunc E6I setHeroScaleAndSelector
// renfunc setUnitAnim setHeroAnim
// renfunc setHeroAnim setUnitAnim
// save
// print setUnitAnim
// find getUnitAnim
// renfunc EGI getPlayerSlotLoc
// save
// renfunc EHI getSentinelPlayerSlotLoc
// renfunc EVI getScourgePlayerSlotLoc
// save
// renfunc getSentinelPlayerSlotLoc isPlayerSentinel
// renfunc getScourgePlayerSlotLoc isPlayerScourge
// save
// finduid h06N
// print GPI
// renfunc GPI executeFuncIfTrue
// print GJI
// renfunc GJI displayErrorMessage
// print G8I
// renfunc G8I getHeroIdBySelectorId
// renfunc ZAO rdModeSelectingHero
// print DWI
// print DVI
// renfunc DVI internalError 
// save
// print DWI
// find DWI
// print DWI
// find WJ
// find ZJ
// find M
// print DXI
// find DYI
// renfunc DWI disableTriggerAndDestroyAfter1Min
// renfunc DYI destroyRegisteredTriggers
// save
// ren GSO modes GMO
// ren GTO modesAbbr GMO
// save
// finduid E00P
// finduid n0GJ
// find DS0
// ren DS0 houseSenInt
// ren DT0 houseIntNeu
// ren DR0 houseIntSco
// ren houseSenInt houseIntSen
// ren DP0 houseAgiSen
// ren DQ0 houseAgiNeu
// ren DU0 houseAgiSco
// ren E00 houseStrSen
// ren EI0 houseStrNeu
// ren E10 houseStrSco
// save
// find D80
// ren D80 agilityHeroes
// ren DA0 strengthHeroes
// ren DC0 intelligenceHeroes
// print ERI
// print ETI
// finduid Ogrh
// save
// load war3map.j 
// renfunc DTI getHeroName
// find L1
// find D00
// load war3map.j 
// finduid n0A3
// find heroNameItemId
// ren heroNameItemId heroNameUnitId
// load war3map.j 
// renfunc HFO modeInitRandomDraft
// load war3map.j 
// find D70
// ren D70 numHeroes
// load war3map.j 
// finduid n0CM
// print GFO
// print E6O
// print SB1
// find houseOtaku
// find modes
// renfunc H9O modeInitAllPick
// save
// print GZO
// find KQO
// find L2
// ren L2 defaultMode
// load war3map.j 
// find houseOtaku
// find defaultMode
// find RD
// print KPO
// finduid Asud
// find XU1
// print HRI
// print getDistance
// renfunc getDistance getUnitDistance
// renfunc HRI getDistance
// load war3map.j 
// ren D90 numAgilityHeroes
// ren DB0 numStrengthHeroes
// ren DD0 numIntelligenceHeroes
// save
// find numHeroes
// print FII
// find DY0
// renfunc G9I getHeroIndex
// load war3map.j 
// find numHeroes
// find D60
// find D60
// find D40
// find D50
// find D60
// find SK
// find numHeroes
// print FII
// renfunc FII isHeroNeutral
// ren DY0 neutralHeroes
// ren DX0 numNeutralHeroes
// load war3map.j 
// finduid A12K
// find LU2
// find AJ1
// find SLI
// renfunc SLI heroAblilityInit
// ren SMI num heroAblilityInit
// renfunc heroAblilityInit heroAbilityInit
// load war3map.j 
// finduid A12K
// renfunc LU2 windrunnerPowershot
// renfunc AJ1 windrunnerPowershotRegister
// renfunc LP2 windrunnerPowershotFinish
// renfunc LM2 windrunnerPowershotLoop
// print HFI
// renfunc HFI min
// renfunc LT2 windrunnerPowershotStart
// print XSI
// find XSI
// print XSI
// print V9I
// renfunc V9I isUnitUnavailable
// print XSI
// print XXI
// finduid e00L
// find DMI
// print DEI
// find FJ
// find DJ
// print ZUI
// print ZQI
// renfunc ZUI killDestructables
// renfunc ZQI killDestrucablesCallback
// save
// ren DMI hTrig windrunnerPowershotLoop
// print DEI
// save
// ren GCI u windrunnerPowershotStart
// ren FVI lvl windrunnerPowershotStart
// ren DMI hTrig windrunnerPowershotStart
// ren LPO angle windrunnerPowershotStart
// print XSI
// print XXI
// print LL2
// print DEI
// find XSI
// print XSI
// print XXI
// renfunc XSI filterInjurable
// renfunc filterInjurable filterUnitInjurable
// print XXI
// renfunc XXI isUnitSyllabearOrIgnis
// save
// renfunc LQ2 windrunnerPowershotPrepare
// renfunc windrunnerPowershotFinish windrunnerPowershotPrepareFinish
// save
// print LL2
// find IAI
// print GBI
// renfunc GBI doDamage
// print doDamage
// ren GCI u doDamage
// ren u source doDamage
// print doDamage
// ren GDI target doDamage
// ren GEI kind doDamage
// ren GFI amount doDamage
// print doDamage
// save
// print LL2
// ren IBI windrunnerPowershotSelf
// ren IBI windrunnerPowershotSelf
// ren IEI windrunnerPowershotDamagedUnitCount
// ren IDI windrunnerPowershotDamagedDestructableCount
// save
// print LL2
// ren LR2 damageFactor windrunnerPowershotStart
// ren GFI initialDamage windrunnerPowershotStart
// save
// ren ICI windrunnerPowershotInitialDamage
// print LL2
// renfunc LL2 windrunnerPowershotDoDamage
// find FK
// ren VDI unitPowershotArrow windrunnerPowershotLoop
// ren windrunnerPowershotSelf windrunnerPowershotArrow
// save
// print DEI
// find HJ
// print CWI
// print CVI
// renfunc CWI displayMessageToForce
// save
// find GetTime
// renfunc DEI releaseGroup
// renfunc DFI allocGroup
// find DGI
// renfunc DZI initGroupPool
// save
// print H0I
// renfunc H0I constrainX
// print HOI
// renfunc HOI constrainY
// save
// ren IAI windrunnerPowershotDamagedUnits
// ren FK myUnit
// renfunc disableTriggerAndDestroyAfter1Min abandonTrigger
// load war3map.j 
// renfunc setUnitInvulnerableAndRecord setUnitInvulnerable
// renfunc JEI isUnitInvulnerable
// finduid A173
// print VII
// renfunc VII playSoundAt
// load war3map.j 
// finduid n03U
// find DD1
// print DB1
// print CW1
// find ZE0
// ren ZE0 itemIdAegisOfImmortal
// print DB1
// print CW1
// renfunc CW1 isUnitHasAegisOfImmortal
// print DB1
// renfunc DB1 heroShouldKill
// ren X4I unitDying DD1
// ren C51 unitKiller DD1
// ren X2I playerKiller DD1
// ren CM1 playerDying DD1
// print CB1
// print C21
// save
// print CB1
// ren X4I uDying CB1
// ren C51 uKiller CB1
// print CB1
// ren C61 pidDying CB1
// ren C71 pidKiller CB1
// print CB1
// find CB1
// ren DHI rst CB1
// print CB1
// ren W3I p CB1
// print CB1
// print C21
// find C31
// find Q81
// find Q91
// renfunc Q91 trackDamage
// find MA0
// find Q71
// print KA3
// print K63
// renfunc Q71 unitDamageCallbackRegister
// ren M90 unitDamageCallbackCount
// ren MA0 unitDamageCallbacks
// save
// print C31
// renfunc C31 recordUnitDamage
// ren EC0 unitDamageTime
// ren ED0 unitDamageSourcePlayerId
// ren EE0 unitDamageTargetPlayerId
// ren EF0 unitDamageCurrentLoc
// save
// print V51
// find M
// renfunc Q81 trackDamageCallback
// print recordUnitDamage
// find EG0
// ren EG0 timeAssistTime
// ren DJI curTime C21
// ren CO1 timeElasped C21
// ren DHI c C21
// renfunc C21 isPlayerAssisted
// ren GCI pidSource C21
// ren GDI pidTarget C21
// renfunc C21 isPlayerAssisted
// save
// print H61
// print H6I
// print H5I
// print H3I
// renfunc H3I preloadAblility
// save
// find DD1
// finduid A1A4
// finduid I0HJ
// finduid I09Z
// find ZM0
// ren ZM0 itemIdLinkenSphere
// save
// find ZL0
// renfunc heroShouldKill heroShouldBeKilled
// print CB1
// renfunc CB1 getAssistCount
// ren DS1 assistCount DD1
// print DC1
// renfunc DC1 isFriendlyKill
// print EWI
// renfunc EWI isPlayer
// save
// print CT1
// print GAI
// renfunc GAI getHeroKillXP
// renfunc CT1 addHeroKillXP
// ren L1 playerHero
// save
// find EO
// print CC1
// ren EH0 assistedPlayers
// renfunc CC1 getAssistedPlayers
// save
// find XJ
// finduid njga
// ren EO playerNeutrals
// save
// find XJ
// ren XJ playerHeroDead
// save
// print CZ1
// renfunc CZ1 isMeepo
// print CV1
// ren O nDeath
// ren I nKill
// save
// ren P nKillsInRow
// load war3map.j 
// loadidlist idlist 
// load war3map.j 
// load war3map.j 
// load war3map.j 
// loadidlist idlist.txt 
// load war3map.j 
// print LAI
// renfunc LAI getFriendKill
// renfunc LAI getFriendKillString
// print L3I
// renfunc L3I strReplace
// save
// print L1I
// ren H maxKillsInRow
// print DA1
// print D91
// print DR1
// ren C0 playerColor
// ren D00 playerName
// save
// find PB0
// print CF1
// find DU1
// print DU1
// print DQ1
// print heroShouldBeKilled
// renfunc heroShouldBeKilled unitShouldProceed
// print CN1
// print CF1
// print DU1
// renfunc DU1 firstBloodEventHandler
// print DQ1
// renfunc DQ1 firstBlood
// save
// print WLI
// find V1I
// find FC
// ren FC sndFirstBlood
// ren DC sndDominating
// ren EC sndDoubleKill
// save
// find I0
// print D21
// print D11
// print C41
// renfunc C41 getAssistsString
// save
// ren DZ1 assistString DD1
// ren DX1 killingString DD1
// save
// print D21
// print D11
// ren I0 nKillInRowGroup
// find nKillInRow
// find nKillsInRow
// ren nKillInRowGroup nKillsInRowGroup
// save
// print K9I
// find ZAI
// find VD0
// ren VD0 itemIdBloodstone
// ren VC0 itemIdAssaultCuirass
// ren VY0 itemIdPhaseBoots
// save
// find L0
// find HZO
// print GZO
// ren Y2 modeString
// renfunc GZO modeStringAppend
// save
// renfunc HZO modeInitItemDrop
// save
// ren L0 itemDropMode
// save
// print dispTimedTextToForce
// print dispTimedTextToForce_Callback
// find U2
// ren U2 forceAllPlayers
// save
// find CZO
// print K9I
// ren ZAI itemCode K9I
// print K9I
// ren CDI i K9I
// ren ZBI Item K9I
// print K9I
// renfunc K9I getSpecificItem
// save
// print D01
// print CQ1
// print DI1
// print CU1
// find VT0
// renfunc CU1 chargeUrns
// renfunc chargeUrns chargeUrnsCallback
// renfunc DI1 chargeUrns
// find ReviveHero
// find FF1
// print LJI
// find ES
// ren ES itemReviveHero
// print LKI
// find FS
// find LKI
// load war3map.j 
// print WLI
// find GM
// ren GM disableSoundEffect
// save
// print XOI
// ren X2I uKiller XOI
// ren X4I uDead XOI
// ren X3I amount XOI
// print XOI
// renfunc XOI addGoldWithEffect
// ren X3I goldAward DD1
// ren Y heroKillGold
// save
// find addGoldWithEffect
// print addGoldWithEffect
// ren uKiller whichPlayer addGoldWithEffect
// ren uDead uEffectTarget addGoldWithEffect
// save
// print addGoldWithEffect
// print D61
// renfunc D61 shareKillGold
// save
// print CD1
// renfunc CD1 addAssistGold
// loadidlist /jtool/idlist.txt 
// find DM1
// find PB0
// find DN1
// ren W deathTotalTime
// print CJ1
// find F0
// ren deathTotalTime timeDeathTotal
// ren F0 timerDeathCountdown
// find VL
// ren VL noReviveTimeMode
// save
// ren DN1 reviveTime DD1
// print CJ1
// find EZ0
// find CK1
// print isMeepo
// find CJ1
// find I3
// ren I3 gameEnded
// save
// print S7I
// find S7I
// find CJ1
// find X0
// print ERI
// print ETI
// find ERI
// find H0O
// renfunc H0O H0O1
// find DM
// renfunc H0O1 modeInitDeathMatch
// find ERI
// renfunc ERI disableHero
// save
// find X0
// ren X0 deathMatchMode
// save
// find FC
// find EC
// find itemIdBloodstone
// find X0
// find RK
// print QQ1
// print QS1
// print TR1
// print QS1
// print QQ1
// print QS1
// renfunc QS1 updateMultiboard
// renfunc TR1 doUpdateMultiboard
// save
// renfunc DD1 heroDeathEventHandler
// load war3map.j 
// find EM
// print HXO
// find R0
// find modeItemDrop
// find modeItemDropModde
// find modeItemDropMode
// find itemDropMode
// ren R0 easyMode
// renfunc BR1 addSalary
// find E80
// ren E80 trigAddSalary
// load war3map.j 
// finduid A085
// print X8I
// find X8I
// print X7I
// loadidlist idlist.txt 
// save
// renfunc R3I ezalorIlluminateRegister
// renfunc CE2 ezalorIlluminate
// renfunc ezalorIlluminate ezalorIlluminateWrapper
// renfunc CD2 ezalorIlluminate
// save
// ren DMI hTrig ezalorIlluminate
// ren E1I caster ezalorIlluminate
// ren LPO angle ezalorIlluminate
// ren CB2 spiritMode ezalorIlluminate
// save
// print X8I
// find X7I
// print X7I
// print X5I
// print X8I
// ren GDI u X8I
// ren X6I abilCode X8I
// ren FVI lvl X8I
// ren BTI timeout X8I
// renfunc X8I unitAddTimedAbility
// load war3map.j 
// load war3map.j 
// renfunc min rMin
// load war3map.j 
